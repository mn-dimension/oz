var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};
$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,f){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
(function(){
shadow$provide[0]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={}))})(this,function(n){function q(w,F,h){w.fields=F||[];w.fname=h;return w}function S(w){return null==w?null:w.fields}function Pa(w){return 1===w.length?wa(w[0]):sa(w)}function Hb(w){throw Error(w);}function Ma(w){function F(){h.push(v+w.substring(J,ba));v="";J=ba+1}var h=
[],k=w.length,m=null,r=0,v="",J,ba;w+="";for(J=ba=0;ba<k;++ba){var ka=w[ba];"\\"===ka?(v+=w.substring(J,ba),v+=w.substring(++ba,++ba),J=ba):ka===m?(F(),m=null,r=-1):m||(J===r&&'"'===ka?(J=ba+1,m=ka):J===r&&"'"===ka?(J=ba+1,m=ka):"."!==ka||r?"["===ka?(ba>J&&F(),r=J=ba+1):"]"===ka&&(r||Hb("Access path missing open bracket: "+w),0<r&&F(),r=0,J=ba+1):ba>J?F():J=ba+1)}r&&Hb("Access path missing closing bracket: "+w);m&&Hb("Access path missing closing quote: "+w);ba>J&&(ba++,F());return h}function cb(w,
F,h){var k=Ma(w);w=1===k.length?k[0]:w;return q((h&&h.get||Pa)(k),[w],F||w)}function Eb(w,F,h){F=[F].concat([].slice.call(h));console[w].apply(console,F)}function qb(w){return w===Object(w)}function Ea(w,F,h,k){if("__proto__"!==F){var m;if(qb(h)&&!y(h))for(m in w=qb(w[F])?w[F]:w[F]={},h)k&&(!0===k||k[m])?Ea(w,m,h[m]):"__proto__"!==m&&(w[m]=h[m]);else w[F]=h}}function $a(w,F){function h(r){k[r.name]||(k[r.name]=1,m.push(r))}if(null==w)return F;var k={},m=[];F.forEach(h);w.forEach(h);return m}function db(w){return w[w.length-
1]}function Ja(w){return null==w||""===w?null:+w}function ea(w,F,h,k){var m=h(w[0]);w=h(db(w));F*=w-m;return[k(m-F),k(w-F)]}function pa(w,F,h,k,m){var r=k(w[0]);w=k(db(w));F=null!=F?k(F):(r+w)/2;return[m(F+(r-F)*h),m(F+(w-F)*h)]}function Ga(w){return null!=w?y(w)?w:[w]:[]}function Wa(w){return"function"===typeof w}function la(w){for(var F,h=void 0,k=1,m=arguments.length;k<m;++k)for(h in F=arguments[k],F)w[h]=F[h];return w}function aa(w,F){return ha.call(w,F)}function Qa(w){return"[object Date]"===
Object.prototype.toString.call(w)}function xa(w){return"number"===typeof w}function Oa(w){return"string"===typeof w}function ya(w,F){for(var h="";0<=--F;)h+=w;return h}function ja(w){return y(w)?"["+w.map(ja)+"]":qb(w)||Oa(w)?JSON.stringify(w).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):w}var wa=function(w){return function(F){return F[w]}},sa=function(w){var F=w.length;return function(h){for(var k=0;k<F;++k)h=h[w[k]];return h}},qa=cb("id"),Fa=q(function(w){return w},[],"identity"),Ba=
q(function(){return 0},[],"zero"),Za=q(function(){return 1},[],"one"),jb=q(function(){return!0},[],"true"),A=q(function(){return!1},[],"false"),y=Array.isArray,I=function(w){return function(F){return w*Math.exp(F)}},L=function(w){return function(F){return Math.log(w*F)}},z=function(w){return function(F){return Math.sign(F)*Math.log1p(Math.abs(F/w))}},H=function(w){return function(F){return Math.sign(F)*Math.expm1(Math.abs(F))*w}},O=function(w){return function(F){return 0>F?-Math.pow(-F,w):Math.pow(F,
w)}},ma=function(w,F){return(w<F||null==w)&&null!=F?-1:(w>F||null==F)&&null!=w?1:(F=F instanceof Date?+F:F,w=w instanceof Date?+w:w)!==w&&F===F?-1:F!==F&&w===w?1:0},Ia=function(w,F){return 1===w.length?Sa(w[0],F[0]):E(w,F,w.length)},Sa=function(w,F){return function(h,k){return ma(w(h),w(k))*F}},E=function(w,F,h){F.push(0);return function(k,m){var r=0;for(var v=-1;0===r&&++v<h;)r=w[v],r=ma(r(k),r(m));return r*F[v]}},ha=Object.prototype.hasOwnProperty,Y={},V=function(w){return xa(w)?w:Qa(w)?w:Date.parse(w)};
n.Debug=4;n.Error=1;n.Info=3;n.None=0;n.Warn=2;n.accessor=q;n.accessorFields=S;n.accessorName=function(w){return null==w?null:w.fname};n.array=Ga;n.ascending=ma;n.clampRange=function(w,F,h){var k=w[0];w=w[1];if(w<k){var m=w;w=k;k=m}m=w-k;return m>=h-F?[F,h]:[k=Math.min(Math.max(k,F),h-m),k+m]};n.compare=function(w,F,h){h=h||{};F=Ga(F)||[];var k=[],m=[],r={},v=h.comparator||Ia;Ga(w).forEach(function(J,ba){null!=J&&(k.push("descending"===F[ba]?-1:1),m.push(J=Wa(J)?J:cb(J,null,h)),(S(J)||[]).forEach(function(ka){return r[ka]=
1}))});return 0===m.length?null:q(v(m,k),Object.keys(r))};n.constant=function(w){return Wa(w)?w:function(){return w}};n.debounce=function(w,F){var h;return function(k){h&&clearTimeout(h);h=setTimeout(function(){return F(k),h=null},w)}};n.error=Hb;n.extend=la;n.extent=function(w,F){var h=0,k,m,r,v;if(w&&(k=w.length))if(null==F){for(m=w[h];h<k&&(null==m||m!==m);m=w[++h]);for(r=v=m;h<k;++h)m=w[h],null!=m&&(m<r&&(r=m),m>v&&(v=m))}else{for(m=F(w[h]);h<k&&(null==m||m!==m);m=F(w[++h]));for(r=v=m;h<k;++h)m=
F(w[h]),null!=m&&(m<r&&(r=m),m>v&&(v=m))}return[r,v]};n.extentIndex=function(w,F){var h=w.length,k=-1,m,r,v;if(null==F){for(;++k<h;){var J=w[k];if(null!=J&&J>=J){var ba=m=J;break}}if(k===h)return[-1,-1];for(r=v=k;++k<h;)J=w[k],null!=J&&(ba>J&&(ba=J,r=k),m<J&&(m=J,v=k))}else{for(;++k<h;)if(J=F(w[k],k,w),null!=J&&J>=J){ba=m=J;break}if(k===h)return[-1,-1];for(r=v=k;++k<h;)J=F(w[k],k,w),null!=J&&(ba>J&&(ba=J,r=k),m<J&&(m=J,v=k))}return[r,v]};n.falsy=A;n.fastmap=function(w){function F(r){return aa(h,r)&&
h[r]!==Y}var h={},k,m={size:0,empty:0,object:h,has:F,get:function(r){return F(r)?h[r]:void 0},set:function(r,v){F(r)||(++m.size,h[r]===Y&&--m.empty);h[r]=v;return this},delete:function(r){F(r)&&(--m.size,++m.empty,h[r]=Y);return this},clear:function(){m.size=m.empty=0;m.object=h={}},test:function(r){return arguments.length?(k=r,m):k},clean:function(){var r={},v=0,J;for(J in h){var ba=h[J];ba===Y||k&&k(ba)||(r[J]=ba,++v)}m.size=v;m.empty=0;m.object=h=r}};w&&Object.keys(w).forEach(function(r){m.set(r,
w[r])});return m};n.field=cb;n.flush=function(w,F,h,k,m,r){if(!h&&0!==h)return r;h=+h;var v=w[0],J=db(w);J<v&&(w=v,v=J,J=w);w=Math.abs(F-v);F=Math.abs(J-F);return w<F&&w<=h?k:F<=h?m:r};n.hasOwnProperty=aa;n.id=qa;n.identity=Fa;n.inherits=function(w,F,h){F=w.prototype=Object.create(F.prototype);F.constructor=w;return la(F,h)};n.inrange=function(w,F,h,k){var m=F[0];F=F[F.length-1];if(m>F){var r=m;m=F;F=r}return(void 0===h||h?m<=w:m<w)&&(void 0===k||k?w<=F:w<F)};n.isArray=y;n.isBoolean=function(w){return"boolean"===
typeof w};n.isDate=Qa;n.isFunction=Wa;n.isIterable=function(w){return w&&Wa(w[Symbol.iterator])};n.isNumber=xa;n.isObject=qb;n.isRegExp=function(w){return"[object RegExp]"===Object.prototype.toString.call(w)};n.isString=Oa;n.key=function(w,F,h){w&&(w=F?Ga(w).map(function(J){return J.replace(/\\(.)/g,"$1")}):Ga(w));var k=w&&w.length,m=h&&h.get||Pa;h=function(J){return m(F?[J]:Ma(J))};if(k)if(1===k){var r=h(w[0]);h=function(J){return""+r(J)}}else{var v=w.map(h);h=function(J){for(var ba=""+v[0](J),ka=
0;++ka<k;)ba+="|"+v[ka](J);return ba}}else h=function(){return""};return q(h,w,"key")};n.lerp=function(w,F){var h=w[0];w=db(w);return(F=+F)?1===F?w:h+F*(w-h):h};n.logger=function(w,F){var h=w||0;return{level:function(k){return arguments.length?(h=+k,this):h},error:function(){1<=h&&Eb(F||"error","ERROR",arguments);return this},warn:function(){2<=h&&Eb(F||"warn","WARN",arguments);return this},info:function(){3<=h&&Eb(F||"log","INFO",arguments);return this},debug:function(){4<=h&&Eb(F||"log","DEBUG",
arguments);return this}}};n.lruCache=function(w){w=+w||1E4;var F,h,k,m=function(){F={};h={};k=0},r=function(v,J){++k>w&&(h=F,F={},k=1);return F[v]=J};m();return{clear:m,has:function(v){return aa(F,v)||aa(h,v)},get:function(v){return aa(F,v)?F[v]:aa(h,v)?r(v,h[v]):void 0},set:function(v,J){return aa(F,v)?F[v]=J:r(v,J)}}};n.merge=function(w,F,h,k){var m=F.length,r=h.length;if(!r)return F;if(!m)return h;k=k||new F.constructor(m+r);for(var v=0,J=0,ba=0;v<m&&J<r;++ba)k[ba]=0<w(F[v],h[J])?h[J++]:F[v++];
for(;v<m;++v,++ba)k[ba]=F[v];for(;J<r;++J,++ba)k[ba]=h[J];return k};n.mergeConfig=function(w){for(var F=[],h=0;h<arguments.length;++h)F[h-0]=arguments[h];return F.reduce(function(k,m){for(var r in m)"signals"===r?k.signals=$a(k.signals,m.signals):Ea(k,r,m[r],"legend"===r?{layout:1}:"style"===r?!0:null);return k},{})};n.one=Za;n.pad=function(w,F,h,k){h=h||" ";w+="";F-=w.length;return 0>=F?w:"left"===k?ya(h,F)+w:"center"===k?ya(h,~~(F/2))+w+ya(h,Math.ceil(F/2)):w+ya(h,F)};n.panLinear=function(w,F){return ea(w,
F,Ja,Fa)};n.panLog=function(w,F){var h=Math.sign(w[0]);return ea(w,F,L(h),I(h))};n.panPow=function(w,F,h){return ea(w,F,O(h),O(1/h))};n.panSymlog=function(w,F,h){return ea(w,F,z(h),H(h))};n.peek=db;n.quarter=function(w){return 1+~~((new Date(w)).getMonth()/3)};n.repeat=ya;n.span=function(w){return w&&db(w)-w[0]||0};n.splitAccessPath=Ma;n.stringValue=ja;n.toBoolean=function(w){return null==w||""===w?null:w&&"false"!==w&&"0"!==w?!!w:!1};n.toDate=function(w,F){F=F||V;return null==w||""===w?null:F(w)};
n.toNumber=Ja;n.toSet=function(w){for(var F={},h=w.length,k=0;k<h;++k)F[w[k]]=!0;return F};n.toString=function(w){return null==w||""===w?null:w+""};n.truncate=function(w,F,h,k){k=null!=k?k:"…";w+="";var m=w.length,r=Math.max(0,F-k.length);return m<=F?w:"left"===h?k+w.slice(m-r):"center"===h?w.slice(0,Math.ceil(r/2))+k+w.slice(m-~~(r/2)):w.slice(0,r)+k};n.truthy=jb;n.utcquarter=function(w){return 1+~~((new Date(w)).getUTCMonth()/3)};n.visitArray=function(w,F,h){if(w)if(F)for(var k=w.length,m=0;m<k;++m){var r=
F(w[m]);r&&h(r,m,w)}else w.forEach(h)};n.writeConfig=Ea;n.zero=Ba;n.zoomLinear=function(w,F,h){return pa(w,F,h,Ja,Fa)};n.zoomLog=function(w,F,h){var k=Math.sign(w[0]);return pa(w,F,h,L(k),I(k))};n.zoomPow=function(w,F,h,k){return pa(w,F,h,O(k),O(1/k))};n.zoomSymlog=function(w,F,h,k){return pa(w,F,h,z(k),H(k))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[1]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(h,k){return h<k?-1:h>k?1:h>=k?0:NaN}function S(h){function k(v,J,ba,ka){null==ba&&(ba=0);null==ka&&(ka=v.length);for(;ba<ka;){var ua=ba+ka>>>1;0>r(v[ua],J)?ba=ua+1:ka=ua}return ba}var m=h,r=h;1===h.length&&(m=function(v,J){return h(v)-
J},r=Pa(h));return{left:k,center:function(v,J,ba,ka){null==ba&&(ba=0);null==ka&&(ka=v.length);ka=k(v,J,ba,ka-1);return ka>ba&&m(v[ka-1],J)>-m(v[ka],J)?ka-1:ka},right:function(v,J,ba,ka){null==ba&&(ba=0);null==ka&&(ka=v.length);for(;ba<ka;){var ua=ba+ka>>>1;0<r(v[ua],J)?ka=ua:ba=ua+1}return ba}}}function Pa(h){return function(k,m){return q(h(k),m)}}function Hb(h){return null===h?NaN:+h}function Ma(h,k){var m,r,v,J,ba,ka;return $jscomp.generator.createGenerator(Ma,function(ua){switch(ua.nextAddress){case 1:if(void 0===
k){ua.jumpTo(2);break}m=-1;r=$jscomp.makeIterator(h);v=r.next();case 4:if(v.done){ua.jumpTo(0);break}J=v.value;if(!(null!=(J=k(J,++m,h))&&(J=+J)>=J)){ua.jumpTo(5);break}return ua.yield(J,5);case 5:v=r.next();ua.jumpTo(4);break;case 2:ba=$jscomp.makeIterator(h),v=ba.next();case 9:if(v.done){ua.jumpTo(0);break}ka=v.value;if(!(null!=ka&&(ka=+ka)>=ka)){ua.jumpTo(10);break}return ua.yield(ka,10);case 10:v=ba.next(),ua.jumpTo(9)}})}function cb(h,k){var m=0;if(void 0===k){h=$jscomp.makeIterator(h);for(var r=
h.next();!r.done;r=h.next())k=r.value,null!=k&&(k=+k)>=k&&++m}else{var v=-1,J=$jscomp.makeIterator(h);for(r=J.next();!r.done;r=J.next())r=r.value,null!=(r=k(r,++v,h))&&(r=+r)>=r&&++m}return m}function Eb(h){return h.length|0}function qb(h){return!(0<h)}function Ea(h){return"object"!==typeof h||"length"in h?h:Array.from(h)}function $a(h){return function(k){return h.apply(null,$jscomp.arrayFromIterable(k))}}function db(h,k){var m=0,r,v=0,J=0;if(void 0===k)for(h=$jscomp.makeIterator(h),r=h.next();!r.done;r=
h.next())k=r.value,null!=k&&(k=+k)>=k&&(r=k-v,v+=r/++m,J+=r*(k-v));else{var ba=-1,ka=$jscomp.makeIterator(h);for(r=ka.next();!r.done;r=ka.next()){var ua=r.value;null!=(ua=k(ua,++ba,h))&&(ua=+ua)>=ua&&(r=ua-v,v+=r/++m,J+=r*(ua-v))}}if(1<m)return J/(m-1)}function Ja(h,k){return(h=db(h,k))?Math.sqrt(h):h}function ea(h,k){var m,r;if(void 0===k){h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())k=v.value,null!=k&&(void 0===m?k>=k&&(m=r=k):(m>k&&(m=k),r<k&&(r=k)))}else{var J=-1,ba=$jscomp.makeIterator(h);
for(v=ba.next();!v.done;v=ba.next())v=v.value,null!=(v=k(v,++J,h))&&(void 0===m?v>=v&&(m=r=v):(m>v&&(m=v),r<v&&(r=v)))}return[m,r]}function pa(h){return h}function Ga(h){if(1!==h.length)throw Error("duplicate key");return h[0]}function Wa(h,k,m,r){return function ka(J,ba){if(ba>=r.length)return m(J);for(var ua=new Map,fb=r[ba++],eb=-1,Ca=$jscomp.makeIterator(J),Ka=Ca.next();!Ka.done;Ka=Ca.next()){Ka=Ka.value;var Z=fb(Ka,++eb,J),ra=ua.get(Z);ra?ra.push(Ka):ua.set(Z,[Ka])}J=$jscomp.makeIterator(ua);
for(fb=J.next();!fb.done;fb=J.next())eb=$jscomp.makeIterator(fb.value),fb=eb.next().value,eb=eb.next().value,ua.set(fb,ka(eb,ba));return k(ua)}(h,0)}function la(h){return function(){return h}}function aa(h,k,m){var r,v=-1,J;k=+k;h=+h;m=+m;if(h===k&&0<m)return[h];if(r=k<h){var ba=h;h=k;k=ba}if(0===(J=Qa(h,k,m))||!isFinite(J))return[];if(0<J)for(h=Math.ceil(h/J),k=Math.floor(k/J),k=Array(ba=Math.ceil(k-h+1));++v<ba;)k[v]=(h+v)*J;else for(J=-J,h=Math.ceil(h*J),k=Math.floor(k*J),k=Array(ba=Math.ceil(k-
h+1));++v<ba;)k[v]=(h+v)/J;r&&k.reverse();return k}function Qa(h,k,m){k=(k-h)/Math.max(0,m);h=Math.floor(Math.log(k)/Math.LN10);k/=Math.pow(10,h);return 0<=h?(k>=Y?10:k>=V?5:k>=w?2:1)*Math.pow(10,h):-Math.pow(10,-h)/(k>=Y?10:k>=V?5:k>=w?2:1)}function xa(h,k,m){for(var r;;){var v=Qa(h,k,m);if(v===r||0===v||!isFinite(v))return[h,k];0<v?(h=Math.floor(h/v)*v,k=Math.ceil(k/v)*v):0>v&&(h=Math.ceil(h*v)/v,k=Math.floor(k*v)/v);r=v}}function Oa(h){return Math.ceil(Math.log(cb(h))/Math.LN2)+1}function ya(){function h(v){Array.isArray(v)||
(v=Array.from(v));var J,ba=v.length,ka=Array(ba);for(J=0;J<ba;++J)ka[J]=k(v[J],J,v);var ua=m(ka),fb=ua[0],eb=ua[1];ua=r(ka,fb,eb);Array.isArray(ua)||(ua=+ua,m===ea&&(J=$jscomp.makeIterator(xa(fb,eb,ua)),fb=J.next().value,eb=J.next().value),ua=aa(fb,eb,ua),ua[ua.length-1]===eb&&ua.pop());for(var Ca=ua.length;ua[0]<=fb;)ua.shift(),--Ca;for(;ua[Ca-1]>eb;)ua.pop(),--Ca;var Ka=Array(Ca+1);for(J=0;J<=Ca;++J){var Z=Ka[J]=[];Z.x0=0<J?ua[J-1]:fb;Z.x1=J<Ca?ua[J]:eb}for(J=0;J<ba;++J)Z=ka[J],fb<=Z&&Z<=eb&&Ka[Ia(ua,
Z,0,Ca)].push(v[J]);return Ka}var k=pa,m=ea,r=Oa;h.value=function(v){return arguments.length?(k="function"===typeof v?v:la(v),h):k};h.domain=function(v){return arguments.length?(m="function"===typeof v?v:la([v[0],v[1]]),h):m};h.thresholds=function(v){return arguments.length?(r="function"===typeof v?v:Array.isArray(v)?la(ha.call(v)):la(v),h):r};return h}function ja(h,k){var m;if(void 0===k){h=$jscomp.makeIterator(h);for(var r=h.next();!r.done;r=h.next())k=r.value,null!=k&&(m<k||void 0===m&&k>=k)&&
(m=k)}else{var v=-1,J=$jscomp.makeIterator(h);for(r=J.next();!r.done;r=J.next())r=r.value,null!=(r=k(r,++v,h))&&(m<r||void 0===m&&r>=r)&&(m=r)}return m}function wa(h,k){var m;if(void 0===k){h=$jscomp.makeIterator(h);for(var r=h.next();!r.done;r=h.next())k=r.value,null!=k&&(m>k||void 0===m&&k>=k)&&(m=k)}else{var v=-1,J=$jscomp.makeIterator(h);for(r=J.next();!r.done;r=J.next())r=r.value,null!=(r=k(r,++v,h))&&(m>r||void 0===m&&r>=r)&&(m=r)}return m}function sa(h,k,m,r,v){m=void 0===m?0:m;r=void 0===
r?h.length-1:r;for(v=void 0===v?q:v;r>m;){if(600<r-m){var J=r-m+1,ba=k-m+1,ka=Math.log(J),ua=.5*Math.exp(2*ka/3);ka=.5*Math.sqrt(ka*ua*(J-ua)/J)*(0>ba-J/2?-1:1);sa(h,k,Math.max(m,Math.floor(k-ba*ua/J+ka)),Math.min(r,Math.floor(k+(J-ba)*ua/J+ka)),v)}J=h[k];ba=m;ua=r;qa(h,m,k);for(0<v(h[r],J)&&qa(h,m,r);ba<ua;){qa(h,ba,ua);++ba;for(--ua;0>v(h[ba],J);)++ba;for(;0<v(h[ua],J);)--ua}0===v(h[m],J)?qa(h,m,ua):(++ua,qa(h,ua,r));ua<=k&&(m=ua+1);k<=ua&&(r=ua-1)}return h}function qa(h,k,m){var r=h[k];h[k]=h[m];
h[m]=r}function Fa(h,k,m){h=Float64Array.from(Ma(h,m));if(m=h.length){if(0>=(k=+k)||2>m)return wa(h);if(1<=k)return ja(h);k*=m-1;m=Math.floor(k);var r=ja(sa(h,m).subarray(0,m+1));h=wa(h.subarray(m+1));return r+(h-r)*(k-m)}}function Ba(h,k){var m=-1,r=-1;if(void 0===k){h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())if(k=v.value,++r,null!=k&&(J<k||void 0===J&&k>=k)){var J=k;m=r}}else{var ba=$jscomp.makeIterator(h);for(v=ba.next();!v.done;v=ba.next())v=v.value,null!=(v=k(v,++r,h))&&
(J<v||void 0===J&&v>=v)&&(J=v,m=r)}return m}function Za(h){var k,m,r;return $jscomp.generator.createGenerator(Za,function(v){1==v.nextAddress&&(k=$jscomp.makeIterator(h),m=k.next());if(3!=v.nextAddress){if(m.done)return v.jumpTo(0);r=m.value;return v.yieldAll(r,3)}m=k.next();return v.jumpTo(2)})}function jb(h,k){var m=-1,r=-1;if(void 0===k){h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())if(k=v.value,++r,null!=k&&(J>k||void 0===J&&k>=k)){var J=k;m=r}}else{var ba=$jscomp.makeIterator(h);
for(v=ba.next();!v.done;v=ba.next())v=v.value,null!=(v=k(v,++r,h))&&(J>v||void 0===J&&v>=v)&&(J=v,m=r)}return m}function A(h,k){return[h,k]}function y(h,k){k=void 0===k?q:k;if(1===k.length)return jb(h,k);var m=-1,r=-1;h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())if(v=v.value,++r,0>m?0===k(v,v):0>k(v,J)){var J=v;m=r}return m}function I(h){return function(k,m,r){m=void 0===m?0:m;r=void 0===r?k.length:r;for(r-=m=+m;r;){var v=h()*r--|0,J=k[r+m];k[r+m]=k[v+m];k[v+m]=J}return k}}function L(h){if(!(J=
h.length))return[];for(var k=-1,m=wa(h,z),r=Array(m);++k<m;)for(var v=-1,J,ba=r[k]=Array(J);++v<J;)ba[v]=h[v][k];return r}function z(h){return h.length}function H(h){return h instanceof Set?h:new Set(h)}function O(h,k){var m=h[Symbol.iterator]();h=new Set;var r={};k=$jscomp.makeIterator(k);for(var v=k.next();!v.done;r={$jscomp$loop$prop$value$685:r.$jscomp$loop$prop$value$685,$jscomp$loop$prop$done$686:r.$jscomp$loop$prop$done$686},v=k.next())if(v=v.value,!h.has(v))for(r.$jscomp$loop$prop$value$685=
void 0,r.$jscomp$loop$prop$done$686=void 0;function(J){return function(){var ba=m.next();J.$jscomp$loop$prop$value$685=ba.value;J.$jscomp$loop$prop$done$686=ba.done;return ba}}(r)();){if(r.$jscomp$loop$prop$done$686)return!1;h.add(r.$jscomp$loop$prop$value$685);if(Object.is(v,r.$jscomp$loop$prop$value$685))break}return!0}var ma=S(q),Ia=ma.right;ma=ma.left;var Sa=S(Hb).center,E=function(){this._partials=new Float64Array(32);this._n=0};E.prototype.add=function(h){for(var k=this._partials,m=0,r=0;r<
this._n&&32>r;r++){var v=k[r],J=h+v;(h=Math.abs(h)<Math.abs(v)?h-(J-v):v-(J-h))&&(k[m++]=h);h=J}k[m]=h;this._n=m+1;return this};E.prototype.valueOf=function(){var h=this._partials,k=this._n,m=0;if(0<k){for(m=h[--k];0<k;){var r=m;var v=h[--k];m=r+v;if(r=v-(m-r))break}0<k&&(0>r&&0>h[k-1]||0<r&&0<h[k-1])&&(v=2*r,r=m+v,v==r-m&&(m=r))}return m};var ha=Array.prototype.slice,Y=Math.sqrt(50),V=Math.sqrt(10),w=Math.sqrt(2),F=I(Math.random);n.Adder=E;n.ascending=q;n.bin=ya;n.bisect=Ia;n.bisectCenter=Sa;n.bisectLeft=
ma;n.bisectRight=Ia;n.bisector=S;n.count=cb;n.cross=function(h){for(var k=[],m=0;m<arguments.length;++m)k[m-0]=arguments[m];var r=k;k="function"===typeof r[r.length-1]&&$a(r.pop());r=r.map(Ea);m=r.map(Eb);var v=r.length-1,J=Array(v+1).fill(0),ba=[];if(0>v||m.some(qb))return ba;for(;;){ba.push(J.map(function(ua,fb){return r[fb][ua]}));for(var ka=v;++J[ka]===m[ka];){if(0===ka)return k?ba.map(k):ba;J[ka--]=0}}};n.cumsum=function(h,k){var m=0,r=0;return Float64Array.from(h,void 0===k?function(v){return m+=
+v||0}:function(v){return m+=+k(v,r++,h)||0})};n.descending=function(h,k){return k<h?-1:k>h?1:k>=h?0:NaN};n.deviation=Ja;n.difference=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-1]=arguments[r];h=new Set(h);m=$jscomp.makeIterator(m);for(r=m.next();!r.done;r=m.next()){r=$jscomp.makeIterator(r.value);for(var v=r.next();!v.done;v=r.next())h.delete(v.value)}return h};n.disjoint=function(h,k){var m=k[Symbol.iterator]();k=new Set;var r={};h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;r=
{$jscomp$loop$prop$value$682:r.$jscomp$loop$prop$value$682,$jscomp$loop$prop$done$683:r.$jscomp$loop$prop$done$683},v=h.next()){v=v.value;if(k.has(v))return!1;r.$jscomp$loop$prop$value$682=void 0;for(r.$jscomp$loop$prop$done$683=void 0;function(J){return function(){var ba=m.next();J.$jscomp$loop$prop$value$682=ba.value;J.$jscomp$loop$prop$done$683=ba.done;return ba}}(r)()&&!r.$jscomp$loop$prop$done$683;){if(Object.is(v,r.$jscomp$loop$prop$value$682))return!1;k.add(r.$jscomp$loop$prop$value$682)}}return!0};
n.every=function(h,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var m=-1,r=$jscomp.makeIterator(h),v=r.next();!v.done;v=r.next())if(!k(v.value,++m,h))return!1;return!0};n.extent=ea;n.filter=function(h,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var m=[],r=-1,v=$jscomp.makeIterator(h),J=v.next();!J.done;J=v.next())J=J.value,k(J,++r,h)&&m.push(J);return m};n.fsum=function(h,k){var m=new E;if(void 0===k){h=$jscomp.makeIterator(h);for(var r=
h.next();!r.done;r=h.next())k=r.value,(k=+k)&&m.add(k)}else{var v=-1,J=$jscomp.makeIterator(h);for(r=J.next();!r.done;r=J.next())r=r.value,(r=+k(r,++v,h))&&m.add(r)}return+m};n.greatest=function(h,k){k=void 0===k?q:k;var m=!1;if(1===k.length){h=$jscomp.makeIterator(h);for(var r=h.next();!r.done;r=h.next()){r=r.value;var v=k(r);if(m?0<q(v,ba):0===q(v,v)){var J=r;var ba=v;m=!0}}}else for(ba=$jscomp.makeIterator(h),h=ba.next();!h.done;h=ba.next())if(h=h.value,m?0<k(h,J):0===k(h,h))J=h,m=!0;return J};
n.greatestIndex=function(h,k){k=void 0===k?q:k;if(1===k.length)return Ba(h,k);var m=-1,r=-1;h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())if(v=v.value,++r,0>m?0===k(v,v):0<k(v,J)){var J=v;m=r}return m};n.group=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-1]=arguments[r];return Wa(h,pa,pa,m)};n.groups=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-1]=arguments[r];return Wa(h,Array.from,pa,m)};n.histogram=ya;n.index=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-
1]=arguments[r];return Wa(h,pa,Ga,m)};n.indexes=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-1]=arguments[r];return Wa(h,Array.from,Ga,m)};n.intersection=function(h,k){for(var m=[],r=1;r<arguments.length;++r)m[r-1]=arguments[r];h=new Set(h);m=m.map(H);r=$jscomp.makeIterator(h);var v=r.next();a:for(;!v.done;v=r.next()){v=v.value;for(var J=$jscomp.makeIterator(m),ba=J.next();!ba.done;ba=J.next())if(!ba.value.has(v)){h.delete(v);continue a}}return h};n.least=function(h,k){k=void 0===k?q:
k;var m=!1;if(1===k.length){h=$jscomp.makeIterator(h);for(var r=h.next();!r.done;r=h.next()){r=r.value;var v=k(r);if(m?0>q(v,ba):0===q(v,v)){var J=r;var ba=v;m=!0}}}else for(ba=$jscomp.makeIterator(h),h=ba.next();!h.done;h=ba.next())if(h=h.value,m?0>k(h,J):0===k(h,h))J=h,m=!0;return J};n.leastIndex=y;n.map=function(h,k){if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof k)throw new TypeError("mapper is not a function");return Array.from(h,
function(m,r){return k(m,r,h)})};n.max=ja;n.maxIndex=Ba;n.mean=function(h,k){var m=0,r=0;if(void 0===k){h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next())k=v.value,null!=k&&(k=+k)>=k&&(++m,r+=k)}else{var J=-1,ba=$jscomp.makeIterator(h);for(v=ba.next();!v.done;v=ba.next())v=v.value,null!=(v=k(v,++J,h))&&(v=+v)>=v&&(++m,r+=v)}if(m)return r/m};n.median=function(h,k){return Fa(h,.5,k)};n.merge=function(h){return Array.from(Za(h))};n.min=wa;n.minIndex=jb;n.nice=xa;n.pairs=function(h,k){k=
void 0===k?A:k;var m=[],r=!1;h=$jscomp.makeIterator(h);for(var v=h.next();!v.done;v=h.next()){v=v.value;r&&m.push(k(J,v));var J=v;r=!0}return m};n.permute=function(h,k){return Array.from(k,function(m){return h[m]})};n.quantile=Fa;n.quantileSorted=function(h,k,m){m=void 0===m?Hb:m;if(r=h.length){if(0>=(k=+k)||2>r)return+m(h[0],0,h);if(1<=k)return+m(h[r-1],r-1,h);var r;k*=r-1;r=Math.floor(k);var v=+m(h[r],r,h);h=+m(h[r+1],r+1,h);return v+(h-v)*(k-r)}};n.quickselect=sa;n.range=function(h,k,m){h=+h;k=
+k;m=2>(v=arguments.length)?(k=h,h=0,1):3>v?1:+m;for(var r=-1,v=Math.max(0,Math.ceil((k-h)/m))|0,J=Array(v);++r<v;)J[r]=h+r*m;return J};n.reduce=function(h,k,m){if("function"!==typeof k)throw new TypeError("reducer is not a function");var r=h[Symbol.iterator](),v,J=-1;if(3>arguments.length){var ba=r.next();var ka=ba.done;m=ba.value;if(ka)return;++J}for(;function(){var ua=r.next();ka=ua.done;v=ua.value;return ua}(),!ka;)m=k(m,v,++J,h);return m};n.reverse=function(h){if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");
return Array.from(h).reverse()};n.rollup=function(h,k,m){for(var r=[],v=2;v<arguments.length;++v)r[v-2]=arguments[v];return Wa(h,pa,k,r)};n.rollups=function(h,k,m){for(var r=[],v=2;v<arguments.length;++v)r[v-2]=arguments[v];return Wa(h,Array.from,k,r)};n.scan=function(h,k){h=y(h,k);return 0>h?void 0:h};n.shuffle=F;n.shuffler=I;n.some=function(h,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var m=-1,r=$jscomp.makeIterator(h),v=r.next();!v.done;v=r.next())if(k(v.value,
++m,h))return!0;return!1};n.sort=function(h,k){k=void 0===k?q:k;if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(h).sort(k)};n.subset=function(h,k){return O(k,h)};n.sum=function(h,k){var m=0;if(void 0===k){h=$jscomp.makeIterator(h);for(var r=h.next();!r.done;r=h.next())if(k=r.value,k=+k)m+=k}else{var v=-1,J=$jscomp.makeIterator(h);for(r=J.next();!r.done;r=J.next())if(r=r.value,r=+k(r,++v,h))m+=r}return m};n.superset=O;n.thresholdFreedmanDiaconis=
function(h,k,m){return Math.ceil((m-k)/(2*(Fa(h,.75)-Fa(h,.25))*Math.pow(cb(h),-1/3)))};n.thresholdScott=function(h,k,m){return Math.ceil((m-k)/(3.5*Ja(h)*Math.pow(cb(h),-1/3)))};n.thresholdSturges=Oa;n.tickIncrement=Qa;n.tickStep=function(h,k,m){var r=Math.abs(k-h)/Math.max(0,m);m=Math.pow(10,Math.floor(Math.log(r)/Math.LN10));r/=m;r>=Y?m*=10:r>=V?m*=5:r>=w&&(m*=2);return k<h?-m:m};n.ticks=aa;n.transpose=L;n.union=function(h){for(var k=[],m=0;m<arguments.length;++m)k[m-0]=arguments[m];m=new Set;
k=$jscomp.makeIterator(k);for(var r=k.next();!r.done;r=k.next()){r=$jscomp.makeIterator(r.value);for(var v=r.next();!v.done;v=r.next())m.add(v.value)}return m};n.variance=db;n.zip=function(){return L(arguments)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[2]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(la,aa){if(0>(aa=(la=aa?la.toExponential(aa-1):la.toExponential()).indexOf("e")))return null;var Qa=la.slice(0,aa);return[1<Qa.length?Qa[0]+Qa.slice(2):Qa,+la.slice(aa+1)]}function S(la){return la=q(Math.abs(la)),la?la[1]:NaN}function Pa(la,
aa){return function(Qa,xa){for(var Oa=Qa.length,ya=[],ja=0,wa=la[0],sa=0;0<Oa&&0<wa;){sa+wa+1>xa&&(wa=Math.max(1,xa-sa));ya.push(Qa.substring(Oa-=wa,Oa+wa));if((sa+=wa+1)>xa)break;wa=la[ja=(ja+1)%la.length]}return ya.reverse().join(aa)}}function Hb(la){return function(aa){return aa.replace(/[0-9]/g,function(Qa){return la[+Qa]})}}function Ma(la){if(!(aa=db.exec(la)))throw Error("invalid format: "+la);var aa;return new cb({fill:aa[1],align:aa[2],sign:aa[3],symbol:aa[4],zero:aa[5],width:aa[6],comma:aa[7],
precision:aa[8]&&aa[8].slice(1),trim:aa[9],type:aa[10]})}function cb(la){this.fill=void 0===la.fill?" ":la.fill+"";this.align=void 0===la.align?"\x3e":la.align+"";this.sign=void 0===la.sign?"-":la.sign+"";this.symbol=void 0===la.symbol?"":la.symbol+"";this.zero=!!la.zero;this.width=void 0===la.width?void 0:+la.width;this.comma=!!la.comma;this.precision=void 0===la.precision?void 0:+la.precision;this.trim=!!la.trim;this.type=void 0===la.type?"":la.type+""}function Eb(la,aa){aa=q(la,aa);if(!aa)return la+
"";la=aa[0];aa=aa[1];return 0>aa?"0."+Array(-aa).join("0")+la:la.length>aa+1?la.slice(0,aa+1)+"."+la.slice(aa+1):la+Array(aa-la.length+2).join("0")}function qb(la){return la}function Ea(la){function aa(Fa){function Ba(Y){var V=Ia,w=Sa,F,h;if("c"===ma)w=E(Y)+w,Y="";else{Y=+Y;var k=0>Y||0>1/Y;Y=isNaN(Y)?qa:E(Math.abs(Y),H);if(O){var m=Y.length,r=1,v=-1;a:for(;r<m;++r)switch(Y[r]){case ".":v=F=r;break;case "0":0===v&&(v=r);F=r;break;default:if(!+Y[r])break a;0<v&&(v=0)}Y=0<v?Y.slice(0,v)+Y.slice(F+1):
Y}k&&0===+Y&&"+"!==A&&(k=!1);V=(k?"("===A?A:sa:"-"===A||"("===A?"":A)+V;w=("s"===ma?Ga[8+Ja/3]:"")+w+(k&&"("===A?")":"");if(ha)for(k=-1,F=Y.length;++k<F;)if(h=Y.charCodeAt(k),48>h||57<h){w=(46===h?ya+Y.slice(k+1):Y.slice(k))+w;Y=Y.slice(0,k);break}}z&&!I&&(Y=Qa(Y,Infinity));h=V.length+Y.length+w.length;k=h<L?Array(L-h+1).join(Za):"";z&&I&&(Y=Qa(k+Y,k.length?L-w.length:Infinity),k="");switch(jb){case "\x3c":Y=V+Y+w+k;break;case "\x3d":Y=V+k+Y+w;break;case "^":Y=k.slice(0,h=k.length>>1)+V+Y+w+k.slice(h);
break;default:Y=k+V+Y+w}return ja(Y)}Fa=Ma(Fa);var Za=Fa.fill,jb=Fa.align,A=Fa.sign,y=Fa.symbol,I=Fa.zero,L=Fa.width,z=Fa.comma,H=Fa.precision,O=Fa.trim,ma=Fa.type;"n"===ma?(z=!0,ma="g"):ea[ma]||(void 0===H&&(H=12),O=!0,ma="g");if(I||"0"===Za&&"\x3d"===jb)I=!0,Za="0",jb="\x3d";var Ia="$"===y?xa:"#"===y&&/[boxX]/.test(ma)?"0"+ma.toLowerCase():"",Sa="$"===y?Oa:/[%p]/.test(ma)?wa:"",E=ea[ma],ha=/[defgprs%]/.test(ma);H=void 0===H?6:/[gprs]/.test(ma)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));
Ba.toString=function(){return Fa+""};return Ba}var Qa=void 0===la.grouping||void 0===la.thousands?qb:Pa(pa.call(la.grouping,Number),la.thousands+""),xa=void 0===la.currency?"":la.currency[0]+"",Oa=void 0===la.currency?"":la.currency[1]+"",ya=void 0===la.decimal?".":la.decimal+"",ja=void 0===la.numerals?qb:Hb(pa.call(la.numerals,String)),wa=void 0===la.percent?"%":la.percent+"",sa=void 0===la.minus?"−":la.minus+"",qa=void 0===la.nan?"NaN":la.nan+"";return{format:aa,formatPrefix:function(Fa,Ba){var Za=
aa((Fa=Ma(Fa),Fa.type="f",Fa));Fa=3*Math.max(-8,Math.min(8,Math.floor(S(Ba)/3)));var jb=Math.pow(10,-Fa),A=Ga[8+Fa/3];return function(y){return Za(jb*y)+A}}}}function $a(la){Wa=Ea(la);n.format=Wa.format;n.formatPrefix=Wa.formatPrefix;return Wa}var db=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ma.prototype=cb.prototype;cb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+
(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ja,ea={"%":function(la,aa){return(100*la).toFixed(aa)},b:function(la){return Math.round(la).toString(2)},c:function(la){return la+""},d:function(la){return 1E21<=Math.abs(la=Math.round(la))?la.toLocaleString("en").replace(/,/g,""):la.toString(10)},e:function(la,aa){return la.toExponential(aa)},f:function(la,aa){return la.toFixed(aa)},g:function(la,aa){return la.toPrecision(aa)},o:function(la){return Math.round(la).toString(8)},
p:function(la,aa){return Eb(100*la,aa)},r:Eb,s:function(la,aa){var Qa=q(la,aa);if(!Qa)return la+"";var xa=Qa[0];Qa=Qa[1];Qa=Qa-(Ja=3*Math.max(-8,Math.min(8,Math.floor(Qa/3))))+1;var Oa=xa.length;return Qa===Oa?xa:Qa>Oa?xa+Array(Qa-Oa+1).join("0"):0<Qa?xa.slice(0,Qa)+"."+xa.slice(Qa):"0."+Array(1-Qa).join("0")+q(la,Math.max(0,aa+Qa-1))[0]},X:function(la){return Math.round(la).toString(16).toUpperCase()},x:function(la){return Math.round(la).toString(16)}},pa=Array.prototype.map,Ga="y z a f p n µ m  k M G T P E Z Y".split(" "),
Wa;$a({thousands:",",grouping:[3],currency:["$",""]});n.FormatSpecifier=cb;n.formatDefaultLocale=$a;n.formatLocale=Ea;n.formatSpecifier=Ma;n.precisionFixed=function(la){return Math.max(0,-S(Math.abs(la)))};n.precisionPrefix=function(la,aa){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(S(aa)/3)))-S(Math.abs(la)))};n.precisionRound=function(la,aa){la=Math.abs(la);aa=Math.abs(aa)-la;return Math.max(0,S(aa)-S(la))+1};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[3]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(Ca,Ka,Z,ra){function hb(mb){return Ca(mb=0===arguments.length?new Date:new Date(+mb)),mb}hb.floor=function(mb){return Ca(mb=new Date(+mb)),mb};hb.ceil=function(mb){return Ca(mb=new Date(mb-1)),Ka(mb,1),Ca(mb),mb};hb.round=function(mb){var Ib=hb(mb),Xb=hb.ceil(mb);return mb-
Ib<Xb-mb?Ib:Xb};hb.offset=function(mb,Ib){return Ka(mb=new Date(+mb),null==Ib?1:Math.floor(Ib)),mb};hb.range=function(mb,Ib,Xb){var za=[],wb;mb=hb.ceil(mb);Xb=null==Xb?1:Math.floor(Xb);if(!(mb<Ib&&0<Xb))return za;do za.push(wb=new Date(+mb)),Ka(mb,Xb),Ca(mb);while(wb<mb&&mb<Ib);return za};hb.filter=function(mb){return q(function(Ib){if(Ib>=Ib)for(;Ca(Ib),!mb(Ib);)Ib.setTime(Ib-1)},function(Ib,Xb){if(Ib>=Ib)if(0>Xb)for(;0>=++Xb;)for(;Ka(Ib,-1),!mb(Ib););else for(;0<=--Xb;)for(;Ka(Ib,1),!mb(Ib););})};
Z&&(hb.count=function(mb,Ib){Hb.setTime(+mb);Ma.setTime(+Ib);Ca(Hb);Ca(Ma);return Math.floor(Z(Hb,Ma))},hb.every=function(mb){mb=Math.floor(mb);return isFinite(mb)&&0<mb?1<mb?hb.filter(ra?function(Ib){return 0===ra(Ib)%mb}:function(Ib){return 0===hb.count(0,Ib)%mb}):hb:null});return hb}function S(Ca){return q(function(Ka){Ka.setDate(Ka.getDate()-(Ka.getDay()+7-Ca)%7);Ka.setHours(0,0,0,0)},function(Ka,Z){Ka.setDate(Ka.getDate()+7*Z)},function(Ka,Z){return(Z-Ka-6E4*(Z.getTimezoneOffset()-Ka.getTimezoneOffset()))/
6048E5})}function Pa(Ca){return q(function(Ka){Ka.setUTCDate(Ka.getUTCDate()-(Ka.getUTCDay()+7-Ca)%7);Ka.setUTCHours(0,0,0,0)},function(Ka,Z){Ka.setUTCDate(Ka.getUTCDate()+7*Z)},function(Ka,Z){return(Z-Ka)/6048E5})}var Hb=new Date,Ma=new Date,cb=q(function(){},function(Ca,Ka){Ca.setTime(+Ca+Ka)},function(Ca,Ka){return Ka-Ca});cb.every=function(Ca){Ca=Math.floor(Ca);return isFinite(Ca)&&0<Ca?1<Ca?q(function(Ka){Ka.setTime(Math.floor(Ka/Ca)*Ca)},function(Ka,Z){Ka.setTime(+Ka+Z*Ca)},function(Ka,Z){return(Z-
Ka)/Ca}):cb:null};var Eb=cb.range,qb=q(function(Ca){Ca.setTime(Ca-Ca.getMilliseconds())},function(Ca,Ka){Ca.setTime(+Ca+1E3*Ka)},function(Ca,Ka){return(Ka-Ca)/1E3},function(Ca){return Ca.getUTCSeconds()}),Ea=qb.range,$a=q(function(Ca){Ca.setTime(Ca-Ca.getMilliseconds()-1E3*Ca.getSeconds())},function(Ca,Ka){Ca.setTime(+Ca+6E4*Ka)},function(Ca,Ka){return(Ka-Ca)/6E4},function(Ca){return Ca.getMinutes()}),db=$a.range,Ja=q(function(Ca){Ca.setTime(Ca-Ca.getMilliseconds()-1E3*Ca.getSeconds()-6E4*Ca.getMinutes())},
function(Ca,Ka){Ca.setTime(+Ca+36E5*Ka)},function(Ca,Ka){return(Ka-Ca)/36E5},function(Ca){return Ca.getHours()}),ea=Ja.range,pa=q(function(Ca){return Ca.setHours(0,0,0,0)},function(Ca,Ka){return Ca.setDate(Ca.getDate()+Ka)},function(Ca,Ka){return(Ka-Ca-6E4*(Ka.getTimezoneOffset()-Ca.getTimezoneOffset()))/864E5},function(Ca){return Ca.getDate()-1}),Ga=pa.range,Wa=S(0),la=S(1),aa=S(2),Qa=S(3),xa=S(4),Oa=S(5),ya=S(6),ja=Wa.range,wa=la.range,sa=aa.range,qa=Qa.range,Fa=xa.range,Ba=Oa.range,Za=ya.range,
jb=q(function(Ca){Ca.setDate(1);Ca.setHours(0,0,0,0)},function(Ca,Ka){Ca.setMonth(Ca.getMonth()+Ka)},function(Ca,Ka){return Ka.getMonth()-Ca.getMonth()+12*(Ka.getFullYear()-Ca.getFullYear())},function(Ca){return Ca.getMonth()}),A=jb.range,y=q(function(Ca){Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},function(Ca,Ka){Ca.setFullYear(Ca.getFullYear()+Ka)},function(Ca,Ka){return Ka.getFullYear()-Ca.getFullYear()},function(Ca){return Ca.getFullYear()});y.every=function(Ca){return isFinite(Ca=Math.floor(Ca))&&
0<Ca?q(function(Ka){Ka.setFullYear(Math.floor(Ka.getFullYear()/Ca)*Ca);Ka.setMonth(0,1);Ka.setHours(0,0,0,0)},function(Ka,Z){Ka.setFullYear(Ka.getFullYear()+Z*Ca)}):null};var I=y.range,L=q(function(Ca){Ca.setUTCSeconds(0,0)},function(Ca,Ka){Ca.setTime(+Ca+6E4*Ka)},function(Ca,Ka){return(Ka-Ca)/6E4},function(Ca){return Ca.getUTCMinutes()}),z=L.range,H=q(function(Ca){Ca.setUTCMinutes(0,0,0)},function(Ca,Ka){Ca.setTime(+Ca+36E5*Ka)},function(Ca,Ka){return(Ka-Ca)/36E5},function(Ca){return Ca.getUTCHours()}),
O=H.range,ma=q(function(Ca){Ca.setUTCHours(0,0,0,0)},function(Ca,Ka){Ca.setUTCDate(Ca.getUTCDate()+Ka)},function(Ca,Ka){return(Ka-Ca)/864E5},function(Ca){return Ca.getUTCDate()-1}),Ia=ma.range,Sa=Pa(0),E=Pa(1),ha=Pa(2),Y=Pa(3),V=Pa(4),w=Pa(5),F=Pa(6),h=Sa.range,k=E.range,m=ha.range,r=Y.range,v=V.range,J=w.range,ba=F.range,ka=q(function(Ca){Ca.setUTCDate(1);Ca.setUTCHours(0,0,0,0)},function(Ca,Ka){Ca.setUTCMonth(Ca.getUTCMonth()+Ka)},function(Ca,Ka){return Ka.getUTCMonth()-Ca.getUTCMonth()+12*(Ka.getUTCFullYear()-
Ca.getUTCFullYear())},function(Ca){return Ca.getUTCMonth()}),ua=ka.range,fb=q(function(Ca){Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},function(Ca,Ka){Ca.setUTCFullYear(Ca.getUTCFullYear()+Ka)},function(Ca,Ka){return Ka.getUTCFullYear()-Ca.getUTCFullYear()},function(Ca){return Ca.getUTCFullYear()});fb.every=function(Ca){return isFinite(Ca=Math.floor(Ca))&&0<Ca?q(function(Ka){Ka.setUTCFullYear(Math.floor(Ka.getUTCFullYear()/Ca)*Ca);Ka.setUTCMonth(0,1);Ka.setUTCHours(0,0,0,0)},function(Ka,Z){Ka.setUTCFullYear(Ka.getUTCFullYear()+
Z*Ca)}):null};var eb=fb.range;n.timeDay=pa;n.timeDays=Ga;n.timeFriday=Oa;n.timeFridays=Ba;n.timeHour=Ja;n.timeHours=ea;n.timeInterval=q;n.timeMillisecond=cb;n.timeMilliseconds=Eb;n.timeMinute=$a;n.timeMinutes=db;n.timeMonday=la;n.timeMondays=wa;n.timeMonth=jb;n.timeMonths=A;n.timeSaturday=ya;n.timeSaturdays=Za;n.timeSecond=qb;n.timeSeconds=Ea;n.timeSunday=Wa;n.timeSundays=ja;n.timeThursday=xa;n.timeThursdays=Fa;n.timeTuesday=aa;n.timeTuesdays=sa;n.timeWednesday=Qa;n.timeWednesdays=qa;n.timeWeek=Wa;
n.timeWeeks=ja;n.timeYear=y;n.timeYears=I;n.utcDay=ma;n.utcDays=Ia;n.utcFriday=w;n.utcFridays=J;n.utcHour=H;n.utcHours=O;n.utcMillisecond=cb;n.utcMilliseconds=Eb;n.utcMinute=L;n.utcMinutes=z;n.utcMonday=E;n.utcMondays=k;n.utcMonth=ka;n.utcMonths=ua;n.utcSaturday=F;n.utcSaturdays=ba;n.utcSecond=qb;n.utcSeconds=Ea;n.utcSunday=Sa;n.utcSundays=h;n.utcThursday=V;n.utcThursdays=v;n.utcTuesday=ha;n.utcTuesdays=m;n.utcWednesday=Y;n.utcWednesdays=r;n.utcWeek=Sa;n.utcWeeks=h;n.utcYear=fb;n.utcYears=eb;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[4]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(3),sb(1)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.d3,n.d3))})(this,function(n,q,S,Pa){function Hb(L){var z=q.array(L).slice(),H={};z.length||q.error("Missing time unit.");z.forEach(function(O){q.hasOwnProperty(la,O)?H[O]=1:q.error("Invalid time unit: "+O+".")});
1<(H.week||H.day?1:0)+(H.quarter||H.month||H.date?1:0)+(H.dayofyear?1:0)&&q.error("Incompatible time units: "+L);z.sort(function(O,ma){return la[O]-la[ma]});return z}function Ma(L){xa.setFullYear(L);xa.setMonth(0);xa.setDate(1);xa.setHours(0,0,0,0);return xa}function cb(L){return S.timeDay.count(Ma(L.getFullYear())-1,L)}function Eb(L){return S.timeWeek.count(Ma(L.getFullYear())-1,L)}function qb(L,z,H,O,ma,Ia,Sa){return 0<=L&&100>L?(z=new Date(-1,z,H,O,ma,Ia,Sa),z.setFullYear(L),z):new Date(L,z,H,
O,ma,Ia,Sa)}function Ea(L){var z=Date.UTC(L.getUTCFullYear(),0,1);return S.utcDay.count(z-1,L)}function $a(L){var z=Date.UTC(L.getUTCFullYear(),0,1);return S.utcWeek.count(z-1,L)}function db(L){xa.setTime(Date.UTC(L,0,1));return xa.getUTCDay()}function Ja(L,z,H,O,ma,Ia,Sa){return 0<=L&&100>L?(L=new Date(Date.UTC(-1,z,H,O,ma,Ia,Sa)),L.setUTCFullYear(H.y),L):new Date(Date.UTC(L,z,H,O,ma,Ia,Sa))}function ea(L,z,H,O,ma){var Ia=z||1,Sa=q.peek(L);z=function(m,r,v){v=v||m;return pa(H[v],O[v],m===Sa&&Ia,
r)};var E=new Date;L=q.toSet(L);var ha=L.year?z("year"):q.constant(2012),Y=L.month?z("month"):L.quarter?z("quarter"):q.zero,V=L.week&&L.day?z("day",1,"weekday"):L.week?z("week",1):L.day?z("day",1):L.date?z("date",1):L.dayofyear?z("dayofyear",1):q.one,w=L.hours?z("hours"):q.zero,F=L.minutes?z("minutes"):q.zero,h=L.seconds?z("seconds"):q.zero,k=L.milliseconds?z("milliseconds"):q.zero;return function(m){E.setTime(+m);m=ha(E);return ma(m,Y(E),V(E,m),w(E),F(E),h(E),k(E))}}function pa(L,z,H,O){var ma=1>=
H?L:O?function(Ia,Sa){return O+H*Math.floor((L(Ia,Sa)-O)/H)}:function(Ia,Sa){return H*Math.floor(L(Ia,Sa)/H)};return z?function(Ia,Sa){return z(ma(Ia,Sa),Sa)}:ma}function Ga(L,z,H){return z+7*L-(H+6)%7}var Wa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),la=Wa.reduce(function(L,z,H){return L[z]=1+H,L},{}),aa={},Qa=(aa.year="%Y ",aa.quarter="Q%q ",aa.month="%b ",aa.date="%d ",aa.week="W%U ",aa.day="%a ",aa.dayofyear="%j ",aa.hours="%H:00",aa.minutes="00:%M",
aa.seconds=":%S",aa.milliseconds=".%L",aa["year-month"]="%Y-%m ",aa["year-month-date"]="%Y-%m-%d ",aa["hours-minutes"]="%H:%M",aa),xa=new Date;aa={};var Oa=(aa.year=function(L){return L.getFullYear()},aa.quarter=function(L){return Math.floor(L.getMonth()/3)},aa.month=function(L){return L.getMonth()},aa.date=function(L){return L.getDate()},aa.hours=function(L){return L.getHours()},aa.minutes=function(L){return L.getMinutes()},aa.seconds=function(L){return L.getSeconds()},aa.milliseconds=function(L){return L.getMilliseconds()},
aa.dayofyear=function(L){return cb(L)},aa.week=function(L){return Eb(L)},aa.weekday=function(L,z){return Ga(Eb(L),L.getDay(),Ma(z).getDay())},aa.day=function(L,z){return Ga(1,L.getDay(),Ma(z).getDay())},aa);aa={};var ya=(aa.quarter=function(L){return 3*L},aa.week=function(L,z){return Ga(L,0,Ma(z).getDay())},aa);aa={};var ja=(aa.year=function(L){return L.getUTCFullYear()},aa.quarter=function(L){return Math.floor(L.getUTCMonth()/3)},aa.month=function(L){return L.getUTCMonth()},aa.date=function(L){return L.getUTCDate()},
aa.hours=function(L){return L.getUTCHours()},aa.minutes=function(L){return L.getUTCMinutes()},aa.seconds=function(L){return L.getUTCSeconds()},aa.milliseconds=function(L){return L.getUTCMilliseconds()},aa.dayofyear=function(L){return Ea(L)},aa.week=function(L){return $a(L)},aa.day=function(L,z){return Ga(1,L.getUTCDay(),db(z))},aa.weekday=function(L,z){return Ga($a(L),L.getUTCDay(),db(z))},aa);aa={};var wa=(aa.quarter=function(L){return 3*L},aa.week=function(L,z){return Ga(L,0,db(z))},aa);aa={};var sa=
(aa.year=S.timeYear,aa.quarter=S.timeMonth.every(3),aa.month=S.timeMonth,aa.week=S.timeWeek,aa.date=S.timeDay,aa.day=S.timeDay,aa.dayofyear=S.timeDay,aa.hours=S.timeHour,aa.minutes=S.timeMinute,aa.seconds=S.timeSecond,aa.milliseconds=S.timeMillisecond,aa);aa={};var qa=(aa.year=S.utcYear,aa.quarter=S.utcMonth.every(3),aa.month=S.utcMonth,aa.week=S.utcWeek,aa.date=S.utcDay,aa.day=S.utcDay,aa.dayofyear=S.utcDay,aa.hours=S.utcHour,aa.minutes=S.utcMinute,aa.seconds=S.utcSecond,aa.milliseconds=S.utcMillisecond,
aa),Fa="year month date hours minutes seconds milliseconds".split(" ");aa=Fa.slice(0,-1);var Ba=aa.slice(0,-1),Za=Ba.slice(0,-1),jb=Za.slice(0,-1),A=["year","month"],y=["year"],I=[[aa,1,1E3],[aa,5,5E3],[aa,15,15E3],[aa,30,3E4],[Ba,1,6E4],[Ba,5,3E5],[Ba,15,9E5],[Ba,30,18E5],[Za,1,36E5],[Za,3,108E5],[Za,6,216E5],[Za,12,432E5],[jb,1,864E5],[["year","week"],1,6048E5],[A,1,2592E6],[A,3,7776E6],[y,1,31536E6]];n.DATE="date";n.DAY="day";n.DAYOFYEAR="dayofyear";n.HOURS="hours";n.MILLISECONDS="milliseconds";
n.MINUTES="minutes";n.MONTH="month";n.QUARTER="quarter";n.SECONDS="seconds";n.TIME_UNITS=Wa;n.WEEK="week";n.YEAR="year";n.dayofyear=function(L){return cb(new Date(L))};n.timeBin=function(L){var z=L.extent;L=L.maxbins||40;var H=Math.abs(q.span(z))/L,O=Pa.bisector(function(ma){return ma[2]}).right(I,H);O===I.length?(H=y,z=Pa.tickStep(z[0]/31536E6,z[1]/31536E6,L)):O?(O=I[H/I[O-1][2]<I[O][2]/H?O-1:O],H=O[0],z=O[1]):(H=Fa,z=Math.max(Pa.tickStep(z[0],z[1],L),1));return{units:H,step:z}};n.timeFloor=function(L,
z){return ea(L,z||1,Oa,ya,qb)};n.timeInterval=function(L){return sa[L]};n.timeOffset=function(L,z,H){return(L=sa[L])?L.offset(z,H):void 0};n.timeSequence=function(L,z,H,O){return(L=sa[L])?L.range(z,H,O):void 0};n.timeUnitSpecifier=function(L,z){z=q.extend({},Qa,z);L=Hb(L);var H=L.length,O="",ma,Ia;for(ma=0;ma<H;)for(Ia=L.length;Ia>ma;--Ia){var Sa=L.slice(ma,Ia).join("-");if(null!=z[Sa]){O+=z[Sa];ma=Ia;break}}return O.trim()};n.timeUnits=Hb;n.utcFloor=function(L,z){return ea(L,z||1,ja,wa,Ja)};n.utcInterval=
function(L){return qa[L]};n.utcOffset=function(L,z,H){return(L=qa[L])?L.offset(z,H):void 0};n.utcSequence=function(L,z,H,O){return(L=qa[L])?L.range(z,H,O):void 0};n.utcdayofyear=function(L){return Ea(new Date(L))};n.utcweek=function(L){return $a(new Date(L))};n.week=function(L){return Eb(new Date(L))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[5]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(3)):"function"===typeof define&&define.amd?define(["exports","d3-time"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(Cb){if(0<=Cb.y&&100>Cb.y){var Rb=new Date(-1,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L);Rb.setFullYear(Cb.y);return Rb}return new Date(Cb.y,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L)}function Pa(Cb){if(0<=Cb.y&&100>Cb.y){var Rb=new Date(Date.UTC(-1,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L));
Rb.setUTCFullYear(Cb.y);return Rb}return new Date(Date.UTC(Cb.y,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L))}function Hb(Cb,Rb,Rc){return{y:Cb,m:Rb,d:Rc,H:0,M:0,S:0,L:0}}function Ma(Cb){function Rb($b,Ac){return function(Jc){var Hc=[],ad=-1,md=0,od=$b.length,rd,Vd;for(Jc instanceof Date||(Jc=new Date(+Jc));++ad<od;)if(37===$b.charCodeAt(ad)){Hc.push($b.slice(md,ad));null!=(md=bc[rd=$b.charAt(++ad)])?rd=$b.charAt(++ad):md="e"===rd?" ":"0";if(Vd=Ac[rd])rd=Vd(Jc,md);Hc.push(rd);md=ad+1}Hc.push($b.slice(md,ad));return Hc.join("")}}
function Rc($b,Ac){return function(Jc){var Hc=Hb(1900,void 0,1);if(se(Hc,$b,Jc+="",0)!=Jc.length)return null;if("Q"in Hc)return new Date(Hc.Q);if("s"in Hc)return new Date(1E3*Hc.s+("L"in Hc?Hc.L:0));!Ac||"Z"in Hc||(Hc.Z=0);"p"in Hc&&(Hc.H=Hc.H%12+12*Hc.p);void 0===Hc.m&&(Hc.m="q"in Hc?Hc.q:0);if("V"in Hc){if(1>Hc.V||53<Hc.V)return null;"w"in Hc||(Hc.w=1);if("Z"in Hc){Jc=Pa(Hb(Hc.y,0,1));var ad=Jc.getUTCDay();Jc=4<ad||0===ad?q.utcMonday.ceil(Jc):q.utcMonday(Jc);Jc=q.utcDay.offset(Jc,7*(Hc.V-1));Hc.y=
Jc.getUTCFullYear();Hc.m=Jc.getUTCMonth();Hc.d=Jc.getUTCDate()+(Hc.w+6)%7}else Jc=S(Hb(Hc.y,0,1)),ad=Jc.getDay(),Jc=4<ad||0===ad?q.timeMonday.ceil(Jc):q.timeMonday(Jc),Jc=q.timeDay.offset(Jc,7*(Hc.V-1)),Hc.y=Jc.getFullYear(),Hc.m=Jc.getMonth(),Hc.d=Jc.getDate()+(Hc.w+6)%7}else if("W"in Hc||"U"in Hc)"w"in Hc||(Hc.w="u"in Hc?Hc.u%7:"W"in Hc?1:0),ad="Z"in Hc?Pa(Hb(Hc.y,0,1)).getUTCDay():S(Hb(Hc.y,0,1)).getDay(),Hc.m=0,Hc.d="W"in Hc?(Hc.w+6)%7+7*Hc.W-(ad+5)%7:Hc.w+7*Hc.U-(ad+6)%7;return"Z"in Hc?(Hc.H+=
Hc.Z/100|0,Hc.M+=Hc.Z%100,Pa(Hc)):S(Hc)}}function se($b,Ac,Jc,Hc){for(var ad=0,md=Ac.length,od=Jc.length,rd;ad<md;){if(Hc>=od)return-1;rd=Ac.charCodeAt(ad++);if(37===rd){if(rd=Ac.charAt(ad++),rd=Gc[rd in bc?Ac.charAt(ad++):rd],!rd||0>(Hc=rd($b,Jc,Hc)))return-1}else if(rd!=Jc.charCodeAt(Hc++))return-1}return Hc}var De=Cb.dateTime,Ne=Cb.date,Md=Cb.time,K=Cb.periods,fa=Cb.days,bb=Cb.shortDays,La=Cb.months,Fb=Cb.shortMonths,Vb=qb(K),Yb=Ea(K),cc=qb(fa),va=Ea(fa),Ra=qb(bb),yb=Ea(bb),Nb=qb(La),gc=Ea(La),
tc=qb(Fb),lc=Ea(Fb),xb={a:function($b){return bb[$b.getDay()]},A:function($b){return fa[$b.getDay()]},b:function($b){return Fb[$b.getMonth()]},B:function($b){return La[$b.getMonth()]},c:null,d:jb,e:jb,f:z,g:F,G:k,H:A,I:y,j:I,L:L,m:H,M:O,p:function($b){return K[+(12<=$b.getHours())]},q:function($b){return 1+~~($b.getMonth()/3)},Q:ic,s:rc,S:ma,u:Ia,U:Sa,V:ha,w:Y,W:V,x:null,X:null,y:w,Y:h,Z:m,"%":Sb},Qb={a:function($b){return bb[$b.getUTCDay()]},A:function($b){return fa[$b.getUTCDay()]},b:function($b){return Fb[$b.getUTCMonth()]},
B:function($b){return La[$b.getUTCMonth()]},c:null,d:r,e:r,f:ua,g:za,G:Tb,H:v,I:J,j:ba,L:ka,m:fb,M:eb,p:function($b){return K[+(12<=$b.getUTCHours())]},q:function($b){return 1+~~($b.getUTCMonth()/3)},Q:ic,s:rc,S:Ca,u:Ka,U:Z,V:hb,w:mb,W:Ib,x:null,X:null,y:Xb,Y:wb,Z:rb,"%":Sb},Gc={a:function($b,Ac,Jc){return(Ac=Ra.exec(Ac.slice(Jc)))?($b.w=yb.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},A:function($b,Ac,Jc){return(Ac=cc.exec(Ac.slice(Jc)))?($b.w=va.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},b:function($b,
Ac,Jc){return(Ac=tc.exec(Ac.slice(Jc)))?($b.m=lc.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},B:function($b,Ac,Jc){return(Ac=Nb.exec(Ac.slice(Jc)))?($b.m=gc.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},c:function($b,Ac,Jc){return se($b,De,Ac,Jc)},d:xa,e:xa,f:qa,g:Wa,G:Ga,H:ya,I:ya,j:Oa,L:sa,m:Qa,M:ja,p:function($b,Ac,Jc){return(Ac=Vb.exec(Ac.slice(Jc)))?($b.p=Yb.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},q:aa,Q:Ba,s:Za,S:wa,u:db,U:Ja,V:ea,w:$a,W:pa,x:function($b,Ac,Jc){return se($b,Ne,Ac,Jc)},
X:function($b,Ac,Jc){return se($b,Md,Ac,Jc)},y:Wa,Y:Ga,Z:la,"%":Fa};xb.x=Rb(Ne,xb);xb.X=Rb(Md,xb);xb.c=Rb(De,xb);Qb.x=Rb(Ne,Qb);Qb.X=Rb(Md,Qb);Qb.c=Rb(De,Qb);return{format:function($b){var Ac=Rb($b+="",xb);Ac.toString=function(){return $b};return Ac},parse:function($b){var Ac=Rc($b+="",!1);Ac.toString=function(){return $b};return Ac},utcFormat:function($b){var Ac=Rb($b+="",Qb);Ac.toString=function(){return $b};return Ac},utcParse:function($b){var Ac=Rc($b+="",!0);Ac.toString=function(){return $b};
return Ac}}}function cb(Cb,Rb,Rc){var se=0>Cb?"-":"";Cb=(se?-Cb:Cb)+"";var De=Cb.length;return se+(De<Rc?Array(Rc-De+1).join(Rb)+Cb:Cb)}function Eb(Cb){return Cb.replace(Xc,"\\$\x26")}function qb(Cb){return new RegExp("^(?:"+Cb.map(Eb).join("|")+")","i")}function Ea(Cb){return new Map(Cb.map(function(Rb,Rc){return[Rb.toLowerCase(),Rc]}))}function $a(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.w=+Rb[0],Rc+Rb[0].length):-1}function db(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.u=+Rb[0],
Rc+Rb[0].length):-1}function Ja(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.U=+Rb[0],Rc+Rb[0].length):-1}function ea(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.V=+Rb[0],Rc+Rb[0].length):-1}function pa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.W=+Rb[0],Rc+Rb[0].length):-1}function Ga(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+4)))?(Cb.y=+Rb[0],Rc+Rb[0].length):-1}function Wa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.y=+Rb[0]+(68<+Rb[0]?1900:2E3),Rc+Rb[0].length):
-1}function la(Cb,Rb,Rc){return(Rb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Rb.slice(Rc,Rc+6)))?(Cb.Z=Rb[1]?0:-(Rb[2]+(Rb[3]||"00")),Rc+Rb[0].length):-1}function aa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.q=3*Rb[0]-3,Rc+Rb[0].length):-1}function Qa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.m=Rb[0]-1,Rc+Rb[0].length):-1}function xa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.d=+Rb[0],Rc+Rb[0].length):-1}function Oa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+3)))?(Cb.m=0,Cb.d=
+Rb[0],Rc+Rb[0].length):-1}function ya(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.H=+Rb[0],Rc+Rb[0].length):-1}function ja(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.M=+Rb[0],Rc+Rb[0].length):-1}function wa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.S=+Rb[0],Rc+Rb[0].length):-1}function sa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+3)))?(Cb.L=+Rb[0],Rc+Rb[0].length):-1}function qa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+6)))?(Cb.L=Math.floor(Rb[0]/1E3),Rc+Rb[0].length):
-1}function Fa(Cb,Rb,Rc){return(Cb=xc.exec(Rb.slice(Rc,Rc+1)))?Rc+Cb[0].length:-1}function Ba(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc)))?(Cb.Q=+Rb[0],Rc+Rb[0].length):-1}function Za(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc)))?(Cb.s=+Rb[0],Rc+Rb[0].length):-1}function jb(Cb,Rb){return cb(Cb.getDate(),Rb,2)}function A(Cb,Rb){return cb(Cb.getHours(),Rb,2)}function y(Cb,Rb){return cb(Cb.getHours()%12||12,Rb,2)}function I(Cb,Rb){return cb(1+q.timeDay.count(q.timeYear(Cb),Cb),Rb,3)}function L(Cb,Rb){return cb(Cb.getMilliseconds(),
Rb,3)}function z(Cb,Rb){return L(Cb,Rb)+"000"}function H(Cb,Rb){return cb(Cb.getMonth()+1,Rb,2)}function O(Cb,Rb){return cb(Cb.getMinutes(),Rb,2)}function ma(Cb,Rb){return cb(Cb.getSeconds(),Rb,2)}function Ia(Cb){Cb=Cb.getDay();return 0===Cb?7:Cb}function Sa(Cb,Rb){return cb(q.timeSunday.count(q.timeYear(Cb)-1,Cb),Rb,2)}function E(Cb){var Rb=Cb.getDay();return 4<=Rb||0===Rb?q.timeThursday(Cb):q.timeThursday.ceil(Cb)}function ha(Cb,Rb){Cb=E(Cb);return cb(q.timeThursday.count(q.timeYear(Cb),Cb)+(4===
q.timeYear(Cb).getDay()),Rb,2)}function Y(Cb){return Cb.getDay()}function V(Cb,Rb){return cb(q.timeMonday.count(q.timeYear(Cb)-1,Cb),Rb,2)}function w(Cb,Rb){return cb(Cb.getFullYear()%100,Rb,2)}function F(Cb,Rb){Cb=E(Cb);return cb(Cb.getFullYear()%100,Rb,2)}function h(Cb,Rb){return cb(Cb.getFullYear()%1E4,Rb,4)}function k(Cb,Rb){var Rc=Cb.getDay();Cb=4<=Rc||0===Rc?q.timeThursday(Cb):q.timeThursday.ceil(Cb);return cb(Cb.getFullYear()%1E4,Rb,4)}function m(Cb){Cb=Cb.getTimezoneOffset();return(0<Cb?"-":
(Cb*=-1,"+"))+cb(Cb/60|0,"0",2)+cb(Cb%60,"0",2)}function r(Cb,Rb){return cb(Cb.getUTCDate(),Rb,2)}function v(Cb,Rb){return cb(Cb.getUTCHours(),Rb,2)}function J(Cb,Rb){return cb(Cb.getUTCHours()%12||12,Rb,2)}function ba(Cb,Rb){return cb(1+q.utcDay.count(q.utcYear(Cb),Cb),Rb,3)}function ka(Cb,Rb){return cb(Cb.getUTCMilliseconds(),Rb,3)}function ua(Cb,Rb){return ka(Cb,Rb)+"000"}function fb(Cb,Rb){return cb(Cb.getUTCMonth()+1,Rb,2)}function eb(Cb,Rb){return cb(Cb.getUTCMinutes(),Rb,2)}function Ca(Cb,
Rb){return cb(Cb.getUTCSeconds(),Rb,2)}function Ka(Cb){Cb=Cb.getUTCDay();return 0===Cb?7:Cb}function Z(Cb,Rb){return cb(q.utcSunday.count(q.utcYear(Cb)-1,Cb),Rb,2)}function ra(Cb){var Rb=Cb.getUTCDay();return 4<=Rb||0===Rb?q.utcThursday(Cb):q.utcThursday.ceil(Cb)}function hb(Cb,Rb){Cb=ra(Cb);return cb(q.utcThursday.count(q.utcYear(Cb),Cb)+(4===q.utcYear(Cb).getUTCDay()),Rb,2)}function mb(Cb){return Cb.getUTCDay()}function Ib(Cb,Rb){return cb(q.utcMonday.count(q.utcYear(Cb)-1,Cb),Rb,2)}function Xb(Cb,
Rb){return cb(Cb.getUTCFullYear()%100,Rb,2)}function za(Cb,Rb){Cb=ra(Cb);return cb(Cb.getUTCFullYear()%100,Rb,2)}function wb(Cb,Rb){return cb(Cb.getUTCFullYear()%1E4,Rb,4)}function Tb(Cb,Rb){var Rc=Cb.getUTCDay();Cb=4<=Rc||0===Rc?q.utcThursday(Cb):q.utcThursday.ceil(Cb);return cb(Cb.getUTCFullYear()%1E4,Rb,4)}function rb(){return"+0000"}function Sb(){return"%"}function ic(Cb){return+Cb}function rc(Cb){return Math.floor(+Cb/1E3)}function Tc(Cb){ud=Ma(Cb);n.timeFormat=ud.format;n.timeParse=ud.parse;
n.utcFormat=ud.utcFormat;n.utcParse=ud.utcParse;return ud}function pc(Cb){return Cb.toISOString()}function tb(Cb){Cb=new Date(Cb);return isNaN(Cb)?null:Cb}var bc={"-":"",_:" ",0:"0"},Mb=/^\s*\d+/,xc=/^%/,Xc=/[\\^$*+?|[\]().{}]/g,ud;Tc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var xd=Date.prototype.toISOString?pc:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ae=+new Date("2000-01-01T00:00:00.000Z")?tb:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=xd;n.isoParse=ae;n.timeFormatDefaultLocale=Tc;n.timeFormatLocale=Ma;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[6]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(1),sb(2),sb(4),sb(0),sb(5)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3,n.d3,n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa,Hb,Ma){function cb(Oa){var ya={};return function(ja){return ya[ja]||(ya[ja]=Oa(ja))}}function Eb(Oa,ya){return function(ja){ja=
Oa(ja);var wa=ja.indexOf(ya);if(0>wa)return ja;a:{var sa=ja.lastIndexOf("e");if(!(0<sa)){for(sa=ja.length;--sa>wa;){var qa=ja.charCodeAt(sa);if(48<=qa&&57>=qa){sa+=1;break a}}sa=void 0}}for(qa=sa<ja.length?ja.slice(sa):"";--sa>wa;)if("0"!==ja[sa]){++sa;break}return ja.slice(0,sa)+qa}}function qb(Oa){var ya=cb(Oa.format),ja=Oa.formatPrefix;return{format:ya,formatPrefix:ja,formatFloat:function(wa){wa=S.formatSpecifier(wa||",");if(null==wa.precision){wa.precision=12;switch(wa.type){case "%":wa.precision-=
2;break;case "e":--wa.precision}return Eb(ya(wa),ya(".1f")(1)[1])}return ya(wa)},formatSpan:function(wa,sa,qa,Fa){Fa=S.formatSpecifier(null==Fa?",f":Fa);qa=q.tickStep(wa,sa,qa);wa=Math.max(Math.abs(wa),Math.abs(sa));if(null==Fa.precision)switch(Fa.type){case "s":return isNaN(sa=S.precisionPrefix(qa,wa))||(Fa.precision=sa),ja(Fa,wa);case "":case "e":case "g":case "p":case "r":isNaN(sa=S.precisionRound(qa,wa))||(Fa.precision=sa-("e"===Fa.type));break;case "f":case "%":isNaN(sa=S.precisionFixed(qa))||
(Fa.precision=sa-2*("%"===Fa.type))}return ya(Fa)}}}function Ea(){return aa=qb({format:S.format,formatPrefix:S.formatPrefix})}function $a(Oa){return qb(S.formatLocale(Oa))}function db(Oa){return arguments.length?aa=$a(Oa):aa}function Ja(Oa,ya,ja){ja=ja||{};Hb.isObject(ja)||Hb.error("Invalid time multi-format specifier: "+ja);var wa=ya(Pa.SECONDS),sa=ya(Pa.MINUTES),qa=ya(Pa.HOURS),Fa=ya(Pa.DATE),Ba=ya(Pa.WEEK),Za=ya(Pa.MONTH),jb=ya(Pa.QUARTER),A=ya(Pa.YEAR),y=Oa(ja[Pa.MILLISECONDS]||".%L"),I=Oa(ja[Pa.SECONDS]||
":%S"),L=Oa(ja[Pa.MINUTES]||"%I:%M"),z=Oa(ja[Pa.HOURS]||"%I %p"),H=Oa(ja[Pa.DATE]||ja[Pa.DAY]||"%a %d"),O=Oa(ja[Pa.WEEK]||"%b %d"),ma=Oa(ja[Pa.MONTH]||"%B"),Ia=Oa(ja[Pa.QUARTER]||"%B"),Sa=Oa(ja[Pa.YEAR]||"%Y");return function(E){return(wa(E)<E?y:sa(E)<E?I:qa(E)<E?L:Fa(E)<E?z:Za(E)<E?Ba(E)<E?H:O:A(E)<E?jb(E)<E?ma:Ia:Sa)(E)}}function ea(Oa){var ya=cb(Oa.format),ja=cb(Oa.utcFormat);return{timeFormat:function(wa){return Hb.isString(wa)?ya(wa):Ja(ya,Pa.timeInterval,wa)},utcFormat:function(wa){return Hb.isString(wa)?
ja(wa):Ja(ja,Pa.utcInterval,wa)},timeParse:cb(Oa.parse),utcParse:cb(Oa.utcParse)}}function pa(){return Qa=ea({format:Ma.timeFormat,parse:Ma.timeParse,utcFormat:Ma.utcFormat,utcParse:Ma.utcParse})}function Ga(Oa){return ea(Ma.timeFormatLocale(Oa))}function Wa(Oa){return arguments.length?Qa=Ga(Oa):Qa}function la(Oa,ya){var ja=arguments.length;ja&&2!==ja&&Hb.error("defaultLocale expects either zero or two arguments.");return ja?xa(db(Oa),Wa(ya)):xa(db(),Wa())}var aa;Ea();var Qa;pa();var xa=function(Oa,
ya){return Hb.extend({},Oa,ya)};n.defaultLocale=la;n.locale=function(Oa,ya){Oa=Oa?$a(Oa):db();ya=ya?Ga(ya):Wa();return xa(Oa,ya)};n.numberFormatDefaultLocale=db;n.numberFormatLocale=$a;n.resetDefaultLocale=function(){Ea();pa();return la()};n.resetNumberFormatDefaultLocale=Ea;n.resetTimeFormatDefaultLocale=pa;n.timeFormatDefaultLocale=Wa;n.timeFormatLocale=Ga;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[7]=function(Kb,sb,hc,ub){function n(Ma){var cb=Ma.length;if(0<cb%4)throw Error("Invalid string. Length must be a multiple of 4");Ma=Ma.indexOf("\x3d");-1===Ma&&(Ma=cb);return[Ma,Ma===cb?0:4-Ma%4]}function q(Ma,cb,Eb){for(var qb=[],Ea=cb;Ea<Eb;Ea+=3)cb=(Ma[Ea]<<16&16711680)+(Ma[Ea+1]<<8&65280)+(Ma[Ea+2]&255),qb.push(S[cb>>18&63]+S[cb>>12&63]+S[cb>>6&63]+S[cb&63]);return qb.join("")}ub.byteLength=function(Ma){Ma=n(Ma);var cb=Ma[1];return 3*(Ma[0]+cb)/4-cb};ub.toByteArray=function(Ma){var cb=
n(Ma);var Eb=cb[0];cb=cb[1];var qb=new Hb(3*(Eb+cb)/4-cb),Ea=0,$a=0<cb?Eb-4:Eb,db;for(db=0;db<$a;db+=4)Eb=Pa[Ma.charCodeAt(db)]<<18|Pa[Ma.charCodeAt(db+1)]<<12|Pa[Ma.charCodeAt(db+2)]<<6|Pa[Ma.charCodeAt(db+3)],qb[Ea++]=Eb>>16&255,qb[Ea++]=Eb>>8&255,qb[Ea++]=Eb&255;2===cb&&(Eb=Pa[Ma.charCodeAt(db)]<<2|Pa[Ma.charCodeAt(db+1)]>>4,qb[Ea++]=Eb&255);1===cb&&(Eb=Pa[Ma.charCodeAt(db)]<<10|Pa[Ma.charCodeAt(db+1)]<<4|Pa[Ma.charCodeAt(db+2)]>>2,qb[Ea++]=Eb>>8&255,qb[Ea++]=Eb&255);return qb};ub.fromByteArray=
function(Ma){for(var cb=Ma.length,Eb=cb%3,qb=[],Ea=0,$a=cb-Eb;Ea<$a;Ea+=16383)qb.push(q(Ma,Ea,Ea+16383>$a?$a:Ea+16383));1===Eb?(Ma=Ma[cb-1],qb.push(S[Ma>>2]+S[Ma<<4&63]+"\x3d\x3d")):2===Eb&&(Ma=(Ma[cb-2]<<8)+Ma[cb-1],qb.push(S[Ma>>10]+S[Ma>>4&63]+S[Ma<<2&63]+"\x3d"));return qb.join("")};var S=[],Pa=[],Hb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Kb=0;64>Kb;++Kb)S[Kb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Kb],Pa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Kb)]=
Kb;Pa[45]=62;Pa[95]=63};
shadow$provide[8]=function(Kb,sb,hc,ub){ub.read=function(n,q,S,Pa,Hb){var Ma=8*Hb-Pa-1;var cb=(1<<Ma)-1,Eb=cb>>1,qb=-7;Hb=S?Hb-1:0;var Ea=S?-1:1,$a=n[q+Hb];Hb+=Ea;S=$a&(1<<-qb)-1;$a>>=-qb;for(qb+=Ma;0<qb;S=256*S+n[q+Hb],Hb+=Ea,qb-=8);Ma=S&(1<<-qb)-1;S>>=-qb;for(qb+=Pa;0<qb;Ma=256*Ma+n[q+Hb],Hb+=Ea,qb-=8);if(0===S)S=1-Eb;else{if(S===cb)return Ma?NaN:Infinity*($a?-1:1);Ma+=Math.pow(2,Pa);S-=Eb}return($a?-1:1)*Ma*Math.pow(2,S-Pa)};ub.write=function(n,q,S,Pa,Hb,Ma){var cb,Eb=8*Ma-Hb-1,qb=(1<<Eb)-1,Ea=
qb>>1,$a=23===Hb?Math.pow(2,-24)-Math.pow(2,-77):0;Ma=Pa?0:Ma-1;var db=Pa?1:-1,Ja=0>q||0===q&&0>1/q?1:0;q=Math.abs(q);isNaN(q)||Infinity===q?(q=isNaN(q)?1:0,Pa=qb):(Pa=Math.floor(Math.log(q)/Math.LN2),1>q*(cb=Math.pow(2,-Pa))&&(Pa--,cb*=2),q=1<=Pa+Ea?q+$a/cb:q+$a*Math.pow(2,1-Ea),2<=q*cb&&(Pa++,cb/=2),Pa+Ea>=qb?(q=0,Pa=qb):1<=Pa+Ea?(q=(q*cb-1)*Math.pow(2,Hb),Pa+=Ea):(q=q*Math.pow(2,Ea-1)*Math.pow(2,Hb),Pa=0));for(;8<=Hb;n[S+Ma]=q&255,Ma+=db,q/=256,Hb-=8);Pa=Pa<<Hb|q;for(Eb+=Hb;0<Eb;n[S+Ma]=Pa&255,
Ma+=db,Pa/=256,Eb-=8);n[S+Ma-db]|=128*Ja}};
shadow$provide[9]=function(Kb,sb,hc,ub){var n={}.toString;hc.exports=Array.isArray||function(q){return"[object Array]"==n.call(q)}};
shadow$provide[10]=function(Kb,sb,hc,ub){function n(){try{var A=new Uint8Array(1);A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===A.foo()&&"function"===typeof A.subarray&&0===A.subarray(1,1).byteLength}catch(y){return!1}}function q(A,y){if((S.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<y)throw new RangeError("Invalid typed array length");S.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(y),A.__proto__=S.prototype):(null===A&&(A=new S(y)),A.length=y);return A}function S(A,y,
I){if(!(S.TYPED_ARRAY_SUPPORT||this instanceof S))return new S(A,y,I);if("number"===typeof A){if("string"===typeof y)throw Error("If encoding is specified then the first argument must be a string");return Ma(this,A)}return Pa(this,A,y,I)}function Pa(A,y,I,L){if("number"===typeof y)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&y instanceof ArrayBuffer){y.byteLength;if(0>I||y.byteLength<I)throw new RangeError("'offset' is out of bounds");if(y.byteLength<
I+(L||0))throw new RangeError("'length' is out of bounds");y=void 0===I&&void 0===L?new Uint8Array(y):void 0===L?new Uint8Array(y,I):new Uint8Array(y,I,L);S.TYPED_ARRAY_SUPPORT?(A=y,A.__proto__=S.prototype):A=cb(A,y);return A}if("string"===typeof y){L=A;A=I;if("string"!==typeof A||""===A)A="utf8";if(!S.isEncoding(A))throw new TypeError('"encoding" must be a valid string encoding');I=Ea(y,A)|0;L=q(L,I);y=L.write(y,A);y!==I&&(L=L.slice(0,y));return L}return Eb(A,y)}function Hb(A){if("number"!==typeof A)throw new TypeError('"size" argument must be a number');
if(0>A)throw new RangeError('"size" argument must not be negative');}function Ma(A,y){Hb(y);A=q(A,0>y?0:qb(y)|0);if(!S.TYPED_ARRAY_SUPPORT)for(var I=0;I<y;++I)A[I]=0;return A}function cb(A,y){var I=0>y.length?0:qb(y.length)|0;A=q(A,I);for(var L=0;L<I;L+=1)A[L]=y[L]&255;return A}function Eb(A,y){if(S.isBuffer(y)){var I=qb(y.length)|0;A=q(A,I);if(0===A.length)return A;y.copy(A,0,0,I);return A}if(y){if("undefined"!==typeof ArrayBuffer&&y.buffer instanceof ArrayBuffer||"length"in y)return(I="number"!==
typeof y.length)||(I=y.length,I=I!==I),I?q(A,0):cb(A,y);if("Buffer"===y.type&&Ba(y.data))return cb(A,y.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function qb(A){if(A>=(S.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(S.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return A|0}function Ea(A,y){if(S.isBuffer(A))return A.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;"string"!==typeof A&&(A=""+A);var I=A.length;if(0===I)return 0;for(var L=!1;;)switch(y){case "ascii":case "latin1":case "binary":return I;case "utf8":case "utf-8":case void 0:return ja(A).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*I;case "hex":return I>>>1;case "base64":return qa.toByteArray(ya(A)).length;default:if(L)return ja(A).length;y=
(""+y).toLowerCase();L=!0}}function $a(A,y,I){var L=!1;if(void 0===y||0>y)y=0;if(y>this.length)return"";if(void 0===I||I>this.length)I=this.length;if(0>=I)return"";I>>>=0;y>>>=0;if(I<=y)return"";for(A||(A="utf8");;)switch(A){case "hex":A=y;y=I;I=this.length;if(!A||0>A)A=0;if(!y||0>y||y>I)y=I;L="";for(I=A;I<y;++I)A=L,L=this[I],L=16>L?"0"+L.toString(16):L.toString(16),L=A+L;return L;case "utf8":case "utf-8":return pa(this,y,I);case "ascii":A="";for(I=Math.min(this.length,I);y<I;++y)A+=String.fromCharCode(this[y]&
127);return A;case "latin1":case "binary":A="";for(I=Math.min(this.length,I);y<I;++y)A+=String.fromCharCode(this[y]);return A;case "base64":return y=0===y&&I===this.length?qa.fromByteArray(this):qa.fromByteArray(this.slice(y,I)),y;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":y=this.slice(y,I);I="";for(A=0;A<y.length;A+=2)I+=String.fromCharCode(y[A]+256*y[A+1]);return I;default:if(L)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase();L=!0}}function db(A,y,I){var L=A[y];A[y]=
A[I];A[I]=L}function Ja(A,y,I,L,z){if(0===A.length)return-1;"string"===typeof I?(L=I,I=0):2147483647<I?I=2147483647:-2147483648>I&&(I=-2147483648);I=+I;isNaN(I)&&(I=z?0:A.length-1);0>I&&(I=A.length+I);if(I>=A.length){if(z)return-1;I=A.length-1}else if(0>I)if(z)I=0;else return-1;"string"===typeof y&&(y=S.from(y,L));if(S.isBuffer(y))return 0===y.length?-1:ea(A,y,I,L,z);if("number"===typeof y)return y&=255,S.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?z?Uint8Array.prototype.indexOf.call(A,
y,I):Uint8Array.prototype.lastIndexOf.call(A,y,I):ea(A,[y],I,L,z);throw new TypeError("val must be string, number or Buffer");}function ea(A,y,I,L,z){function H(Sa,E){return 1===O?Sa[E]:Sa.readUInt16BE(E*O)}var O=1,ma=A.length,Ia=y.length;if(void 0!==L&&(L=String(L).toLowerCase(),"ucs2"===L||"ucs-2"===L||"utf16le"===L||"utf-16le"===L)){if(2>A.length||2>y.length)return-1;O=2;ma/=2;Ia/=2;I/=2}if(z)for(L=-1;I<ma;I++)if(H(A,I)===H(y,-1===L?0:I-L)){if(-1===L&&(L=I),I-L+1===Ia)return L*O}else-1!==L&&(I-=
I-L),L=-1;else for(I+Ia>ma&&(I=ma-Ia);0<=I;I--){ma=!0;for(L=0;L<Ia;L++)if(H(A,I+L)!==H(y,L)){ma=!1;break}if(ma)return I}return-1}function pa(A,y,I){I=Math.min(A.length,I);for(var L=[];y<I;){var z=A[y],H=null,O=239<z?4:223<z?3:191<z?2:1;if(y+O<=I)switch(O){case 1:128>z&&(H=z);break;case 2:var ma=A[y+1];128===(ma&192)&&(z=(z&31)<<6|ma&63,127<z&&(H=z));break;case 3:ma=A[y+1];var Ia=A[y+2];128===(ma&192)&&128===(Ia&192)&&(z=(z&15)<<12|(ma&63)<<6|Ia&63,2047<z&&(55296>z||57343<z)&&(H=z));break;case 4:ma=
A[y+1];Ia=A[y+2];var Sa=A[y+3];128===(ma&192)&&128===(Ia&192)&&128===(Sa&192)&&(z=(z&15)<<18|(ma&63)<<12|(Ia&63)<<6|Sa&63,65535<z&&1114112>z&&(H=z))}null===H?(H=65533,O=1):65535<H&&(H-=65536,L.push(H>>>10&1023|55296),H=56320|H&1023);L.push(H);y+=O}A=L.length;if(A<=Za)L=String.fromCharCode.apply(String,L);else{I="";for(y=0;y<A;)I+=String.fromCharCode.apply(String,L.slice(y,y+=Za));L=I}return L}function Ga(A,y,I){if(0!==A%1||0>A)throw new RangeError("offset is not uint");if(A+y>I)throw new RangeError("Trying to access beyond buffer length");
}function Wa(A,y,I,L,z,H){if(!S.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>z||y<H)throw new RangeError('"value" argument is out of bounds');if(I+L>A.length)throw new RangeError("Index out of range");}function la(A,y,I,L){0>y&&(y=65535+y+1);for(var z=0,H=Math.min(A.length-I,2);z<H;++z)A[I+z]=(y&255<<8*(L?z:1-z))>>>8*(L?z:1-z)}function aa(A,y,I,L){0>y&&(y=4294967295+y+1);for(var z=0,H=Math.min(A.length-I,4);z<H;++z)A[I+z]=y>>>8*(L?z:3-z)&255}function Qa(A,y,
I,L,z,H){if(I+L>A.length)throw new RangeError("Index out of range");if(0>I)throw new RangeError("Index out of range");}function xa(A,y,I,L,z){z||Qa(A,y,I,4,3.4028234663852886E38,-3.4028234663852886E38);Fa.write(A,y,I,L,23,4);return I+4}function Oa(A,y,I,L,z){z||Qa(A,y,I,8,1.7976931348623157E308,-1.7976931348623157E308);Fa.write(A,y,I,L,52,8);return I+8}function ya(A){A=A.trim?A.trim():A.replace(/^\s+|\s+$/g,"");A=A.replace(jb,"");if(2>A.length)return"";for(;0!==A.length%4;)A+="\x3d";return A}function ja(A,
y){y=y||Infinity;for(var I,L=A.length,z=null,H=[],O=0;O<L;++O){I=A.charCodeAt(O);if(55295<I&&57344>I){if(!z){if(56319<I){-1<(y-=3)&&H.push(239,191,189);continue}else if(O+1===L){-1<(y-=3)&&H.push(239,191,189);continue}z=I;continue}if(56320>I){-1<(y-=3)&&H.push(239,191,189);z=I;continue}I=(z-55296<<10|I-56320)+65536}else z&&-1<(y-=3)&&H.push(239,191,189);z=null;if(128>I){if(0>--y)break;H.push(I)}else if(2048>I){if(0>(y-=2))break;H.push(I>>6|192,I&63|128)}else if(65536>I){if(0>(y-=3))break;H.push(I>>
12|224,I>>6&63|128,I&63|128)}else if(1114112>I){if(0>(y-=4))break;H.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw Error("Invalid code point");}return H}function wa(A){for(var y=[],I=0;I<A.length;++I)y.push(A.charCodeAt(I)&255);return y}function sa(A,y,I,L){for(var z=0;z<L&&!(z+I>=y.length||z>=A.length);++z)y[z+I]=A[z];return z}var qa=sb(7),Fa=sb(8),Ba=sb(9);ub.Buffer=S;ub.SlowBuffer=function(A){+A!=A&&(A=0);return S.alloc(+A)};ub.INSPECT_MAX_BYTES=50;S.TYPED_ARRAY_SUPPORT=void 0!==
Kb.TYPED_ARRAY_SUPPORT?Kb.TYPED_ARRAY_SUPPORT:n();ub.kMaxLength=S.TYPED_ARRAY_SUPPORT?2147483647:1073741823;S.poolSize=8192;S._augment=function(A){A.__proto__=S.prototype;return A};S.from=function(A,y,I){return Pa(null,A,y,I)};S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&S[Symbol.species]===S&&Object.defineProperty(S,Symbol.species,{value:null,configurable:!0}));S.alloc=function(A,y,I){Hb(A);A=0>=A?q(null,A):
void 0!==y?"string"===typeof I?q(null,A).fill(y,I):q(null,A).fill(y):q(null,A);return A};S.allocUnsafe=function(A){return Ma(null,A)};S.allocUnsafeSlow=function(A){return Ma(null,A)};S.isBuffer=function(A){return!(null==A||!A._isBuffer)};S.compare=function(A,y){if(!S.isBuffer(A)||!S.isBuffer(y))throw new TypeError("Arguments must be Buffers");if(A===y)return 0;for(var I=A.length,L=y.length,z=0,H=Math.min(I,L);z<H;++z)if(A[z]!==y[z]){I=A[z];L=y[z];break}return I<L?-1:L<I?1:0};S.isEncoding=function(A){switch(String(A).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};S.concat=function(A,y){if(!Ba(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return S.alloc(0);var I;if(void 0===y)for(I=y=0;I<A.length;++I)y+=A[I].length;y=S.allocUnsafe(y);var L=0;for(I=0;I<A.length;++I){var z=A[I];if(!S.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(y,L);L+=z.length}return y};S.byteLength=Ea;S.prototype._isBuffer=!0;S.prototype.swap16=function(){var A=this.length;if(0!==A%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var y=0;y<A;y+=2)db(this,y,y+1);return this};S.prototype.swap32=function(){var A=this.length;if(0!==A%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<A;y+=4)db(this,y,y+3),db(this,y+1,y+2);return this};S.prototype.swap64=function(){var A=this.length;if(0!==A%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<A;y+=8)db(this,y,y+7),db(this,y+1,y+6),db(this,y+2,y+5),db(this,y+3,y+4);return this};S.prototype.toString=function(){var A=
this.length|0;return 0===A?"":0===arguments.length?pa(this,0,A):$a.apply(this,arguments)};S.prototype.equals=function(A){if(!S.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:0===S.compare(this,A)};S.prototype.inspect=function(){var A="",y=ub.INSPECT_MAX_BYTES;0<this.length&&(A=this.toString("hex",0,y).match(/.{2}/g).join(" "),this.length>y&&(A+=" ... "));return"\x3cBuffer "+A+"\x3e"};S.prototype.compare=function(A,y,I,L,z){if(!S.isBuffer(A))throw new TypeError("Argument must be a Buffer");
void 0===y&&(y=0);void 0===I&&(I=A?A.length:0);void 0===L&&(L=0);void 0===z&&(z=this.length);if(0>y||I>A.length||0>L||z>this.length)throw new RangeError("out of range index");if(L>=z&&y>=I)return 0;if(L>=z)return-1;if(y>=I)return 1;y>>>=0;I>>>=0;L>>>=0;z>>>=0;if(this===A)return 0;var H=z-L,O=I-y,ma=Math.min(H,O);L=this.slice(L,z);A=A.slice(y,I);for(y=0;y<ma;++y)if(L[y]!==A[y]){H=L[y];O=A[y];break}return H<O?-1:O<H?1:0};S.prototype.includes=function(A,y,I){return-1!==this.indexOf(A,y,I)};S.prototype.indexOf=
function(A,y,I){return Ja(this,A,y,I,!0)};S.prototype.lastIndexOf=function(A,y,I){return Ja(this,A,y,I,!1)};S.prototype.write=function(A,y,I,L){if(void 0===y)L="utf8",I=this.length,y=0;else if(void 0===I&&"string"===typeof y)L=y,I=this.length,y=0;else if(isFinite(y))y|=0,isFinite(I)?(I|=0,void 0===L&&(L="utf8")):(L=I,I=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var z=this.length-y;if(void 0===I||I>z)I=z;if(0<A.length&&(0>I||0>y)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");
L||(L="utf8");for(z=!1;;)switch(L){case "hex":a:{y=Number(y)||0;L=this.length-y;I?(I=Number(I),I>L&&(I=L)):I=L;L=A.length;if(0!==L%2)throw new TypeError("Invalid hex string");I>L/2&&(I=L/2);for(L=0;L<I;++L){z=parseInt(A.substr(2*L,2),16);if(isNaN(z)){A=L;break a}this[y+L]=z}A=L}return A;case "utf8":case "utf-8":return sa(ja(A,this.length-y),this,y,I);case "ascii":return sa(wa(A),this,y,I);case "latin1":case "binary":return sa(wa(A),this,y,I);case "base64":return sa(qa.toByteArray(ya(A)),this,y,I);
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":L=A;z=this.length-y;for(var H=[],O=0;O<L.length&&!(0>(z-=2));++O){var ma=L.charCodeAt(O);A=ma>>8;ma%=256;H.push(ma);H.push(A)}return sa(H,this,y,I);default:if(z)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase();z=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Za=4096;S.prototype.slice=function(A,y){var I=this.length;A=~~A;y=void 0===y?I:~~y;0>A?(A+=I,0>A&&(A=0)):
A>I&&(A=I);0>y?(y+=I,0>y&&(y=0)):y>I&&(y=I);y<A&&(y=A);if(S.TYPED_ARRAY_SUPPORT)y=this.subarray(A,y),y.__proto__=S.prototype;else{I=y-A;y=new S(I,void 0);for(var L=0;L<I;++L)y[L]=this[L+A]}return y};S.prototype.readUIntLE=function(A,y,I){A|=0;y|=0;I||Ga(A,y,this.length);I=this[A];for(var L=1,z=0;++z<y&&(L*=256);)I+=this[A+z]*L;return I};S.prototype.readUIntBE=function(A,y,I){A|=0;y|=0;I||Ga(A,y,this.length);I=this[A+--y];for(var L=1;0<y&&(L*=256);)I+=this[A+--y]*L;return I};S.prototype.readUInt8=
function(A,y){y||Ga(A,1,this.length);return this[A]};S.prototype.readUInt16LE=function(A,y){y||Ga(A,2,this.length);return this[A]|this[A+1]<<8};S.prototype.readUInt16BE=function(A,y){y||Ga(A,2,this.length);return this[A]<<8|this[A+1]};S.prototype.readUInt32LE=function(A,y){y||Ga(A,4,this.length);return(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]};S.prototype.readUInt32BE=function(A,y){y||Ga(A,4,this.length);return 16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])};S.prototype.readIntLE=
function(A,y,I){A|=0;y|=0;I||Ga(A,y,this.length);I=this[A];for(var L=1,z=0;++z<y&&(L*=256);)I+=this[A+z]*L;I>=128*L&&(I-=Math.pow(2,8*y));return I};S.prototype.readIntBE=function(A,y,I){A|=0;y|=0;I||Ga(A,y,this.length);I=y;for(var L=1,z=this[A+--I];0<I&&(L*=256);)z+=this[A+--I]*L;z>=128*L&&(z-=Math.pow(2,8*y));return z};S.prototype.readInt8=function(A,y){y||Ga(A,1,this.length);return this[A]&128?-1*(255-this[A]+1):this[A]};S.prototype.readInt16LE=function(A,y){y||Ga(A,2,this.length);A=this[A]|this[A+
1]<<8;return A&32768?A|4294901760:A};S.prototype.readInt16BE=function(A,y){y||Ga(A,2,this.length);A=this[A+1]|this[A]<<8;return A&32768?A|4294901760:A};S.prototype.readInt32LE=function(A,y){y||Ga(A,4,this.length);return this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24};S.prototype.readInt32BE=function(A,y){y||Ga(A,4,this.length);return this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]};S.prototype.readFloatLE=function(A,y){y||Ga(A,4,this.length);return Fa.read(this,A,!0,23,4)};S.prototype.readFloatBE=
function(A,y){y||Ga(A,4,this.length);return Fa.read(this,A,!1,23,4)};S.prototype.readDoubleLE=function(A,y){y||Ga(A,8,this.length);return Fa.read(this,A,!0,52,8)};S.prototype.readDoubleBE=function(A,y){y||Ga(A,8,this.length);return Fa.read(this,A,!1,52,8)};S.prototype.writeUIntLE=function(A,y,I,L){A=+A;y|=0;I|=0;L||Wa(this,A,y,I,Math.pow(2,8*I)-1,0);L=1;var z=0;for(this[y]=A&255;++z<I&&(L*=256);)this[y+z]=A/L&255;return y+I};S.prototype.writeUIntBE=function(A,y,I,L){A=+A;y|=0;I|=0;L||Wa(this,A,y,
I,Math.pow(2,8*I)-1,0);L=I-1;var z=1;for(this[y+L]=A&255;0<=--L&&(z*=256);)this[y+L]=A/z&255;return y+I};S.prototype.writeUInt8=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,1,255,0);S.TYPED_ARRAY_SUPPORT||(A=Math.floor(A));this[y]=A&255;return y+1};S.prototype.writeUInt16LE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,2,65535,0);S.TYPED_ARRAY_SUPPORT?(this[y]=A&255,this[y+1]=A>>>8):la(this,A,y,!0);return y+2};S.prototype.writeUInt16BE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,2,65535,0);S.TYPED_ARRAY_SUPPORT?
(this[y]=A>>>8,this[y+1]=A&255):la(this,A,y,!1);return y+2};S.prototype.writeUInt32LE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,4,4294967295,0);S.TYPED_ARRAY_SUPPORT?(this[y+3]=A>>>24,this[y+2]=A>>>16,this[y+1]=A>>>8,this[y]=A&255):aa(this,A,y,!0);return y+4};S.prototype.writeUInt32BE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,4,4294967295,0);S.TYPED_ARRAY_SUPPORT?(this[y]=A>>>24,this[y+1]=A>>>16,this[y+2]=A>>>8,this[y+3]=A&255):aa(this,A,y,!1);return y+4};S.prototype.writeIntLE=function(A,y,I,L){A=
+A;y|=0;L||(L=Math.pow(2,8*I-1),Wa(this,A,y,I,L-1,-L));L=0;var z=1,H=0;for(this[y]=A&255;++L<I&&(z*=256);)0>A&&0===H&&0!==this[y+L-1]&&(H=1),this[y+L]=(A/z>>0)-H&255;return y+I};S.prototype.writeIntBE=function(A,y,I,L){A=+A;y|=0;L||(L=Math.pow(2,8*I-1),Wa(this,A,y,I,L-1,-L));L=I-1;var z=1,H=0;for(this[y+L]=A&255;0<=--L&&(z*=256);)0>A&&0===H&&0!==this[y+L+1]&&(H=1),this[y+L]=(A/z>>0)-H&255;return y+I};S.prototype.writeInt8=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,1,127,-128);S.TYPED_ARRAY_SUPPORT||
(A=Math.floor(A));0>A&&(A=255+A+1);this[y]=A&255;return y+1};S.prototype.writeInt16LE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,2,32767,-32768);S.TYPED_ARRAY_SUPPORT?(this[y]=A&255,this[y+1]=A>>>8):la(this,A,y,!0);return y+2};S.prototype.writeInt16BE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,2,32767,-32768);S.TYPED_ARRAY_SUPPORT?(this[y]=A>>>8,this[y+1]=A&255):la(this,A,y,!1);return y+2};S.prototype.writeInt32LE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,4,2147483647,-2147483648);S.TYPED_ARRAY_SUPPORT?
(this[y]=A&255,this[y+1]=A>>>8,this[y+2]=A>>>16,this[y+3]=A>>>24):aa(this,A,y,!0);return y+4};S.prototype.writeInt32BE=function(A,y,I){A=+A;y|=0;I||Wa(this,A,y,4,2147483647,-2147483648);0>A&&(A=4294967295+A+1);S.TYPED_ARRAY_SUPPORT?(this[y]=A>>>24,this[y+1]=A>>>16,this[y+2]=A>>>8,this[y+3]=A&255):aa(this,A,y,!1);return y+4};S.prototype.writeFloatLE=function(A,y,I){return xa(this,A,y,!0,I)};S.prototype.writeFloatBE=function(A,y,I){return xa(this,A,y,!1,I)};S.prototype.writeDoubleLE=function(A,y,I){return Oa(this,
A,y,!0,I)};S.prototype.writeDoubleBE=function(A,y,I){return Oa(this,A,y,!1,I)};S.prototype.copy=function(A,y,I,L){I||(I=0);L||0===L||(L=this.length);y>=A.length&&(y=A.length);y||(y=0);0<L&&L<I&&(L=I);if(L===I||0===A.length||0===this.length)return 0;if(0>y)throw new RangeError("targetStart out of bounds");if(0>I||I>=this.length)throw new RangeError("sourceStart out of bounds");if(0>L)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length);A.length-y<L-I&&(L=A.length-y+I);var z=
L-I;if(this===A&&I<y&&y<L)for(L=z-1;0<=L;--L)A[L+y]=this[L+I];else if(1E3>z||!S.TYPED_ARRAY_SUPPORT)for(L=0;L<z;++L)A[L+y]=this[L+I];else Uint8Array.prototype.set.call(A,this.subarray(I,I+z),y);return z};S.prototype.fill=function(A,y,I,L){if("string"===typeof A){"string"===typeof y?(L=y,y=0,I=this.length):"string"===typeof I&&(L=I,I=this.length);if(1===A.length){var z=A.charCodeAt(0);256>z&&(A=z)}if(void 0!==L&&"string"!==typeof L)throw new TypeError("encoding must be a string");if("string"===typeof L&&
!S.isEncoding(L))throw new TypeError("Unknown encoding: "+L);}else"number"===typeof A&&(A&=255);if(0>y||this.length<y||this.length<I)throw new RangeError("Out of range index");if(I<=y)return this;y>>>=0;I=void 0===I?this.length:I>>>0;A||(A=0);if("number"===typeof A)for(L=y;L<I;++L)this[L]=A;else for(A=S.isBuffer(A)?A:ja((new S(A,L)).toString()),z=A.length,L=0;L<I-y;++L)this[L+y]=A[L%z];return this};var jb=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[11]=function(Kb,sb,hc,ub){var n=sb(10).Buffer;!function(q,S){"object"==typeof ub&&"undefined"!=typeof hc?S(ub,sb(0),sb(6)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],S):S((q="undefined"!=typeof globalThis?globalThis:q||self).vega={},q.vega,q.vega)}(this,function(q,S,Pa){function Hb(E,ha){var Y=this,V,w;return $jscomp.asyncExecutePromiseGeneratorProgram(function(F){if(1==F.nextAddress)return F.yield(Y.sanitize(E,ha),2);V=F.yieldResult;w=V.href;
return F.return(V.localFile?Y.file(w):Y.http(w,ha))})}function Ma(E,ha){var Y=this,V,w,F,h,k,m,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(v){ha=S.extend({},Y.options,ha);V=Y.fileAccess;w={href:null};m=jb.test(E.replace(A,""));null!=E&&"string"==typeof E&&m||S.error("Sanitize failure, invalid URI: "+S.stringValue(E));r=Za.test(E);return v.return(((k=ha.baseURL)&&!r&&(E.startsWith("/")||"/"===k[k.length-1]||(E="/"+E),E=k+E),h=(F=E.startsWith("file://"))||"file"===ha.mode||"http"!==
ha.mode&&!r&&V,F?E=E.slice(7):E.startsWith("//")&&("file"===ha.defaultProtocol?(E=E.slice(2),h=!0):E=(ha.defaultProtocol||"http")+":"+E),Object.defineProperty(w,"localFile",{value:!!h}),w.href=E,ha.target&&(w.target=ha.target+""),ha.rel&&(w.rel=ha.rel+""),"image"===ha.context&&ha.crossOrigin&&(w.crossOrigin=ha.crossOrigin+""),w))})}function cb(E){return E?function(ha){return new Promise(function(Y,V){E.readFile(ha,function(w,F){w?V(w):Y(F)})})}:Eb}function Eb(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(E){S.error("No file system access.");
E.jumpToEnd()})}function qb(E){return E?function(ha,Y){var V=this,w,F,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return w=S.extend({},V.options.http,Y),F=Y&&Y.response,k.yield(E(ha,w),2);h=k.yieldResult;return k.return(h.ok?S.isFunction(h[F])?h[F]():h.text():S.error(h.status+""+h.statusText))})}:Ea}function Ea(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(E){S.error("No HTTP fetch method available.");E.jumpToEnd()})}function $a(E,ha){if(!E||
!E.length)return"unknown";for(var Y=E.length,V=L.length,w=L.map(function(v,J){return J+1}),F=void 0,h=void 0,k=0,m=0;k<Y;++k)for(h=ha?E[k][ha]:E[k],F=0;F<V;++F)if(w[F]&&null!=(r=h)&&r==r&&!L[F](h)&&(w[F]=0,++m,m===L.length))return"string";var r;return z[w.reduce(function(v,J){return 0===v?J:v},0)-1]}function db(E,ha){return ha.reduce(function(Y,V){return Y[V]=$a(E,V),Y},{})}function Ja(E){return new Function("d","return {"+E.map(function(ha,Y){return JSON.stringify(ha)+": d["+Y+'] || ""'}).join(",")+
"}")}function ea(E){var ha=Object.create(null),Y=[];return E.forEach(function(V){for(var w in V)w in ha||Y.push(ha[w]=w)}),Y}function pa(E,ha){E+="";var Y=E.length;return Y<ha?Array(ha-Y+1).join(0)+E:E}function Ga(E){function ha(k,m){function r(){if(fb)return O;if(eb)return eb=!1,H;var Ka,Z,ra=ka;if(34===k.charCodeAt(ra)){for(;ka++<ba&&34!==k.charCodeAt(ka)||34===k.charCodeAt(++ka););return(Ka=ka)>=ba?fb=!0:10===(Z=k.charCodeAt(ka++))?eb=!0:13===Z&&(eb=!0,10===k.charCodeAt(ka)&&++ka),k.slice(ra+1,
Ka-1).replace(/""/g,'"')}for(;ka<ba;){if(10===(Z=k.charCodeAt(Ka=ka++)))eb=!0;else if(13===Z)eb=!0,10===k.charCodeAt(ka)&&++ka;else if(Z!==h)continue;return k.slice(ra,Ka)}return fb=!0,k.slice(ra,ba)}var v,J=[],ba=k.length,ka=0,ua=0,fb=0>=ba,eb=!1;10===k.charCodeAt(ba-1)&&--ba;for(13===k.charCodeAt(ba-1)&&--ba;(v=r())!==O;){for(var Ca=[];v!==H&&v!==O;)Ca.push(v),v=r();m&&null==(Ca=m(Ca,ua++))||J.push(Ca)}return J}function Y(k,m){return k.map(function(r){return m.map(function(v){return w(r[v])}).join(E)})}
function V(k){return k.map(w).join(E)}function w(k){if(null==k)var m="";else{if(k instanceof Date){var r=k.getUTCHours();var v=k.getUTCMinutes(),J=k.getUTCSeconds(),ba=k.getUTCMilliseconds();r=isNaN(k)?"Invalid Date":(0>(m=k.getUTCFullYear())?"-"+pa(-m,6):9999<m?"+"+pa(m,6):pa(m,4))+"-"+pa(k.getUTCMonth()+1,2)+"-"+pa(k.getUTCDate(),2)+(ba?"T"+pa(r,2)+":"+pa(v,2)+":"+pa(J,2)+"."+pa(ba,3)+"Z":J?"T"+pa(r,2)+":"+pa(v,2)+":"+pa(J,2)+"Z":v||r?"T"+pa(r,2)+":"+pa(v,2)+"Z":"")}else r=F.test(k+="")?'"'+k.replace(/"/g,
'""')+'"':k;m=r}return m}var F=new RegExp('["'+E+"\n\r]"),h=E.charCodeAt(0);return{parse:function(k,m){var r,v;k=ha(k,function(J,ba){if(r)return r(J,ba-1);v=J;r=m?function(ka,ua){var fb=Ja(ka);return function(eb,Ca){return ua(fb(eb),Ca,ka)}}(J,m):Ja(J)});return k.columns=v||[],k},parseRows:ha,format:function(k,m){return null==m&&(m=ea(k)),[m.map(w).join(E)].concat(Y(k,m)).join("\n")},formatBody:function(k,m){return null==m&&(m=ea(k)),Y(k,m).join("\n")},formatRows:function(k){return k.map(V).join("\n")},
formatRow:V,formatValue:w}}function Wa(E){var ha=function(Y,V){var w={delimiter:E};return la(Y,V?S.extend(V,w):w)};return ha.responseType="text",ha}function la(E,ha){return ha.header&&(E=ha.header.map(S.stringValue).join(ha.delimiter)+"\n"+E),Ga(ha.delimiter).parse(E+"")}function aa(E,ha){var Y=ha&&ha.property?S.field(ha.property):S.identity;!S.isObject(E)||(V=E,"function"==typeof n&&S.isFunction(n.isBuffer)&&n.isBuffer(V))?ha=Y(JSON.parse(E)):(E=Y(E),!S.isArray(E)&&S.isIterable(E)&&(E=[].concat($jscomp.arrayFromIterable(E))),
ha=ha&&ha.copy?JSON.parse(JSON.stringify(E)):E);return ha;var V}function Qa(E){return E}function xa(E,ha){return"string"==typeof ha&&(ha=E.objects[ha]),"GeometryCollection"===ha.type?{type:"FeatureCollection",features:ha.geometries.map(function(Y){return Oa(E,Y)})}:Oa(E,ha)}function Oa(E,ha){var Y=ha.id,V=ha.bbox,w=null==ha.properties?{}:ha.properties;E=ya(E,ha);return null==Y&&null==V?{type:"Feature",properties:w,geometry:E}:null==V?{type:"Feature",id:Y,properties:w,geometry:E}:{type:"Feature",id:Y,
bbox:V,properties:w,geometry:E}}function ya(E,ha){function Y(m){return h(m)}function V(m){for(var r=[],v=0,J=m.length;v<J;++v){var ba,ka=m[v],ua=r;ua.length&&ua.pop();var fb=k[0>ka?~ka:ka],eb=0;for(ba=fb.length;eb<ba;++eb)ua.push(h(fb[eb],eb));if(0>ka)for(ka=ua.length,fb=ka-ba;fb<--ka;)ba=ua[fb],ua[fb++]=ua[ka],ua[ka]=ba}return 2>r.length&&r.push(r[0]),r}function w(m){for(m=V(m);4>m.length;)m.push(m[0]);return m}function F(m){return m.map(w)}var h=function(m){if(null==m)return Qa;var r,v,J=m.scale[0],
ba=m.scale[1],ka=m.translate[0],ua=m.translate[1];return function(fb,eb){eb||(r=v=0);eb=2;var Ca=fb.length,Ka=Array(Ca);Ka[0]=(r+=fb[0])*J+ka;for(Ka[1]=(v+=fb[1])*ba+ua;eb<Ca;)Ka[eb]=fb[eb],++eb;return Ka}}(E.transform),k=E.arcs;return function v(r){var J=r.type;switch(J){case "GeometryCollection":return{type:J,geometries:r.geometries.map(v)};case "Point":r=h(r.coordinates);break;case "MultiPoint":r=r.coordinates.map(Y);break;case "LineString":r=V(r.arcs);break;case "MultiLineString":r=r.arcs.map(V);
break;case "Polygon":r=F(r.arcs);break;case "MultiPolygon":r=r.arcs.map(F);break;default:return null}return{type:J,coordinates:r}}(ha)}function ja(E,ha){function Y(m,r){for(var v in m){var J=m[v];delete r[J.start];delete J.start;delete J.end;J.forEach(function(ba){V[0>ba?~ba:ba]=1});h.push(J)}}var V={},w={},F={},h=[],k=-1;return ha.forEach(function(m,r){var v,J=E.arcs[0>m?~m:m];3>J.length&&!J[1][0]&&!J[1][1]&&(v=ha[++k],ha[k]=m,ha[r]=v)}),ha.forEach(function(m){var r=function(ba){var ka,ua=E.arcs[0>
ba?~ba:ba],fb=ua[0];E.transform?(ka=[0,0],ua.forEach(function(eb){ka[0]+=eb[0];ka[1]+=eb[1]})):ka=ua[ua.length-1];return 0>ba?[ka,fb]:[fb,ka]}(m);var v=r[0],J=r[1];(r=F[v])?(delete F[r.end],r.push(m),r.end=J,m=w[J])?(delete w[m.start],v=m===r?r:r.concat(m),w[v.start=r.start]=F[v.end=m.end]=v):w[r.start]=F[r.end]=r:(r=w[J])?(delete w[r.start],r.unshift(m),r.start=v,m=F[v])?(delete F[m.end],v=m===r?r:m.concat(r),w[v.start=m.start]=F[v.end=r.end]=v):w[r.start]=F[r.end]=r:w[(r=[m]).start=v]=F[r.end=J]=
r}),Y(F,w),Y(w,F),ha.forEach(function(m){V[0>m?~m:m]||h.push([m])}),h}function wa(E){return ya(E,sa.apply(this,arguments))}function sa(E,ha,Y){var V;if(1<arguments.length)var w=qa(E,ha,Y);else{var F=0;for(w=Array(V=E.arcs.length);F<V;++F)w[F]=F}return{type:"MultiLineString",arcs:ja(E,w)}}function qa(E,ha,Y){function V(r){var v=0>r?~r:r;(m[v]||(m[v]=[])).push({i:r,g:h})}function w(r){r.forEach(V)}function F(r){r.forEach(w)}var h,k=[],m=[];return function J(v){switch(h=v,v.type){case "GeometryCollection":v.geometries.forEach(J);
break;case "LineString":w(v.arcs);break;case "MultiLineString":case "Polygon":F(v.arcs);break;case "MultiPolygon":v.arcs.forEach(F),!0}}(ha),m.forEach(null==Y?function(v){k.push(v[0].i)}:function(v){Y(v[0].g,v[v.length-1].g)&&k.push(v[0].i)}),k}function Fa(E,ha){var Y,V,w,F;return E=aa(E,ha),ha&&ha.feature?(Y=xa,w=ha.feature):ha&&ha.mesh?(Y=wa,w=ha.mesh,F=ma[ha.filter]):S.error("Missing TopoJSON feature or mesh parameter."),V=(V=E.objects[w])?Y(E,V,F):S.error("Invalid TopoJSON object: "+w),V&&V.features||
[V]}function Ba(E,ha){return 1<arguments.length?(Ia[E]=ha,this):S.hasOwnProperty(Ia,E)?Ia[E]:null}var Za=/^([A-Za-z]+:)?\/\//,jb=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,A=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,y=function(E){return!(Number.isNaN(+E)||E instanceof Date)},I={boolean:S.toBoolean,integer:S.toNumber,number:S.toNumber,date:S.toDate,string:S.toString,unknown:S.identity},L=[function(E){return"true"===E||"false"===
E||!0===E||!1===E},function(E){return y(E)&&Number.isInteger(+E)},y,function(E){return!Number.isNaN(Date.parse(E))}],z=["boolean","integer","number","date"],H={},O={};la.responseType="text";aa.responseType="json";var ma={interior:function(E,ha){return E!==ha},exterior:function(E,ha){return E===ha}};Fa.responseType="json";var Ia={dsv:la,csv:Wa(","),tsv:Wa("\t"),json:aa,topojson:Fa},Sa=function(E,ha){return function(Y){return{options:Y||{},sanitize:Ma,load:Hb,fileAccess:!!ha,file:cb(ha),http:qb(E)}}}("undefined"!=
typeof fetch&&fetch,null);q.format=Ia;q.formats=Ba;q.inferType=$a;q.inferTypes=db;q.loader=Sa;q.read=function(E,ha,Y,V){var w=Ba((ha=ha||{}).type||"json");return w||S.error("Unknown data format type: "+ha.type),E=w(E,ha),ha.parse&&function(F,h,k,m){if(F.length){var r=Pa.timeFormatDefaultLocale();k=k||r.timeParse;m=m||r.utcParse;var v,J,ba=F.columns||Object.keys(F[0]);"auto"===h&&(h=db(F,ba));ba=Object.keys(h);var ka=ba.map(function(Ca){var Ka=h[Ca];if(Ka&&(Ka.startsWith("date:")||Ka.startsWith("utc:")))return Ca=
Ka.split(/:(.+)?/,2),Ka=Ca[1],("'"===Ka[0]&&"'"===Ka[Ka.length-1]||'"'===Ka[0]&&'"'===Ka[Ka.length-1])&&(Ka=Ka.slice(1,-1)),("utc"===Ca[0]?m:k)(Ka);if(!I[Ka])throw Error("Illegal format pattern: "+Ca+":"+Ka);return I[Ka]});var ua=0;var fb=F.length;for(J=ba.length;ua<fb;++ua)for(r=F[ua],v=0;v<J;++v){var eb=ba[v];r[eb]=ka[v](r[eb])}}}(E,ha.parse,Y,V),S.hasOwnProperty(E,"columns")&&delete E.columns,E};q.responseType=function(E){return(E=Ba(E))&&E.responseType||"text"};q.typeParsers=I;Object.defineProperty(q,
"__esModule",{value:!0})})};
shadow$provide[12]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(11),sb(6)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Hb(E){var ha=E||q.identity,Y=[],V={};Y.add=function(w){var F=ha(w);V[F]||(V[F]=1,Y.push(w));return Y};Y.remove=function(w){var F=ha(w);V[F]&&(V[F]=0,
w=Y.indexOf(w),0<=w&&Y.splice(w,1));return Y};return Y}function Ma(E,ha){var Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(V){if(1==V.nextAddress)return V.setCatchFinallyBlocks(2),V.yield(ha(E),4);if(2!=V.nextAddress)return V.leaveTryBlock(0);Y=V.enterCatchBlock();E.error(Y);V.jumpToEnd()})}function cb(E){E=E===Object(E)?E:{data:E};if(!E[y]){var ha=I++;E[y]=ha}return E}function Eb(E,ha){for(var Y in E)ha[Y]=E[Y];return ha}function qb(E){return E&&E.constructor===Ea}function Ea(){var E=
[],ha=[],Y=[],V=[],w=[],F=null,h=!1;return{constructor:Ea,insert:function(k){k=q.array(k);for(var m=k.length,r=0;r<m;++r)E.push(k[r]);return this},remove:function(k){var m=q.isFunction(k)?V:ha;k=q.array(k);for(var r=k.length,v=0;v<r;++v)m.push(k[v]);return this},modify:function(k,m,r){m={field:m,value:q.constant(r)};q.isFunction(k)?(m.filter=k,w.push(m)):(m.tuple=k,Y.push(m));return this},encode:function(k,m){q.isFunction(k)?w.push({filter:k,field:m}):Y.push({tuple:k,field:m});return this},clean:function(k){F=
k;return this},reflow:function(){h=!0;return this},pulse:function(k,m){function r(Ka,Z,ra){ra?Ka[Z]=ra(Ka):k.encode=Z;h||(J[Ka[y]]=Ka)}var v={},J={},ba;var ka=0;for(ba=m.length;ka<ba;++ka)v[m[ka][y]]=1;ka=0;for(ba=ha.length;ka<ba;++ka){var ua=ha[ka];v[ua[y]]=-1}ka=0;for(ba=V.length;ka<ba;++ka){var fb=V[ka];m.forEach(function(Ka){fb(Ka)&&(v[Ka[y]]=-1)})}ka=0;for(ba=E.length;ka<ba;++ka){ua=E[ka];var eb=ua[y];v[eb]?v[eb]=1:k.add.push(cb(E[ka]))}ka=0;for(ba=m.length;ka<ba;++ka)ua=m[ka],0>v[ua[y]]&&k.rem.push(ua);
ka=0;for(ba=Y.length;ka<ba;++ka){var Ca=Y[ka];ua=Ca.tuple;fb=Ca.field;eb=v[ua[y]];0<eb&&(r(ua,fb,Ca.value),k.modifies(fb))}ka=0;for(ba=w.length;ka<ba;++ka)Ca=w[ka],fb=Ca.filter,m.forEach(function(Ka){fb(Ka)&&0<v[Ka[y]]&&r(Ka,Ca.field,Ca.value)}),k.modifies(Ca.field);if(h)k.mod=ha.length||V.length?m.filter(function(Ka){return 0<v[Ka[y]]}):m.slice();else for(eb in J)k.mod.push(J[eb]);(F||null==F&&(ha.length||V.length))&&k.clean(!0);return k}}}function $a(){Object.defineProperty(this,"_:mod:_",{writable:!0,
value:{}})}function db(E,ha,Y,V){this.id=++L;this.value=E;this.qrank=this.rank=this.stamp=-1;this.flags=0;ha&&(this._update=ha);Y&&this.parameters(Y,V)}function Ja(E){return function(ha){var Y=this.flags;if(0===arguments.length)return!!(Y&E);this.flags=ha?Y|E:Y&~E;return this}}function ea(E,ha,Y){this.id=++H;this.value=null;Y&&(this.receive=Y);E&&(this._filter=E);ha&&(this._apply=ha)}function pa(E,ha,Y){return new ea(E,ha,Y)}function Ga(E){var ha,Y=new Promise(function(V){return ha=V});Y.requests=
0;Y.done=function(){0===--Y.requests&&(E._pending=null,ha(E))};return E._pending=Y}function Wa(E,ha,Y,V,w,F){var h=q.extend({},F,O);q.isFunction(Y)||(Y=q.constant(Y));if(void 0===V)w=function(m){return E.touch(Y(m))};else if(q.isFunction(V)){var k=new db(null,V,w,!1);w=function(m){k.evaluate(m);m=Y(m);var r=k.value;qb(r)?E.pulse(m,r,F):E.update(m,r,h)}}else w=function(m){return E.update(Y(m),V,h)};ha.apply(w)}function la(E,ha,Y,V,w,F){void 0===V?ha.targets().add(Y):(F=F||{},V=new db(null,aa(Y,V),
w,!1),V.modified(F.force),V.rank=ha.rank,ha.targets().add(V),Y&&(V.skip(!0),V.value=Y.value,V.targets().add(Y),E.connect(Y,[V])))}function aa(E,ha){ha=q.isFunction(ha)?ha:q.constant(ha);return E?function(Y,V){Y=ha(Y,V);E.skip()||(E.skip(Y!==this.value).value=Y);return Y}:ha}function Qa(E,ha,Y){this.dataflow=E;this.stamp=null==ha?-1:ha;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Y||null}function xa(E,ha){var Y=[];q.visitArray(E,ha,function(V){return Y.push(V)});return Y}function Oa(E,
ha){var Y={};E.visit(ha,function(V){Y[V[y]]=1});return function(V){return Y[V[y]]?null:V}}function ya(E,ha){return E?function(Y,V){return E(Y,V)&&ha(Y,V)}:ha}function ja(E,ha,Y,V){var w=Y.length,F=0;this.dataflow=E;this.stamp=ha;this.fields=null;this.encode=V||null;this.pulses=Y;for(E=0;E<w;++E)if(V=Y[E],V.stamp===ha){if(V.fields){var h=this.fields||(this.fields={}),k;for(k in V.fields)h[k]=1}V.changed(this.ADD)&&(F|=this.ADD);V.changed(this.REM)&&(F|=this.REM);V.changed(this.MOD)&&(F|=this.MOD)}this.changes=
F}function wa(E){E.error("Dataflow already running. Use runAsync() to chain invocations.");return E}function sa(E,ha){if(ha&&ha.stamp===E.stamp)return ha;E=E.fork();ha&&ha!==ma&&(E.source=ha.source);return E}function qa(E){var ha=[];return{clear:function(){return ha=[]},size:function(){return ha.length},peek:function(){return ha[0]},push:function(Y){ha.push(Y);return Fa(ha,0,ha.length-1,E)},pop:function(){var Y=ha.pop();if(ha.length){var V=ha[0];ha[0]=Y;Y=ha;for(var w=0,F=w,h=Y.length,k=Y[w],m=(w<<
1)+1,r;m<h;)r=m+1,r<h&&0<=E(Y[m],Y[r])&&(m=r),Y[w]=Y[m],w=m,m=(w<<1)+1;Y[w]=k;Fa(Y,F,w,E)}else V=Y;return V}}}function Fa(E,ha,Y,V){for(var w,F,h=E[Y];Y>ha;)if(F=Y-1>>1,w=E[F],0>V(h,w))E[Y]=w,Y=F;else break;return E[Y]=h}function Ba(){this.logger(q.logger());this.logLevel(q.Error);this._rank=this._clock=0;this._locale=Pa.defaultLocale();try{this._loader=S.loader()}catch(E){}this._touched=Hb(q.id);this._input={};this._pulse=null;this._heap=qa(function(E,ha){return E.qrank-ha.qrank});this._postrun=
[]}function Za(E){return function(){return this._log[E].apply(this,arguments)}}function jb(E,ha){db.call(this,E,null,ha)}function A(E){E=E&&E.toLowerCase();return q.hasOwnProperty(Sa,E)?Sa[E]:null}var y=Symbol("vega_id"),I=1;$a.prototype={set:function(E,ha,Y,V){var w=this[E],F=this["_:mod:_"];if(null!=ha&&0<=ha){if(w[ha]!==Y||V)w[ha]=Y,F[ha+":"+E]=-1,F[E]=-1}else if(w!==Y||V)this[E]=Y,F[E]=q.isArray(Y)?1+Y.length:-1;return this},modified:function(E,ha){var Y=this["_:mod:_"];if(!arguments.length){for(var V in Y)if(Y[V])return!0;
return!1}if(q.isArray(E)){for(V=0;V<E.length;++V)if(Y[E[V]])return!0;return!1}return null!=ha&&0<=ha?ha+1<Y[E]||!!Y[ha+":"+E]:!!Y[E]},clear:function(){this["_:mod:_"]={};return this}};var L=0,z=new $a;db.prototype={targets:function(){return this._targets||(this._targets=Hb(q.id))},set:function(E){return this.value!==E?(this.value=E,1):0},skip:Ja(1),modified:Ja(2),parameters:function(E,ha,Y){var V=this;ha=!1!==ha;var w=this._argval=this._argval||new $a,F=this._argops=this._argops||[],h=[],k,m,r,v=
function(ba,ka,ua){ua instanceof db?(ua!==V&&(ha&&ua.targets().add(V),h.push(ua)),F.push({op:ua,name:ba,index:ka})):w.set(ba,ka,ua)};for(k in E){var J=E[k];if("pulse"===k)q.array(J).forEach(function(ba){ba instanceof db?ba!==V&&(ba.targets().add(V),h.push(ba)):q.error("Pulse parameters must be operator instances.")}),this.source=J;else if(q.isArray(J))for(w.set(k,-1,Array(m=J.length)),r=0;r<m;++r)v(k,r,J[r]);else v(k,-1,J)}this.marshall().clear();Y&&(F.initonly=!0);return h},marshall:function(E){var ha=
this._argval||z,Y=this._argops,V;if(Y){var w=Y.length;for(V=0;V<w;++V){var F=Y[V];var h=F.op;var k=h.modified()&&h.stamp===E;ha.set(F.name,F.index,h.value,k)}if(Y.initonly){for(V=0;V<w;++V)F=Y[V],F.op.targets().remove(this);this._update=this._argops=null}}return ha},detach:function(){var E=this._argops,ha;if(E){var Y=0;for(ha=E.length;Y<ha;++Y){var V=E[Y];V=V.op;V._targets&&V._targets.remove(this)}}},evaluate:function(E){var ha=this._update;if(ha){var Y=this.marshall(E.stamp);ha=ha.call(this,Y,E);
Y.clear();if(ha!==this.value)this.value=ha;else if(!this.modified())return E.StopPropagation}},run:function(E){if(E.stamp<this.stamp)return E.StopPropagation;if(this.skip()){this.skip(!1);var ha=0}else ha=this.evaluate(E);return this.pulse=ha||E}};var H=0;ea.prototype={_filter:q.truthy,_apply:q.identity,targets:function(){return this._targets||(this._targets=Hb(q.id))},consume:function(E){if(!arguments.length)return!!this._consume;this._consume=!!E;return this},receive:function(E){if(this._filter(E)){for(var ha=
this.value=this._apply(E),Y=this._targets,V=Y?Y.length:0,w=0;w<V;++w)Y[w].receive(ha);this._consume&&(E.preventDefault(),E.stopPropagation())}},filter:function(E){E=pa(E);this.targets().add(E);return E},apply:function(E){E=pa(null,E);this.targets().add(E);return E},merge:function(){var E=pa();this.targets().add(E);for(var ha=0,Y=arguments.length;ha<Y;++ha)arguments[ha].targets().add(E);return E},throttle:function(E){var ha=-1;return this.filter(function(){var Y=Date.now();return Y-ha>E?(ha=Y,1):0})},
debounce:function(E){var ha=pa();this.targets().add(pa(null,null,q.debounce(E,function(Y){var V=Y.dataflow;ha.receive(Y);V&&V.run&&V.run()})));return ha},between:function(E,ha){var Y=!1;E.targets().add(pa(null,null,function(){return Y=!0}));ha.targets().add(pa(null,null,function(){return Y=!1}));return this.filter(function(){return Y})},detach:function(){}};var O={skip:!0},ma={};Qa.prototype={StopPropagation:ma,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,
fork:function(E){return(new Qa(this.dataflow)).init(this,E)},clone:function(){var E=this.fork(7);E.add=E.add.slice();E.rem=E.rem.slice();E.mod=E.mod.slice();E.source&&(E.source=E.source.slice());return E.materialize(23)},addAll:function(){var E=this;E.source&&E.add!==E.rem&&(E.rem.length||E.source.length!==E.add.length)&&(E=(new Qa(this.dataflow)).init(this),E.add=E.source,E.rem=[]);return E},init:function(E,ha){this.stamp=E.stamp;this.encode=E.encode;!E.fields||ha&64||(this.fields=E.fields);ha&1?
(this.addF=E.addF,this.add=E.add):(this.addF=null,this.add=[]);ha&2?(this.remF=E.remF,this.rem=E.rem):(this.remF=null,this.rem=[]);ha&4?(this.modF=E.modF,this.mod=E.mod):(this.modF=null,this.mod=[]);ha&32?this.source=this.srcF=null:(this.srcF=E.srcF,this.source=E.source,E.cleans&&(this.cleans=E.cleans));return this},runAfter:function(E){this.dataflow.runAfter(E)},changed:function(E){E=E||7;return E&1&&this.add.length||E&2&&this.rem.length||E&4&&this.mod.length},reflow:function(E){if(E)return this.fork(7).reflow();
E=this.add.length;var ha=this.source&&this.source.length;ha&&ha!==E&&(this.mod=this.source,E&&this.filter(4,Oa(this,1)));return this},clean:function(E){return arguments.length?(this.cleans=!!E,this):this.cleans},modifies:function(E){var ha=this.fields||(this.fields={});q.isArray(E)?E.forEach(function(Y){return ha[Y]=!0}):ha[E]=!0;return this},modified:function(E,ha){var Y=this.fields;return(ha||this.mod.length)&&Y?arguments.length?q.isArray(E)?E.some(function(V){return Y[V]}):Y[E]:!!Y:!1},filter:function(E,
ha){E&1&&(this.addF=ya(this.addF,ha));E&2&&(this.remF=ya(this.remF,ha));E&4&&(this.modF=ya(this.modF,ha));E&16&&(this.srcF=ya(this.srcF,ha));return this},materialize:function(E){E=E||7;E&1&&this.addF&&(this.add=xa(this.add,this.addF),this.addF=null);E&2&&this.remF&&(this.rem=xa(this.rem,this.remF),this.remF=null);E&4&&this.modF&&(this.mod=xa(this.mod,this.modF),this.modF=null);E&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit:function(E,ha){if(E&16)return q.visitArray(this.source,
this.srcF,ha),this;E&1&&q.visitArray(this.add,this.addF,ha);E&2&&q.visitArray(this.rem,this.remF,ha);E&4&&q.visitArray(this.mod,this.modF,ha);var Y=this.source;E&8&&Y&&(E=this.add.length+this.mod.length,E!==Y.length&&(E?q.visitArray(Y,Oa(this,5),ha):q.visitArray(Y,this.srcF,ha)));return this}};q.inherits(ja,Qa,{fork:function(E){var ha=(new Qa(this.dataflow)).init(this,E&this.NO_FIELDS);void 0!==E&&(E&ha.ADD&&this.visit(ha.ADD,function(Y){return ha.add.push(Y)}),E&ha.REM&&this.visit(ha.REM,function(Y){return ha.rem.push(Y)}),
E&ha.MOD&&this.visit(ha.MOD,function(Y){return ha.mod.push(Y)}));return ha},changed:function(E){return this.changes&E},modified:function(E){var ha=this.fields;return ha&&this.changes&this.MOD?q.isArray(E)?E.some(function(Y){return ha[Y]}):ha[E]:0},filter:function(){q.error("MultiPulse does not support filtering.")},materialize:function(){q.error("MultiPulse does not support materialization.")},visit:function(E,ha){var Y=this.pulses,V=Y.length,w=0;if(E&this.SOURCE)for(;w<V;++w)Y[w].visit(E,ha);else for(;w<
V;++w)Y[w].stamp===this.stamp&&Y[w].visit(E,ha);return this}});var Ia={skip:!1,force:!1};Ba.prototype={stamp:function(){return this._clock},loader:function(E){return arguments.length?(this._loader=E,this):this._loader},locale:function(E){return arguments.length?(this._locale=E,this):this._locale},logger:function(E){return arguments.length?(this._log=E,this):this._log},error:Za("error"),warn:Za("warn"),info:Za("info"),debug:Za("debug"),logLevel:Za("level"),cleanThreshold:1E4,add:function(E,ha,Y,V){var w=
1;E instanceof db||(E&&E.prototype instanceof db?E=new E:q.isFunction(E)?E=new db(null,E):(w=0,E=new db(E,ha)));this.rank(E);w&&(V=Y,Y=ha);Y&&this.connect(E,E.parameters(Y,V));this.touch(E);return E},connect:function(E,ha){for(var Y=E.rank,V=ha.length,w=0;w<V;++w)if(Y<ha[w].rank){this.rerank(E);break}},rank:function(E){E.rank=++this._rank},rerank:function(E){for(var ha=[E],Y,V,w;ha.length;)if(this.rank(Y=ha.pop()),V=Y._targets)for(w=V.length;0<=--w;)ha.push(Y=V[w]),Y===E&&q.error("Cycle detected in dataflow graph.")},
pulse:function(E,ha,Y){this.touch(E,Y||Ia);Y=new Qa(this,this._clock+(this._pulse?0:1));var V=E.pulse&&E.pulse.source||[];Y.target=E;this._input[E.id]=ha.pulse(Y,V);return this},touch:function(E,ha){ha=ha||Ia;this._pulse?this._enqueue(E):this._touched.add(E);ha.skip&&E.skip(!0);return this},update:function(E,ha,Y){Y=Y||Ia;(E.set(ha)||Y.force)&&this.touch(E,Y);return this},changeset:Ea,ingest:function(E,ha,Y){ha=this.parse(ha,Y);return this.pulse(E,this.changeset().insert(ha))},parse:function(E,ha){var Y=
this.locale();return S.read(E,ha,Y.timeParse,Y.utcParse)},preload:function(E,ha,Y){var V=this,w,F,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return w=V,F=w._pending||Ga(w),F.requests+=1,k.yield(w.request(ha,Y),2);h=k.yieldResult;w.pulse(E,w.changeset().remove(q.truthy).insert(h.data||[]));F.done();return k.return(h)})},request:function(E,ha){var Y=this,V,w,F,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){switch(k.nextAddress){case 1:return V=
Y,w=0,k.setCatchFinallyBlocks(2),k.yield(V.loader().load(E,{context:"dataflow",response:S.responseType(ha&&ha.type)}),4);case 4:F=k.yieldResult;try{F=V.parse(F,ha)}catch(m){w=-2,V.warn("Data ingestion failed",E,m)}k.leaveTryBlock(3);break;case 2:h=k.enterCatchBlock(),w=-1,V.warn("Loading failed",E,h);case 3:return k.return({data:F,status:w})}})},events:function(E,ha,Y,V){var w=this,F=pa(Y,V);Y=function(k){k.dataflow=w;try{F.receive(k)}catch(m){w.error(m)}finally{w.run()}};E="string"===typeof E&&"undefined"!==
typeof document?document.querySelectorAll(E):q.array(E);V=E.length;for(var h=0;h<V;++h)E[h].addEventListener(ha,Y);return F},on:function(E,ha,Y,V,w){(E instanceof db?la:Wa)(this,E,ha,Y,V,w);return this},evaluate:function(E,ha,Y){var V=this,w,F,h,k,m,r,v,J,ba,ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ua){switch(ua.nextAddress){case 1:w=V;F=[];if(w._pulse)return ua.return(wa(w));if(!w._pending){ua.jumpTo(2);break}return ua.yield(w._pending,2);case 2:if(!ha){ua.jumpTo(4);break}return ua.yield(Ma(w,
ha),4);case 4:if(!w._touched.length)return w.debug("Dataflow invoked, but nothing to do."),ua.return(w);h=++w._clock;w._pulse=new Qa(w,h,E);w._touched.forEach(function(fb){return w._enqueue(fb,!0)});w._touched=Hb(q.id);k=0;ua.setCatchFinallyBlocks(6);case 8:if(!(0<w._heap.size())){ua.leaveTryBlock(7);break}m=w._heap.pop();if(m.rank!==m.qrank){w._enqueue(m,!0);ua.jumpTo(8);break}r=m.run(w._getPulse(m,E));if(!r.then){r.async&&(F.push(r.async),r=ma);ua.jumpTo(10);break}return ua.yield(r,11);case 11:r=
ua.yieldResult;case 10:r!==ma&&m._targets&&m._targets.forEach(function(fb){return w._enqueue(fb)});++k;ua.jumpTo(8);break;case 6:J=ua.enterCatchBlock(),w._heap.clear(),v=J;case 7:w._input={};w._pulse=null;w.debug("Pulse "+h+": "+k+" operators");v&&(w._postrun=[],w.error(v));if(!w._postrun.length){ua.jumpTo(12);break}ba=w._postrun.sort(function(fb,eb){return eb.priority-fb.priority});w._postrun=[];ka=0;case 13:if(!(ka<ba.length)){ua.jumpTo(12);break}return ua.yield(Ma(w,ba[ka].callback),14);case 14:++ka;
ua.jumpTo(13);break;case 12:if(!Y){ua.jumpTo(17);break}return ua.yield(Ma(w,Y),17);case 17:return F.length&&Promise.all(F).then(function(fb){return w.runAsync(null,function(){fb.forEach(function(eb){try{eb(w)}catch(Ca){w.error(Ca)}})})}),ua.return(w)}})},run:function(E,ha,Y){return this._pulse?wa(this):(this.evaluate(E,ha,Y),this)},runAsync:function(E,ha,Y){var V=this,w;return $jscomp.asyncExecutePromiseGeneratorProgram(function(F){if(1==F.nextAddress)return V._running?F.yield(V._running,1):F.jumpTo(3);
w=function(){return V._running=null};(V._running=V.evaluate(E,ha,Y)).then(w,w);return F.return(V._running)})},runAfter:function(E,ha,Y){if(this._pulse||ha)this._postrun.push({priority:Y||0,callback:E});else try{E(this)}catch(V){this.error(V)}},_enqueue:function(E,ha){var Y=E.stamp<this._clock;Y&&(E.stamp=this._clock);if(Y||ha)E.qrank=E.rank,this._heap.push(E)},_getPulse:function(E,ha){var Y=E.source,V=this._clock;return Y&&q.isArray(Y)?new ja(this,V,Y.map(function(w){return w.pulse}),ha):this._input[E.id]||
sa(this._pulse,Y&&Y.pulse)}};q.inherits(jb,db,{run:function(E){var ha=this;if(E.stamp<this.stamp)return E.StopPropagation;var Y;this.skip()?this.skip(!1):Y=this.evaluate(E);Y=Y||E;Y.then?Y=Y.then(function(V){return ha.pulse=V}):Y!==E.StopPropagation&&(this.pulse=Y);return Y},evaluate:function(E){var ha=this.marshall(E.stamp);E=this.transform(ha,E);ha.clear();return E},transform:function(){}});var Sa={};n.Dataflow=Ba;n.EventStream=ea;n.MultiPulse=ja;n.Operator=db;n.Parameters=$a;n.Pulse=Qa;n.Transform=
jb;n.UniqueList=Hb;n.asyncCallback=Ma;n.changeset=Ea;n.definition=function(E){return(E=A(E))&&E.Definition||null};n.derive=function(E){return Eb(E,cb({}))};n.ingest=cb;n.isChangeSet=qb;n.isTuple=function(E){return!(!E||!E[y])};n.rederive=Eb;n.replace=function(E,ha){ha[y]=E[y];return ha};n.stableCompare=function(E,ha){return E?ha?function(Y,V){return E(Y,V)||ha(Y)[y]-ha(V)[y]}:function(Y,V){return E(Y,V)||Y[y]-V[y]}:null};n.transform=A;n.transforms=Sa;n.tupleid=function(E){return E[y]};Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[13]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3))})(this,function(n,q){function S(y,I){var L,z,H,O,ma,Ia;return $jscomp.generator.createGenerator(S,function(Sa){switch(Sa.nextAddress){case 1:if(null==I){Sa.jumpTo(2);break}L=-1;z=$jscomp.makeIterator(y);H=z.next();case 4:if(H.done){Sa.jumpTo(0);
break}O=H.value;O=I(O,++L,y);if(!(null!=O&&""!==O&&(O=+O)>=O)){Sa.jumpTo(5);break}return Sa.yield(O,5);case 5:H=z.next();Sa.jumpTo(4);break;case 2:ma=$jscomp.makeIterator(y),H=ma.next();case 9:if(H.done){Sa.jumpTo(0);break}Ia=H.value;if(!(null!=Ia&&""!==Ia&&(Ia=+Ia)>=Ia)){Sa.jumpTo(10);break}return Sa.yield(Ia,10);case 10:H=ma.next(),Sa.jumpTo(9)}})}function Pa(y,I,L){var z=Float64Array.from(S(y,L));z.sort(q.ascending);return I.map(function(H){return q.quantileSorted(z,H)})}function Hb(y,I){return Pa(y,
[.25,.5,.75],I)}function Ma(y,I){var L=y.length,z=q.deviation(y,I);y=Hb(y,I);return 1.06*(Math.min(z,(y[2]-y[0])/1.34)||z||Math.abs(y[0])||1)*Math.pow(L,-.2)}function cb(y,I){for(var L=y.length,z=0,H=1,O,ma;y[z]===y[H];)++H;for(;H<L;){for(O=H+1;y[H]===y[O];)++O;if(y[H]-y[H-1]<I){for(ma=H+(z+O-H-H>>1);ma<H;)y[ma++]=y[H];for(;ma>H;)y[ma--]=y[z]}z=H;H=O}return y}function Eb(y,I){y=y||0;I=null==I?1:I;if(jb===jb){var L=jb;jb=NaN}else{do{L=2*n.random()-1;var z=2*n.random()-1;var H=L*L+z*z}while(0===H||
1<H);H=Math.sqrt(-2*Math.log(H)/H);L*=H;jb=z*H}return y+L*I}function qb(y,I,L){L=null==L?1:L;y=(y-(I||0))/L;return Math.exp(-.5*y*y)/(L*Ba)}function Ea(y,I,L){y=(y-(I||0))/(null==L?1:L);I=Math.abs(y);37<I?I=0:(L=Math.exp(-I*I/2),I=7.07106781186547>I?L*((((((.0352624965998911*I+.700383064443688)*I+6.37396220353165)*I+33.912866078383)*I+112.079291497871)*I+221.213596169931)*I+220.206867912376)/(((((((.0883883476483184*I+1.75566716318264)*I+16.064177579207)*I+86.7807322029461)*I+296.564248779674)*I+
637.333633378831)*I+793.826512519948)*I+440.413735824752):L/(I+1/(I+2/(I+3/(I+4/(I+.65)))))/2.506628274631);return 0<y?1-I:I}function $a(y,I,L){if(0>y||1<y)return NaN;y=2*y-1;var z=-Math.log((1-y)*(1+y));6.25>z?(z-=3.125,z=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+
(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):16>z?(z=Math.sqrt(z)-3.25,z=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+
(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):Number.isFinite(z)?(z=Math.sqrt(z)-5,z=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+
(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):z=Infinity;return(I||0)+(null==L?1:L)*Za*z*y}function db(y,I){var L,z,H={mean:function(O){return arguments.length?(L=O||0,H):L},stdev:function(O){return arguments.length?(z=null==O?1:O,H):z},sample:function(){return Eb(L,z)},pdf:function(O){return qb(O,
L,z)},cdf:function(O){return Ea(O,L,z)},icdf:function(O){return $a(O,L,z)}};return H.mean(y).stdev(I)}function Ja(y,I){I=null==I?1:I;return Math.exp((y||0)+Eb()*I)}function ea(y,I,L){if(0>=y)return 0;L=null==L?1:L;I=(Math.log(y)-(I||0))/L;return Math.exp(-.5*I*I)/(L*Ba*y)}function pa(y,I,L){return Ea(Math.log(y),I,L)}function Ga(y,I,L){return Math.exp($a(y,I,L))}function Wa(y,I){null==I&&(I=null==y?1:y,y=0);return y+(I-y)*n.random()}function la(y,I,L){null==L&&(L=null==I?1:I,I=0);return y>=I&&y<=
L?1/(L-I):0}function aa(y,I,L){null==L&&(L=null==I?1:I,I=0);return y<I?0:y>L?1:(y-I)/(L-I)}function Qa(y,I,L){null==L&&(L=null==I?1:I,I=0);return 0<=y&&1>=y?I+y*(L-I):NaN}function xa(y,I,L,z){z-=y*y;L=1E-24>Math.abs(z)?0:(L-y*I)/z;return[I-L*y,L]}function Oa(y,I,L,z){y=y.filter(function(Y){var V=I(Y);Y=L(Y);return null!=V&&(V=+V)>=V&&null!=Y&&(Y=+Y)>=Y});z&&y.sort(function(Y,V){return I(Y)-I(V)});z=y.length;var H=new Float64Array(z),O=new Float64Array(z),ma=0,Ia=0,Sa=0,E;y=$jscomp.makeIterator(y);
for(E=y.next();!E.done;E=y.next()){var ha=E.value;H[ma]=E=+I(ha);O[ma]=ha=+L(ha);++ma;Ia+=(E-Ia)/ma;Sa+=(ha-Sa)/ma}for(ma=0;ma<z;++ma)H[ma]-=Ia,O[ma]-=Sa;return[H,O,Ia,Sa]}function ya(y,I,L,z){var H=-1,O;y=$jscomp.makeIterator(y);for(O=y.next();!O.done;O=y.next()){var ma=O.value;O=I(ma);ma=L(ma);null!=O&&(O=+O)>=O&&null!=ma&&(ma=+ma)>=ma&&z(O,ma,++H)}}function ja(y,I,L,z,H){var O=0,ma=0;ya(y,I,L,function(Ia,Sa){Ia=Sa-H(Ia);Sa-=z;O+=Ia*Ia;ma+=Sa*Sa});return 1-O/ma}function wa(y,I,L){var z=0,H=0,O=
0,ma=0,Ia=0;ya(y,I,L,function(ha,Y){++Ia;z+=(ha-z)/Ia;H+=(Y-H)/Ia;O+=(ha*Y-O)/Ia;ma+=(ha*ha-ma)/Ia});var Sa=xa(z,H,O,ma),E=function(ha){return Sa[0]+Sa[1]*ha};return{coef:Sa,predict:E,rSquared:ja(y,I,L,H,E)}}function sa(y,I,L){var z=$jscomp.makeIterator(Oa(y,I,L)),H=z.next().value,O=z.next().value,ma=z.next().value,Ia=z.next().value,Sa=H.length,E=z=0,ha=0,Y=0,V=0,w;for(w=0;w<Sa;){var F=H[w];var h=O[w++];var k=F*F;z+=(k-z)/w;E+=(k*F-E)/w;ha+=(k*k-ha)/w;Y+=(F*h-Y)/w;V+=(k*h-V)/w}H=ha-z*z;O=z*H-E*E;
var m=(V*z-Y*E)/O,r=(Y*H-V*E)/O,v=-m*z;z=function(J){J-=ma;return m*J*J+r*J+v+Ia};return{coef:[v-r*ma+m*ma*ma+Ia,r-2*m*ma,m],predict:z,rSquared:ja(y,I,L,Ia,z)}}function qa(y,I,L,z){var H=Array(y),O;for(O=0;O<y;++O)H[O]=0;for(O=y-1;0<=O;--O){var ma=I[O];var Ia=1;H[O]+=ma;for(y=1;y<=O;++y)Ia*=(O+1-y)/y,H[O-y]+=ma*Math.pow(L,y)*Ia}H[0]+=z;return H}function Fa(y){var I=y.length-1,L=[],z,H,O;for(z=0;z<I;++z){var ma=z;for(H=z+1;H<I;++H)Math.abs(y[z][H])>Math.abs(y[z][ma])&&(ma=H);for(O=z;O<I+1;++O){var Ia=
y[O][z];y[O][z]=y[O][ma];y[O][ma]=Ia}for(H=z+1;H<I;++H)for(O=I;O>=z;O--)y[O][H]-=y[O][z]*y[z][H]/y[z][z]}for(H=I-1;0<=H;--H){Ia=0;for(O=H+1;O<I;++O)Ia+=y[O][H]*L[O];L[H]=(y[I][H]-Ia)/y[H][H]}return L}n.random=Math.random;var Ba=Math.sqrt(2*Math.PI),Za=Math.SQRT2,jb=NaN,A=.1*Math.PI/180;n.bandwidthNRD=Ma;n.bin=function(y){var I=y.maxbins||20,L=y.base||10,z=Math.log(L),H=y.divide||[5,2],O=y.extent[0],ma=y.extent[1],Ia,Sa=y.span||ma-O||Math.abs(O)||1;if(y.step)var E=y.step;else if(y.steps){var ha=Sa/
I;var Y=0;for(Ia=y.steps.length;Y<Ia&&y.steps[Y]<ha;++Y);E=y.steps[Math.max(0,Y-1)]}else{E=Math.ceil(Math.log(I)/z);var V=y.minstep||0;for(E=Math.max(V,Math.pow(L,Math.round(Math.log(Sa)/z)-E));Math.ceil(Sa/E)>I;)E*=L;Y=0;for(Ia=H.length;Y<Ia;++Y)ha=E/H[Y],ha>=V&&Sa/ha<=I&&(E=ha)}ha=Math.log(E);I=Math.pow(L,-(0<=ha?0:~~(-ha/z)+1)-1);if(y.nice||void 0===y.nice)ha=Math.floor(O/E+I)*E,O=O<ha?ha-E:ha,ma=Math.ceil(ma/E)*E;return{start:O,stop:ma===O?O+E:ma,step:E}};n.bootstrapCI=function(y,I,L,z){if(!y.length)return[void 0,
void 0];y=Float64Array.from(S(y,z));z=y.length;var H,O,ma;var Ia=0;for(ma=Array(I);Ia<I;++Ia){for(O=H=0;O<z;++O)H+=y[~~(n.random()*z)];ma[Ia]=H/z}ma.sort(q.ascending);return[q.quantile(ma,L/2),q.quantile(ma,1-L/2)]};n.cumulativeLogNormal=pa;n.cumulativeNormal=Ea;n.cumulativeUniform=aa;n.densityLogNormal=ea;n.densityNormal=qb;n.densityUniform=la;n.dotbin=function(y,I,L,z){z=z||function(V){return V};for(var H=y.length,O=new Float64Array(H),ma=0,Ia=1,Sa=z(y[0]),E=Sa,ha=Sa+I,Y;Ia<H;++Ia){Y=z(y[Ia]);if(Y>=
ha){for(E=(Sa+E)/2;ma<Ia;++ma)O[ma]=E;ha=Y+I;Sa=Y}E=Y}for(E=(Sa+E)/2;ma<Ia;++ma)O[ma]=E;return L?cb(O,I+I/4):O};n.quantileLogNormal=Ga;n.quantileNormal=$a;n.quantileUniform=Qa;n.quantiles=Pa;n.quartiles=Hb;n.randomInteger=function(y,I){null==I&&(I=y,y=0);var L,z,H,O={min:function(ma){return arguments.length?(L=ma||0,H=z-L,O):L},max:function(ma){return arguments.length?(z=ma||0,H=z-L,O):z},sample:function(){return L+Math.floor(H*n.random())},pdf:function(ma){return ma===Math.floor(ma)&&ma>=L&&ma<z?
1/H:0},cdf:function(ma){ma=Math.floor(ma);return ma<L?0:ma>=z?1:(ma-L+1)/H},icdf:function(ma){return 0<=ma&&1>=ma?L-1+Math.floor(ma*H):NaN}};return O.min(y).max(I)};n.randomKDE=function(y,I){var L=db(),z=0,H={data:function(O){return arguments.length?(z=(y=O)?O.length:0,H.bandwidth(I)):y},bandwidth:function(O){if(!arguments.length)return I;I=O;!I&&y&&(I=Ma(y));return H},sample:function(){return y[~~(n.random()*z)]+I*L.sample()},pdf:function(O){for(var ma=0,Ia=0;Ia<z;++Ia)ma+=L.pdf((O-y[Ia])/I);return ma/
I/z},cdf:function(O){for(var ma=0,Ia=0;Ia<z;++Ia)ma+=L.cdf((O-y[Ia])/I);return ma/z},icdf:function(){throw Error("KDE icdf not supported.");}};return H.data(y)};n.randomLCG=function(y){return function(){y=(1103515245*y+12345)%2147483647;return y/2147483647}};n.randomLogNormal=function(y,I){var L,z,H={mean:function(O){return arguments.length?(L=O||0,H):L},stdev:function(O){return arguments.length?(z=null==O?1:O,H):z},sample:function(){return Ja(L,z)},pdf:function(O){return ea(O,L,z)},cdf:function(O){return pa(O,
L,z)},icdf:function(O){return Ga(O,L,z)}};return H.mean(y).stdev(I)};n.randomMixture=function(y,I){var L=0,z,H={weights:function(O){if(arguments.length){var ma=I=O||[],Ia=[],Sa=0,E;for(E=0;E<L;++E)Sa+=Ia[E]=null==ma[E]?1:+ma[E];for(E=0;E<L;++E)Ia[E]/=Sa;z=Ia;return H}return I},distributions:function(O){return arguments.length?(O?(L=O.length,y=O):(L=0,y=[]),H.weights(I)):y},sample:function(){for(var O=n.random(),ma=y[L-1],Ia=z[0],Sa=0;Sa<L-1;Ia+=z[++Sa])if(O<Ia){ma=y[Sa];break}return ma.sample()},
pdf:function(O){for(var ma=0,Ia=0;Ia<L;++Ia)ma+=z[Ia]*y[Ia].pdf(O);return ma},cdf:function(O){for(var ma=0,Ia=0;Ia<L;++Ia)ma+=z[Ia]*y[Ia].cdf(O);return ma},icdf:function(){throw Error("Mixture icdf not supported.");}};return H.distributions(y).weights(I)};n.randomNormal=db;n.randomUniform=function(y,I){var L,z,H={min:function(O){return arguments.length?(L=O||0,H):L},max:function(O){return arguments.length?(z=null==O?1:O,H):z},sample:function(){return Wa(L,z)},pdf:function(O){return la(O,L,z)},cdf:function(O){return aa(O,
L,z)},icdf:function(O){return Qa(O,L,z)}};null==I&&(I=null==y?1:y,y=0);return H.min(y).max(I)};n.regressionExp=function(y,I,L){var z=$jscomp.makeIterator(Oa(y,I,L)),H=z.next().value;z.next();var O=z.next().value;z=z.next().value;var ma=0,Ia=0,Sa=0,E=0,ha=0,Y,V,w;ya(y,I,L,function(m,r){Y=H[ha++];V=Math.log(r);w=Y*r;ma+=(r*V-ma)/ha;Ia+=(w-Ia)/ha;Sa+=(w*V-Sa)/ha;E+=(Y*w-E)/ha});var F=$jscomp.makeIterator(xa(Ia/z,ma/z,Sa/z,E/z)),h=F.next().value,k=F.next().value;F=function(m){return Math.exp(h+k*(m-O))};
return{coef:[Math.exp(h-k*O),k],predict:F,rSquared:ja(y,I,L,z,F)}};n.regressionLinear=wa;n.regressionLoess=function(y,I,L,z){L=$jscomp.makeIterator(Oa(y,I,L,!0));y=L.next().value;var H=L.next().value;I=L.next().value;L=L.next().value;var O=y.length,ma=Math.max(2,~~(z*O));z=new Float64Array(O);for(var Ia=new Float64Array(O),Sa=(new Float64Array(O)).fill(1),E=-1;2>=++E;){for(var ha=[0,ma-1],Y=0;Y<O;++Y){for(var V=y[Y],w=ha[0],F=ha[1],h=0,k=0,m=0,r=0,v=0,J=1/Math.abs(y[V-y[w]>y[F]-V?w:F]-V||1);w<=F;++w){var ba=
y[w],ka=H[w],ua=Math.abs(V-ba)*J,fb=(ua=1-ua*ua*ua)*ua*ua*Sa[w];ua=ba*fb;h+=fb;k+=ua;m+=ka*fb;r+=ka*ua;v+=ba*ua}h=$jscomp.makeIterator(xa(k/h,m/h,r/h,v/h));F=h.next().value;h=h.next().value;z[Y]=F+h*V;Ia[Y]=Math.abs(H[Y]-z[Y]);V=Y+1;F=y[V];h=ha[0];k=ha[1]+1;if(!(k>=y.length))for(;V>h&&y[k]-F<=F-y[h];)ha[0]=++h,ha[1]=k,++k}if(2===E)break;ha=q.median(Ia);if(1E-12>Math.abs(ha))break;Y=0;for(F=void 0;Y<O;++Y)V=Ia[Y]/(6*ha),Sa[Y]=1<=V?1E-12:(F=1-V*V)*F}H=y.length;O=[];Ia=ma=0;for(Sa=[];ma<H;++ma)E=y[ma]+
I,Sa[0]===E?Sa[1]+=(z[ma]-Sa[1])/++Ia:(Ia=0,Sa[1]+=L,Sa=[E,z[ma]],O.push(Sa));Sa[1]+=L;return O};n.regressionLog=function(y,I,L){var z=0,H=0,O=0,ma=0,Ia=0;ya(y,I,L,function(ha,Y){++Ia;ha=Math.log(ha);z+=(ha-z)/Ia;H+=(Y-H)/Ia;O+=(ha*Y-O)/Ia;ma+=(ha*ha-ma)/Ia});var Sa=xa(z,H,O,ma),E=function(ha){return Sa[0]+Sa[1]*Math.log(ha)};return{coef:Sa,predict:E,rSquared:ja(y,I,L,H,E)}};n.regressionPoly=function(y,I,L,z){if(1===z)return wa(y,I,L);if(2===z)return sa(y,I,L);var H=$jscomp.makeIterator(Oa(y,I,L)),
O=H.next().value,ma=H.next().value,Ia=H.next().value,Sa=H.next().value;H=O.length;var E=[],ha=[],Y=z+1,V,w,F;for(V=0;V<Y;++V){for(F=w=0;w<H;++w)F+=Math.pow(O[w],V)*ma[w];E.push(F);var h=new Float64Array(Y);for(z=0;z<Y;++z){for(F=w=0;w<H;++w)F+=Math.pow(O[w],V+z);h[z]=F}ha.push(h)}ha.push(E);var k=Fa(ha);O=function(m){m-=Ia;var r=Sa+k[0]+k[1]*m+k[2]*m*m;for(V=3;V<Y;++V)r+=k[V]*Math.pow(m,V);return r};return{coef:qa(Y,k,-Ia,Sa),predict:O,rSquared:ja(y,I,L,Sa,O)}};n.regressionPow=function(y,I,L){var z=
0,H=0,O=0,ma=0,Ia=0,Sa=0;ya(y,I,L,function(Y,V){Y=Math.log(Y);var w=Math.log(V);++Sa;z+=(Y-z)/Sa;H+=(w-H)/Sa;O+=(Y*w-O)/Sa;ma+=(Y*Y-ma)/Sa;Ia+=(V-Ia)/Sa});var E=xa(z,H,O,ma),ha=function(Y){return E[0]*Math.pow(Y,E[1])};E[0]=Math.exp(E[0]);return{coef:E,predict:ha,rSquared:ja(y,I,L,Ia,ha)}};n.regressionQuad=sa;n.sampleCurve=function(y,I,L,z){L=L||25;z=Math.max(L,z||200);var H=function(ha){return[ha,y(ha)]},O=I[0],ma=I[1],Ia=ma-O,Sa=Ia/z;I=[H(O)];var E=[];if(L===z){for(Sa=1;Sa<z;++Sa)I.push(H(O+Sa/
L*Ia));I.push(H(ma));return I}E.push(H(ma));for(z=L;0<--z;)E.push(H(O+z/L*Ia));L=I[0];for(O=E[E.length-1];O;)z=H((L[0]+O[0])/2),z[0]-L[0]>=Sa&&Math.abs(Math.atan2(O[1]-L[1],O[0]-L[0])-Math.atan2(z[1]-L[1],z[0]-L[0]))>A?E.push(z):(L=O,I.push(O),E.pop()),O=E[E.length-1];return I};n.sampleLogNormal=Ja;n.sampleNormal=Eb;n.sampleUniform=Wa;n.setRandom=function(y){n.random=y};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[14]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(12),sb(13),sb(1),sb(4)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega))})(this,function(n,q,S,Pa,Hb,Ma){function cb(K){return function(fa){for(var bb=K.length,La=1,Fb=String(K[0](fa));La<bb;++La)Fb+="|"+
K[La](fa);return Fb}}function Eb(K){return K&&K.length?1===K.length?K[0]:cb(K):function(){return""}}function qb(K,fa){return function(bb){return q.extend({name:K,out:bb||K},xd,fa)}}function Ea(K,fa){return K.idx-fa.idx}function $a(K){var fa={};K.forEach(function(La){return fa[La.name]=La});var bb=function(La){La.req&&La.req.forEach(function(Fb){fa[Fb]||bb(fa[Fb]=ae[Fb]())})};K.forEach(bb);return Object.values(fa).sort(Ea)}function db(){var K=this;this.missing=this.valid=0;this._ops.forEach(function(fa){return fa.init(K)})}
function Ja(K,fa){var bb=this;null==K||""===K?++this.missing:K===K&&(++this.valid,this._ops.forEach(function(La){return La.add(bb,K,fa)}))}function ea(K,fa){var bb=this;null==K||""===K?--this.missing:K===K&&(--this.valid,this._ops.forEach(function(La){return La.rem(bb,K,fa)}))}function pa(K){var fa=this;this._out.forEach(function(bb){return K[bb.out]=bb.value(fa)});return K}function Ga(K,fa){function bb(Vb){this._ops=La;this._out=Fb;this.cell=Vb;this.init()}fa=fa||q.identity;var La=$a(K),Fb=K.slice().sort(Ea);
bb.prototype.init=db;bb.prototype.add=Ja;bb.prototype.rem=ea;bb.prototype.set=pa;bb.prototype.get=fa;bb.fields=K.map(function(Vb){return Vb.out});return bb}function Wa(K){this._key=K?q.field(K):S.tupleid;this.reset()}function la(K){S.Transform.call(this,null,K);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function aa(K){S.Transform.call(this,
null,K)}function Qa(K,fa,bb){var La=fa||[],Fb=bb||[],Vb={},Yb=0;return{add:function(cc){return Fb.push(cc)},remove:function(cc){return Vb[K(cc)]=++Yb},size:function(){return La.length},data:function(cc,va){Yb&&(La=La.filter(function(Ra){return!Vb[K(Ra)]}),Vb={},Yb=0);va&&cc&&La.sort(cc);Fb.length&&(La=cc?q.merge(cc,La,Fb.sort(cc)):La.concat(Fb),Fb=[]);return La}}}function xa(K){S.Transform.call(this,[],K)}function Oa(K){S.Operator.call(this,null,ya,K)}function ya(K){return this.value&&!K.modified()?
this.value:q.compare(K.fields,K.orders)}function ja(K){S.Transform.call(this,null,K)}function wa(K){S.Transform.call(this,null,K)}function sa(K,fa){var bb=K["function"];q.hasOwnProperty(Rb,bb)||q.error("Unknown distribution function: "+bb);bb=Rb[bb]();for(var La in K)if("field"===La)bb.data((K.from||fa()).map(K[La]));else if("distributions"===La)bb[La](K[La].map(function(Fb){return sa(Fb,fa)}));else if("function"===typeof bb[La])bb[La](K[La]);return bb}function qa(K){S.Transform.call(this,null,K)}
function Fa(K){return function(){return K.materialize(K.SOURCE).source}}function Ba(K,fa){return K?K.map(function(bb,La){return fa[La]||q.accessorName(bb)}):null}function Za(K,fa,bb){var La=[],Fb=function(Nb){return Nb(va)},Vb;if(null==fa)La.push(K.map(bb));else{var Yb={};var cc=0;for(Vb=K.length;cc<Vb;++cc){var va=K[cc];var Ra=fa.map(Fb);var yb=Yb[Ra];yb||(Yb[Ra]=yb=[],yb.dims=Ra,La.push(yb));yb.push(bb(va))}}return La}function jb(K){S.Transform.call(this,null,K)}function A(K){S.Operator.call(this,
null,y,K);this.modified(!0)}function y(K){var fa=K.expr;return this.value&&!K.modified("expr")?this.value:q.accessor(function(bb){return fa(bb,K)},q.accessorFields(fa),q.accessorName(fa))}function I(K){S.Transform.call(this,[void 0,void 0],K)}function L(K,fa){S.Operator.call(this,K);this.parent=fa;this.count=0}function z(K){S.Transform.call(this,{},K);this._keys=q.fastmap();var fa=this._targets=[];fa.active=0;fa.forEach=function(bb){for(var La=0,Fb=fa.active;La<Fb;++La)bb(fa[La],La,fa)}}function H(K){S.Operator.call(this,
null,O,K)}function O(K){return this.value&&!K.modified()?this.value:q.isArray(K.name)?q.array(K.name).map(function(fa){return q.field(fa)}):q.field(K.name,K.as)}function ma(K){S.Transform.call(this,q.fastmap(),K)}function Ia(K){S.Transform.call(this,[],K)}function Sa(K){S.Transform.call(this,[],K)}function E(K){S.Transform.call(this,null,K)}function ha(K){S.Transform.call(this,[],K)}function Y(K){S.Transform.call(this,[],K)}function V(K){var fa=K.method||Rc.value;if(null==Rc[fa])q.error("Unrecognized imputation method: "+
fa);else{if(fa===Rc.value){var bb=void 0!==K.value?K.value:0;return function(){return bb}}return Rc[fa]}}function w(K){var fa=K.field;return function(bb){return bb?fa(bb):NaN}}function F(K,fa,bb,La){var Fb=function(xb){return xb(Nb)},Vb=[];La=La?La.slice():[];var Yb={},cc={},va,Ra;La.forEach(function(xb,Qb){return Yb[xb]=Qb+1});var yb=0;for(Ra=K.length;yb<Ra;++yb){var Nb=K[yb];var gc=bb(Nb);var tc=Yb[gc]||(Yb[gc]=La.push(gc));var lc=(gc=fa?fa.map(Fb):se)+"";(va=cc[lc])||(va=cc[lc]=[],Vb.push(va),
va.values=gc);va[tc-1]=Nb}Vb.domain=La;return Vb}function h(K){la.call(this,K)}function k(K){S.Transform.call(this,null,K)}function m(K){S.Operator.call(this,null,r,K)}function r(K){return this.value&&!K.modified()?this.value:q.key(K.fields,K.flat)}function v(K){S.Transform.call(this,[],K);this._pending=null}function J(K){return K.modified("async")&&!(K.modified("values")||K.modified("url")||K.modified("format"))}function ba(K,fa,bb){bb.forEach(S.ingest);fa=fa.fork(fa.NO_FIELDS&fa.NO_SOURCE);fa.rem=
K.value;K.value=fa.source=fa.add=bb;K._pending=null;fa.rem.length&&fa.clean(!0);return fa}function ka(K){S.Transform.call(this,{},K)}function ua(K){S.Operator.call(this,null,fb,K)}function fb(K){if(this.value&&!K.modified())return this.value;K=K.extents;var fa=K.length,bb=Infinity,La=-Infinity,Fb;for(Fb=0;Fb<fa;++Fb){var Vb=K[Fb];Vb[0]<bb&&(bb=Vb[0]);Vb[1]>La&&(La=Vb[1])}return[bb,La]}function eb(K){S.Operator.call(this,null,Ca,K)}function Ca(K){return this.value&&!K.modified()?this.value:K.values.reduce(function(fa,
bb){return fa.concat(bb)},[])}function Ka(K){S.Transform.call(this,null,K)}function Z(K){la.call(this,K)}function ra(K,fa){var bb=K.field,La=K.value,Fb=("count"===K.op?"__count__":K.op)||"sum",Vb=q.accessorFields(bb).concat(q.accessorFields(La)),Yb=mb(bb,K.limit||0,fa);fa.changed()&&K.set("__pivot__",null,null,!0);return{key:K.key,groupby:K.groupby,ops:Yb.map(function(){return Fb}),fields:Yb.map(function(cc){return hb(cc,bb,La,Vb)}),as:Yb.map(function(cc){return cc+""}),modified:K.modified.bind(K)}}
function hb(K,fa,bb,La){return q.accessor(function(Fb){return fa(Fb)===K?bb(Fb):NaN},La,K+"")}function mb(K,fa,bb){var La={},Fb=[];bb.visit(bb.SOURCE,function(Vb){Vb=K(Vb);La[Vb]||(La[Vb]=1,Fb.push(Vb))});Fb.sort(q.ascending);return fa?Fb.slice(0,fa):Fb}function Ib(K){z.call(this,K)}function Xb(K){S.Transform.call(this,null,K)}function za(K){S.Transform.call(this,null,K)}function wb(K){S.Transform.call(this,null,K)}function Tb(K){S.Transform.call(this,null,K)}function rb(K){S.Transform.call(this,
[],K);this.count=0}function Sb(K){S.Transform.call(this,null,K)}function ic(K){S.Transform.call(this,null,K);this.modified(!0)}function rc(K){S.Transform.call(this,null,K)}function Tc(K){S.Transform.call(this,q.fastmap(),K)}function pc(K){S.Transform.call(this,null,K)}function tb(K,fa,bb,La){var Fb=Ne[K](fa,bb);return{init:Fb.init||q.zero,update:function(Vb,Yb){Yb[La]=Fb.next(Vb)}}}function bc(K){function fa(tc){q.array(q.accessorFields(tc)).forEach(function(lc){return va[lc]=1})}var bb=q.array(K.ops),
La=q.array(K.fields),Fb=q.array(K.params),Vb=q.array(K.as),Yb=this.outputs=[],cc=this.windows=[],va={},Ra={},yb=[],Nb=[],gc=!0;fa(K.sort);bb.forEach(function(tc,lc){var xb=La[lc],Qb=q.accessorName(xb),Gc=Vb[lc]||tc+(Qb?"_"+Qb:"");fa(xb);Yb.push(Gc);q.hasOwnProperty(Ne,tc)?cc.push(tb(tc,La[lc],Fb[lc],Gc)):(null==xb&&"count"!==tc&&q.error("Null aggregate field specified."),"count"===tc?yb.push(Gc):(gc=!1,lc=Ra[Qb],lc||(lc=Ra[Qb]=[],lc.field=xb,Nb.push(lc)),lc.push(ae[tc](Gc))))});if(yb.length||Nb.length)this.cell=
Mb(Nb,yb,gc);this.inputs=Object.keys(va)}function Mb(K,fa,bb){K=K.map(function(va){return Ga(va,va.field)});var La={num:0,agg:null,store:!1,count:fa};if(!bb)for(var Fb=K.length,Vb=La.agg=Array(Fb),Yb=0;Yb<Fb;++Yb)Vb[Yb]=new K[Yb](La);if(La.store)var cc=La.data=new Wa;La.add=function(va){La.num+=1;if(!bb){cc&&cc.add(va);for(var Ra=0;Ra<Fb;++Ra)Vb[Ra].add(Vb[Ra].get(va),va)}};La.rem=function(va){--La.num;if(!bb){cc&&cc.rem(va);for(var Ra=0;Ra<Fb;++Ra)Vb[Ra].rem(Vb[Ra].get(va),va)}};La.set=function(va){var Ra;
cc&&cc.values();var yb=0;for(Ra=fa.length;yb<Ra;++yb)va[fa[yb]]=La.num;if(!bb)for(yb=0,Ra=Vb.length;yb<Ra;++yb)Vb[yb].set(va)};La.init=function(){La.num=0;cc&&cc.reset();for(var va=0;va<Fb;++va)Vb[va].init()};return La}function xc(K){S.Transform.call(this,{},K);this._mlen=0;this._mods=[]}function Xc(K,fa,bb,La){var Fb=La.sort,Vb=Fb&&!La.ignorePeers;La=La.frame||[null,0];K=K.data(bb);bb=K.length;var Yb=Vb?Hb.bisector(Fb):null;Fb={i0:0,i1:0,p0:0,p1:0,index:0,data:K,compare:Fb||q.constant(-1)};fa.init();
for(var cc=0;cc<bb;++cc){var va=cc;Fb.p0=Fb.i0;Fb.p1=Fb.i1;Fb.i0=null==La[0]?0:Math.max(0,va-Math.abs(La[0]));Fb.i1=null==La[1]?bb:Math.min(bb,va+Math.abs(La[1])+1);Fb.index=va;if(Vb){va=Fb.i0;var Ra=Fb.i1-1,yb=Fb.compare,Nb=Fb.data,gc=Nb.length-1;0<va&&!yb(Nb[va],Nb[va-1])&&(Fb.i0=Yb.left(Nb,Nb[va]));Ra<gc&&!yb(Nb[Ra],Nb[Ra+1])&&(Fb.i1=Yb.right(Nb,Nb[Ra]))}fa.update(Fb,K[cc])}}var ud=function(){},xd={init:ud,add:ud,rem:ud,idx:0},ae={values:{init:function(K){return K.cell.store=!0},value:function(K){return K.cell.data.values()},
idx:-1},count:{value:function(K){return K.cell.num}},__count__:{value:function(K){return K.missing+K.valid}},missing:{value:function(K){return K.missing}},valid:{value:function(K){return K.valid}},sum:{init:function(K){return K.sum=0},value:function(K){return K.sum},add:function(K,fa){return K.sum+=+fa},rem:function(K,fa){return K.sum-=fa}},product:{init:function(K){return K.product=1},value:function(K){return K.valid?K.product:void 0},add:function(K,fa){return K.product*=fa},rem:function(K,fa){return K.product/=
fa}},mean:{init:function(K){return K.mean=0},value:function(K){return K.valid?K.mean:void 0},add:function(K,fa){return K.mean_d=fa-K.mean,K.mean+=K.mean_d/K.valid},rem:function(K,fa){return K.mean_d=fa-K.mean,K.mean-=K.valid?K.mean_d/K.valid:K.mean}},average:{value:function(K){return K.valid?K.mean:void 0},req:["mean"],idx:1},variance:{init:function(K){return K.dev=0},value:function(K){return 1<K.valid?K.dev/(K.valid-1):void 0},add:function(K,fa){return K.dev+=K.mean_d*(fa-K.mean)},rem:function(K,
fa){return K.dev-=K.mean_d*(fa-K.mean)},req:["mean"],idx:1},variancep:{value:function(K){return 1<K.valid?K.dev/K.valid:void 0},req:["variance"],idx:2},stdev:{value:function(K){return 1<K.valid?Math.sqrt(K.dev/(K.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(K){return 1<K.valid?Math.sqrt(K.dev/K.valid):void 0},req:["variance"],idx:2},stderr:{value:function(K){return 1<K.valid?Math.sqrt(K.dev/(K.valid*(K.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(K){return K.cell.data.distinct(K.get)},
req:["values"],idx:3},ci0:{value:function(K){return K.cell.data.ci0(K.get)},req:["values"],idx:3},ci1:{value:function(K){return K.cell.data.ci1(K.get)},req:["values"],idx:3},median:{value:function(K){return K.cell.data.q2(K.get)},req:["values"],idx:3},q1:{value:function(K){return K.cell.data.q1(K.get)},req:["values"],idx:3},q3:{value:function(K){return K.cell.data.q3(K.get)},req:["values"],idx:3},min:{init:function(K){return K.min=void 0},value:function(K){return K.min=Number.isNaN(K.min)?K.cell.data.min(K.get):
K.min},add:function(K,fa){if(fa<K.min||void 0===K.min)K.min=fa},rem:function(K,fa){fa<=K.min&&(K.min=NaN)},req:["values"],idx:4},max:{init:function(K){return K.max=void 0},value:function(K){return K.max=Number.isNaN(K.max)?K.cell.data.max(K.get):K.max},add:function(K,fa){if(fa>K.max||void 0===K.max)K.max=fa},rem:function(K,fa){fa>=K.max&&(K.max=NaN)},req:["values"],idx:4},argmin:{init:function(K){return K.argmin=void 0},value:function(K){return K.argmin||K.cell.data.argmin(K.get)},add:function(K,
fa,bb){fa<K.min&&(K.argmin=bb)},rem:function(K,fa){fa<=K.min&&(K.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(K){return K.argmax=void 0},value:function(K){return K.argmax||K.cell.data.argmax(K.get)},add:function(K,fa,bb){fa>K.max&&(K.argmax=bb)},rem:function(K,fa){fa>=K.max&&(K.argmax=void 0)},req:["max","values"],idx:3}};ud=Object.keys(ae);ud.forEach(function(K){ae[K]=qb(K,ae[K])});var Cb=Wa.prototype;Cb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=
null};Cb.add=function(K){this._add.push(K)};Cb.rem=function(K){this._rem.push(K)};Cb.values=function(){this._get=null;if(0===this._rem.length)return this._add;var K=this._add,fa=this._rem,bb=this._key,La=K.length,Fb=fa.length,Vb=Array(La-Fb),Yb={},cc,va;for(cc=0;cc<Fb;++cc)Yb[bb(fa[cc])]=1;for(fa=cc=0;cc<La;++cc)Yb[bb(va=K[cc])]?Yb[bb(va)]=0:Vb[fa++]=va;this._rem=[];return this._add=Vb};Cb.distinct=function(K){for(var fa=this.values(),bb={},La=fa.length,Fb=0,Vb;0<=--La;)Vb=K(fa[La])+"",q.hasOwnProperty(bb,
Vb)||(bb[Vb]=1,++Fb);return Fb};Cb.extent=function(K){if(this._get!==K||!this._ext){var fa=this.values(),bb=q.extentIndex(fa,K);this._ext=[fa[bb[0]],fa[bb[1]]];this._get=K}return this._ext};Cb.argmin=function(K){return this.extent(K)[0]||{}};Cb.argmax=function(K){return this.extent(K)[1]||{}};Cb.min=function(K){var fa=this.extent(K)[0];return null!=fa?K(fa):void 0};Cb.max=function(K){var fa=this.extent(K)[1];return null!=fa?K(fa):void 0};Cb.quartile=function(K){this._get===K&&this._q||(this._q=Pa.quartiles(this.values(),
K),this._get=K);return this._q};Cb.q1=function(K){return this.quartile(K)[0]};Cb.q2=function(K){return this.quartile(K)[1]};Cb.q3=function(K){return this.quartile(K)[2]};Cb.ci=function(K){this._get===K&&this._ci||(this._ci=Pa.bootstrapCI(this.values(),1E3,.05,K),this._get=K);return this._ci};Cb.ci0=function(K){return this.ci(K)[0]};Cb.ci1=function(K){return this.ci(K)[1]};la.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",
type:"enum",array:!0,values:ud},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};q.inherits(la,S.Transform,{transform:function(K,fa){var bb=this,La=this,Fb=fa.fork(fa.NO_SOURCE|fa.NO_FIELDS),Vb=K.modified();La.stamp=Fb.stamp;La.value&&(Vb||fa.modified(La._inputs,!0))?(La._prev=La.value,La.value=Vb?La.init(K):{},fa.visit(fa.SOURCE,function(Yb){return La.add(Yb)})):
(La.value=La.value||La.init(K),fa.visit(fa.REM,function(Yb){return La.rem(Yb)}),fa.visit(fa.ADD,function(Yb){return La.add(Yb)}));Fb.modifies(La._outputs);La._drop=!1!==K.drop;K.cross&&1<La._dims.length&&(La._drop=!1,La.cross());fa.clean()&&La._drop&&Fb.clean(!0).runAfter(function(){return bb.clean()});return La.changes(Fb)},cross:function(){function K(cc){var va,Ra,yb;for(va in cc){var Nb=cc[va].tuple;for(Ra=0;Ra<Yb;++Ra)Vb[Ra][yb=Nb[Fb[Ra]]]=yb}}function fa(cc,va,Ra){var yb=Fb[Ra],Nb=Vb[Ra++],gc;
for(gc in Nb){var tc=cc?cc+"|"+gc:gc;va[yb]=Nb[gc];Ra<Yb?fa(tc,va,Ra):La[tc]||bb.cell(tc,va)}}var bb=this,La=bb.value,Fb=bb._dnames,Vb=Fb.map(function(){return{}}),Yb=Fb.length;K(bb._prev);K(La);fa("",{},0)},init:function(K){function fa(xb){xb=q.array(q.accessorFields(xb));for(var Qb=xb.length,Gc=0,$b;Gc<Qb;++Gc)Fb[$b=xb[Gc]]||(Fb[$b]=1,bb.push($b))}var bb=this._inputs=[],La=this._outputs=[],Fb={};this._dims=q.array(K.groupby);this._dnames=this._dims.map(function(xb){var Qb=q.accessorName(xb);fa(xb);
La.push(Qb);return Qb});this.cellkey=K.key?K.key:Eb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];var Vb=K.fields||[null],Yb=K.ops||["count"];K=K.as||[];var cc=Vb.length,va={},Ra;cc!==Yb.length&&q.error("Unmatched number of fields and aggregate ops.");for(Ra=0;Ra<cc;++Ra){var yb=Vb[Ra];var Nb=Yb[Ra];null==yb&&"count"!==Nb&&q.error("Null aggregate field specified.");var gc=q.accessorName(yb);var tc=K[Ra]||Nb+(gc?"_"+gc:"");La.push(tc);if("count"===Nb)this._counts.push(tc);else{var lc=
va[gc];lc||(fa(yb),lc=va[gc]=[],lc.field=yb,this._measures.push(lc));"count"!==Nb&&(this._countOnly=!1);lc.push(ae[Nb](tc))}}this._measures=this._measures.map(function(xb){return Ga(xb,xb.field)});return{}},cellkey:Eb(),cell:function(K,fa){var bb=this.value[K];bb?0===bb.num&&this._drop&&bb.stamp<this.stamp?(bb.stamp=this.stamp,this._adds[this._alen++]=bb):bb.stamp<this.stamp&&(bb.stamp=this.stamp,this._mods[this._mlen++]=bb):(bb=this.value[K]=this.newcell(K,fa),this._adds[this._alen++]=bb);return bb},
newcell:function(K,fa){K={key:K,num:0,agg:null,tuple:this.newtuple(fa,this._prev&&this._prev[K]),stamp:this.stamp,store:!1};if(!this._countOnly){fa=this._measures;var bb=fa.length;K.agg=Array(bb);for(var La=0;La<bb;++La)K.agg[La]=new fa[La](K)}K.store&&(K.data=new Wa);return K},newtuple:function(K,fa){for(var bb=this._dnames,La=this._dims,Fb=La.length,Vb={},Yb=0;Yb<Fb;++Yb)Vb[bb[Yb]]=La[Yb](K);return fa?S.replace(fa.tuple,Vb):S.ingest(Vb)},clean:function(){var K=this.value,fa;for(fa in K)0===K[fa].num&&
delete K[fa]},add:function(K){var fa=this.cellkey(K);fa=this.cell(fa,K);fa.num+=1;if(!this._countOnly){fa.store&&fa.data.add(K);fa=fa.agg;for(var bb=0,La=fa.length;bb<La;++bb)fa[bb].add(fa[bb].get(K),K)}},rem:function(K){var fa=this.cellkey(K);fa=this.cell(fa,K);--fa.num;if(!this._countOnly){fa.store&&fa.data.rem(K);fa=fa.agg;for(var bb=0,La=fa.length;bb<La;++bb)fa[bb].rem(fa[bb].get(K),K)}},celltuple:function(K){var fa=K.tuple,bb=this._counts;K.store&&K.data.values();for(var La=0,Fb=bb.length;La<
Fb;++La)fa[bb[La]]=K.num;if(!this._countOnly)for(K=K.agg,bb=0,La=K.length;bb<La;++bb)K[bb].set(fa);return fa},changes:function(K){var fa=this._adds,bb=this._mods,La=this._prev,Fb=this._drop,Vb=K.add,Yb=K.rem,cc=K.mod,va;if(La)for(va in La){var Ra=La[va];Fb&&!Ra.num||Yb.push(Ra.tuple)}La=0;for(va=this._alen;La<va;++La)Vb.push(this.celltuple(fa[La])),fa[La]=null;La=0;for(va=this._mlen;La<va;++La)Ra=bb[La],(0===Ra.num&&Fb?Yb:cc).push(this.celltuple(Ra)),bb[La]=null;this._alen=this._mlen=0;this._prev=
null;return K}});aa.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",
"default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};q.inherits(aa,S.Transform,{transform:function(K,fa){var bb=!1!==K.interval,La=this._bins(K),Fb=La.start,Vb=La.step,Yb=K.as||["bin0","bin1"],cc=Yb[0],va=Yb[1];K.modified()?(fa=fa.reflow(!0),K=fa.SOURCE):K=fa.modified(q.accessorFields(K.field))?fa.ADD_MOD:fa.ADD;fa.visit(K,bb?function(Ra){var yb=La(Ra);Ra[cc]=yb;Ra[va]=null==yb?null:Fb+Vb*(1+(yb-
Fb)/Vb)}:function(Ra){return Ra[cc]=La(Ra)});return fa.modifies(bb?Yb:cc)},_bins:function(K){if(this.value&&!K.modified())return this.value;var fa=K.field,bb=Pa.bin(K),La=bb.step,Fb=bb.start,Vb=Fb+Math.ceil((bb.stop-Fb)/La)*La,Yb;null!=(Yb=K.anchor)&&(Yb-=Fb+La*Math.floor((Yb-Fb)/La),Fb+=Yb,Vb+=Yb);Yb=function(cc){cc=q.toNumber(fa(cc));return null==cc?null:cc<Fb?-Infinity:cc>Vb?Infinity:(cc=Math.max(Fb,Math.min(cc,Vb-La)),Fb+La*Math.floor(1E-14+(cc-Fb)/La))};Yb.start=Fb;Yb.stop=bb.stop;Yb.step=La;
return this.value=q.accessor(Yb,q.accessorFields(fa),K.name||"bin_"+q.accessorName(fa))}});xa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};q.inherits(xa,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.ALL),La=Qa(S.tupleid,this.value,bb.materialize(bb.ADD).add),Fb=K.sort;K=fa.changed()||Fb&&(K.modified("sort")||fa.modified(Fb.fields));bb.visit(bb.REM,La.remove);this.modified(K);this.value=bb.source=La.data(S.stableCompare(Fb),K);fa.source&&fa.source.root&&
(this.value.root=fa.source.root);return bb}});q.inherits(Oa,S.Operator);ja.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};q.inherits(ja,S.Transform,{transform:function(K,fa){var bb=function(yb){return function(Nb){Nb=
cc(Nb);switch(K.case){case "upper":Nb=Nb.toUpperCase();break;case "lower":Nb=Nb.toLowerCase()}Nb=Nb.match(Vb)||[];for(var gc,tc=0,lc=Nb.length;tc<lc;++tc)Yb.test(gc=Nb[tc])||yb(gc)}},La=this._parameterCheck(K,fa),Fb=this._counts,Vb=this._match,Yb=this._stop,cc=K.field,va=K.as||["text","count"],Ra=bb(function(yb){return Fb[yb]=1+(Fb[yb]||0)});bb=bb(function(yb){return--Fb[yb]});La?fa.visit(fa.SOURCE,Ra):(fa.visit(fa.ADD,Ra),fa.visit(fa.REM,bb));return this._finish(fa,va)},_parameterCheck:function(K,
fa){var bb=!1;if(K.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(K.stopwords||"")+"$","i"),bb=!0;if(K.modified("pattern")||!this._match)this._match=new RegExp(K.pattern||"[\\w']+","g"),bb=!0;if(K.modified("field")||fa.modified(K.field.fields))bb=!0;bb&&(this._counts={});return bb},_finish:function(K,fa){var bb=this._counts,La=this._tuples||(this._tuples={}),Fb=fa[0],Vb=fa[1];K=K.fork(K.NO_SOURCE|K.NO_FIELDS);var Yb;for(Yb in bb){var cc=La[Yb];var va=bb[Yb]||0;!cc&&va?(La[Yb]=cc=S.ingest({}),
cc[Fb]=Yb,cc[Vb]=va,K.add.push(cc)):0===va?(cc&&K.rem.push(cc),bb[Yb]=null,La[Yb]=null):cc[Vb]!==va&&(cc[Vb]=va,K.mod.push(cc))}return K.modifies(fa)}});wa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};q.inherits(wa,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE),La=K.as||["a","b"],Fb=La[0],Vb=La[1],Yb=!this.value||fa.changed(fa.ADD_REM)||K.modified("as")||K.modified("filter"),
cc=this.value;if(Yb){cc&&(bb.rem=cc);fa=cc=fa.materialize(fa.SOURCE).source;K=K.filter||q.truthy;Yb=[];cc={};for(var va=fa.length,Ra=0,yb,Nb;Ra<va;++Ra)for(cc[Fb]=Nb=fa[Ra],yb=0;yb<va;++yb)cc[Vb]=fa[yb],K(cc)&&(Yb.push(S.ingest(cc)),cc={},cc[Fb]=Nb);bb.add=this.value=Yb}else bb.mod=cc;bb.source=this.value;return bb.modifies(La)}});var Rb={kde:Pa.randomKDE,mixture:Pa.randomMixture,normal:Pa.randomNormal,lognormal:Pa.randomLogNormal,uniform:Pa.randomUniform};Cb=[{key:{"function":"normal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];qa.Definition={type:"Density",metadata:{generates:!0},
params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Cb.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Cb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(qa,
S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE|fa.NO_FIELDS);if(!this.value||fa.changed()||K.modified()){var La=sa(K.distribution,Fa(fa));fa=K.steps||K.minsteps||25;var Fb=K.steps||K.maxsteps||200,Vb=K.method||"pdf";"pdf"!==Vb&&"cdf"!==Vb&&q.error("Invalid density method: "+Vb);K.extent||La.data||q.error("Missing density extent parameter.");Vb=La[Vb];var Yb=K.as||["value","density"];K=K.extent||q.extent(La.data());K=Pa.sampleCurve(Vb,K,fa,Fb).map(function(cc){var va={};va[Yb[0]]=
cc[0];va[Yb[1]]=cc[1];return S.ingest(va)});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=K}return bb}});jb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};q.inherits(jb,S.Transform,{transform:function(K,fa){if(this.value&&!K.modified()&&!fa.changed())return fa;var bb=fa.materialize(fa.SOURCE).source,
La=Za(fa.source,K.groupby,q.identity),Fb=K.smooth||!1,Vb=K.field;bb=K.step||q.span(q.extent(bb,Vb))/30;var Yb=S.stableCompare(function(xb,Qb){return Vb(xb)-Vb(Qb)});K=K.as||"bin";for(var cc=La.length,va=Infinity,Ra=-Infinity,yb=0,Nb;yb<cc;++yb){var gc=La[yb].sort(Yb);Nb=-1;for(var tc=$jscomp.makeIterator(Pa.dotbin(gc,bb,Fb,Vb)),lc=tc.next();!lc.done;lc=tc.next())lc=lc.value,lc<va&&(va=lc),lc>Ra&&(Ra=lc),gc[++Nb][K]=lc}this.value={start:va,stop:Ra,step:bb};return fa.reflow(!0).modifies(K)}});q.inherits(A,
S.Operator);I.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};q.inherits(I,S.Transform,{transform:function(K,fa){var bb=this.value,La=K.field;K=fa.changed()||fa.modified(La.fields)||K.modified("field");var Fb=bb[0],Vb=bb[1];if(K||null==Fb)Fb=Infinity,Vb=-Infinity;fa.visit(K?fa.SOURCE:fa.ADD,function(Yb){Yb=q.toNumber(La(Yb));null!=Yb&&(Yb<Fb&&(Fb=Yb),Yb>Vb&&(Vb=Yb))});Number.isFinite(Fb)&&Number.isFinite(Vb)||((bb=q.accessorName(La))&&(bb=' for field "'+bb+
'"'),fa.dataflow.warn("Infinite extent"+bb+": ["+Fb+", "+Vb+"]"),Fb=Vb=void 0);this.value=[Fb,Vb]}});q.inherits(L,S.Operator,{connect:function(K){this.detachSubflow=K.detachSubflow;this.targets().add(K);return K.source=this},add:function(K){this.count+=1;this.value.add.push(K)},rem:function(K){--this.count;this.value.rem.push(K)},mod:function(K){this.value.mod.push(K)},init:function(K){this.value.init(K,K.NO_SOURCE)},evaluate:function(){return this.value}});q.inherits(z,S.Transform,{activate:function(K){this._targets[this._targets.active++]=
K},subflow:function(K,fa,bb,La){var Fb=this.value,Vb=q.hasOwnProperty(Fb,K)&&Fb[K];if(Vb)Vb.value.stamp<bb.stamp&&(Vb.init(bb),this.activate(Vb));else{var Yb=La||(Yb=this._group[K])&&Yb.tuple;La=bb.dataflow;Vb=new L(bb.fork(bb.NO_SOURCE),this);La.add(Vb).connect(fa(La,K,Yb));Fb[K]=Vb;this.activate(Vb)}return Vb},clean:function(){var K=this.value,fa;for(fa in K)if(0===K[fa].count){var bb=K[fa].detachSubflow;bb&&bb();delete K[fa]}},initTargets:function(){for(var K=this._targets,fa=K.length,bb=0;bb<
fa&&null!=K[bb];++bb)K[bb]=null;K.active=0},transform:function(K,fa){var bb=this,La=fa.dataflow,Fb=K.key,Vb=K.subflow,Yb=this._keys,cc=K.modified("key"),va=function(Ra){return bb.subflow(Ra,Vb,fa)};this._group=K.group||{};this.initTargets();fa.visit(fa.REM,function(Ra){var yb=S.tupleid(Ra),Nb=Yb.get(yb);void 0!==Nb&&(Yb.delete(yb),va(Nb).rem(Ra))});fa.visit(fa.ADD,function(Ra){var yb=Fb(Ra);Yb.set(S.tupleid(Ra),yb);va(yb).add(Ra)});cc||fa.modified(Fb.fields)?fa.visit(fa.MOD,function(Ra){var yb=S.tupleid(Ra),
Nb=Yb.get(yb),gc=Fb(Ra);Nb===gc?va(gc).mod(Ra):(Yb.set(yb,gc),va(Nb).rem(Ra),va(gc).add(Ra))}):fa.changed(fa.MOD)&&fa.visit(fa.MOD,function(Ra){va(Yb.get(S.tupleid(Ra))).mod(Ra)});cc&&fa.visit(fa.REFLOW,function(Ra){var yb=S.tupleid(Ra),Nb=Yb.get(yb),gc=Fb(Ra);Nb!==gc&&(Yb.set(yb,gc),va(Nb).rem(Ra),va(gc).add(Ra))});fa.clean()?La.runAfter(function(){bb.clean();Yb.clean()}):Yb.empty>La.cleanThreshold&&La.runAfter(Yb.clean);return fa}});q.inherits(H,S.Operator);ma.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};q.inherits(ma,S.Transform,{transform:function(K,fa){function bb(Nb){var gc=S.tupleid(Nb),tc=Ra(Nb,K),lc=Fb.get(gc);tc&&lc?(Fb.delete(gc),Yb.push(Nb)):tc||lc?yb&&tc&&!lc&&va.push(Nb):(Fb.set(gc,1),cc.push(Nb))}var La=fa.dataflow,Fb=this.value,Vb=fa.fork(),Yb=Vb.add,cc=Vb.rem,va=Vb.mod,Ra=K.expr,yb=!0;fa.visit(fa.REM,function(Nb){var gc=S.tupleid(Nb);Fb.has(gc)?Fb.delete(gc):cc.push(Nb)});fa.visit(fa.ADD,function(Nb){Ra(Nb,K)?Yb.push(Nb):Fb.set(S.tupleid(Nb),
1)});fa.visit(fa.MOD,bb);K.modified()&&(yb=!1,fa.visit(fa.REFLOW,bb));Fb.empty>La.cleanThreshold&&La.runAfter(Fb.clean);return Vb}});Ia.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};q.inherits(Ia,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE),La=K.fields,Fb=Ba(La,K.as||[]),Vb=K.index||null,Yb=Fb.length;bb.rem=this.value;fa.visit(fa.SOURCE,function(cc){for(var va=
La.map(function(lc){return lc(cc)}),Ra=va.reduce(function(lc,xb){return Math.max(lc,xb.length)},0),yb=0,Nb,gc,tc;yb<Ra;++yb){gc=S.derive(cc);for(Nb=0;Nb<Yb;++Nb)gc[Fb[Nb]]=null==(tc=va[Nb][yb])?null:tc;Vb&&(gc[Vb]=yb);bb.add.push(gc)}});this.value=bb.source=bb.add;Vb&&bb.modifies(Vb);return bb.modifies(Fb)}});Sa.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};q.inherits(Sa,
S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE),La=K.fields,Fb=La.map(q.accessorName);K=K.as||["key","value"];var Vb=K[0],Yb=K[1],cc=La.length;bb.rem=this.value;fa.visit(fa.SOURCE,function(va){for(var Ra=0,yb;Ra<cc;++Ra)yb=S.derive(va),yb[Vb]=Fb[Ra],yb[Yb]=La[Ra](va),bb.add.push(yb)});this.value=bb.source=bb.add;return bb.modifies(K)}});E.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};q.inherits(E,S.Transform,{transform:function(K,fa){var bb=K.expr,La=K.as,Fb=K.modified(),Vb=K.initonly?fa.ADD:Fb?fa.SOURCE:fa.modified(bb.fields)||fa.modified(La)?fa.ADD_MOD:fa.ADD;Fb&&(fa=fa.materialize().reflow(!0));K.initonly||fa.modifies(La);return fa.visit(Vb,function(Yb){return Yb[La]=bb(Yb,K)})}});q.inherits(ha,S.Transform,{transform:function(K,fa){fa=fa.fork(fa.ALL);var bb=K.generator,La=this.value,Fb=K.size-La.length,Vb,Yb;if(0<Fb){for(Vb=[];0<=--Fb;)Vb.push(Yb=S.ingest(bb(K))),
La.push(Yb);fa.add=fa.add.length?fa.materialize(fa.ADD).add.concat(Vb):Vb}else K=La.slice(0,-Fb),fa.rem=fa.rem.length?fa.materialize(fa.REM).rem.concat(K):K,La=La.slice(-Fb);fa.source=this.value=La;return fa}});var Rc={value:"value",median:Hb.median,mean:Hb.mean,min:Hb.min,max:Hb.max},se=[];Y.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",
type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};q.inherits(Y,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.ALL),La=V(K),Fb=w(K),Vb=q.accessorName(K.field),Yb=q.accessorName(K.key),cc=(K.groupby||[]).map(q.accessorName);K=F(fa.source,K.groupby,K.key,K.keyvals);fa=[];var va=this.value,Ra=K.domain.length,yb,Nb,gc;var tc=0;for(Nb=K.length;tc<Nb;++tc){var lc=K[tc];var xb=lc.values;var Qb=NaN;for(yb=0;yb<Ra;++yb)if(null==lc[yb]){var Gc=
K.domain[yb];var $b={_impute:!0};var Ac=0;for(gc=xb.length;Ac<gc;++Ac)$b[cc[Ac]]=xb[Ac];$b[Yb]=Gc;$b[Vb]=Number.isNaN(Qb)?Qb=La(lc,Fb):Qb;fa.push(S.ingest($b))}}fa.length&&(bb.add=bb.materialize(bb.ADD).add.concat(fa));va.length&&(bb.rem=bb.materialize(bb.REM).rem.concat(va));this.value=fa;return bb}});h.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ud},
{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};q.inherits(h,la,{transform:function(K,fa){var bb=this,La=K.modified();if(bb.value&&(La||fa.modified(bb._inputs,!0))){var Fb=bb.value=La?bb.init(K):{};fa.visit(fa.SOURCE,function(Vb){return bb.add(Vb)})}else Fb=bb.value=bb.value||this.init(K),fa.visit(fa.REM,function(Vb){return bb.rem(Vb)}),fa.visit(fa.ADD,function(Vb){return bb.add(Vb)});bb.changes();fa.visit(fa.SOURCE,function(Vb){q.extend(Vb,Fb[bb.cellkey(Vb)].tuple)});return fa.reflow(La).modifies(this._outputs)},
changes:function(){var K=this._adds,fa=this._mods,bb;var La=0;for(bb=this._alen;La<bb;++La)this.celltuple(K[La]),K[La]=null;La=0;for(bb=this._mlen;La<bb;++La)this.celltuple(fa[La]),fa[La]=null;this._alen=this._mlen=0}});k.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",
type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(k,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE|fa.NO_FIELDS);if(!this.value||fa.changed()||K.modified()){fa=fa.materialize(fa.SOURCE).source;var La=Za(fa,K.groupby,
K.field),Fb=(K.groupby||[]).map(q.accessorName),Vb=K.bandwidth,Yb=K.cumulative?"cdf":"pdf",cc=K.as||["value","density"],va=[],Ra=K.extent,yb=K.steps||K.minsteps||25,Nb=K.steps||K.maxsteps||200;"pdf"!==Yb&&"cdf"!==Yb&&q.error("Invalid density method: "+Yb);"shared"===K.resolve&&(Ra||(Ra=q.extent(fa,K.field)),yb=Nb=K.steps||Nb);La.forEach(function(gc){var tc=Pa.randomKDE(gc,Vb)[Yb],lc=K.counts?gc.length:1,xb=Ra||q.extent(gc);Pa.sampleCurve(tc,xb,yb,Nb).forEach(function(Qb){for(var Gc={},$b=0;$b<Fb.length;++$b)Gc[Fb[$b]]=
gc.dims[$b];Gc[cc[0]]=Qb[0];Gc[cc[1]]=Qb[1]*lc;va.push(S.ingest(Gc))})});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=va}return bb}});q.inherits(m,S.Operator);q.inherits(v,S.Transform,{transform:function(K,fa){var bb=this,La=fa.dataflow;return this._pending?ba(this,fa,this._pending):J(K)?fa.StopPropagation:K.values?ba(this,fa,La.parse(K.values,K.format)):K.async?{async:La.request(K.url,K.format).then(function(Fb){bb._pending=q.array(Fb.data);return function(Vb){return Vb.touch(bb)}})}:
La.request(K.url,K.format).then(function(Fb){return ba(bb,fa,q.array(Fb.data))})}});ka.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};q.inherits(ka,S.Transform,{transform:function(K,fa){var bb=K.fields,La=K.index,Fb=K.values,
Vb=null==K.default?null:K.default,Yb=K.modified(),cc=bb.length,va=Yb?fa.SOURCE:fa.ADD,Ra=fa,yb=K.as;if(Fb){var Nb=Fb.length;1<cc&&!yb&&q.error('Multi-field lookup requires explicit "as" parameter.');yb&&yb.length!==cc*Nb&&q.error('The "as" parameter has too few output field names.');yb=yb||Fb.map(q.accessorName);K=function(gc){for(var tc=0,lc=0,xb,Qb;tc<cc;++tc)if(Qb=La.get(bb[tc](gc)),null==Qb)for(xb=0;xb<Nb;++xb,++lc)gc[yb[lc]]=Vb;else for(xb=0;xb<Nb;++xb,++lc)gc[yb[lc]]=Fb[xb](Qb)}}else yb||q.error("Missing output field names."),
K=function(gc){for(var tc=0,lc;tc<cc;++tc)lc=La.get(bb[tc](gc)),gc[yb[tc]]=null==lc?Vb:lc};Yb?Ra=fa.reflow(!0):(Yb=bb.some(function(gc){return fa.modified(gc.fields)}),va|=Yb?fa.MOD:0);fa.visit(va,K);return Ra.modifies(yb)}});q.inherits(ua,S.Operator);q.inherits(eb,S.Operator);q.inherits(Ka,S.Transform,{transform:function(K,fa){this.modified(K.modified());this.value=K;return fa.fork(fa.NO_SOURCE|fa.NO_FIELDS)}});Z.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ud,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};q.inherits(Z,la,{_transform:la.prototype.transform,transform:function(K,fa){return this._transform(ra(K,fa),fa)}});q.inherits(Ib,z,{transform:function(K,fa){var bb=this,La=K.subflow,Fb=K.field,Vb=function(Yb){return bb.subflow(S.tupleid(Yb),La,fa,Yb)};(K.modified("field")||Fb&&fa.modified(q.accessorFields(Fb)))&&
q.error("PreFacet does not support field modification.");this.initTargets();Fb?(fa.visit(fa.MOD,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.mod(va)})}),fa.visit(fa.ADD,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.add(S.ingest(va))})}),fa.visit(fa.REM,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.rem(va)})})):(fa.visit(fa.MOD,function(Yb){return Vb(Yb).mod(Yb)}),fa.visit(fa.ADD,function(Yb){return Vb(Yb).add(Yb)}),fa.visit(fa.REM,function(Yb){return Vb(Yb).rem(Yb)}));
fa.clean()&&fa.runAfter(function(){return bb.clean()});return fa}});Xb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};q.inherits(Xb,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE),La=K.fields,Fb=Ba(K.fields,K.as||[]),Vb=La?function(cc,va){for(var Ra=0,yb=La.length;Ra<yb;++Ra)va[Fb[Ra]]=La[Ra](cc);return va}:S.rederive;if(this.value)var Yb=this.value;else fa=fa.addAll(),Yb=
this.value={};fa.visit(fa.REM,function(cc){cc=S.tupleid(cc);bb.rem.push(Yb[cc]);Yb[cc]=null});fa.visit(fa.ADD,function(cc){var va=Vb(cc,S.ingest({}));Yb[S.tupleid(cc)]=va;bb.add.push(va)});fa.visit(fa.MOD,function(cc){bb.mod.push(Vb(cc,Yb[S.tupleid(cc)]))});return bb}});q.inherits(za,S.Transform,{transform:function(K,fa){this.value=K.value;return K.modified("value")?fa.fork(fa.NO_SOURCE|fa.NO_FIELDS):fa.StopPropagation}});wb.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};q.inherits(wb,S.Transform,{transform:function(K,fa){var bb=fa.fork(fa.NO_SOURCE|fa.NO_FIELDS),La=K.as||["prob","value"];if(this.value&&!K.modified()&&!fa.changed())return bb.source=this.value,bb;fa=fa.materialize(fa.SOURCE).source;fa=Za(fa,K.groupby,K.field);var Fb=(K.groupby||[]).map(q.accessorName),
Vb=[],Yb=K.step||.01,cc=K.probs||Hb.range(Yb/2,1-1E-14,Yb),va=cc.length;fa.forEach(function(Ra){for(var yb=Pa.quantiles(Ra,cc),Nb=0;Nb<va;++Nb){for(var gc={},tc=0;tc<Fb.length;++tc)gc[Fb[tc]]=Ra.dims[tc];gc[La[0]]=cc[Nb];gc[La[1]]=yb[Nb];Vb.push(S.ingest(gc))}});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=Vb;return bb}});q.inherits(Tb,S.Transform,{transform:function(K,fa){if(this.value)var bb=this.value;else{var La=fa=fa.addAll();bb=this.value={}}K.derive&&(La=fa.fork(fa.NO_SOURCE),
fa.visit(fa.REM,function(Fb){Fb=S.tupleid(Fb);La.rem.push(bb[Fb]);bb[Fb]=null}),fa.visit(fa.ADD,function(Fb){var Vb=S.derive(Fb);bb[S.tupleid(Fb)]=Vb;La.add.push(Vb)}),fa.visit(fa.MOD,function(Fb){var Vb=bb[S.tupleid(Fb)],Yb;for(Yb in Fb)Vb[Yb]=Fb[Yb],La.modifies(Yb);La.mod.push(Vb)}));return La}});rb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};q.inherits(rb,S.Transform,{transform:function(K,fa){function bb(yb){if(cc.length<Vb)cc.push(yb);else{var Nb=
~~((va+1)*Pa.random());if(Nb<cc.length&&Nb>=Ra){var gc=cc[Nb];Yb[S.tupleid(gc)]&&La.rem.push(gc);cc[Nb]=yb}}++va}var La=fa.fork(fa.NO_SOURCE),Fb=K.modified("size"),Vb=K.size,Yb=this.value.reduce(function(yb,Nb){return yb[S.tupleid(Nb)]=1,yb},{}),cc=this.value,va=this.count,Ra=0;fa.rem.length&&(fa.visit(fa.REM,function(yb){var Nb=S.tupleid(yb);Yb[Nb]&&(Yb[Nb]=-1,La.rem.push(yb));--va}),cc=cc.filter(function(yb){return-1!==Yb[S.tupleid(yb)]}));(fa.rem.length||Fb)&&cc.length<Vb&&fa.source&&(Ra=va=cc.length,
fa.visit(fa.SOURCE,function(yb){Yb[S.tupleid(yb)]||bb(yb)}),Ra=-1);if(Fb&&cc.length>Vb){K=cc.length-Vb;for(Fb=0;Fb<K;++Fb)Yb[S.tupleid(cc[Fb])]=-1,La.rem.push(cc[Fb]);cc=cc.slice(K)}fa.mod.length&&fa.visit(fa.MOD,function(yb){Yb[S.tupleid(yb)]&&La.mod.push(yb)});fa.add.length&&fa.visit(fa.ADD,bb);if(fa.add.length||0>Ra)La.add=cc.filter(function(yb){return!Yb[S.tupleid(yb)]});this.count=va;this.value=La.source=cc;return La}});Sb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};q.inherits(Sb,S.Transform,{transform:function(K,fa){if(!this.value||K.modified()){var bb=fa.materialize().fork(fa.MOD),La=K.as||"data";bb.rem=this.value?fa.rem.concat(this.value):fa.rem;this.value=Hb.range(K.start,K.stop,K.step||1).map(function(Fb){var Vb={};Vb[La]=Fb;return S.ingest(Vb)});bb.add=fa.add.concat(this.value);return bb}}});q.inherits(ic,
S.Transform,{transform:function(K,fa){this.value=fa.source;return fa.changed()?fa.fork(fa.NO_SOURCE|fa.NO_FIELDS):fa.StopPropagation}});var De=["unit0","unit1"];rc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Ma.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":De}]};q.inherits(rc,S.Transform,{transform:function(K,fa){var bb=K.field,La=!1!==K.interval,Fb="utc"===K.timezone,Vb=this._floor(K,fa),Yb=(Fb?Ma.utcInterval:Ma.timeInterval)(Vb.unit).offset;Fb=K.as||De;var cc=Fb[0],va=Fb[1],Ra=Vb.step,yb=Vb.start||Infinity,Nb=Vb.stop||-Infinity,gc=fa.ADD;if(K.modified()||fa.modified(q.accessorFields(bb)))fa=fa.reflow(!0),gc=fa.SOURCE,yb=Infinity,Nb=-Infinity;
fa.visit(gc,function(tc){var lc=bb(tc),xb;null==lc?(tc[cc]=null,La&&(tc[va]=null)):(tc[cc]=lc=xb=Vb(lc),La&&(tc[va]=xb=Yb(lc,Ra)),lc<yb&&(yb=lc),xb>Nb&&(Nb=xb))});Vb.start=yb;Vb.stop=Nb;return fa.modifies(La?Fb:cc)},_floor:function(K,fa){var bb="utc"===K.timezone;fa=K.units?{units:K.units,step:K.step||1}:Ma.timeBin({extent:K.extent||q.extent(fa.materialize(fa.SOURCE).source,K.field),maxbins:K.maxbins});K=fa.step;fa=Ma.timeUnits(fa.units);var La=this.value||{};bb=(bb?Ma.utcFloor:Ma.timeFloor)(fa,K);
bb.unit=q.peek(fa);bb.units=fa;bb.step=K;bb.start=La.start;bb.stop=La.stop;return this.value=bb}});q.inherits(Tc,S.Transform,{transform:function(K,fa){var bb=fa.dataflow,La=K.field,Fb=this.value,Vb=function(cc){return Fb.set(La(cc),cc)},Yb=!0;K.modified("field")||fa.modified(La.fields)?(Fb.clear(),fa.visit(fa.SOURCE,Vb)):fa.changed()?(fa.visit(fa.REM,function(cc){return Fb.delete(La(cc))}),fa.visit(fa.ADD,Vb)):Yb=!1;this.modified(Yb);Fb.empty>bb.cleanThreshold&&bb.runAfter(Fb.clean);return fa.fork()}});
q.inherits(pc,S.Transform,{transform:function(K,fa){if(!this.value||K.modified("field")||K.modified("sort")||fa.changed()||K.sort&&fa.modified(K.sort.fields))this.value=(K.sort?fa.source.slice().sort(S.stableCompare(K.sort)):fa.source).map(K.field)}});var Ne={row_number:function(){return{next:function(K){return K.index+1}}},rank:function(){var K;return{init:function(){return K=1},next:function(fa){var bb=fa.index,La=fa.data;return bb&&fa.compare(La[bb-1],La[bb])?K=bb+1:K}}},dense_rank:function(){var K;
return{init:function(){return K=1},next:function(fa){var bb=fa.index,La=fa.data;return bb&&fa.compare(La[bb-1],La[bb])?++K:K}}},percent_rank:function(){var K=Ne.rank(),fa=K.next;return{init:K.init,next:function(bb){return(fa(bb)-1)/(bb.data.length-1)}}},cume_dist:function(){var K;return{init:function(){return K=0},next:function(fa){var bb=fa.data,La=fa.compare;fa=fa.index;if(K<fa){for(;fa+1<bb.length&&!La(bb[fa],bb[fa+1]);)++fa;K=fa}return(1+K)/bb.length}}},ntile:function(K,fa){fa=+fa;0<fa||q.error("ntile num must be greater than zero.");
K=Ne.cume_dist();var bb=K.next;return{init:K.init,next:function(La){return Math.ceil(fa*bb(La))}}},lag:function(K,fa){fa=+fa||1;return{next:function(bb){var La=bb.index-fa;return 0<=La?K(bb.data[La]):null}}},lead:function(K,fa){fa=+fa||1;return{next:function(bb){var La=bb.index+fa;bb=bb.data;return La<bb.length?K(bb[La]):null}}},first_value:function(K){return{next:function(fa){return K(fa.data[fa.i0])}}},last_value:function(K){return{next:function(fa){return K(fa.data[fa.i1-1])}}},nth_value:function(K,
fa){fa=+fa;0<fa||q.error("nth_value nth must be greater than zero.");return{next:function(bb){var La=bb.i0+(fa-1);return La<bb.i1?K(bb.data[La]):null}}},prev_value:function(K){var fa;return{init:function(){return fa=null},next:function(bb){bb=K(bb.data[bb.index]);return null!=bb?fa=bb:fa}}},next_value:function(K){var fa,bb;return{init:function(){return fa=null,bb=-1},next:function(La){var Fb=La.data;if(La.index<=bb)Fb=fa;else{a:{La=La.index;for(var Vb=Fb.length;La<Vb;++La)if(null!=K(Fb[La]))break a;
La=-1}Fb=0>(bb=La)?(bb=Fb.length,fa=null):fa=K(Fb[bb])}return Fb}}}};Cb=Object.keys(Ne);var Md=bc.prototype;Md.init=function(){this.windows.forEach(function(K){return K.init()});this.cell&&this.cell.init()};Md.update=function(K,fa){var bb=this.cell,La=this.windows,Fb=K.data,Vb=La&&La.length,Yb;if(bb){for(Yb=K.p0;Yb<K.i0;++Yb)bb.rem(Fb[Yb]);for(Yb=K.p1;Yb<K.i1;++Yb)bb.add(Fb[Yb]);bb.set(fa)}for(Yb=0;Yb<Vb;++Yb)La[Yb].update(K,fa)};xc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",
type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Cb.concat(ud)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};q.inherits(xc,S.Transform,{transform:function(K,fa){var bb=this;this.stamp=fa.stamp;var La=K.modified(),Fb=S.stableCompare(K.sort),
Vb=Eb(K.groupby),Yb=this.state;if(!Yb||La)Yb=this.state=new bc(K);La||fa.modified(Yb.inputs)?(this.value={},fa.visit(fa.SOURCE,function(Ra){return bb.group(Vb(Ra)).add(Ra)})):(fa.visit(fa.REM,function(Ra){return bb.group(Vb(Ra)).remove(Ra)}),fa.visit(fa.ADD,function(Ra){return bb.group(Vb(Ra)).add(Ra)}));for(var cc=0,va=this._mlen;cc<va;++cc)Xc(this._mods[cc],Yb,Fb,K);this._mlen=0;this._mods=[];return fa.reflow(La).modifies(Yb.outputs)},group:function(K){var fa=this.value[K];fa||(fa=this.value[K]=
Qa(S.tupleid),fa.stamp=-1);fa.stamp<this.stamp&&(fa.stamp=this.stamp,this._mods[this._mlen++]=fa);return fa}});n.aggregate=la;n.bin=aa;n.collect=xa;n.compare=Oa;n.countpattern=ja;n.cross=wa;n.density=qa;n.dotbin=jb;n.expression=A;n.extent=I;n.facet=z;n.field=H;n.filter=ma;n.flatten=Ia;n.fold=Sa;n.formula=E;n.generate=ha;n.impute=Y;n.joinaggregate=h;n.kde=k;n.key=m;n.load=v;n.lookup=ka;n.multiextent=ua;n.multivalues=eb;n.params=Ka;n.pivot=Z;n.prefacet=Ib;n.project=Xb;n.proxy=za;n.quantile=wb;n.relay=
Tb;n.sample=rb;n.sequence=Sb;n.sieve=ic;n.subflow=L;n.timeunit=rc;n.tupleindex=Tc;n.values=pc;n.window=xc;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[15]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function S(){return new q}var Pa=Math.PI,Hb=2*Pa,Ma=Hb-1E-6;q.prototype=S.prototype={constructor:q,moveTo:function(cb,Eb){this._+="M"+(this._x0=this._x1=+cb)+","+(this._y0=this._y1=+Eb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(cb,Eb){this._+="L"+(this._x1=+cb)+","+(this._y1=+Eb)},quadraticCurveTo:function(cb,Eb,qb,Ea){this._+="Q"+ +cb+","+ +Eb+","+(this._x1=+qb)+","+(this._y1=+Ea)},bezierCurveTo:function(cb,Eb,qb,Ea,$a,db){this._+="C"+ +cb+","+ +Eb+","+ +qb+","+ +Ea+","+(this._x1=+$a)+","+(this._y1=+db)},arcTo:function(cb,Eb,qb,Ea,$a){cb=+cb;Eb=+Eb;qb=+qb;Ea=+Ea;$a=+$a;var db=this._x1,Ja=this._y1,ea=qb-cb,pa=Ea-Eb,Ga=db-cb,Wa=Ja-Eb,la=Ga*Ga+Wa*Wa;if(0>$a)throw Error("negative radius: "+
$a);if(null===this._x1)this._+="M"+(this._x1=cb)+","+(this._y1=Eb);else if(1E-6<la)if(1E-6<Math.abs(Wa*ea-pa*Ga)&&$a){qb-=db;Ea-=Ja;var aa=ea*ea+pa*pa;Ja=Math.sqrt(aa);db=Math.sqrt(la);la=$a*Math.tan((Pa-Math.acos((aa+la-(qb*qb+Ea*Ea))/(2*Ja*db)))/2);db=la/db;la/=Ja;1E-6<Math.abs(db-1)&&(this._+="L"+(cb+db*Ga)+","+(Eb+db*Wa));this._+="A"+$a+","+$a+",0,0,"+ +(Wa*qb>Ga*Ea)+","+(this._x1=cb+la*ea)+","+(this._y1=Eb+la*pa)}else this._+="L"+(this._x1=cb)+","+(this._y1=Eb)},arc:function(cb,Eb,qb,Ea,$a,db){cb=
+cb;Eb=+Eb;qb=+qb;db=!!db;var Ja=qb*Math.cos(Ea),ea=qb*Math.sin(Ea),pa=cb+Ja,Ga=Eb+ea,Wa=1^db;Ea=db?Ea-$a:$a-Ea;if(0>qb)throw Error("negative radius: "+qb);if(null===this._x1)this._+="M"+pa+","+Ga;else if(1E-6<Math.abs(this._x1-pa)||1E-6<Math.abs(this._y1-Ga))this._+="L"+pa+","+Ga;qb&&(0>Ea&&(Ea=Ea%Hb+Hb),Ea>Ma?this._+="A"+qb+","+qb+",0,1,"+Wa+","+(cb-Ja)+","+(Eb-ea)+"A"+qb+","+qb+",0,1,"+Wa+","+(this._x1=pa)+","+(this._y1=Ga):1E-6<Ea&&(this._+="A"+qb+","+qb+",0,"+ +(Ea>=Pa)+","+Wa+","+(this._x1=
cb+qb*Math.cos($a))+","+(this._y1=Eb+qb*Math.sin($a))))},rect:function(cb,Eb,qb,Ea){this._+="M"+(this._x0=this._x1=+cb)+","+(this._y0=this._y1=+Eb)+"h"+ +qb+"v"+ +Ea+"h"+-qb+"Z"},toString:function(){return this._}};n.path=S;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[16]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(15)):"function"===typeof define&&define.amd?define(["exports","d3-path"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(va){return function(){return va}}function Pa(va){return 1<=va?ic:-1>=va?-ic:Math.asin(va)}function Hb(va){return va.innerRadius}function Ma(va){return va.outerRadius}function cb(va){return va.startAngle}function Eb(va){return va.endAngle}function qb(va){return va&&
va.padAngle}function Ea(va,Ra,yb,Nb,gc,tc,lc){var xb=va-yb,Qb=Ra-Nb;lc=(lc?tc:-tc)/rb(xb*xb+Qb*Qb);Qb*=lc;xb*=-lc;var Gc=va+Qb,$b=Ra+xb,Ac=yb+Qb,Jc=Nb+xb;yb=(Gc+Ac)/2;Nb=($b+Jc)/2;Ra=Ac-Gc;va=Jc-$b;lc=Ra*Ra+va*va;tc=gc-tc;Jc=Gc*Jc-Ac*$b;var Hc=(0>va?-1:1)*rb(za(0,tc*tc*lc-Jc*Jc));Gc=(Jc*va-Ra*Hc)/lc;$b=(-Jc*Ra-va*Hc)/lc;Ac=(Jc*va+Ra*Hc)/lc;Ra=(-Jc*Ra+va*Hc)/lc;va=Gc-yb;lc=$b-Nb;yb=Ac-yb;Nb=Ra-Nb;va*va+lc*lc>yb*yb+Nb*Nb&&(Gc=Ac,$b=Ra);return{cx:Gc,cy:$b,x01:-Qb,y01:-xb,x11:Gc*(gc/tc-1),y11:$b*(gc/
tc-1)}}function $a(va){return"object"===typeof va&&"length"in va?va:Array.from(va)}function db(va){this._context=va}function Ja(va){return new db(va)}function ea(va){return va[0]}function pa(va){return va[1]}function Ga(va,Ra){function yb(xb){var Qb,Gc=(xb=$a(xb)).length,$b,Ac=!1,Jc;null==gc&&(lc=tc(Jc=q.path()));for(Qb=0;Qb<=Gc;++Qb)!(Qb<Gc&&Nb($b=xb[Qb],Qb,xb))===Ac&&((Ac=!Ac)?lc.lineStart():lc.lineEnd()),Ac&&lc.point(+va($b,Qb,xb),+Ra($b,Qb,xb));if(Jc)return lc=null,Jc+""||null}var Nb=S(!0),gc=
null,tc=Ja,lc=null;va="function"===typeof va?va:void 0===va?ea:S(va);Ra="function"===typeof Ra?Ra:void 0===Ra?pa:S(Ra);yb.x=function(xb){return arguments.length?(va="function"===typeof xb?xb:S(+xb),yb):va};yb.y=function(xb){return arguments.length?(Ra="function"===typeof xb?xb:S(+xb),yb):Ra};yb.defined=function(xb){return arguments.length?(Nb="function"===typeof xb?xb:S(!!xb),yb):Nb};yb.curve=function(xb){return arguments.length?(tc=xb,null!=gc&&(lc=tc(gc)),yb):tc};yb.context=function(xb){return arguments.length?
(null==xb?gc=lc=null:lc=tc(gc=xb),yb):gc};return yb}function Wa(va,Ra,yb){function Nb($b){var Ac,Jc,Hc=($b=$a($b)).length,ad,md=!1,od,rd=Array(Hc),Vd=Array(Hc);null==xb&&(Gc=Qb(od=q.path()));for(Ac=0;Ac<=Hc;++Ac){if(!(Ac<Hc&&lc(ad=$b[Ac],Ac,$b))===md)if(md=!md){var Zd=Ac;Gc.areaStart();Gc.lineStart()}else{Gc.lineEnd();Gc.lineStart();for(Jc=Ac-1;Jc>=Zd;--Jc)Gc.point(rd[Jc],Vd[Jc]);Gc.lineEnd();Gc.areaEnd()}md&&(rd[Ac]=+va(ad,Ac,$b),Vd[Ac]=+Ra(ad,Ac,$b),Gc.point(tc?+tc(ad,Ac,$b):rd[Ac],yb?+yb(ad,Ac,
$b):Vd[Ac]))}if(od)return Gc=null,od+""||null}function gc(){return Ga().defined(lc).curve(Qb).context(xb)}var tc=null,lc=S(!0),xb=null,Qb=Ja,Gc=null;va="function"===typeof va?va:void 0===va?ea:S(+va);Ra="function"===typeof Ra?Ra:void 0===Ra?S(0):S(+Ra);yb="function"===typeof yb?yb:void 0===yb?pa:S(+yb);Nb.x=function($b){return arguments.length?(va="function"===typeof $b?$b:S(+$b),tc=null,Nb):va};Nb.x0=function($b){return arguments.length?(va="function"===typeof $b?$b:S(+$b),Nb):va};Nb.x1=function($b){return arguments.length?
(tc=null==$b?null:"function"===typeof $b?$b:S(+$b),Nb):tc};Nb.y=function($b){return arguments.length?(Ra="function"===typeof $b?$b:S(+$b),yb=null,Nb):Ra};Nb.y0=function($b){return arguments.length?(Ra="function"===typeof $b?$b:S(+$b),Nb):Ra};Nb.y1=function($b){return arguments.length?(yb=null==$b?null:"function"===typeof $b?$b:S(+$b),Nb):yb};Nb.lineX0=Nb.lineY0=function(){return gc().x(va).y(Ra)};Nb.lineY1=function(){return gc().x(va).y(yb)};Nb.lineX1=function(){return gc().x(tc).y(Ra)};Nb.defined=
function($b){return arguments.length?(lc="function"===typeof $b?$b:S(!!$b),Nb):lc};Nb.curve=function($b){return arguments.length?(Qb=$b,null!=xb&&(Gc=Qb(xb)),Nb):Qb};Nb.context=function($b){return arguments.length?(null==$b?xb=Gc=null:Gc=Qb(xb=$b),Nb):xb};return Nb}function la(va,Ra){return Ra<va?-1:Ra>va?1:Ra>=va?0:NaN}function aa(va){return va}function Qa(va){this._curve=va}function xa(va){function Ra(yb){return new Qa(va(yb))}Ra._curve=va;return Ra}function Oa(va){var Ra=va.curve;va.angle=va.x;
delete va.x;va.radius=va.y;delete va.y;va.curve=function(yb){return arguments.length?Ra(xa(yb)):Ra()._curve};return va}function ya(){return Oa(Ga().curve(pc))}function ja(){var va=Wa().curve(pc),Ra=va.curve,yb=va.lineX0,Nb=va.lineX1,gc=va.lineY0,tc=va.lineY1;va.angle=va.x;delete va.x;va.startAngle=va.x0;delete va.x0;va.endAngle=va.x1;delete va.x1;va.radius=va.y;delete va.y;va.innerRadius=va.y0;delete va.y0;va.outerRadius=va.y1;delete va.y1;va.lineStartAngle=function(){return Oa(yb())};delete va.lineX0;
va.lineEndAngle=function(){return Oa(Nb())};delete va.lineX1;va.lineInnerRadius=function(){return Oa(gc())};delete va.lineY0;va.lineOuterRadius=function(){return Oa(tc())};delete va.lineY1;va.curve=function(lc){return arguments.length?Ra(xa(lc)):Ra()._curve};return va}function wa(va,Ra){return[(Ra=+Ra)*Math.cos(va-=Math.PI/2),Ra*Math.sin(va)]}function sa(va){return va.source}function qa(va){return va.target}function Fa(va){function Ra(){var xb,Qb=Tc.call(arguments),Gc=yb.apply(this,Qb),$b=Nb.apply(this,
Qb);lc||(lc=xb=q.path());va(lc,+gc.apply(this,(Qb[0]=Gc,Qb)),+tc.apply(this,Qb),+gc.apply(this,(Qb[0]=$b,Qb)),+tc.apply(this,Qb));if(xb)return lc=null,xb+""||null}var yb=sa,Nb=qa,gc=ea,tc=pa,lc=null;Ra.source=function(xb){return arguments.length?(yb=xb,Ra):yb};Ra.target=function(xb){return arguments.length?(Nb=xb,Ra):Nb};Ra.x=function(xb){return arguments.length?(gc="function"===typeof xb?xb:S(+xb),Ra):gc};Ra.y=function(xb){return arguments.length?(tc="function"===typeof xb?xb:S(+xb),Ra):tc};Ra.context=
function(xb){return arguments.length?(lc=null==xb?null:xb,Ra):lc};return Ra}function Ba(va,Ra,yb,Nb,gc){va.moveTo(Ra,yb);va.bezierCurveTo(Ra=(Ra+Nb)/2,yb,Ra,gc,Nb,gc)}function Za(va,Ra,yb,Nb,gc){va.moveTo(Ra,yb);va.bezierCurveTo(Ra,yb=(yb+gc)/2,Nb,yb,Nb,gc)}function jb(va,Ra,yb,Nb,gc){var tc=wa(Ra,yb);Ra=wa(Ra,yb=(yb+gc)/2);yb=wa(Nb,yb);Nb=wa(Nb,gc);va.moveTo(tc[0],tc[1]);va.bezierCurveTo(Ra[0],Ra[1],yb[0],yb[1],Nb[0],Nb[1])}function A(){}function y(va,Ra,yb){va._context.bezierCurveTo((2*va._x0+va._x1)/
3,(2*va._y0+va._y1)/3,(va._x0+2*va._x1)/3,(va._y0+2*va._y1)/3,(va._x0+4*va._x1+Ra)/6,(va._y0+4*va._y1+yb)/6)}function I(va){this._context=va}function L(va){this._context=va}function z(va){this._context=va}function H(va,Ra){this._basis=new I(va);this._beta=Ra}function O(va,Ra,yb){va._context.bezierCurveTo(va._x1+va._k*(va._x2-va._x0),va._y1+va._k*(va._y2-va._y0),va._x2+va._k*(va._x1-Ra),va._y2+va._k*(va._y1-yb),va._x2,va._y2)}function ma(va,Ra){this._context=va;this._k=(1-Ra)/6}function Ia(va,Ra){this._context=
va;this._k=(1-Ra)/6}function Sa(va,Ra){this._context=va;this._k=(1-Ra)/6}function E(va,Ra,yb){var Nb=va._x1,gc=va._y1,tc=va._x2,lc=va._y2;if(1E-12<va._l01_a){var xb=2*va._l01_2a+3*va._l01_a*va._l12_a+va._l12_2a,Qb=3*va._l01_a*(va._l01_a+va._l12_a);Nb=(Nb*xb-va._x0*va._l12_2a+va._x2*va._l01_2a)/Qb;gc=(gc*xb-va._y0*va._l12_2a+va._y2*va._l01_2a)/Qb}1E-12<va._l23_a&&(xb=2*va._l23_2a+3*va._l23_a*va._l12_a+va._l12_2a,Qb=3*va._l23_a*(va._l23_a+va._l12_a),tc=(tc*xb+va._x1*va._l23_2a-Ra*va._l12_2a)/Qb,lc=
(lc*xb+va._y1*va._l23_2a-yb*va._l12_2a)/Qb);va._context.bezierCurveTo(Nb,gc,tc,lc,va._x2,va._y2)}function ha(va,Ra){this._context=va;this._alpha=Ra}function Y(va,Ra){this._context=va;this._alpha=Ra}function V(va,Ra){this._context=va;this._alpha=Ra}function w(va){this._context=va}function F(va,Ra,yb){var Nb=va._x1-va._x0;Ra-=va._x1;var gc=(va._y1-va._y0)/(Nb||0>Ra&&-0);va=(yb-va._y1)/(Ra||0>Nb&&-0);return((0>gc?-1:1)+(0>va?-1:1))*Math.min(Math.abs(gc),Math.abs(va),.5*Math.abs((gc*Ra+va*Nb)/(Nb+Ra)))||
0}function h(va,Ra){var yb=va._x1-va._x0;return yb?(3*(va._y1-va._y0)/yb-Ra)/2:Ra}function k(va,Ra,yb){var Nb=va._x0,gc=va._x1,tc=va._y1,lc=(gc-Nb)/3;va._context.bezierCurveTo(Nb+lc,va._y0+lc*Ra,gc-lc,tc-lc*yb,gc,tc)}function m(va){this._context=va}function r(va){this._context=new v(va)}function v(va){this._context=va}function J(va){this._context=va}function ba(va){var Ra,yb=va.length-1,Nb=Array(yb),gc=Array(yb),tc=Array(yb);Nb[0]=0;gc[0]=2;tc[0]=va[0]+2*va[1];for(Ra=1;Ra<yb-1;++Ra)Nb[Ra]=1,gc[Ra]=
4,tc[Ra]=4*va[Ra]+2*va[Ra+1];Nb[yb-1]=2;gc[yb-1]=7;tc[yb-1]=8*va[yb-1]+va[yb];for(Ra=1;Ra<yb;++Ra){var lc=Nb[Ra]/gc[Ra-1];gc[Ra]-=lc;tc[Ra]-=lc*tc[Ra-1]}Nb[yb-1]=tc[yb-1]/gc[yb-1];for(Ra=yb-2;0<=Ra;--Ra)Nb[Ra]=(tc[Ra]-Nb[Ra+1])/gc[Ra];gc[yb-1]=(va[yb]+Nb[yb-1])/2;for(Ra=0;Ra<yb-1;++Ra)gc[Ra]=2*va[Ra+1]-Nb[Ra+1];return[Nb,gc]}function ka(va,Ra){this._context=va;this._t=Ra}function ua(va,Ra){if(1<(lc=va.length))for(var yb=1,Nb,gc,tc=va[Ra[0]],lc,xb=tc.length;yb<lc;++yb)for(gc=tc,tc=va[Ra[yb]],Nb=0;Nb<
xb;++Nb)tc[Nb][1]+=tc[Nb][0]=isNaN(gc[Nb][1])?gc[Nb][0]:gc[Nb][1]}function fb(va){va=va.length;for(var Ra=Array(va);0<=--va;)Ra[va]=va;return Ra}function eb(va,Ra){return va[Ra]}function Ca(va){var Ra=[];Ra.key=va;return Ra}function Ka(va){var Ra=va.map(Z);return fb(va).sort(function(yb,Nb){return Ra[yb]-Ra[Nb]})}function Z(va){for(var Ra=-1,yb=0,Nb=va.length,gc,tc=-Infinity;++Ra<Nb;)(gc=+va[Ra][1])>tc&&(tc=gc,yb=Ra);return yb}function ra(va){var Ra=va.map(hb);return fb(va).sort(function(yb,Nb){return Ra[yb]-
Ra[Nb]})}function hb(va){for(var Ra=0,yb=-1,Nb=va.length,gc;++yb<Nb;)if(gc=+va[yb][1])Ra+=gc;return Ra}var mb=Math.abs,Ib=Math.atan2,Xb=Math.cos,za=Math.max,wb=Math.min,Tb=Math.sin,rb=Math.sqrt,Sb=Math.PI,ic=Sb/2,rc=2*Sb,Tc=Array.prototype.slice;db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,
Ra){va=+va;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Ra):this._context.moveTo(va,Ra);break;case 1:this._point=2;default:this._context.lineTo(va,Ra)}}};var pc=xa(Ja);Qa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(va,Ra){this._curve.point(Ra*Math.sin(va),Ra*-Math.cos(va))}};var tb={draw:function(va,Ra){Ra=
Math.sqrt(Ra/Sb);va.moveTo(Ra,0);va.arc(0,0,Ra,0,rc)}},bc={draw:function(va,Ra){Ra=Math.sqrt(Ra/5)/2;va.moveTo(-3*Ra,-Ra);va.lineTo(-Ra,-Ra);va.lineTo(-Ra,-3*Ra);va.lineTo(Ra,-3*Ra);va.lineTo(Ra,-Ra);va.lineTo(3*Ra,-Ra);va.lineTo(3*Ra,Ra);va.lineTo(Ra,Ra);va.lineTo(Ra,3*Ra);va.lineTo(-Ra,3*Ra);va.lineTo(-Ra,Ra);va.lineTo(-3*Ra,Ra);va.closePath()}},Mb=Math.sqrt(1/3),xc=2*Mb,Xc={draw:function(va,Ra){Ra=Math.sqrt(Ra/xc);var yb=Ra*Mb;va.moveTo(0,-Ra);va.lineTo(yb,0);va.lineTo(0,Ra);va.lineTo(-yb,0);va.closePath()}},
ud=Math.sin(Sb/10)/Math.sin(7*Sb/10),xd=Math.sin(rc/10)*ud,ae=-Math.cos(rc/10)*ud;ud={draw:function(va,Ra){Ra=Math.sqrt(.8908130915292852*Ra);var yb=xd*Ra,Nb=ae*Ra;va.moveTo(0,-Ra);va.lineTo(yb,Nb);for(var gc=1;5>gc;++gc){var tc=rc*gc/5,lc=Math.cos(tc);tc=Math.sin(tc);va.lineTo(tc*Ra,-lc*Ra);va.lineTo(lc*yb-tc*Nb,tc*yb+lc*Nb)}va.closePath()}};var Cb={draw:function(va,Ra){Ra=Math.sqrt(Ra);var yb=-Ra/2;va.rect(yb,yb,Ra,Ra)}},Rb=Math.sqrt(3),Rc={draw:function(va,Ra){Ra=-Math.sqrt(Ra/(3*Rb));va.moveTo(0,
2*Ra);va.lineTo(-Rb*Ra,-Ra);va.lineTo(Rb*Ra,-Ra);va.closePath()}},se=Math.sqrt(3)/2,De=1/Math.sqrt(12),Ne=3*(De/2+1),Md={draw:function(va,Ra){var yb=Math.sqrt(Ra/Ne);Ra=yb/2;var Nb=yb*De;yb=yb*De+yb;var gc=-Ra;va.moveTo(Ra,Nb);va.lineTo(Ra,yb);va.lineTo(gc,yb);va.lineTo(-.5*Ra-se*Nb,se*Ra+-.5*Nb);va.lineTo(-.5*Ra-se*yb,se*Ra+-.5*yb);va.lineTo(-.5*gc-se*yb,se*gc+-.5*yb);va.lineTo(-.5*Ra+se*Nb,-.5*Nb-se*Ra);va.lineTo(-.5*Ra+se*yb,-.5*yb-se*Ra);va.lineTo(-.5*gc+se*yb,-.5*yb-se*gc);va.closePath()}},K=
[tb,bc,Xc,Cb,ud,Rc,Md];I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Ra){va=+va;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,
Ra):this._context.moveTo(va,Ra);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y(this,va,Ra)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Ra}};L.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(va,Ra){va=+va;Ra=+Ra;switch(this._point){case 0:this._point=1;this._x2=va;this._y2=Ra;break;case 1:this._point=2;this._x3=va;this._y3=Ra;break;case 2:this._point=3;this._x4=va;this._y4=Ra;this._context.moveTo((this._x0+
4*this._x1+va)/6,(this._y0+4*this._y1+Ra)/6);break;default:y(this,va,Ra)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Ra}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Ra){va=+va;Ra=+Ra;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var yb=(this._x0+4*this._x1+va)/6,Nb=(this._y0+4*this._y1+Ra)/6;this._line?this._context.lineTo(yb,Nb):this._context.moveTo(yb,Nb);break;case 3:this._point=4;default:y(this,va,Ra)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Ra}};H.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var va=this._x,Ra=this._y,yb=va.length-1;if(0<yb)for(var Nb=va[0],gc=Ra[0],tc=va[yb]-Nb,lc=Ra[yb]-gc,xb=-1,Qb;++xb<=yb;)Qb=xb/yb,this._basis.point(this._beta*
va[xb]+(1-this._beta)*(Nb+Qb*tc),this._beta*Ra[xb]+(1-this._beta)*(gc+Qb*lc));this._x=this._y=null;this._basis.lineEnd()},point:function(va,Ra){this._x.push(+va);this._y.push(+Ra)}};var fa=function yb(Ra){function Nb(gc){return 1===Ra?new I(gc):new H(gc,Ra)}Nb.beta=function(gc){return yb(+gc)};return Nb}(.85);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:O(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ra,yb){Ra=+Ra;yb=+yb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ra,yb):this._context.moveTo(Ra,yb);break;case 1:this._point=2;this._x1=Ra;this._y1=yb;break;case 2:this._point=3;default:O(this,Ra,yb)}this._x0=this._x1;this._x1=this._x2;this._x2=Ra;this._y0=this._y1;this._y1=this._y2;this._y2=yb}};var bb=function Nb(yb){function gc(tc){return new ma(tc,
yb)}gc.tension=function(tc){return Nb(+tc)};return gc}(0);Ia.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(yb,Nb){yb=+yb;Nb=+Nb;switch(this._point){case 0:this._point=1;this._x3=yb;this._y3=Nb;break;case 1:this._point=2;this._context.moveTo(this._x4=yb,this._y4=Nb);break;case 2:this._point=3;this._x5=yb;this._y5=Nb;break;default:O(this,yb,Nb)}this._x0=this._x1;this._x1=this._x2;this._x2=yb;this._y0=this._y1;this._y1=this._y2;this._y2=Nb}};var La=function gc(Nb){function tc(lc){return new Ia(lc,Nb)}tc.tension=function(lc){return gc(+lc)};return tc}(0);Sa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Nb,gc){Nb=+Nb;gc=+gc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:O(this,Nb,gc)}this._x0=this._x1;this._x1=this._x2;this._x2=Nb;this._y0=this._y1;this._y1=this._y2;this._y2=gc}};var Fb=function tc(gc){function lc(xb){return new Sa(xb,gc)}lc.tension=function(xb){return tc(+xb)};return lc}(0);ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(gc,tc){gc=+gc;tc=+tc;if(this._point){var lc=this._x2-gc,xb=this._y2-tc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lc*lc+xb*xb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(gc,tc):this._context.moveTo(gc,tc);break;case 1:this._point=
2;break;case 2:this._point=3;default:E(this,gc,tc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=gc;this._y0=this._y1;this._y1=this._y2;this._y2=tc}};var Vb=function lc(tc){function xb(Qb){return tc?new ha(Qb,tc):new ma(Qb,0)}xb.alpha=function(Qb){return lc(+Qb)};return xb}(.5);Y.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(tc,lc){tc=+tc;lc=+lc;if(this._point){var xb=this._x2-tc,Qb=this._y2-
lc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xb*xb+Qb*Qb,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=tc;this._y3=lc;break;case 1:this._point=2;this._context.moveTo(this._x4=tc,this._y4=lc);break;case 2:this._point=3;this._x5=tc;this._y5=lc;break;default:E(this,tc,lc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=tc;this._y0=this._y1;this._y1=this._y2;this._y2=lc}};var Yb=function xb(lc){function Qb(Gc){return lc?
new Y(Gc,lc):new Ia(Gc,0)}Qb.alpha=function(Gc){return xb(+Gc)};return Qb}(.5);V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(lc,xb){lc=+lc;xb=+xb;if(this._point){var Qb=
this._x2-lc,Gc=this._y2-xb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qb*Qb+Gc*Gc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:E(this,lc,xb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=lc;this._y0=this._y1;this._y1=
this._y2;this._y2=xb}};var cc=function Qb(xb){function Gc($b){return xb?new V($b,xb):new Sa($b,0)}Gc.alpha=function($b){return Qb(+$b)};return Gc}(.5);w.prototype={areaStart:A,areaEnd:A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(xb,Qb){xb=+xb;Qb=+Qb;this._point?this._context.lineTo(xb,Qb):(this._point=1,this._context.moveTo(xb,Qb))}};m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k(this,this._t0,h(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xb,Qb){var Gc=NaN;xb=+xb;Qb=+Qb;if(xb!==this._x1||Qb!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xb,Qb):this._context.moveTo(xb,Qb);break;case 1:this._point=2;
break;case 2:this._point=3;k(this,h(this,Gc=F(this,xb,Qb)),Gc);break;default:k(this,this._t0,Gc=F(this,xb,Qb))}this._x0=this._x1;this._x1=xb;this._y0=this._y1;this._y1=Qb;this._t0=Gc}}};(r.prototype=Object.create(m.prototype)).point=function(xb,Qb){m.prototype.point.call(this,Qb,xb)};v.prototype={moveTo:function(xb,Qb){this._context.moveTo(Qb,xb)},closePath:function(){this._context.closePath()},lineTo:function(xb,Qb){this._context.lineTo(Qb,xb)},bezierCurveTo:function(xb,Qb,Gc,$b,Ac,Jc){this._context.bezierCurveTo(Qb,
xb,$b,Gc,Jc,Ac)}};J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var xb=this._x,Qb=this._y,Gc=xb.length;if(Gc)if(this._line?this._context.lineTo(xb[0],Qb[0]):this._context.moveTo(xb[0],Qb[0]),2===Gc)this._context.lineTo(xb[1],Qb[1]);else for(var $b=ba(xb),Ac=ba(Qb),Jc=0,Hc=1;Hc<Gc;++Jc,++Hc)this._context.bezierCurveTo($b[0][Jc],Ac[0][Jc],$b[1][Jc],Ac[1][Jc],xb[Hc],Qb[Hc]);(this._line||0!==this._line&&
1===Gc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(xb,Qb){this._x.push(+xb);this._y.push(+Qb)}};ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(xb,Qb){xb=+xb;Qb=+Qb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xb,Qb):this._context.moveTo(xb,Qb);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Qb),this._context.lineTo(xb,Qb);else{var Gc=this._x*(1-this._t)+xb*this._t;this._context.lineTo(Gc,this._y);this._context.lineTo(Gc,Qb)}}this._x=xb;this._y=Qb}};n.arc=function(){function xb(){var od,rd=+Qb.apply(this,arguments),Vd=+Gc.apply(this,arguments),Zd=Jc.apply(this,arguments)-
ic,ze=Hc.apply(this,arguments)-ic,te=mb(ze-Zd),ue=ze>Zd;md||(md=od=q.path());if(Vd<rd){var bf=Vd;Vd=rd;rd=bf}if(1E-12<Vd)if(te>rc-1E-12)md.moveTo(Vd*Xb(Zd),Vd*Tb(Zd)),md.arc(0,0,Vd,Zd,ze,!ue),1E-12<rd&&(md.moveTo(rd*Xb(ze),rd*Tb(ze)),md.arc(0,0,rd,ze,Zd,ue));else{var vd=Zd,P=ze;bf=Zd;var na=ze,Da=te,gb=te,Ta=ad.apply(this,arguments)/2,Pb=1E-12<Ta&&(Ac?+Ac.apply(this,arguments):rb(rd*rd+Vd*Vd)),kc=wb(mb(Vd-rd)/2,+$b.apply(this,arguments)),oc=kc,qc=kc;if(1E-12<Pb){var uc=Pa(Pb/rd*Tb(Ta));Ta=Pa(Pb/Vd*
Tb(Ta));1E-12<(Da-=2*uc)?(uc*=ue?1:-1,bf+=uc,na-=uc):(Da=0,bf=na=(Zd+ze)/2);1E-12<(gb-=2*Ta)?(Ta*=ue?1:-1,vd+=Ta,P-=Ta):(gb=0,vd=P=(Zd+ze)/2)}Zd=Vd*Xb(vd);ze=Vd*Tb(vd);uc=rd*Xb(na);Ta=rd*Tb(na);if(1E-12<kc){var kd=Vd*Xb(P),pd=Vd*Tb(P),yd=rd*Xb(bf),ld=rd*Tb(bf);if(te=te<Sb){var Od=yd-Zd;te=ld-ze;Pb=uc-kd;var de=Ta-pd,jc=de*Od-Pb*te;1E-12>jc*jc?Od=void 0:(jc=(Pb*(ze-pd)-de*(Zd-kd))/jc,Od=[Zd+jc*Od,ze+jc*te]);te=Od}te&&(oc=Zd-Od[0],qc=ze-Od[1],te=kd-Od[0],Pb=pd-Od[1],oc=(oc*te+qc*Pb)/(rb(oc*oc+qc*qc)*
rb(te*te+Pb*Pb)),qc=1/Tb((1<oc?0:-1>oc?Sb:Math.acos(oc))/2),Od=rb(Od[0]*Od[0]+Od[1]*Od[1]),oc=wb(kc,(rd-Od)/(qc-1)),qc=wb(kc,(Vd-Od)/(qc+1)))}1E-12<gb?1E-12<qc?(vd=Ea(yd,ld,Zd,ze,Vd,qc,ue),P=Ea(kd,pd,uc,Ta,Vd,qc,ue),md.moveTo(vd.cx+vd.x01,vd.cy+vd.y01),qc<kc?md.arc(vd.cx,vd.cy,qc,Ib(vd.y01,vd.x01),Ib(P.y01,P.x01),!ue):(md.arc(vd.cx,vd.cy,qc,Ib(vd.y01,vd.x01),Ib(vd.y11,vd.x11),!ue),md.arc(0,0,Vd,Ib(vd.cy+vd.y11,vd.cx+vd.x11),Ib(P.cy+P.y11,P.cx+P.x11),!ue),md.arc(P.cx,P.cy,qc,Ib(P.y11,P.x11),Ib(P.y01,
P.x01),!ue))):(md.moveTo(Zd,ze),md.arc(0,0,Vd,vd,P,!ue)):md.moveTo(Zd,ze);1E-12<rd&&1E-12<Da?1E-12<oc?(vd=Ea(uc,Ta,kd,pd,rd,-oc,ue),P=Ea(Zd,ze,yd,ld,rd,-oc,ue),md.lineTo(vd.cx+vd.x01,vd.cy+vd.y01),oc<kc?md.arc(vd.cx,vd.cy,oc,Ib(vd.y01,vd.x01),Ib(P.y01,P.x01),!ue):(md.arc(vd.cx,vd.cy,oc,Ib(vd.y01,vd.x01),Ib(vd.y11,vd.x11),!ue),md.arc(0,0,rd,Ib(vd.cy+vd.y11,vd.cx+vd.x11),Ib(P.cy+P.y11,P.cx+P.x11),ue),md.arc(P.cx,P.cy,oc,Ib(P.y11,P.x11),Ib(P.y01,P.x01),!ue))):md.arc(0,0,rd,na,bf,ue):md.lineTo(uc,Ta)}else md.moveTo(0,
0);md.closePath();if(od)return md=null,od+""||null}var Qb=Hb,Gc=Ma,$b=S(0),Ac=null,Jc=cb,Hc=Eb,ad=qb,md=null;xb.centroid=function(){var od=(+Qb.apply(this,arguments)+ +Gc.apply(this,arguments))/2,rd=(+Jc.apply(this,arguments)+ +Hc.apply(this,arguments))/2-Sb/2;return[Xb(rd)*od,Tb(rd)*od]};xb.innerRadius=function(od){return arguments.length?(Qb="function"===typeof od?od:S(+od),xb):Qb};xb.outerRadius=function(od){return arguments.length?(Gc="function"===typeof od?od:S(+od),xb):Gc};xb.cornerRadius=function(od){return arguments.length?
($b="function"===typeof od?od:S(+od),xb):$b};xb.padRadius=function(od){return arguments.length?(Ac=null==od?null:"function"===typeof od?od:S(+od),xb):Ac};xb.startAngle=function(od){return arguments.length?(Jc="function"===typeof od?od:S(+od),xb):Jc};xb.endAngle=function(od){return arguments.length?(Hc="function"===typeof od?od:S(+od),xb):Hc};xb.padAngle=function(od){return arguments.length?(ad="function"===typeof od?od:S(+od),xb):ad};xb.context=function(od){return arguments.length?(md=null==od?null:
od,xb):md};return xb};n.area=Wa;n.areaRadial=ja;n.curveBasis=function(xb){return new I(xb)};n.curveBasisClosed=function(xb){return new L(xb)};n.curveBasisOpen=function(xb){return new z(xb)};n.curveBundle=fa;n.curveCardinal=bb;n.curveCardinalClosed=La;n.curveCardinalOpen=Fb;n.curveCatmullRom=Vb;n.curveCatmullRomClosed=Yb;n.curveCatmullRomOpen=cc;n.curveLinear=Ja;n.curveLinearClosed=function(xb){return new w(xb)};n.curveMonotoneX=function(xb){return new m(xb)};n.curveMonotoneY=function(xb){return new r(xb)};
n.curveNatural=function(xb){return new J(xb)};n.curveStep=function(xb){return new ka(xb,.5)};n.curveStepAfter=function(xb){return new ka(xb,1)};n.curveStepBefore=function(xb){return new ka(xb,0)};n.line=Ga;n.lineRadial=ya;n.linkHorizontal=function(){return Fa(Ba)};n.linkRadial=function(){var xb=Fa(jb);xb.angle=xb.x;delete xb.x;xb.radius=xb.y;delete xb.y;return xb};n.linkVertical=function(){return Fa(Za)};n.pie=function(){function xb(ad){var md,od=(ad=$a(ad)).length;var rd=0;var Vd=Array(od),Zd=Array(od),
ze=+Ac.apply(this,arguments);var te=Math.min(rc,Math.max(-rc,Jc.apply(this,arguments)-ze));var ue=Math.min(Math.abs(te)/od,Hc.apply(this,arguments)),bf=ue*(0>te?-1:1),vd;for(md=0;md<od;++md)0<(vd=Zd[Vd[md]=md]=+Qb(ad[md],md,ad))&&(rd+=vd);null!=Gc?Vd.sort(function(na,Da){return Gc(Zd[na],Zd[Da])}):null!=$b&&Vd.sort(function(na,Da){return $b(ad[na],ad[Da])});md=0;for(te=rd?(te-od*bf)/rd:0;md<od;++md,ze=P){rd=Vd[md];vd=Zd[rd];var P=ze+(0<vd?vd*te:0)+bf;Zd[rd]={data:ad[rd],index:md,value:vd,startAngle:ze,
endAngle:P,padAngle:ue}}return Zd}var Qb=aa,Gc=la,$b=null,Ac=S(0),Jc=S(rc),Hc=S(0);xb.value=function(ad){return arguments.length?(Qb="function"===typeof ad?ad:S(+ad),xb):Qb};xb.sortValues=function(ad){return arguments.length?(Gc=ad,$b=null,xb):Gc};xb.sort=function(ad){return arguments.length?($b=ad,Gc=null,xb):$b};xb.startAngle=function(ad){return arguments.length?(Ac="function"===typeof ad?ad:S(+ad),xb):Ac};xb.endAngle=function(ad){return arguments.length?(Jc="function"===typeof ad?ad:S(+ad),xb):
Jc};xb.padAngle=function(ad){return arguments.length?(Hc="function"===typeof ad?ad:S(+ad),xb):Hc};return xb};n.pointRadial=wa;n.radialArea=ja;n.radialLine=ya;n.stack=function(){function xb(Jc){var Hc=Array.from(Qb.apply(this,arguments),Ca),ad,md=Hc.length,od=-1,rd=$jscomp.makeIterator(Jc);for(ad=rd.next();!ad.done;ad=rd.next()){var Vd=ad.value;ad=0;for(++od;ad<md;++ad)(Hc[ad][od]=[0,+Ac(Vd,Hc[ad].key,od,Jc)]).data=Vd}ad=0;for(od=$a(Gc(Hc));ad<md;++ad)Hc[od[ad]].index=ad;$b(Hc,od);return Hc}var Qb=
S([]),Gc=fb,$b=ua,Ac=eb;xb.keys=function(Jc){return arguments.length?(Qb="function"===typeof Jc?Jc:S(Array.from(Jc)),xb):Qb};xb.value=function(Jc){return arguments.length?(Ac="function"===typeof Jc?Jc:S(+Jc),xb):Ac};xb.order=function(Jc){return arguments.length?(Gc=null==Jc?fb:"function"===typeof Jc?Jc:S(Array.from(Jc)),xb):Gc};xb.offset=function(Jc){return arguments.length?($b=null==Jc?ua:Jc,xb):$b};return xb};n.stackOffsetDiverging=function(xb,Qb){if(0<(md=xb.length))for(var Gc,$b=0,Ac,Jc,Hc,ad,
md,od=xb[Qb[0]].length;$b<od;++$b)for(Gc=Hc=ad=0;Gc<md;++Gc)0<(Jc=(Ac=xb[Qb[Gc]][$b])[1]-Ac[0])?(Ac[0]=Hc,Ac[1]=Hc+=Jc):0>Jc?(Ac[1]=ad,Ac[0]=ad+=Jc):(Ac[0]=0,Ac[1]=Jc)};n.stackOffsetExpand=function(xb,Qb){if(0<($b=xb.length)){for(var Gc,$b,Ac=0,Jc=xb[0].length,Hc;Ac<Jc;++Ac){for(Hc=Gc=0;Gc<$b;++Gc)Hc+=xb[Gc][Ac][1]||0;if(Hc)for(Gc=0;Gc<$b;++Gc)xb[Gc][Ac][1]/=Hc}ua(xb,Qb)}};n.stackOffsetNone=ua;n.stackOffsetSilhouette=function(xb,Qb){if(0<(Ac=xb.length)){for(var Gc=0,$b=xb[Qb[0]],Ac,Jc=$b.length;Gc<
Jc;++Gc){for(var Hc=0,ad=0;Hc<Ac;++Hc)ad+=xb[Hc][Gc][1]||0;$b[Gc][1]+=$b[Gc][0]=-ad/2}ua(xb,Qb)}};n.stackOffsetWiggle=function(xb,Qb){if(0<(Hc=xb.length)&&0<(Jc=(Ac=xb[Qb[0]]).length)){for(var Gc=0,$b=1,Ac,Jc,Hc;$b<Jc;++$b){for(var ad=0,md=0,od=0;ad<Hc;++ad){var rd=xb[Qb[ad]],Vd=rd[$b][1]||0;rd=(Vd-(rd[$b-1][1]||0))/2;for(var Zd=0;Zd<ad;++Zd){var ze=xb[Qb[Zd]];rd+=(ze[$b][1]||0)-(ze[$b-1][1]||0)}md+=Vd;od+=rd*Vd}Ac[$b-1][1]+=Ac[$b-1][0]=Gc;md&&(Gc-=od/md)}Ac[$b-1][1]+=Ac[$b-1][0]=Gc;ua(xb,Qb)}};n.stackOrderAppearance=
Ka;n.stackOrderAscending=ra;n.stackOrderDescending=function(xb){return ra(xb).reverse()};n.stackOrderInsideOut=function(xb){var Qb=xb.length,Gc=xb.map(hb),$b=Ka(xb),Ac=0,Jc=0,Hc=[],ad=[];for(xb=0;xb<Qb;++xb){var md=$b[xb];Ac<Jc?(Ac+=Gc[md],Hc.push(md)):(Jc+=Gc[md],ad.push(md))}return ad.reverse().concat(Hc)};n.stackOrderNone=fb;n.stackOrderReverse=function(xb){return fb(xb).reverse()};n.symbol=function(xb,Qb){function Gc(){var Ac;$b||($b=Ac=q.path());xb.apply(this,arguments).draw($b,+Qb.apply(this,
arguments));if(Ac)return $b=null,Ac+""||null}var $b=null;xb="function"===typeof xb?xb:S(xb||tb);Qb="function"===typeof Qb?Qb:S(void 0===Qb?64:+Qb);Gc.type=function(Ac){return arguments.length?(xb="function"===typeof Ac?Ac:S(Ac),Gc):xb};Gc.size=function(Ac){return arguments.length?(Qb="function"===typeof Ac?Ac:S(+Ac),Gc):Qb};Gc.context=function(Ac){return arguments.length?($b=null==Ac?null:Ac,Gc):$b};return Gc};n.symbolCircle=tb;n.symbolCross=bc;n.symbolDiamond=Xc;n.symbolSquare=Cb;n.symbolStar=ud;
n.symbolTriangle=Rc;n.symbolWye=Md;n.symbols=K;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[17]=function(Kb,sb,hc,ub){!function(n,q){"object"==typeof ub&&"undefined"!=typeof hc?q(ub):"function"==typeof define&&define.amd?define(["exports"],q):q((n="undefined"!=typeof globalThis?globalThis:n||self).vega={})}(this,function(n){function q(S,Pa){if("undefined"!=typeof document&&document.createElement){var Hb=document.createElement("canvas");if(Hb&&Hb.getContext)return Hb.width=S,Hb.height=Pa,Hb}return null}n.canvas=q;n.domCanvas=q;n.image=function(){return"undefined"!=typeof Image?
Image:null};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[18]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(m,r,v){m.prototype=r.prototype=v;v.constructor=m}function S(m,r){m=Object.create(m.prototype);for(var v in r)m[v]=r[v];return m}function Pa(){}function Hb(){return this.rgb().formatHex()}function Ma(){return this.rgb().formatRgb()}function cb(m){var r,v;m=(m+"").trim().toLowerCase();
return(r=L.exec(m))?(v=r[1].length,r=parseInt(r[1],16),6===v?Eb(r):3===v?new db(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):8===v?qb(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):4===v?qb(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=z.exec(m))?new db(r[1],r[2],r[3],1):(r=H.exec(m))?new db(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=O.exec(m))?qb(r[1],r[2],r[3],r[4]):(r=ma.exec(m))?qb(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Ia.exec(m))?Ga(r[1],r[2]/100,
r[3]/100,1):(r=Sa.exec(m))?Ga(r[1],r[2]/100,r[3]/100,r[4]):E.hasOwnProperty(m)?Eb(E[m]):"transparent"===m?new db(NaN,NaN,NaN,0):null}function Eb(m){return new db(m>>16&255,m>>8&255,m&255,1)}function qb(m,r,v,J){0>=J&&(m=r=v=NaN);return new db(m,r,v,J)}function Ea(m){m instanceof Pa||(m=cb(m));if(!m)return new db;m=m.rgb();return new db(m.r,m.g,m.b,m.opacity)}function $a(m,r,v,J){return 1===arguments.length?Ea(m):new db(m,r,v,null==J?1:J)}function db(m,r,v,J){this.r=+m;this.g=+r;this.b=+v;this.opacity=
+J}function Ja(){return"#"+pa(this.r)+pa(this.g)+pa(this.b)}function ea(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===m?")":", "+m+")")}function pa(m){m=Math.max(0,Math.min(255,Math.round(m)||0));return(16>m?"0":"")+m.toString(16)}function Ga(m,r,v,J){0>=J?m=r=v=NaN:0>=v||1<=v?m=r=NaN:0>=r&&(m=NaN);
return new aa(m,r,v,J)}function Wa(m){if(m instanceof aa)return new aa(m.h,m.s,m.l,m.opacity);m instanceof Pa||(m=cb(m));if(!m)return new aa;if(m instanceof aa)return m;m=m.rgb();var r=m.r/255,v=m.g/255,J=m.b/255,ba=Math.min(r,v,J),ka=Math.max(r,v,J),ua=NaN,fb=ka-ba,eb=(ka+ba)/2;fb?(ua=r===ka?(v-J)/fb+6*(v<J):v===ka?(J-r)/fb+2:(r-v)/fb+4,fb/=.5>eb?ka+ba:2-ka-ba,ua*=60):fb=0<eb&&1>eb?0:ua;return new aa(ua,fb,eb,m.opacity)}function la(m,r,v,J){return 1===arguments.length?Wa(m):new aa(m,r,v,null==J?
1:J)}function aa(m,r,v,J){this.h=+m;this.s=+r;this.l=+v;this.opacity=+J}function Qa(m,r,v){return 255*(60>m?r+(v-r)*m/60:180>m?v:240>m?r+(v-r)*(240-m)/60:r)}function xa(m){if(m instanceof ya)return new ya(m.l,m.a,m.b,m.opacity);if(m instanceof Za)return jb(m);m instanceof db||(m=Ea(m));var r=qa(m.r),v=qa(m.g),J=qa(m.b),ba=ja(.2225045*r+.7168786*v+.0606169*J);if(r===v&&v===J)var ka=r=ba;else ka=ja((.4360747*r+.3850649*v+.1430804*J)/.96422),r=ja((.0139322*r+.0971045*v+.7141733*J)/.82521);return new ya(116*
ba-16,500*(ka-ba),200*(ba-r),m.opacity)}function Oa(m,r,v,J){return 1===arguments.length?xa(m):new ya(m,r,v,null==J?1:J)}function ya(m,r,v,J){this.l=+m;this.a=+r;this.b=+v;this.opacity=+J}function ja(m){return m>h?Math.pow(m,1/3):m/F+V}function wa(m){return m>w?m*m*m:F*(m-V)}function sa(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function qa(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Fa(m){if(m instanceof Za)return new Za(m.h,m.c,m.l,m.opacity);m instanceof
ya||(m=xa(m));if(0===m.a&&0===m.b)return new Za(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var r=Math.atan2(m.b,m.a)*Y;return new Za(0>r?r+360:r,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Ba(m,r,v,J){return 1===arguments.length?Fa(m):new Za(m,r,v,null==J?1:J)}function Za(m,r,v,J){this.h=+m;this.c=+r;this.l=+v;this.opacity=+J}function jb(m){if(isNaN(m.h))return new ya(m.l,0,0,m.opacity);var r=m.h*ha;return new ya(m.l,Math.cos(r)*m.c,Math.sin(r)*m.c,m.opacity)}function A(m,r,v,J){if(1===arguments.length){var ba=
m;if(ba instanceof y)ba=new y(ba.h,ba.s,ba.l,ba.opacity);else{ba instanceof db||(ba=Ea(ba));var ka=ba.g/255,ua=ba.b/255,fb=(k*ua+ba.r/255*-1.7884503806-3.5172982438*ka)/(k+-1.7884503806-3.5172982438);ua-=fb;var eb=(1.97294*(ka-fb)- -.29227*ua)/-.90649;ua=(ka=Math.sqrt(eb*eb+ua*ua)/(1.97294*fb*(1-fb)))?Math.atan2(eb,ua)*Y-120:NaN;ba=new y(0>ua?ua+360:ua,ka,fb,ba.opacity)}}else ba=new y(m,r,v,null==J?1:J);return ba}function y(m,r,v,J){this.h=+m;this.s=+r;this.l=+v;this.opacity=+J}var I=1/.7,L=/^#([0-9a-f]{3,8})$/,
z=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,H=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,O=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ma=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ia=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Sa=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q(Pa,cb,{copy:function(m){return Object.assign(new this.constructor,this,m)},displayable:function(){return this.rgb().displayable()},hex:Hb,formatHex:Hb,formatHsl:function(){return Wa(this).formatHsl()},
formatRgb:Ma,toString:Ma});q(db,$a,S(Pa,{brighter:function(m){m=null==m?I:Math.pow(I,m);return new db(this.r*m,this.g*m,this.b*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new db(this.r*m,this.g*m,this.b*m,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ja,formatHex:Ja,formatRgb:ea,toString:ea}));q(aa,la,S(Pa,{brighter:function(m){m=
null==m?I:Math.pow(I,m);return new aa(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new aa(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=this.h%360+360*(0>this.h),r=isNaN(m)||isNaN(this.s)?0:this.s,v=this.l;r=v+(.5>v?v:1-v)*r;v=2*v-r;return new db(Qa(240<=m?m-240:m+120,v,r),Qa(m,v,r),Qa(120>m?m+240:m-120,v,r),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===m?")":", "+m+")")}}));var ha=Math.PI/180,Y=180/Math.PI,V=4/29,w=6/29,F=3*w*w,h=w*w*w;q(ya,Oa,S(Pa,{brighter:function(m){return new ya(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker:function(m){return new ya(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb:function(){var m=(this.l+16)/116,r=isNaN(this.a)?m:m+
this.a/500,v=isNaN(this.b)?m:m-this.b/200;r=.96422*wa(r);m=1*wa(m);v=.82521*wa(v);return new db(sa(3.1338561*r-1.6168667*m-.4906146*v),sa(-.9787684*r+1.9161415*m+.033454*v),sa(.0719453*r-.2289914*m+1.4052427*v),this.opacity)}}));q(Za,Ba,S(Pa,{brighter:function(m){return new Za(this.h,this.c,this.l+18*(null==m?1:m),this.opacity)},darker:function(m){return new Za(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb:function(){return jb(this).rgb()}}));var k=1.78277*-.29227-.1347134789;q(y,A,S(Pa,
{brighter:function(m){m=null==m?I:Math.pow(I,m);return new y(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new y(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=isNaN(this.h)?0:(this.h+120)*ha,r=+this.l,v=isNaN(this.s)?0:this.s*r*(1-r),J=Math.cos(m);m=Math.sin(m);return new db(255*(r+v*(-.14861*J+1.78277*m)),255*(r+v*(-.29227*J+-.90649*m)),255*(r+1.97294*v*J),this.opacity)}}));n.color=cb;n.cubehelix=A;n.gray=function(m,r){return new ya(m,0,
0,null==r?1:r)};n.hcl=Ba;n.hsl=la;n.lab=Oa;n.lch=function(m,r,v,J){return 1===arguments.length?Fa(m):new Za(v,r,m,null==J?1:J)};n.rgb=$a;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[19]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(18)):"function"===typeof define&&define.amd?define(["exports","d3-color"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(w,F,h,k,m){var r=w*w,v=r*w;return((1-3*w+3*r-v)*F+(4-6*r+3*v)*h+(1+3*w+3*r-3*v)*k+v*m)/6}function Pa(w){var F=w.length-1;return function(h){var k=0>=h?h=0:1<=h?(h=1,F-1):Math.floor(h*F),m=w[k],r=w[k+1];return S((h-k/F)*F,0<k?w[k-1]:2*m-r,m,r,k<F-1?
w[k+2]:2*r-m)}}function Hb(w){var F=w.length;return function(h){var k=Math.floor((0>(h%=1)?++h:h)*F);return S((h-k/F)*F,w[(k+F-1)%F],w[k%F],w[(k+1)%F],w[(k+2)%F])}}function Ma(w,F){return function(h){return w+h*F}}function cb(w,F,h){return w=Math.pow(w,h),F=Math.pow(F,h)-w,h=1/h,function(k){return Math.pow(w+k*F,h)}}function Eb(w,F){var h=F-w;return h?Ma(w,180<h||-180>h?h-360*Math.round(h/360):h):Fa(isNaN(w)?F:w)}function qb(w){return 1===(w=+w)?Ea:function(F,h){return h-F?cb(F,h,w):Fa(isNaN(F)?h:
F)}}function Ea(w,F){var h=F-w;return h?Ma(w,h):Fa(isNaN(w)?F:w)}function $a(w){return function(F){var h=F.length,k=Array(h),m=Array(h),r=Array(h),v;for(v=0;v<h;++v){var J=q.rgb(F[v]);k[v]=J.r||0;m[v]=J.g||0;r[v]=J.b||0}k=w(k);m=w(m);r=w(r);J.opacity=1;return function(ba){J.r=k(ba);J.g=m(ba);J.b=r(ba);return J+""}}}function db(w,F){F||(F=[]);var h=w?Math.min(F.length,w.length):0,k=F.slice(),m;return function(r){for(m=0;m<h;++m)k[m]=w[m]*(1-r)+F[m]*r;return k}}function Ja(w){return ArrayBuffer.isView(w)&&
!(w instanceof DataView)}function ea(w,F){var h=F?F.length:0,k=w?Math.min(h,w.length):0,m=Array(k),r=Array(h),v;for(v=0;v<k;++v)m[v]=xa(w[v],F[v]);for(;v<h;++v)r[v]=F[v];return function(J){for(v=0;v<k;++v)r[v]=m[v](J);return r}}function pa(w,F){var h=new Date;return w=+w,F=+F,function(k){return h.setTime(w*(1-k)+F*k),h}}function Ga(w,F){return w=+w,F=+F,function(h){return w*(1-h)+F*h}}function Wa(w,F){var h={},k={},m;if(null===w||"object"!==typeof w)w={};if(null===F||"object"!==typeof F)F={};for(m in F)m in
w?h[m]=xa(w[m],F[m]):k[m]=F[m];return function(r){for(m in h)k[m]=h[m](r);return k}}function la(w){return function(){return w}}function aa(w){return function(F){return w(F)+""}}function Qa(w,F){var h=A.lastIndex=y.lastIndex=0,k,m,r,v=-1,J=[],ba=[];w+="";for(F+="";(k=A.exec(w))&&(m=y.exec(F));)(r=m.index)>h&&(r=F.slice(h,r),J[v]?J[v]+=r:J[++v]=r),(k=k[0])===(m=m[0])?J[v]?J[v]+=m:J[++v]=m:(J[++v]=null,ba.push({i:v,x:Ga(k,m)})),h=y.lastIndex;h<F.length&&(r=F.slice(h),J[v]?J[v]+=r:J[++v]=r);return 2>
J.length?ba[0]?aa(ba[0].x):la(F):(F=ba.length,function(ka){for(var ua=0,fb;ua<F;++ua)J[(fb=ba[ua]).i]=fb.x(ka);return J.join("")})}function xa(w,F){var h=typeof F,k;return null==F||"boolean"===h?Fa(F):("number"===h?Ga:"string"===h?(k=q.color(F))?(F=k,Ba):Qa:F instanceof q.color?Ba:F instanceof Date?pa:Ja(F)?db:Array.isArray(F)?ea:"function"!==typeof F.valueOf&&"function"!==typeof F.toString||isNaN(F)?Wa:Ga)(w,F)}function Oa(w,F,h,k,m,r){var v,J,ba;if(v=Math.sqrt(w*w+F*F))w/=v,F/=v;if(ba=w*h+F*k)h-=
w*ba,k-=F*ba;if(J=Math.sqrt(h*h+k*k))h/=J,k/=J,ba/=J;w*k<F*h&&(w=-w,F=-F,ba=-ba,v=-v);return{translateX:m,translateY:r,rotate:Math.atan2(F,w)*I,skewX:Math.atan(ba)*I,scaleX:v,scaleY:J}}function ya(w,F,h,k){function m(ka){return ka.length?ka.pop()+" ":""}function r(ka,ua,fb,eb,Ca,Ka){ka!==fb||ua!==eb?(Ca=Ca.push("translate(",null,F,null,h),Ka.push({i:Ca-4,x:Ga(ka,fb)},{i:Ca-2,x:Ga(ua,eb)})):(fb||eb)&&Ca.push("translate("+fb+F+eb+h)}function v(ka,ua,fb,eb){ka!==ua?(180<ka-ua?ua+=360:180<ua-ka&&(ka+=
360),eb.push({i:fb.push(m(fb)+"rotate(",null,k)-2,x:Ga(ka,ua)})):ua&&fb.push(m(fb)+"rotate("+ua+k)}function J(ka,ua,fb,eb){ka!==ua?eb.push({i:fb.push(m(fb)+"skewX(",null,k)-2,x:Ga(ka,ua)}):ua&&fb.push(m(fb)+"skewX("+ua+k)}function ba(ka,ua,fb,eb,Ca,Ka){ka!==fb||ua!==eb?(Ca=Ca.push(m(Ca)+"scale(",null,",",null,")"),Ka.push({i:Ca-4,x:Ga(ka,fb)},{i:Ca-2,x:Ga(ua,eb)})):1===fb&&1===eb||Ca.push(m(Ca)+"scale("+fb+","+eb+")")}return function(ka,ua){var fb=[],eb=[];ka=w(ka);ua=w(ua);r(ka.translateX,ka.translateY,
ua.translateX,ua.translateY,fb,eb);v(ka.rotate,ua.rotate,fb,eb);J(ka.skewX,ua.skewX,fb,eb);ba(ka.scaleX,ka.scaleY,ua.scaleX,ua.scaleY,fb,eb);ka=ua=null;return function(Ca){for(var Ka=-1,Z=eb.length,ra;++Ka<Z;)fb[(ra=eb[Ka]).i]=ra.x(Ca);return fb.join("")}}}function ja(w){return((w=Math.exp(w))+1/w)/2}function wa(w){return function(F,h){var k=w((F=q.hsl(F)).h,(h=q.hsl(h)).h),m=Ea(F.s,h.s),r=Ea(F.l,h.l),v=Ea(F.opacity,h.opacity);return function(J){F.h=k(J);F.s=m(J);F.l=r(J);F.opacity=v(J);return F+
""}}}function sa(w){return function(F,h){var k=w((F=q.hcl(F)).h,(h=q.hcl(h)).h),m=Ea(F.c,h.c),r=Ea(F.l,h.l),v=Ea(F.opacity,h.opacity);return function(J){F.h=k(J);F.c=m(J);F.l=r(J);F.opacity=v(J);return F+""}}}function qa(w){return function k(h){function m(r,v){var J=w((r=q.cubehelix(r)).h,(v=q.cubehelix(v)).h),ba=Ea(r.s,v.s),ka=Ea(r.l,v.l),ua=Ea(r.opacity,v.opacity);return function(fb){r.h=J(fb);r.s=ba(fb);r.l=ka(Math.pow(fb,h));r.opacity=ua(fb);return r+""}}h=+h;m.gamma=k;return m}(1)}var Fa=function(w){return function(){return w}},
Ba=function h(F){function k(r,v){var J=m((r=q.rgb(r)).r,(v=q.rgb(v)).r),ba=m(r.g,v.g),ka=m(r.b,v.b),ua=Ea(r.opacity,v.opacity);return function(fb){r.r=J(fb);r.g=ba(fb);r.b=ka(fb);r.opacity=ua(fb);return r+""}}var m=qb(F);k.gamma=h;return k}(1),Za=$a(Pa),jb=$a(Hb),A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y=new RegExp(A.source,"g"),I=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},z,H=ya(function(F){F=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(F+
"");return F.isIdentity?L:Oa(F.a,F.b,F.c,F.d,F.e,F.f)},"px, ","px)","deg)"),O=ya(function(F){if(null==F)return L;z||(z=document.createElementNS("http://www.w3.org/2000/svg","g"));z.setAttribute("transform",F);if(!(F=z.transform.baseVal.consolidate()))return L;F=F.matrix;return Oa(F.a,F.b,F.c,F.d,F.e,F.f)},", ",")",")"),ma=function r(h,k,m){function v(J,ba){var ka=J[0],ua=J[1],fb=J[2];J=ba[2];var eb=ba[0]-ka,Ca=ba[1]-ua,Ka=eb*eb+Ca*Ca;if(1E-12>Ka){var Z=Math.log(J/fb)/h;J=function(mb){return[ka+mb*
eb,ua+mb*Ca,fb*Math.exp(h*mb*Z)]}}else{var ra=Math.sqrt(Ka);ba=(J*J-fb*fb+m*Ka)/(2*fb*k*ra);J=(J*J-fb*fb-m*Ka)/(2*J*k*ra);var hb=Math.log(Math.sqrt(ba*ba+1)-ba);Z=(Math.log(Math.sqrt(J*J+1)-J)-hb)/h;J=function(mb){mb*=Z;var Ib=ja(hb),Xb=h*mb+hb;var za=((Xb=Math.exp(2*Xb))-1)/(Xb+1);var wb=hb;Xb=((wb=Math.exp(wb))-1/wb)/2;za=fb/(k*ra)*(Ib*za-Xb);return[ka+za*eb,ua+za*Ca,fb*Ib/ja(h*mb+hb)]}}J.duration=1E3*Z*h/Math.SQRT2;return J}v.rho=function(J){J=Math.max(.001,+J);var ba=J*J;return r(J,ba,ba*ba)};
return v}(Math.SQRT2,2,4),Ia=wa(Eb),Sa=wa(Ea),E=sa(Eb),ha=sa(Ea),Y=qa(Eb),V=qa(Ea);n.interpolate=xa;n.interpolateArray=function(h,k){return(Ja(k)?db:ea)(h,k)};n.interpolateBasis=Pa;n.interpolateBasisClosed=Hb;n.interpolateCubehelix=Y;n.interpolateCubehelixLong=V;n.interpolateDate=pa;n.interpolateDiscrete=function(h){var k=h.length;return function(m){return h[Math.max(0,Math.min(k-1,Math.floor(m*k)))]}};n.interpolateHcl=E;n.interpolateHclLong=ha;n.interpolateHsl=Ia;n.interpolateHslLong=Sa;n.interpolateHue=
function(h,k){var m=Eb(+h,+k);return function(r){r=m(r);return r-360*Math.floor(r/360)}};n.interpolateLab=function(h,k){var m=Ea((h=q.lab(h)).l,(k=q.lab(k)).l),r=Ea(h.a,k.a),v=Ea(h.b,k.b),J=Ea(h.opacity,k.opacity);return function(ba){h.l=m(ba);h.a=r(ba);h.b=v(ba);h.opacity=J(ba);return h+""}};n.interpolateNumber=Ga;n.interpolateNumberArray=db;n.interpolateObject=Wa;n.interpolateRgb=Ba;n.interpolateRgbBasis=Za;n.interpolateRgbBasisClosed=jb;n.interpolateRound=function(h,k){return h=+h,k=+k,function(m){return Math.round(h*
(1-m)+k*m)}};n.interpolateString=Qa;n.interpolateTransformCss=H;n.interpolateTransformSvg=O;n.interpolateZoom=ma;n.piecewise=function(h,k){void 0===k&&(k=h,h=xa);for(var m=0,r=k.length-1,v=k[0],J=Array(0>r?0:r);m<r;)J[m]=h(v,v=k[++m]);return function(ba){var ka=Math.max(0,Math.min(r-1,Math.floor(ba*=r)));return J[ka](ba-ka)}};n.quantize=function(h,k){for(var m=Array(k),r=0;r<k;++r)m[r]=h(r/(k-1));return m};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[20]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(1),sb(19),sb(2),sb(3),sb(5)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),q):(n=n||self,q(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3))})(this,function(n,q,S,Pa,Hb,Ma){function cb(za,wb){switch(arguments.length){case 0:break;case 1:this.range(za);break;default:this.range(wb).domain(za)}return this}function Eb(za,wb){switch(arguments.length){case 0:break;
case 1:"function"===typeof za?this.interpolator(za):this.range(za);break;default:this.domain(za),"function"===typeof wb?this.interpolator(wb):this.range(wb)}return this}function qb(){function za(ic){var rc=ic+"",Tc=wb.get(rc);if(!Tc){if(Sb!==Ib)return Sb;wb.set(rc,Tc=Tb.push(ic))}return rb[(Tc-1)%rb.length]}var wb=new Map,Tb=[],rb=[],Sb=Ib;za.domain=function(ic){if(!arguments.length)return Tb.slice();Tb=[];wb=new Map;for(var rc=$jscomp.makeIterator(ic),Tc=rc.next();!Tc.done;Tc=rc.next()){Tc=Tc.value;
var pc=Tc+"";wb.has(pc)||wb.set(pc,Tb.push(Tc))}return za};za.range=function(ic){return arguments.length?(rb=Array.from(ic),za):rb.slice()};za.unknown=function(ic){return arguments.length?(Sb=ic,za):Sb};za.copy=function(){return qb(Tb,rb).unknown(Sb)};cb.apply(za,arguments);return za}function Ea(){function za(){var xc=Tb().length,Xc=ic<Sb,ud=Xc?ic:Sb,xd=Xc?Sb:ic;rc=(xd-ud)/Math.max(1,xc-tb+2*bc);pc&&(rc=Math.floor(rc));ud+=(xd-ud-rc*(xc-tb))*Mb;Tc=rc*(1-tb);pc&&(ud=Math.round(ud),Tc=Math.round(Tc));
xc=q.range(xc).map(function(ae){return ud+rc*ae});return rb(Xc?xc.reverse():xc)}var wb=qb().unknown(void 0),Tb=wb.domain,rb=wb.range,Sb=0,ic=1,rc,Tc,pc=!1,tb=0,bc=0,Mb=.5;delete wb.unknown;wb.domain=function(xc){return arguments.length?(Tb(xc),za()):Tb()};wb.range=function(xc){if(arguments.length){var Xc=$jscomp.makeIterator(xc);Sb=Xc.next().value;ic=Xc.next().value;Xc=(Sb=+Sb,ic=+ic,za())}else Xc=[Sb,ic];return Xc};wb.rangeRound=function(xc){xc=$jscomp.makeIterator(xc);Sb=xc.next().value;ic=xc.next().value;
return Sb=+Sb,ic=+ic,pc=!0,za()};wb.bandwidth=function(){return Tc};wb.step=function(){return rc};wb.round=function(xc){return arguments.length?(pc=!!xc,za()):pc};wb.padding=function(xc){return arguments.length?(tb=Math.min(1,bc=+xc),za()):tb};wb.paddingInner=function(xc){return arguments.length?(tb=Math.min(1,xc),za()):tb};wb.paddingOuter=function(xc){return arguments.length?(bc=+xc,za()):bc};wb.align=function(xc){return arguments.length?(Mb=Math.max(0,Math.min(1,xc)),za()):Mb};wb.copy=function(){return Ea(Tb(),
[Sb,ic]).round(pc).paddingInner(tb).paddingOuter(bc).align(Mb)};return cb.apply(za(),arguments)}function $a(za){var wb=za.copy;za.padding=za.paddingOuter;delete za.paddingInner;delete za.paddingOuter;za.copy=function(){return $a(wb())};return za}function db(za){return function(){return za}}function Ja(za){return+za}function ea(za){return za}function pa(za,wb){return(wb-=za=+za)?function(Tb){return(Tb-za)/wb}:db(isNaN(wb)?NaN:.5)}function Ga(za,wb){if(za>wb){var Tb=za;za=wb;wb=Tb}return function(rb){return Math.max(za,
Math.min(wb,rb))}}function Wa(za,wb,Tb){var rb=za[0];za=za[1];var Sb=wb[0];wb=wb[1];za<rb?(rb=pa(za,rb),Sb=Tb(wb,Sb)):(rb=pa(rb,za),Sb=Tb(Sb,wb));return function(ic){return Sb(rb(ic))}}function la(za,wb,Tb){var rb=Math.min(za.length,wb.length)-1,Sb=Array(rb),ic=Array(rb),rc=-1;za[rb]<za[0]&&(za=za.slice().reverse(),wb=wb.slice().reverse());for(;++rc<rb;)Sb[rc]=pa(za[rc],za[rc+1]),ic[rc]=Tb(wb[rc],wb[rc+1]);return function(Tc){var pc=q.bisect(za,Tc,1,rb)-1;return ic[pc](Sb[pc](Tc))}}function aa(za,
wb){return wb.domain(za.domain()).range(za.range()).interpolate(za.interpolate()).clamp(za.clamp()).unknown(za.unknown())}function Qa(){function za(){var xc=Math.min(Tb.length,rb.length);pc!==ea&&(pc=Ga(Tb[0],Tb[xc-1]));tb=2<xc?la:Wa;bc=Mb=null;return wb}function wb(xc){return isNaN(xc=+xc)?Tc:(bc||(bc=tb(Tb.map(ic),rb,Sb)))(ic(pc(xc)))}var Tb=Xb,rb=Xb,Sb=S.interpolate,ic,rc,Tc,pc=ea,tb,bc,Mb;wb.invert=function(xc){return pc(rc((Mb||(Mb=tb(rb,Tb.map(ic),S.interpolateNumber)))(xc)))};wb.domain=function(xc){return arguments.length?
(Tb=Array.from(xc,Ja),za()):Tb.slice()};wb.range=function(xc){return arguments.length?(rb=Array.from(xc),za()):rb.slice()};wb.rangeRound=function(xc){return rb=Array.from(xc),Sb=S.interpolateRound,za()};wb.clamp=function(xc){return arguments.length?(pc=xc?!0:ea,za()):pc!==ea};wb.interpolate=function(xc){return arguments.length?(Sb=xc,za()):Sb};wb.unknown=function(xc){return arguments.length?(Tc=xc,wb):Tc};return function(xc,Xc){ic=xc;rc=Xc;return za()}}function xa(za,wb,Tb,rb){Tb=q.tickStep(za,wb,
Tb);var Sb;rb=Pa.formatSpecifier(null==rb?",f":rb);switch(rb.type){case "s":return za=Math.max(Math.abs(za),Math.abs(wb)),null!=rb.precision||isNaN(Sb=Pa.precisionPrefix(Tb,za))||(rb.precision=Sb),Pa.formatPrefix(rb,za);case "":case "e":case "g":case "p":case "r":null!=rb.precision||isNaN(Sb=Pa.precisionRound(Tb,Math.max(Math.abs(za),Math.abs(wb))))||(rb.precision=Sb-("e"===rb.type));break;case "f":case "%":null!=rb.precision||isNaN(Sb=Pa.precisionFixed(Tb))||(rb.precision=Sb-2*("%"===rb.type))}return Pa.format(rb)}
function Oa(za){var wb=za.domain;za.ticks=function(Tb){var rb=wb();return q.ticks(rb[0],rb[rb.length-1],null==Tb?10:Tb)};za.tickFormat=function(Tb,rb){var Sb=wb();return xa(Sb[0],Sb[Sb.length-1],null==Tb?10:Tb,rb)};za.nice=function(Tb){null==Tb&&(Tb=10);var rb=wb(),Sb=0,ic=rb.length-1,rc=rb[Sb],Tc=rb[ic],pc=10;if(Tc<rc){var tb=rc;rc=Tc;Tc=tb;tb=Sb;Sb=ic;ic=tb}for(;0<pc--;){tb=q.tickIncrement(rc,Tc,Tb);if(tb===bc)return rb[Sb]=rc,rb[ic]=Tc,wb(rb);if(0<tb)rc=Math.floor(rc/tb)*tb,Tc=Math.ceil(Tc/tb)*
tb;else if(0>tb)rc=Math.ceil(rc*tb)/tb,Tc=Math.floor(Tc*tb)/tb;else break;var bc=tb}return za};return za}function ya(){var za=Qa()(ea,ea);za.copy=function(){return aa(za,ya())};cb.apply(za,arguments);return Oa(za)}function ja(za){function wb(rb){return isNaN(rb=+rb)?Tb:rb}var Tb;wb.invert=wb;wb.domain=wb.range=function(rb){return arguments.length?(za=Array.from(rb,Ja),wb):za.slice()};wb.unknown=function(rb){return arguments.length?(Tb=rb,wb):Tb};wb.copy=function(){return ja(za).unknown(Tb)};za=arguments.length?
Array.from(za,Ja):[0,1];return Oa(wb)}function wa(za,wb){za=za.slice();var Tb=0,rb=za.length-1,Sb=za[Tb],ic=za[rb];if(ic<Sb){var rc=Tb;Tb=rb;rb=rc;rc=Sb;Sb=ic;ic=rc}za[Tb]=wb.floor(Sb);za[rb]=wb.ceil(ic);return za}function sa(za){return Math.log(za)}function qa(za){return Math.exp(za)}function Fa(za){return-Math.log(-za)}function Ba(za){return-Math.exp(-za)}function Za(za){return isFinite(za)?+("1e"+za):0>za?0:za}function jb(za){return 10===za?Za:za===Math.E?Math.exp:function(wb){return Math.pow(za,
wb)}}function A(za){return za===Math.E?Math.log:10===za&&Math.log10||2===za&&Math.log2||(za=Math.log(za),function(wb){return Math.log(wb)/za})}function y(za){return function(wb){return-za(-wb)}}function I(za){function wb(){ic=A(Sb);rc=jb(Sb);0>rb()[0]?(ic=y(ic),rc=y(rc),za(Fa,Ba)):za(sa,qa);return Tb}var Tb=za(sa,qa),rb=Tb.domain,Sb=10,ic,rc;Tb.base=function(Tc){return arguments.length?(Sb=+Tc,wb()):Sb};Tb.domain=function(Tc){return arguments.length?(rb(Tc),wb()):rb()};Tb.ticks=function(Tc){var pc=
rb(),tb=pc[0];pc=pc[pc.length-1];var bc;if(bc=pc<tb)Mb=tb,tb=pc,pc=Mb;var Mb=ic(tb),xc=ic(pc),Xc=null==Tc?10:+Tc,ud=[];if(!(Sb%1)&&xc-Mb<Xc){Mb=Math.floor(Mb);xc=Math.ceil(xc);if(0<tb)for(;Mb<=xc;++Mb){var xd=1;for(Tc=rc(Mb);xd<Sb;++xd){var ae=Tc*xd;if(!(ae<tb)){if(ae>pc)break;ud.push(ae)}}}else for(;Mb<=xc;++Mb)for(xd=Sb-1,Tc=rc(Mb);1<=xd;--xd)if(ae=Tc*xd,!(ae<tb)){if(ae>pc)break;ud.push(ae)}2*ud.length<Xc&&(ud=q.ticks(tb,pc,Xc))}else ud=q.ticks(Mb,xc,Math.min(xc-Mb,Xc)).map(rc);return bc?ud.reverse():
ud};Tb.tickFormat=function(Tc,pc){null==pc&&(pc=10===Sb?".0e":",");"function"!==typeof pc&&(pc=Pa.format(pc));if(Infinity===Tc)return pc;null==Tc&&(Tc=10);var tb=Math.max(1,Sb*Tc/Tb.ticks().length);return function(bc){var Mb=bc/rc(Math.round(ic(bc)));Mb*Sb<Sb-.5&&(Mb*=Sb);return Mb<=tb?pc(bc):""}};Tb.nice=function(){return rb(wa(rb(),{floor:function(Tc){return rc(Math.floor(ic(Tc)))},ceil:function(Tc){return rc(Math.ceil(ic(Tc)))}}))};return Tb}function L(){var za=I(Qa()).domain([1,10]);za.copy=function(){return aa(za,
L()).base(za.base())};cb.apply(za,arguments);return za}function z(za){return function(wb){return Math.sign(wb)*Math.log1p(Math.abs(wb/za))}}function H(za){return function(wb){return Math.sign(wb)*Math.expm1(Math.abs(wb))*za}}function O(za){var wb=1,Tb=za(z(wb),H(wb));Tb.constant=function(rb){return arguments.length?za(z(wb=+rb),H(wb)):wb};return Oa(Tb)}function ma(){var za=O(Qa());za.copy=function(){return aa(za,ma()).constant(za.constant())};return cb.apply(za,arguments)}function Ia(za){return function(wb){return 0>
wb?-Math.pow(-wb,za):Math.pow(wb,za)}}function Sa(za){return 0>za?-Math.sqrt(-za):Math.sqrt(za)}function E(za){return 0>za?-za*za:za*za}function ha(za){var wb=za(ea,ea),Tb=1;wb.exponent=function(rb){return arguments.length?(Tb=+rb,1===Tb?za(ea,ea):.5===Tb?za(Sa,E):za(Ia(Tb),Ia(1/Tb))):Tb};return Oa(wb)}function Y(){var za=ha(Qa());za.copy=function(){return aa(za,Y()).exponent(za.exponent())};cb.apply(za,arguments);return za}function V(za){return Math.sign(za)*za*za}function w(){function za(ic){ic=
wb(ic);ic=Math.sign(ic)*Math.sqrt(Math.abs(ic));return isNaN(ic)?Sb:rb?Math.round(ic):ic}var wb=Qa()(ea,ea),Tb=[0,1],rb=!1,Sb;za.invert=function(ic){return wb.invert(V(ic))};za.domain=function(ic){return arguments.length?(wb.domain(ic),za):wb.domain()};za.range=function(ic){return arguments.length?(wb.range((Tb=Array.from(ic,Ja)).map(V)),za):Tb.slice()};za.rangeRound=function(ic){return za.range(ic).round(!0)};za.round=function(ic){return arguments.length?(rb=!!ic,za):rb};za.clamp=function(ic){return arguments.length?
(wb.clamp(ic),za):wb.clamp()};za.unknown=function(ic){return arguments.length?(Sb=ic,za):Sb};za.copy=function(){return w(wb.domain(),Tb).round(rb).clamp(wb.clamp()).unknown(Sb)};cb.apply(za,arguments);return Oa(za)}function F(){function za(){var rc=0,Tc=Math.max(1,rb.length);for(Sb=Array(Tc-1);++rc<Tc;)Sb[rc-1]=q.quantileSorted(Tb,rc/Tc);return wb}function wb(rc){return isNaN(rc=+rc)?ic:rb[q.bisect(Sb,rc)]}var Tb=[],rb=[],Sb=[],ic;wb.invertExtent=function(rc){rc=rb.indexOf(rc);return 0>rc?[NaN,NaN]:
[0<rc?Sb[rc-1]:Tb[0],rc<Sb.length?Sb[rc]:Tb[Tb.length-1]]};wb.domain=function(rc){if(!arguments.length)return Tb.slice();Tb=[];for(var Tc=$jscomp.makeIterator(rc),pc=Tc.next();!pc.done;pc=Tc.next())pc=pc.value,null==pc||isNaN(pc=+pc)||Tb.push(pc);Tb.sort(q.ascending);return za()};wb.range=function(rc){return arguments.length?(rb=Array.from(rc),za()):rb.slice()};wb.unknown=function(rc){return arguments.length?(ic=rc,wb):ic};wb.quantiles=function(){return Sb.slice()};wb.copy=function(){return F().domain(Tb).range(rb).unknown(ic)};
return cb.apply(wb,arguments)}function h(){function za(pc){return pc<=pc?rc[q.bisect(ic,pc,0,Sb)]:Tc}function wb(){var pc=-1;for(ic=Array(Sb);++pc<Sb;)ic[pc]=((pc+1)*rb-(pc-Sb)*Tb)/(Sb+1);return za}var Tb=0,rb=1,Sb=1,ic=[.5],rc=[0,1],Tc;za.domain=function(pc){if(arguments.length){var tb=$jscomp.makeIterator(pc);Tb=tb.next().value;rb=tb.next().value;tb=(Tb=+Tb,rb=+rb,wb())}else tb=[Tb,rb];return tb};za.range=function(pc){return arguments.length?(Sb=(rc=Array.from(pc)).length-1,wb()):rc.slice()};za.invertExtent=
function(pc){pc=rc.indexOf(pc);return 0>pc?[NaN,NaN]:1>pc?[Tb,ic[0]]:pc>=Sb?[ic[Sb-1],rb]:[ic[pc-1],ic[pc]]};za.unknown=function(pc){return arguments.length?(Tc=pc,za):za};za.thresholds=function(){return ic.slice()};za.copy=function(){return h().domain([Tb,rb]).range(rc).unknown(Tc)};return cb.apply(Oa(za),arguments)}function k(){function za(ic){return ic<=ic?Tb[q.bisect(wb,ic,0,Sb)]:rb}var wb=[.5],Tb=[0,1],rb,Sb=1;za.domain=function(ic){return arguments.length?(wb=Array.from(ic),Sb=Math.min(wb.length,
Tb.length-1),za):wb.slice()};za.range=function(ic){return arguments.length?(Tb=Array.from(ic),Sb=Math.min(wb.length,Tb.length-1),za):Tb.slice()};za.invertExtent=function(ic){ic=Tb.indexOf(ic);return[wb[ic-1],wb[ic]]};za.unknown=function(ic){return arguments.length?(rb=ic,za):rb};za.copy=function(){return k().domain(wb).range(Tb).unknown(rb)};return cb.apply(za,arguments)}function m(za){return new Date(za)}function r(za){return za instanceof Date?+za:+new Date(+za)}function v(za,wb,Tb,rb,Sb,ic,rc,
Tc,pc){function tb(Md){return(rc(Md)<Md?ud:ic(Md)<Md?xd:Sb(Md)<Md?ae:rb(Md)<Md?Cb:wb(Md)<Md?Tb(Md)<Md?Rb:Rc:za(Md)<Md?se:De)(Md)}function bc(Md,K,fa){null==Md&&(Md=10);if("number"===typeof Md){var bb=Math.abs(fa-K)/Md,La=q.bisector(function(Fb){return Fb[2]}).right(Ne,bb);La===Ne.length?(K=q.tickStep(K/31536E6,fa/31536E6,Md),Md=za):La?(La=Ne[bb/Ne[La-1][2]<Ne[La][2]/bb?La-1:La],K=La[1],Md=La[0]):(K=Math.max(q.tickStep(K,fa,Md),1),Md=Tc);return Md.every(K)}return Md}var Mb=Qa()(ea,ea),xc=Mb.invert,
Xc=Mb.domain,ud=pc(".%L"),xd=pc(":%S"),ae=pc("%I:%M"),Cb=pc("%I %p"),Rb=pc("%a %d"),Rc=pc("%b %d"),se=pc("%B"),De=pc("%Y"),Ne=[[rc,1,1E3],[rc,5,5E3],[rc,15,15E3],[rc,30,3E4],[ic,1,6E4],[ic,5,3E5],[ic,15,9E5],[ic,30,18E5],[Sb,1,36E5],[Sb,3,108E5],[Sb,6,216E5],[Sb,12,432E5],[rb,1,864E5],[rb,2,1728E5],[Tb,1,6048E5],[wb,1,2592E6],[wb,3,7776E6],[za,1,31536E6]];Mb.invert=function(Md){return new Date(xc(Md))};Mb.domain=function(Md){return arguments.length?Xc(Array.from(Md,r)):Xc().map(m)};Mb.ticks=function(Md){var K=
Xc(),fa=K[0];K=K[K.length-1];var bb=K<fa;if(bb){var La=fa;fa=K;K=La}La=(La=bc(Md,fa,K))?La.range(fa,K+1):[];return bb?La.reverse():La};Mb.tickFormat=function(Md,K){return null==K?tb:pc(K)};Mb.nice=function(Md){var K=Xc();return(Md=bc(Md,K[0],K[K.length-1]))?Xc(wa(K,Md)):Mb};Mb.copy=function(){return aa(Mb,v(za,wb,Tb,rb,Sb,ic,rc,Tc,pc))};return Mb}function J(){function za(Mb){return isNaN(Mb=+Mb)?bc:pc(0===rc?.5:(Mb=(Tc(Mb)-Sb)*rc,tb?Math.max(0,Math.min(1,Mb)):Mb))}function wb(Mb){return function(xc){if(arguments.length){var Xc=
$jscomp.makeIterator(xc);var ud=Xc.next().value;Xc=Xc.next().value;ud=(pc=Mb(ud,Xc),za)}else ud=[pc(0),pc(1)];return ud}}var Tb=0,rb=1,Sb,ic,rc,Tc,pc=ea,tb=!1,bc;za.domain=function(Mb){if(arguments.length){var xc=$jscomp.makeIterator(Mb);Tb=xc.next().value;rb=xc.next().value;xc=(Sb=Tc(Tb=+Tb),ic=Tc(rb=+rb),rc=Sb===ic?0:1/(ic-Sb),za)}else xc=[Tb,rb];return xc};za.clamp=function(Mb){return arguments.length?(tb=!!Mb,za):tb};za.interpolator=function(Mb){return arguments.length?(pc=Mb,za):pc};za.range=
wb(S.interpolate);za.rangeRound=wb(S.interpolateRound);za.unknown=function(Mb){return arguments.length?(bc=Mb,za):bc};return function(Mb){Tc=Mb;Sb=Mb(Tb);ic=Mb(rb);rc=Sb===ic?0:1/(ic-Sb);return za}}function ba(za,wb){return wb.domain(za.domain()).interpolator(za.interpolator()).clamp(za.clamp()).unknown(za.unknown())}function ka(){var za=Oa(J()(ea));za.copy=function(){return ba(za,ka())};return Eb.apply(za,arguments)}function ua(){var za=I(J()).domain([1,10]);za.copy=function(){return ba(za,ua()).base(za.base())};
return Eb.apply(za,arguments)}function fb(){var za=O(J());za.copy=function(){return ba(za,fb()).constant(za.constant())};return Eb.apply(za,arguments)}function eb(){var za=ha(J());za.copy=function(){return ba(za,eb()).exponent(za.exponent())};return Eb.apply(za,arguments)}function Ca(){function za(rb){if(!isNaN(rb=+rb))return Tb((q.bisect(wb,rb,1)-1)/(wb.length-1))}var wb=[],Tb=ea;za.domain=function(rb){if(!arguments.length)return wb.slice();wb=[];for(var Sb=$jscomp.makeIterator(rb),ic=Sb.next();!ic.done;ic=
Sb.next())ic=ic.value,null==ic||isNaN(ic=+ic)||wb.push(ic);wb.sort(q.ascending);return za};za.interpolator=function(rb){return arguments.length?(Tb=rb,za):Tb};za.range=function(){return wb.map(function(rb,Sb){return Tb(Sb/(wb.length-1))})};za.quantiles=function(rb){return Array.from({length:rb+1},function(Sb,ic){return q.quantile(wb,ic/rb)})};za.copy=function(){return Ca(Tb).domain(wb)};return Eb.apply(za,arguments)}function Ka(){function za(xd){return isNaN(xd=+xd)?ud:(xd=.5+((xd=+xc(xd))-Tc)*(ic*
xd<ic*Tc?tb:bc),Mb(Xc?Math.max(0,Math.min(1,xd)):xd))}function wb(xd){return function(ae){if(arguments.length){var Cb=$jscomp.makeIterator(ae);var Rb=Cb.next().value;var Rc=Cb.next().value;Cb=Cb.next().value;Rb=(Mb=S.piecewise(xd,[Rb,Rc,Cb]),za)}else Rb=[Mb(0),Mb(.5),Mb(1)];return Rb}}var Tb=0,rb=.5,Sb=1,ic=1,rc,Tc,pc,tb,bc,Mb=ea,xc,Xc=!1,ud;za.domain=function(xd){if(arguments.length){var ae=$jscomp.makeIterator(xd);Tb=ae.next().value;rb=ae.next().value;Sb=ae.next().value;ae=(rc=xc(Tb=+Tb),Tc=xc(rb=
+rb),pc=xc(Sb=+Sb),tb=rc===Tc?0:.5/(Tc-rc),bc=Tc===pc?0:.5/(pc-Tc),ic=Tc<rc?-1:1,za)}else ae=[Tb,rb,Sb];return ae};za.clamp=function(xd){return arguments.length?(Xc=!!xd,za):Xc};za.interpolator=function(xd){return arguments.length?(Mb=xd,za):Mb};za.range=wb(S.interpolate);za.rangeRound=wb(S.interpolateRound);za.unknown=function(xd){return arguments.length?(ud=xd,za):ud};return function(xd){xc=xd;rc=xd(Tb);Tc=xd(rb);pc=xd(Sb);tb=rc===Tc?0:.5/(Tc-rc);bc=Tc===pc?0:.5/(pc-Tc);ic=Tc<rc?-1:1;return za}}
function Z(){var za=Oa(Ka()(ea));za.copy=function(){return ba(za,Z())};return Eb.apply(za,arguments)}function ra(){var za=I(Ka()).domain([.1,1,10]);za.copy=function(){return ba(za,ra()).base(za.base())};return Eb.apply(za,arguments)}function hb(){var za=O(Ka());za.copy=function(){return ba(za,hb()).constant(za.constant())};return Eb.apply(za,arguments)}function mb(){var za=ha(Ka());za.copy=function(){return ba(za,mb()).exponent(za.exponent())};return Eb.apply(za,arguments)}var Ib=Symbol("implicit"),
Xb=[0,1];n.scaleBand=Ea;n.scaleDiverging=Z;n.scaleDivergingLog=ra;n.scaleDivergingPow=mb;n.scaleDivergingSqrt=function(){return mb.apply(null,arguments).exponent(.5)};n.scaleDivergingSymlog=hb;n.scaleIdentity=ja;n.scaleImplicit=Ib;n.scaleLinear=ya;n.scaleLog=L;n.scaleOrdinal=qb;n.scalePoint=function(){return $a(Ea.apply(null,arguments).paddingInner(1))};n.scalePow=Y;n.scaleQuantile=F;n.scaleQuantize=h;n.scaleRadial=w;n.scaleSequential=ka;n.scaleSequentialLog=ua;n.scaleSequentialPow=eb;n.scaleSequentialQuantile=
Ca;n.scaleSequentialSqrt=function(){return eb.apply(null,arguments).exponent(.5)};n.scaleSequentialSymlog=fb;n.scaleSqrt=function(){return Y.apply(null,arguments).exponent(.5)};n.scaleSymlog=ma;n.scaleThreshold=k;n.scaleTime=function(){return cb.apply(v(Hb.timeYear,Hb.timeMonth,Hb.timeWeek,Hb.timeDay,Hb.timeHour,Hb.timeMinute,Hb.timeSecond,Hb.timeMillisecond,Ma.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};n.scaleUtc=function(){return cb.apply(v(Hb.utcYear,Hb.utcMonth,Hb.utcWeek,
Hb.utcDay,Hb.utcHour,Hb.utcMinute,Hb.utcSecond,Hb.utcMillisecond,Ma.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};n.tickFormat=xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[21]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(1),sb(20),sb(19),sb(4)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.d3,n.d3,n.d3,n.vega))})(this,function(n,q,S,Pa,Hb,Ma){function cb(h,k,m){k=h-k+2*m;return h?0<k?k:1:0}function Eb(h){return function(k){var m=k[0];k=k[1];if(k<m){var r=
m;m=k;k=r}return[h.invert(m),h.invert(k)]}}function qb(h){return function(k){var m=h.range(),r=k[0];k=k[1];var v=-1,J;if(k<r){var ba=r;r=k;k=ba}ba=0;for(J=m.length;ba<J;++ba)if(m[ba]>=r&&m[ba]<=k){0>v&&(v=ba);var ka=ba}if(!(0>v))return r=h.invertExtent(m[v]),k=h.invertExtent(m[ka]),[void 0===r[0]?r[1]:r[0],void 0===k[1]?k[0]:k[1]]}}function Ea(){function h(){var Ca=m().length,Ka=v[1]<v[0],Z=v[1-Ka],ra=cb(Ca,ua,fb),hb=v[Ka-0];J=(Z-hb)/(ra||1);ka&&(J=Math.floor(J));hb+=(Z-hb-J*(Ca-ua))*eb;ba=J*(1-ua);
ka&&(hb=Math.round(hb),ba=Math.round(ba));Ca=S.range(Ca).map(function(mb){return hb+J*mb});return r(Ka?Ca.reverse():Ca)}var k=Pa.scaleOrdinal().unknown(void 0),m=k.domain,r=k.range,v=[0,1],J,ba,ka=!1,ua=0,fb=0,eb=.5;delete k.unknown;k.domain=function(Ca){return arguments.length?(m(Ca),h()):m()};k.range=function(Ca){return arguments.length?(v=[+Ca[0],+Ca[1]],h()):v.slice()};k.rangeRound=function(Ca){v=[+Ca[0],+Ca[1]];ka=!0;return h()};k.bandwidth=function(){return ba};k.step=function(){return J};k.round=
function(Ca){return arguments.length?(ka=!!Ca,h()):ka};k.padding=function(Ca){return arguments.length?(ua=fb=Math.max(0,Math.min(1,Ca)),h()):ua};k.paddingInner=function(Ca){return arguments.length?(ua=Math.max(0,Math.min(1,Ca)),h()):ua};k.paddingOuter=function(Ca){return arguments.length?(fb=Math.max(0,Math.min(1,Ca)),h()):fb};k.align=function(Ca){return arguments.length?(eb=Math.max(0,Math.min(1,Ca)),h()):eb};k.invertRange=function(Ca){if(null!=Ca[0]&&null!=Ca[1]){var Ka=v[1]<v[0],Z=Ka?r().reverse():
r(),ra=Z.length-1,hb=+Ca[0],mb=+Ca[1];if(hb===hb&&mb===mb){if(mb<hb){var Ib=hb;hb=mb;mb=Ib}if(!(mb<Z[0]||hb>v[1-Ka]))return Ca=Math.max(0,S.bisectRight(Z,hb)-1),mb=hb===mb?Ca:S.bisectRight(Z,mb)-1,hb-Z[Ca]>ba+1E-10&&++Ca,Ka&&(Ib=Ca,Ca=ra-mb,mb=ra-Ib),Ca>mb?void 0:m().slice(Ca,mb+1)}}};k.invert=function(Ca){return(Ca=k.invertRange([Ca,Ca]))?Ca[0]:Ca};k.copy=function(){return Ea().domain(m()).range(v).round(ka).paddingInner(ua).paddingOuter(fb).align(eb)};return h()}function $a(h){var k=h.copy;h.padding=
h.paddingOuter;delete h.paddingInner;h.copy=function(){return $a(k())};return h}function db(){function h(r){return null==r||r!==r?void 0:m[(S.bisect(k,r)-1)%m.length]}var k=[],m=[];h.domain=function(r){return arguments.length?(k=I.call(r,q.toNumber),h):k.slice()};h.range=function(r){return arguments.length?(m=L.call(r),h):m.slice()};h.tickFormat=function(r,v){return Pa.tickFormat(k[0],q.peek(k),null==r?10:r,v)};h.copy=function(){return db().domain(h.domain()).range(h.range())};return h}function Ja(h,
k,m){var r=function(){var v=k();v.invertRange||(v.invertRange=v.invert?Eb(v):v.invertExtent?qb(v):void 0);v.type=h;return v};r.metadata=q.toSet(q.array(m));return r}function ea(h,k,m){return 1<arguments.length?(z[h]=Ja(h,k,m),this):pa(h)?z[h]:void 0}function pa(h){return q.hasOwnProperty(z,h)}function Ga(h,k){return(h=z[h])&&h.metadata[k]}function Wa(h){return Ga(h,"discrete")}function la(h){return Ga(h,"discretizing")}function aa(h){return Ga(h,"log")}function Qa(h){return Ga(h,"temporal")}function xa(h,
k,m){return Hb.piecewise(Oa(k||"rgb",m),h)}function Oa(h,k){h=y[ya(h)];return null!=k&&h&&h.gamma?h.gamma(k):h}function ya(h){return"interpolate"+h.toLowerCase().split("-").map(function(k){return k[0].toUpperCase()+k.slice(1)}).join("")}function ja(h){for(var k=h.length/6|0,m=Array(k),r=0;r<k;)m[r]="#"+h.slice(6*r,6*++r);return m}function wa(h,k){for(var m in h)sa(m,k(h[m]))}function sa(h,k){h=h&&h.toLowerCase();return 1<arguments.length?(O[h]=k,this):O[h]}function qa(h,k,m){var r=h.range(),v=r[0],
J=q.peek(r);r=Ia;v>J&&(r=J,J=v,v=r,r=Sa);v=Math.floor(v);J=Math.ceil(J);k=k.map(function(ba){return[ba,h(ba)]}).filter(function(ba){return v<=ba[1]&&ba[1]<=J}).sort(r).map(function(ba){return ba[0]});if(0<m&&1<k.length){for(r=[k[0],q.peek(k)];k.length>m&&3<=k.length;)k=k.filter(function(ba,ka){return!(ka%2)});3>k.length&&(k=r)}return k}function Fa(h,k){return h.bins?qa(h,h.bins):h.ticks?h.ticks(k):h.domain()}function Ba(h,k,m,r,v,J){var ba=k.type,ka=ma;if("time"===ba||"time"===v)ka=h.timeFormat(r);
else if("utc"===ba||"utc"===v)ka=h.utcFormat(r);else if(aa(ba)){var ua=h.formatFloat(r);if(J||k.bins)ka=ua;else{var fb=Za(k,m,!1);ka=function(eb){return fb(eb)?ua(eb):""}}}else k.tickFormat?(k=k.domain(),ka=h.formatSpan(k[0],k[k.length-1],m,r)):r&&(ka=h.format(r));return ka}function Za(h,k,m){var r=Fa(h,k),v=h.base(),J=Math.log(v),ba=Math.max(1,v*k/r.length);h=function(ka){ka/=Math.pow(v,Math.round(Math.log(ka)/J));ka*v<v-.5&&(ka*=v);return ka<=ba};return m?r.filter(h):h}function jb(h,k){h.bins?(h=
h.bins,k=h.slice(0,-1),k.max=q.peek(h),h=k):"log"===h.type?h=Za(h,k,!0):ha[h.type]?(h=h[ha[h.type]](),h=[-Infinity].concat(h),h.max=Infinity):h=Fa(h,k);return h}function A(h,k,m,r,v,J,ba){if(Y[k.type]&&"time"!==J&&"utc"!==J){m=k[Y[k.type]]();J=m.length;ba=1<J?m[1]-m[0]:m[0];var ka;for(ka=1;ka<J;++ka)ba=Math.min(ba,m[ka]-m[ka-1]);h=h.formatSpan(0,ba,30,v)}else h=Ba(h,k,m,v,J,ba);return"symbol"===r&&(ha[k.type]||k.bins)?V(h):"discrete"===r?w(h):F(h)}var y=function(h){if(h&&h.__esModule)return h;var k=
Object.create(null);h&&Object.keys(h).forEach(function(m){if("default"!==m){var r=Object.getOwnPropertyDescriptor(h,m);Object.defineProperty(k,m,r.get?r:{enumerable:!0,get:function(){return h[m]}})}});k["default"]=h;return Object.freeze(k)}(Hb),I=Array.prototype.map,L=Array.prototype.slice,z={};ea("identity",Pa.scaleIdentity);ea("linear",Pa.scaleLinear,"continuous");ea("log",Pa.scaleLog,["continuous","log"]);ea("pow",Pa.scalePow,"continuous");ea("sqrt",Pa.scaleSqrt,"continuous");ea("symlog",Pa.scaleSymlog,
"continuous");ea("time",Pa.scaleTime,["continuous","temporal"]);ea("utc",Pa.scaleUtc,["continuous","temporal"]);ea("sequential",Pa.scaleSequential,["continuous","interpolating"]);ea("sequential-linear",Pa.scaleSequential,["continuous","interpolating"]);ea("sequential-log",Pa.scaleSequentialLog,["continuous","interpolating","log"]);ea("sequential-pow",Pa.scaleSequentialPow,["continuous","interpolating"]);ea("sequential-sqrt",Pa.scaleSequentialSqrt,["continuous","interpolating"]);ea("sequential-symlog",
Pa.scaleSequentialSymlog,["continuous","interpolating"]);ea("diverging-linear",Pa.scaleDiverging,["continuous","interpolating"]);ea("diverging-log",Pa.scaleDivergingLog,["continuous","interpolating","log"]);ea("diverging-pow",Pa.scaleDivergingPow,["continuous","interpolating"]);ea("diverging-sqrt",Pa.scaleDivergingSqrt,["continuous","interpolating"]);ea("diverging-symlog",Pa.scaleDivergingSymlog,["continuous","interpolating"]);ea("quantile",Pa.scaleQuantile,["discretizing","quantile"]);ea("quantize",
Pa.scaleQuantize,"discretizing");ea("threshold",Pa.scaleThreshold,"discretizing");ea("bin-ordinal",db,["discrete","discretizing"]);ea("ordinal",Pa.scaleOrdinal,"discrete");ea("band",Ea,"discrete");ea("point",function(){return $a(Ea().paddingInner(1))},"discrete");var H=["clamp","base","constant","exponent"],O={};wa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ja);wa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(h){return xa(ja(h))});var ma=function(h){return q.isArray(h)?h.map(function(k){return String(k)}):String(h)},Ia=function(h,k){return h[1]-k[1]},Sa=function(h,k){return k[1]-h[1]},E={},ha=(E.quantile="quantiles",E.quantize="thresholds",E.threshold="domain",E);E={};var Y=(E.quantile="quantiles",E.quantize=
"domain",E),V=function(h){return function(k,m,r){m=r[m+1];r=r.max;r=null!=r?r:Infinity;m=null!=m?m:r;k=Number.isFinite(k)?h(k):null;m=Number.isFinite(m)?h(m):null;return k&&m?k+" – "+m:m?"\x3c "+m:"≥ "+k}},w=function(h){return function(k,m){return m?h(k):null}},F=function(h){return function(k){return h(k)}};Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return Pa.scaleImplicit}});n.Band="band";n.BinOrdinal="bin-ordinal";n.DiscreteLegend="discrete";n.Diverging="diverging";n.GradientLegend=
"gradient";n.Identity="identity";n.Linear="linear";n.Log="log";n.Ordinal="ordinal";n.Point="point";n.Pow="pow";n.Quantile="quantile";n.Quantize="quantize";n.Sequential="sequential";n.Sqrt="sqrt";n.SymbolLegend="symbol";n.Symlog="symlog";n.Threshold="threshold";n.Time="time";n.UTC="utc";n.bandSpace=cb;n.domainCaption=function(h,k,m){m=m||{};var r=Math.max(3,m.maxlen||7),v=m.format,J=(m=m.formatType)||k.type;q.isString(v)&&Qa(J)&&(v=v.replace(/%a/g,"%A").replace(/%b/g,"%B"));h=v||"time"!==J?v||"utc"!==
J?A(h,k,5,null,v,m,!0):h.utcFormat("%A, %d %B %Y, %X UTC"):h.timeFormat("%A, %d %B %Y, %X");if(la(k.type))return r=jb(k).slice(1).map(h),k=r.length,k+" boundar"+(1===k?"y":"ies")+": "+r.join(", ");if(Wa(k.type))return v=k.domain(),k=v.length,r=k>r?v.slice(0,r-2).map(h).join(", ")+", ending with "+v.slice(-1).map(h):v.map(h).join(", "),k+" value"+(1===k?"":"s")+": "+r;r=k.domain();return"values from "+h(r[0])+" to "+h(q.peek(r))};n.interpolate=Oa;n.interpolateColors=xa;n.interpolateRange=function(h,
k){var m=k[0],r=q.peek(k)-m;return function(v){return h(m+v*r)}};n.isContinuous=function(h){return Ga(h,"continuous")};n.isDiscrete=Wa;n.isDiscretizing=la;n.isInterpolating=function(h){return Ga(h,"interpolating")};n.isLogarithmic=aa;n.isQuantile=function(h){return Ga(h,"quantile")};n.isTemporal=Qa;n.isValidScaleType=pa;n.labelFormat=A;n.labelFraction=function(h){var k=h.domain(),m=k.length-1,r=+k[0];k=+q.peek(k);var v=k-r;"threshold"===h.type&&(h=m?v/m:.1,r-=h,v=k+h-r);return function(J){return(J-
r)/v}};n.labelValues=jb;n.quantizeInterpolator=function(h,k){for(var m=Array(k),r=k+1,v=0;v<k;)m[v]=h(++v/r);return m};n.scale=ea;n.scaleCopy=function(h){var k=h.type;h=h.copy();h.type=k;return h};n.scaleFraction=function(h,k,m){var r=m-k,v;if(r&&Number.isFinite(r)){r=(v=h.type).indexOf("-");v=0>r?v:v.slice(r+1);var J=ea(v)().domain([k,m]).range([0,1]);H.forEach(function(ba){return h[ba]?J[ba](h[ba]()):0});return J}return q.constant(.5)};n.scheme=sa;n.tickCount=function(h,k,m){q.isNumber(k)&&(h.bins&&
(k=Math.max(k,h.bins.length)),null!=m&&(k=Math.min(k,Math.floor(q.span(h.domain())/m||1))));if(q.isObject(k)){var r=k.step;k=k.interval}q.isString(k)&&(k="time"===h.type?Ma.timeInterval(k):"utc"==h.type?Ma.utcInterval(k):q.error("Only time and utc scales accept interval strings."),r&&(k=k.every(r)));return k};n.tickFormat=Ba;n.tickValues=Fa;n.validTicks=qa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[22]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(16),sb(15),sb(17),sb(11),sb(21)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.d3,n.d3,n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa,Hb,Ma,cb){function Eb(p,x,Q){var W=p.gradient,Ha=p.id,ob="radial"===W?"p_":"";Ha||(Ha=p.id=
"gradient_"+kd++,"radial"===W?(p.x1=qb(p.x1,.5),p.y1=qb(p.y1,.5),p.r1=qb(p.r1,0),p.x2=qb(p.x2,.5),p.y2=qb(p.y2,.5),p.r2=qb(p.r2,.5),ob="p_"):(p.x1=qb(p.x1,0),p.y1=qb(p.y1,0),p.x2=qb(p.x2,1),p.y2=qb(p.y2,0)));x[Ha]=p;return"url("+(Q||"")+"#"+ob+Ha+")"}function qb(p,x){return null!=p?p:x}function Ea(p,x,Q){p=q.hasOwnProperty(pd,p)&&pd[p];var W=null;p&&(W=p.curve||p[x||"vertical"],p.tension&&null!=Q&&(W=W[p.tension](Q)));return W}function $a(p){var x=[],Q,W,Ha,ob=p.slice().replace(ld[0],"###$1").split(ld[1]).slice(1);
p=0;for(W=ob.length;p<W;++p){var Db=ob[p];var Ub=Db.slice(1).trim().replace(ld[2],"$1###$2").replace(ld[3],"$1###$2").split(ld[4]);var ec=Db.charAt(0);Db=[ec];var zc=0;for(Ha=Ub.length;zc<Ha;++zc)(Q=+Ub[zc])===Q&&Db.push(Q);Ub=yd[ec.toLowerCase()];if(Db.length-1>Ub)for(Ha=Db.length,zc=1,x.push([ec].concat(Db.slice(zc,zc+=Ub))),ec="M"===ec?"L":"m"===ec?"l":ec;zc<Ha;zc+=Ub)x.push([ec].concat(Db.slice(zc,zc+Ub)));else x.push(Db)}return x}function db(p,x,Q,W,Ha,ob,Db,Ub,ec){var zc=Ke.call(arguments);
if(Jd[zc])return Jd[zc];var Cc=Db*Od,$c=Math.sin(Cc);Cc=Math.cos(Cc);Q=Math.abs(Q);W=Math.abs(W);var qd=Cc*(Ub-p)*.5+$c*(ec-x)*.5,Mc=Cc*(ec-x)*.5-$c*(Ub-p)*.5;qd=qd*qd/(Q*Q)+Mc*Mc/(W*W);1<qd&&(qd=Math.sqrt(qd),Q*=qd,W*=qd);var Ad=Cc/Q,Cd=$c/Q,we=-$c/W,X=Cc/W;qd=Ad*Ub+Cd*ec;Mc=we*Ub+X*ec;Ad=Ad*p+Cd*x;Cd=we*p+X*x;we=1/((Ad-qd)*(Ad-qd)+(Cd-Mc)*(Cd-Mc))-.25;0>we&&(we=0);X=Math.sqrt(we);ob==Ha&&(X=-X);we=.5*(qd+Ad)-X*(Cd-Mc);X=.5*(Mc+Cd)+X*(Ad-qd);qd=Math.atan2(Mc-X,qd-we);Mc=Math.atan2(Cd-X,Ad-we)-qd;
0>Mc&&1===ob?Mc+=jc:0<Mc&&0===ob&&(Mc-=jc);Ad=Math.ceil(Math.abs(Mc/(de+.001)));Cd=[];for(var ta=0;ta<Ad;++ta)Cd[ta]=[we,X,qd+ta*Mc/Ad,qd+(ta+1)*Mc/Ad,Q,W,$c,Cc];return Jd[zc]=Cd}function Ja(p,x,Q,W,Ha,ob){var Db=null,Ub=0,ec=0,zc=0,Cc=0;null==Q&&(Q=0);null==W&&(W=0);null==Ha&&(Ha=1);null==ob&&(ob=Ha);p.beginPath&&p.beginPath();for(var $c=0,qd=x.length;$c<qd;++$c){var Mc=x[$c];if(1!==Ha||1!==ob){var Ad=Ha;var Cd=ob;var we=oe[0]=Mc[0];if("a"===we||"A"===we)oe[1]=Ad*Mc[1],oe[2]=Cd*Mc[2],oe[3]=Mc[3],
oe[4]=Mc[4],oe[5]=Mc[5],oe[6]=Ad*Mc[6],oe[7]=Cd*Mc[7];else if("h"===we||"H"===we)oe[1]=Ad*Mc[1];else if("v"===we||"V"===we)oe[1]=Cd*Mc[1];else{we=1;for(var X=Mc.length;we<X;++we)oe[we]=(1==we%2?Ad:Cd)*Mc[we]}Mc=oe}switch(Mc[0]){case "l":Ub+=Mc[1];ec+=Mc[2];p.lineTo(Ub+Q,ec+W);break;case "L":Ub=Mc[1];ec=Mc[2];p.lineTo(Ub+Q,ec+W);break;case "h":Ub+=Mc[1];p.lineTo(Ub+Q,ec+W);break;case "H":Ub=Mc[1];p.lineTo(Ub+Q,ec+W);break;case "v":ec+=Mc[1];p.lineTo(Ub+Q,ec+W);break;case "V":ec=Mc[1];p.lineTo(Ub+Q,
ec+W);break;case "m":Ub+=Mc[1];ec+=Mc[2];p.moveTo(Ub+Q,ec+W);break;case "M":Ub=Mc[1];ec=Mc[2];p.moveTo(Ub+Q,ec+W);break;case "c":Ad=Ub+Mc[5];Cd=ec+Mc[6];zc=Ub+Mc[3];Cc=ec+Mc[4];p.bezierCurveTo(Ub+Mc[1]+Q,ec+Mc[2]+W,zc+Q,Cc+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;break;case "C":Ub=Mc[5];ec=Mc[6];zc=Mc[3];Cc=Mc[4];p.bezierCurveTo(Mc[1]+Q,Mc[2]+W,zc+Q,Cc+W,Ub+Q,ec+W);break;case "s":Ad=Ub+Mc[3];Cd=ec+Mc[4];zc=2*Ub-zc;Cc=2*ec-Cc;p.bezierCurveTo(zc+Q,Cc+W,Ub+Mc[1]+Q,ec+Mc[2]+W,Ad+Q,Cd+W);zc=Ub+Mc[1];Cc=ec+Mc[2];Ub=Ad;
ec=Cd;break;case "S":Ad=Mc[3];Cd=Mc[4];zc=2*Ub-zc;Cc=2*ec-Cc;p.bezierCurveTo(zc+Q,Cc+W,Mc[1]+Q,Mc[2]+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;zc=Mc[1];Cc=Mc[2];break;case "q":Ad=Ub+Mc[3];Cd=ec+Mc[4];zc=Ub+Mc[1];Cc=ec+Mc[2];p.quadraticCurveTo(zc+Q,Cc+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;break;case "Q":Ad=Mc[3];Cd=Mc[4];p.quadraticCurveTo(Mc[1]+Q,Mc[2]+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;zc=Mc[1];Cc=Mc[2];break;case "t":Ad=Ub+Mc[1];Cd=ec+Mc[2];null===Db[0].match(/[QqTt]/)?(zc=Ub,Cc=ec):"t"===Db[0]?(zc=2*Ub-ta,Cc=2*ec-Ua):"q"===Db[0]&&(zc=
2*Ub-zc,Cc=2*ec-Cc);var ta=zc;var Ua=Cc;p.quadraticCurveTo(zc+Q,Cc+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;zc=Ub+Mc[1];Cc=ec+Mc[2];break;case "T":Ad=Mc[1];Cd=Mc[2];zc=2*Ub-zc;Cc=2*ec-Cc;p.quadraticCurveTo(zc+Q,Cc+W,Ad+Q,Cd+W);Ub=Ad;ec=Cd;break;case "a":ea(p,Ub+Q,ec+W,[Mc[1],Mc[2],Mc[3],Mc[4],Mc[5],Mc[6]+Ub+Q,Mc[7]+ec+W]);Ub+=Mc[6];ec+=Mc[7];break;case "A":ea(p,Ub+Q,ec+W,[Mc[1],Mc[2],Mc[3],Mc[4],Mc[5],Mc[6]+Q,Mc[7]+W]);Ub=Mc[6];ec=Mc[7];break;case "z":case "Z":p.closePath()}Db=Mc}}function ea(p,x,Q,W){x=db(W[5],
W[6],W[0],W[1],W[3],W[4],W[2],x,Q);for(Q=0;Q<x.length;++Q){var Ha=x[Q];W=Ke.call(Ha);if(Lb[W])W=Lb[W];else{var ob=Ha[0],Db=Ha[1],Ub=Ha[2],ec=Ha[3],zc=Ha[4],Cc=Ha[5],$c=Ha[6],qd=Ha[7];Ha=qd*zc;var Mc=-$c*Cc;zc*=$c;Cc*=qd;var Ad=Math.cos(Ub),Cd=Math.sin(Ub);$c=Math.cos(ec);qd=Math.sin(ec);Ub=.5*(ec-Ub);ec=Math.sin(.5*Ub);ec=8/3*ec*ec/Math.sin(Ub);Ub=ob+Ad-ec*Cd;Ad=Db+Cd+ec*Ad;ob+=$c;Db+=qd;qd=ob+ec*qd;$c=Db-ec*$c;W=Lb[W]=[Ha*Ub+Mc*Ad,zc*Ub+Cc*Ad,Ha*qd+Mc*$c,zc*qd+Cc*$c,Ha*ob+Mc*Db,zc*ob+Cc*Db]}p.bezierCurveTo(W[0],
W[1],W[2],W[3],W[4],W[5])}}function pa(p){return q.hasOwnProperty(re,p)?re[p]:Ga(p)}function Ga(p){if(!q.hasOwnProperty(Ye,p)){var x=$a(p);Ye[p]={draw:function(Q,W){Ja(Q,x,0,0,Math.sqrt(W)/2)}}}return Ye[p]}function Wa(p){return p.x}function la(p){return p.y}function aa(p){return p.width}function Qa(p){return p.height}function xa(p){return"function"===typeof p?p:function(){return+p}}function Oa(p,x,Q){return Math.max(x,Math.min(p,Q))}function ya(){function p(Cc,$c,qd){var Mc;$c=null!=$c?$c:+x.call(this,
Cc);qd=null!=qd?qd:+Q.call(this,Cc);var Ad=+W.call(this,Cc),Cd=+Ha.call(this,Cc),we=Math.min(Ad,Cd)/2,X=Oa(+ob.call(this,Cc),0,we),ta=Oa(+Db.call(this,Cc),0,we),Ua=Oa(+Ub.call(this,Cc),0,we);Cc=Oa(+ec.call(this,Cc),0,we);zc||(zc=Mc=Pa.path());0>=X&&0>=ta&&0>=Ua&&0>=Cc?zc.rect($c,qd,Ad,Cd):(Ad=$c+Ad,Cd=qd+Cd,zc.moveTo($c+X,qd),zc.lineTo(Ad-ta,qd),zc.bezierCurveTo(Ad-.448084975506*ta,qd,Ad,qd+.448084975506*ta,Ad,qd+ta),zc.lineTo(Ad,Cd-Cc),zc.bezierCurveTo(Ad,Cd-.448084975506*Cc,Ad-.448084975506*Cc,
Cd,Ad-Cc,Cd),zc.lineTo($c+Ua,Cd),zc.bezierCurveTo($c+.448084975506*Ua,Cd,$c,Cd-.448084975506*Ua,$c,Cd-Ua),zc.lineTo($c,qd+X),zc.bezierCurveTo($c,qd+.448084975506*X,$c+.448084975506*X,qd,$c+X,qd),zc.closePath());if(Mc)return zc=null,Mc+""||null}var x=Wa,Q=la,W=aa,Ha=Qa,ob=xa(0),Db=ob,Ub=ob,ec=ob,zc=null;p.x=function(Cc){return arguments.length?(x=xa(Cc),p):x};p.y=function(Cc){return arguments.length?(Q=xa(Cc),p):Q};p.width=function(Cc){return arguments.length?(W=xa(Cc),p):W};p.height=function(Cc){return arguments.length?
(Ha=xa(Cc),p):Ha};p.cornerRadius=function(Cc,$c,qd,Mc){return arguments.length?(ob=xa(Cc),Db=null!=$c?xa($c):ob,ec=null!=qd?xa(qd):ob,Ub=null!=Mc?xa(Mc):Db,p):ob};p.context=function(Cc){return arguments.length?(zc=null==Cc?null:Cc,p):zc};return p}function ja(){function p(Cc){var $c,qd=Cc.length,Mc,Ad=!1,Cd;null==ob&&(ob=Cd=Pa.path());for($c=0;$c<=qd;++$c)if(!($c<qd&&Ha(Mc=Cc[$c],$c,Cc))===Ad&&(Ad=!Ad)&&(Db=0),Ad){var we=+x(Mc,$c,Cc),X=+Q(Mc,$c,Cc),ta=+W(Mc,$c,Cc)/2;if(Db){var Ua=ec-X,kb=we-Ub;if(Ua||
kb){var Bb=Math.sqrt(Ua*Ua+kb*kb),mc=(Ua/=Bb)*zc;Bb=(kb/=Bb)*zc;var wc=Math.atan2(kb,Ua);ob.moveTo(Ub-mc,ec-Bb);ob.lineTo(we-Ua*ta,X-kb*ta);ob.arc(we,X,ta,wc-Math.PI,wc);ob.lineTo(Ub+mc,ec+Bb);ob.arc(Ub,ec,zc,wc,wc+Math.PI)}else ob.arc(we,X,ta,0,jc);ob.closePath()}else Db=1;Ub=we;ec=X;zc=ta}if(Cd)return ob=null,Cd+""||null}var x,Q,W,Ha,ob=null,Db,Ub,ec,zc;p.x=function(Cc){return arguments.length?(x=Cc,p):x};p.y=function(Cc){return arguments.length?(Q=Cc,p):Q};p.size=function(Cc){return arguments.length?
(W=Cc,p):W};p.defined=function(Cc){return arguments.length?(Ha=Cc,p):Ha};p.context=function(Cc){return arguments.length?(ob=null==Cc?null:Cc,p):ob};return p}function wa(p,x){return null!=p?p:x}function sa(p){return p.cornerRadius||p.cornerRadiusTopLeft||p.cornerRadiusTopRight||p.cornerRadiusBottomRight||p.cornerRadiusBottomLeft}function qa(p,x,Q,W){return Yc.context(p)(x,Q,W)}function Fa(p,x,Q){var W=x.clip;p=p._defs;x=x.clip_id||(x.clip_id="clip"+Pc++);p=p.clipping[x]||(p.clipping[x]={id:x});q.isFunction(W)?
p.path=W(null):sa(Q)?p.path=qa(null,Q,0,0):(p.width=Q.width||0,p.height=Q.height||0);return"url(#"+x+")"}function Ba(p){this.clear();p&&this.union(p)}function Za(p){this.mark=p;this.bounds=this.bounds||new Ba}function jb(p){Za.call(this,p);this.items=this.items||[]}function A(p){this._pending=0;this._loader=p||Ma.loader()}function y(p,x,Q){if(x.stroke&&0!==x.opacity&&0!==x.strokeOpacity){var W=null!=x.strokeWidth?+x.strokeWidth:1;p.expand(W+(Q?x.strokeJoin&&"miter"!==x.strokeJoin?0:W:0))}return p}
function I(p,x){Sd=p;x?(Ed=x*Od,ke=Le=Math.cos(Ed),Gd=Math.sin(Ed),pe=-Gd):(ke=Le=1,Ed=Gd=pe=0);return Pe}function L(p,x,Q,W){Q=(p-x)/(p+Q-2*x);0<Q&&1>Q&&W(p+(x-p)*Q)}function z(p,x,Q,W,Ha){var ob=W-p+3*x-3*Q,Db=p+Q-2*x,Ub=p-x,ec=0,zc=0;1E-14<Math.abs(ob)?(Ub=Db*Db+Ub*ob,0<=Ub&&(Ub=Math.sqrt(Ub),ec=(-Db+Ub)/ob,zc=(-Db-Ub)/ob)):ec=.5*Ub/Db;0<ec&&1>ec&&Ha(H(ec,p,x,Q,W));0<zc&&1>zc&&Ha(H(zc,p,x,Q,W))}function H(p,x,Q,W,Ha){var ob=1-p,Db=ob*ob,Ub=p*p;return Db*ob*x+3*Db*p*Q+3*ob*Ub*W+Ub*p*Ha}function O(p){return function(x,
Q){if(!Ee)return!0;p(Ee,x);$e.clear().union(x.bounds).intersect(Q).round();var W=$e;x=W.x1;Q=W.x2;var Ha=W.y2;for(W=W.y1;W<=Ha;++W)for(var ob=x;ob<=Q;++ob)if(Ee.isPointInPath(ob,W))return!0;return!1}}function ma(p,x){return x.contains(p.x||0,p.y||0)}function Ia(p,x){var Q=p.x||0,W=p.y||0;return x.intersects($e.set(Q,W,Q+(p.width||0),W+(p.height||0)))}function Sa(p,x){var Q=p.x||0,W=p.y||0;return E(x,Q,W,null!=p.x2?p.x2:Q,null!=p.y2?p.y2:W)}function E(p,x,Q,W,Ha){var ob=p.x1,Db=p.y1,Ub=p.x2;p=p.y2;
W-=x;Ha-=Q;var ec=0,zc=1,Cc;for(Cc=0;4>Cc;++Cc){if(0===Cc){var $c=-W;var qd=-(ob-x)}1===Cc&&($c=W,qd=Ub-x);2===Cc&&($c=-Ha,qd=-(Db-Q));3===Cc&&($c=Ha,qd=p-Q);if(1E-10>Math.abs($c)&&0>qd)return!1;var Mc=qd/$c;if(0>$c){if(Mc>zc)return!1;Mc>ec&&(ec=Mc)}else if(0<$c){if(Mc<ec)return!1;Mc<zc&&(zc=Mc)}}return!0}function ha(p,x){p.globalCompositeOperation=x.blend||"source-over"}function Y(p,x){return null==p?x:p}function V(p,x){for(var Q=x.length,W=0;W<Q;++W)p.addColorStop(x[W].offset,x[W].color);return p}
function w(p,x,Q){var W=Q.width(),Ha=Q.height();if("radial"===x.gradient)p=p.createRadialGradient(Q.x1+Y(x.x1,.5)*W,Q.y1+Y(x.y1,.5)*Ha,Math.max(W,Ha)*Y(x.r1,0),Q.x1+Y(x.x2,.5)*W,Q.y1+Y(x.y2,.5)*Ha,Math.max(W,Ha)*Y(x.r2,.5));else{var ob=Y(x.x1,0),Db=Y(x.y1,0),Ub=Y(x.x2,1),ec=Y(x.y2,0);if(ob===Ub||Db===ec||W===Ha)p=p.createLinearGradient(Q.x1+ob*W,Q.y1+Db*Ha,Q.x1+Ub*W,Q.y1+ec*Ha);else{Q=Hb.canvas(Math.ceil(W),Math.ceil(Ha));var zc=Q.getContext("2d");zc.scale(W,Ha);zc.fillStyle=V(zc.createLinearGradient(ob,
Db,Ub,ec),x.stops);zc.fillRect(0,0,W,Ha);return p.createPattern(Q,"no-repeat")}}return V(p,x.stops)}function F(p,x,Q){Q*=null==x.fillOpacity?1:x.fillOpacity;return 0<Q?(p.globalAlpha=Q,x=(Q=x.fill)&&Q.gradient?w(p,Q,x.bounds):Q,p.fillStyle=x,!0):!1}function h(p,x,Q){var W=null!=(W=x.strokeWidth)?W:1;if(0>=W)return!1;Q*=null==x.strokeOpacity?1:x.strokeOpacity;return 0<Q?(p.globalAlpha=Q,Q=(Q=x.stroke)&&Q.gradient?w(p,Q,x.bounds):Q,p.strokeStyle=Q,p.lineWidth=W,p.lineCap=x.strokeCap||"butt",p.lineJoin=
x.strokeJoin||"miter",p.miterLimit=x.strokeMiterLimit||10,p.setLineDash&&(p.setLineDash(x.strokeDash||Qe),p.lineDashOffset=x.strokeDashOffset||0),!0):!1}function k(p,x){return p.zindex-x.zindex||p.index-x.index}function m(p){if(!p.zdirty)return p.zitems;var x=p.items,Q=[],W;var Ha=0;for(W=x.length;Ha<W;++Ha){var ob=x[Ha];ob.index=Ha;ob.zindex&&Q.push(ob)}p.zdirty=!1;return p.zitems=Q.sort(k)}function r(p,x){var Q=p.items,W;if(Q&&Q.length){var Ha=m(p);if(Ha&&Ha.length){p=0;for(W=Q.length;p<W;++p)Q[p].zindex||
x(Q[p]);Q=Ha}p=0;for(W=Q.length;p<W;++p)x(Q[p])}}function v(p,x){var Q=p.items,W,Ha;if(!Q||!Q.length)return null;var ob=m(p);ob&&ob.length&&(Q=ob);for(Ha=Q.length;0<=--Ha;)if(W=x(Q[Ha]))return W;if(Q===ob)for(Q=p.items,Ha=Q.length;0<=--Ha;)if(!Q[Ha].zindex&&(W=x(Q[Ha])))return W;return null}function J(p){return function(x,Q,W){r(Q,function(Ha){W&&!W.intersects(Ha.bounds)||ka(p,x,Ha,Ha)})}}function ba(p){return function(x,Q,W){!Q.items.length||W&&!W.intersects(Q.bounds)||ka(p,x,Q.items[0],Q.items)}}
function ka(p,x,Q,W){var Ha=null==Q.opacity?1:Q.opacity;0===Ha||p(x,W)||(ha(x,Q),Q.fill&&F(x,Q,Ha)&&x.fill(),Q.stroke&&h(x,Q,Ha)&&x.stroke())}function ua(p){p=p||q.truthy;return function(x,Q,W,Ha,ob,Db){W*=x.pixelRatio;Ha*=x.pixelRatio;return v(Q,function(Ub){var ec=Ub.bounds;if((!ec||ec.contains(ob,Db))&&ec&&p(x,Ub,W,Ha,ob,Db))return Ub})}}function fb(p,x){return function(Q,W,Ha,ob){var Db=Array.isArray(W)?W[0]:W,Ub=null==x?Db.fill:x,ec=Db.stroke&&Q.isPointInStroke;if(ec){var zc=Db.strokeWidth;Db=
Db.strokeCap;Q.lineWidth=null!=zc?zc:1;Q.lineCap=null!=Db?Db:"butt"}return p(Q,W)?!1:Ub&&Q.isPointInPath(Ha,ob)||ec&&Q.isPointInStroke(Ha,ob)}}function eb(p,x){return"translate("+p+","+x+")"}function Ca(p,x,Q){function W(Ha,ob){var Db=ob.x||0,Ub=ob.y||0,ec=ob.angle||0;Ha.translate(Db,Ub);ec&&Ha.rotate(ec*=Od);Ha.beginPath();x(Ha,ob);ec&&Ha.rotate(-ec);Ha.translate(-Db,-Ub)}return{type:p,tag:"path",nested:!1,attr:function(Ha,ob){var Db=eb(ob.x||0,ob.y||0)+(ob.angle?" rotate("+(ob.angle+")"):"");Ha("transform",
Db);Ha("d",x(null,ob))},bound:function(Ha,ob){x(I(Ha,ob.angle),ob);return y(Ha,ob).translate(ob.x||0,ob.y||0)},draw:J(W),pick:ua(fb(W)),isect:Q||O(W)}}function Ka(p,x,Q){function W(ob,Db){ob.beginPath();x(ob,Db)}var Ha=fb(W);return{type:p,tag:"path",nested:!0,attr:function(ob,Db){Db=Db.mark.items;Db.length&&ob("d",x(null,Db))},bound:function(ob,Db){Db=Db.items;if(0===Db.length)return ob;x(I(ob),Db);return y(ob,Db[0])},draw:ba(W),pick:function(ob,Db,Ub,ec,zc,Cc){var $c=Db.items;Db=Db.bounds;if(!$c||
!$c.length||Db&&!Db.contains(zc,Cc))return null;Ub*=ob.pixelRatio;ec*=ob.pixelRatio;return Ha(ob,$c,Ub,ec)?$c[0]:null},isect:ma,tip:Q}}function Z(p,x){p.beginPath();sa(x)?qa(p,x,0,0):p.rect(0,0,x.width||0,x.height||0);p.clip()}function ra(p){var x=Y(p.strokeWidth,1);return null!=p.strokeOffset?p.strokeOffset:p.stroke&&.5<x&&1.5>x?.5-Math.abs(x-1):0}function hb(p,x,Q,W){var Ha=ra(x);p.beginPath();qa(p,x,(Q||0)+Ha,(W||0)+Ha)}function mb(p,x){var Q=p.image;if(!Q||p.url&&p.url!==Q.url)Q={complete:!1,
width:0,height:0},x.loadImage(p.url).then(function(W){p.image=W;p.image.url=p.url});return Q}function Ib(p,x){return null!=p.width?p.width:x&&x.width?!1!==p.aspect&&p.height?p.height*x.width/x.height:x.width:0}function Xb(p,x){return null!=p.height?p.height:x&&x.height?!1!==p.aspect&&p.width?p.width*x.height/x.width:x.height:0}function za(p,x){return"center"===p?x/2:"right"===p?x:0}function wb(p,x){return"middle"===p?x/2:"bottom"===p?x:0}function Tb(p,x){var Q=x.path;if(null==Q)return!0;var W=x.x||
0,Ha=x.y||0,ob=x.scaleX||1,Db=x.scaleY||1,Ub=(x.angle||0)*Od,ec=x.pathCache;ec&&ec.path===Q||((x.pathCache=ec=$a(Q)).path=Q);Ub&&p.rotate&&p.translate?(p.translate(W,Ha),p.rotate(Ub),Ja(p,ec,0,0,ob,Db),p.rotate(-Ub),p.translate(-W,-Ha)):Ja(p,ec,W,Ha,ob,Db)}function rb(p,x){p.beginPath();qa(p,x)}function Sb(p,x,Q){if(x.stroke&&h(p,x,Q)){Q=x.x||0;var W=x.y||0;var Ha=null!=x.x2?x.x2:Q;x=null!=x.y2?x.y2:W;p.beginPath();p.moveTo(Q,W);p.lineTo(Ha,x);return!0}return!1}function ic(p){Hd.width=p&&Ee?Tc:rc}
function rc(p,x){x=xc(p,x);p=tb(p);return~~(.8*x.length*p)}function Tc(p,x){return 0>=tb(p)||!(x=xc(p,x))?0:pc(x,xd(p))}function pc(p,x){var Q="("+x+") "+p,W=wd.get(Q);void 0===W&&(Ee.font=x,W=Ee.measureText(p).width,wd.set(Q,W));return W}function tb(p){return null!=p.fontSize?+p.fontSize||0:11}function bc(p){return null!=p.lineHeight?p.lineHeight:tb(p)+2}function Mb(p){p=p.lineBreak&&p.text&&!q.isArray(p.text)?p.text.split(p.lineBreak):p.text;return q.isArray(p)?1<p.length?p:p[0]:p}function xc(p,
x){x=null==x?"":(x+"").trim();if(0<p.limit&&x.length){var Q=+p.limit,W=Xc(p);if(!(W(x)<Q)){var Ha=p.ellipsis||"…",ob="rtl"===p.dir;p=0;var Db=x.length;Q-=W(Ha);if(ob){for(;p<Db;)ob=p+Db>>>1,W(x.slice(ob))>Q?p=ob+1:Db=ob;x=Ha+x.slice(p)}else{for(;p<Db;)ob=1+(p+Db>>>1),W(x.slice(0,ob))<Q?p=ob:Db=ob-1;x=x.slice(0,p)+Ha}}}return x}function Xc(p){if(Hd.width===Tc){var x=xd(p);return function(W){return pc(W,x)}}var Q=tb(p);return function(W){return~~(.8*W.length*Q)}}function ud(p,x){p=p.font;return(x&&
p?String(p).replace(/"/g,"'"):p)||"sans-serif"}function xd(p,x){return(p.fontStyle?p.fontStyle+" ":"")+(p.fontVariant?p.fontVariant+" ":"")+(p.fontWeight?p.fontWeight+" ":"")+tb(p)+"px "+ud(p,x)}function ae(p){var x=p.baseline,Q=tb(p);return Math.round("top"===x?.79*Q:"middle"===x?.3*Q:"bottom"===x?-.21*Q:"line-top"===x?.29*Q+.5*bc(p):"line-bottom"===x?.29*Q-.5*bc(p):0)}function Cb(p){var x=p.x||0,Q=p.y||0,W=p.radius||0;W&&(p=(p.theta||0)-de,x+=W*Math.cos(p),Q+=W*Math.sin(p));me.x1=x;me.y1=Q;return me}
function Rb(p,x,Q){var W=Hd.height(x),Ha=x.align,ob=Cb(x),Db=ob.x1;ob=ob.y1;var Ub=x.dx||0,ec=(x.dy||0)+ae(x)-Math.round(.8*W),zc=Mb(x);q.isArray(zc)?(W+=bc(x)*(zc.length-1),zc=zc.reduce(function(Cc,$c){return Math.max(Cc,Hd.width(x,$c))},0)):zc=Hd.width(x,zc);"center"===Ha?Ub-=zc/2:"right"===Ha&&(Ub-=zc);p.set(Ub+=Db,ec+=ob,Ub+zc,ec+W);if(x.angle&&!Q)p.rotate(x.angle*Od,Db,ob);else if(2===Q)return p.rotatedPoints(x.angle*Od,Db,ob);return p}function Rc(p,x,Q){var W=Fd[p.mark.marktype];x=x||W.bound;
W.nested&&(p=p.mark);return x(p.bounds||(p.bounds=new Ba),p,Q)}function se(p,x,Q){var W=Fd[p.marktype],Ha=W.bound,ob=p.items,Db=ob&&ob.length;if(W.nested)return Db?p=ob[0]:(ef.mark=p,p=ef),Q=Rc(p,Ha,Q),x=x&&x.union(Q)||Q;x=x||p.bounds&&p.bounds.clear()||new Ba;if(Db)for(W=0,Db=ob.length;W<Db;++W)x.union(Rc(ob[W],Ha,Q));return p.bounds=x}function De(p,x){return JSON.stringify(p,xf,x)}function Ne(p){p="string"===typeof p?JSON.parse(p):p;return Md(p)}function Md(p){var x=p.marktype,Q=p.items,W;if(Q){var Ha=
0;for(W=Q.length;Ha<W;++Ha){var ob=x?"mark":"group";Q[Ha][ob]=p;Q[Ha].zindex&&(Q[Ha][ob].zdirty=!0);"group"===(x||ob)&&Md(Q[Ha])}}x&&se(p);return p}function K(p){arguments.length?this.root=Ne(p):(this.root=fa({marktype:"group",name:"root",role:"frame"}),this.root.items=[new jb(this.root)])}function fa(p,x){x={bounds:new Ba,clip:!!p.clip,group:x,interactive:!1===p.interactive?!1:!0,items:[],marktype:p.marktype,name:p.name||void 0,role:p.role||void 0,zindex:p.zindex||0};null!=p.aria&&(x.aria=p.aria);
p.description&&(x.description=p.description);return x}function bb(p,x,Q){!p&&"undefined"!==typeof document&&document.createElement&&(p=document);return p?Q?p.createElementNS(Q,x):p.createElement(x):null}function La(p,x){x=x.toLowerCase();p=p.childNodes;for(var Q=0,W=p.length;Q<W;++Q)if(p[Q].tagName.toLowerCase()===x)return p[Q]}function Fb(p,x,Q,W){x=p.childNodes[x];if(!x||x.tagName.toLowerCase()!==Q.toLowerCase()){var Ha=x||null;x=bb(p.ownerDocument,Q,W);p.insertBefore(x,Ha)}return x}function Vb(p,
x){for(var Q=p.childNodes,W=Q.length;W>x;)p.removeChild(Q[--W]);return p}function Yb(p){return"mark-"+p.marktype+(p.role?" role-"+p.role:"")+(p.name?" "+p.name:"")}function cc(p,x){var Q=x.getBoundingClientRect();return[p.clientX-Q.left-(x.clientLeft||0),p.clientY-Q.top-(x.clientTop||0)]}function va(p,x){this._active=null;this._handlers={};this._loader=p||Ma.loader();this._tooltip=x||Ra}function Ra(p,x,Q,W){p.element().setAttribute("title",W||"")}function yb(p){this._bgcolor=this._el=null;this._loader=
new A(p)}function Nb(p,x){va.call(this,p,x);this._touch=this._down=null;this._first=!0;this._events={}}function gc(p,x){("touchstart"===x||"touchmove"===x||"touchend"===x?["touchstart","touchmove","touchend"]:[x]).forEach(function(Q){return tc(p,Q)})}function tc(p,x){var Q=p.canvas();Q&&!p._events[x]&&(p._events[x]=1,Q.addEventListener(x,p[x]?function(W){return p[x](W)}:function(W){return p.fire(x,W)}))}function lc(p,x,Q){return function(W){var Ha=this._active,ob=this.pickEvent(W);ob!==Ha&&(Ha&&Ha.exit||
this.fire(Q,W),this._active=ob,this.fire(x,W));this.fire(p,W)}}function xb(p){return function(x){this.fire(p,x);this._active=null}}function Qb(p){yb.call(this,p);this._options={};this._redraw=!1;this._dirty=new Ba;this._tempb=new Ba}function Gc(p,x){va.call(this,p,x);var Q=this;Q._hrefHandler=cg(Q,function(W,Ha){Ha&&Ha.href&&Q.handleHref(W,Ha,Ha.href)});Q._tooltipHandler=cg(Q,function(W,Ha){Q.handleTooltip(W,Ha,"mouseout"!==W.type)})}function $b(p,x){var Q=!1===x.aria;p("aria-hidden",Q||void 0);if(Q||
null==x.description)for(var W in C)p(C[W],void 0);else Q=x.mark.marktype,p("aria-label",x.description),p("role",x.ariaRole||("group"===Q?"graphics-object":"graphics-symbol")),p("aria-roledescription",x.ariaRoleDescription||Q+" mark")}function Ac(p){var x={};return!1===p.aria?(x["aria-hidden"]=!0,x):Xf[p.role]?null:B[p.role]?Hc(p,B[p.role]):Jc(p)}function Jc(p){var x=p.marktype,Q="group"===x||"text"===x||p.items.some(function(W){return null!=W.description&&!1!==W.aria});return yf(Q?"graphics-object":
"graphics-symbol",x+" mark container",p.description)}function Hc(p,x){try{var Q=p.items[0],W=x.caption||function(){return""};return yf(x.role||"graphics-symbol",x.desc,Q.description||W(Q))}catch(Ha){return null}}function ad(p){try{return q.array(q.peek(p.items).items[0].text).join(" ")}catch(x){return null}}function md(p){p=p.map(function(x){return x+("fill"===x||"stroke"===x?" color":"")});return 2>p.length?p[0]:p.slice(0,-1).join(", ")+" and "+q.peek(p)}function od(){var p="",x="",Q="",W=[],Ha=
function(Db,Ub){null!=Ub&&(x+=" "+Db+'\x3d"'+M(Ub).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")+'"');return ob},ob={open:function(Db,Ub){for(var ec=[],zc=1;zc<arguments.length;++zc)ec[zc-1]=arguments[zc];x&&(p+=x+"\x3e"+Q,x=Q="");W.push(Db);x="\x3c"+Db;ec=$jscomp.makeIterator(ec);for(zc=ec.next();!zc.done;zc=ec.next()){zc=zc.value;for(var Cc in zc)Ha(Cc,zc[Cc])}return ob},close:function(){var Db=W.pop();p=x?p+(x+(Q?"\x3e"+Q+"\x3c/"+Db+"\x3e":
"/\x3e")):p+("\x3c/"+Db+"\x3e");x=Q="";return ob},attr:Ha,text:function(Db){return Q+=M(Db),ob},toString:function(){return p}};return ob}function rd(p,x){p.open(x.tagName);if(x.hasAttributes())for(var Q=x.attributes,W=Q.length,Ha=0;Ha<W;++Ha)p.attr(Q[Ha].name,Q[Ha].value);if(x.hasChildNodes())for(x=x.childNodes,Q=x.length,W=0;W<Q;W++)Ha=x[W],3===Ha.nodeType?p.text(Ha.nodeValue):rd(p,Ha);return p.close()}function Vd(p){yb.call(this,p);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=
null}function Zd(p,x){for(;p&&p.dirty!==x;p=p.mark.group)if(p.dirty=x,p.mark&&p.mark.dirty!==x)p.mark.dirty=x;else break}function ze(p,x,Q){x=x.lastChild.previousSibling;var W,Ha=0;r(Q,function(ob){W=p.mark(x,ob,W);++Ha});Vb(x,1+Ha)}function te(p,x,Q,W,Ha){var ob=p._svg;if(!ob){var Db=x.ownerDocument;ob=bb(Db,W,Aa);p._svg=ob;p.mark&&(ob.__data__=p,ob.__values__={fill:"default"},"g"===W&&(W=bb(Db,"path",Aa),ob.appendChild(W),W.__data__=p,W=bb(Db,"g",Aa),ob.appendChild(W),W.__data__=p,Db=bb(Db,"path",
Aa),ob.appendChild(Db),Db.__data__=p,Db.__values__={fill:"default"}))}(ob.ownerSVGElement!==Ha||ob.parentNode&&1<ob.parentNode.childNodes.length&&ob.previousSibling!=Q)&&x.insertBefore(ob,Q?Q.nextSibling:x.firstChild);return ob}function ue(p,x,Q){if(x!==lb[p]){if(Q){var W=Va;null!=x?W.setAttributeNS(Q,p,x):W.removeAttributeNS(Q,p)}else P(Va,p,x);lb[p]=x}}function bf(p,x,Q){Q!==lb[x]&&(null==Q?p.style.removeProperty(x):p.style.setProperty(x,Q+""),lb[x]=Q)}function vd(p,x){for(var Q in x)P(p,Q,x[Q])}
function P(p,x,Q){null!=Q?p.setAttribute(x,Q):p.removeAttribute(x)}function na(){var p;return"undefined"===typeof window?"":(p=window.location).hash?p.href.slice(0,-p.hash.length):p.href}function Da(p){yb.call(this,p);this._text=null;this._defs={gradient:{},clipping:{}}}function gb(p,x,Q,W,Ha){if(null==x)return p;"bgrect"===W&&!1===Q.interactive&&(p["pointer-events"]="none");if("bgfore"===W&&(!1===Q.interactive&&(p["pointer-events"]="none"),p.display="none",null!==x.fill))return p;"image"===W&&!1===
x.smooth&&(p.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===W&&(p["font-family"]=ud(x),p["font-size"]=tb(x)+"px",p["font-style"]=x.fontStyle,p["font-variant"]=x.fontVariant,p["font-weight"]=x.fontWeight);for(var ob in ca)Q=x[ob],W=ca[ob],("transparent"!==Q||"fill"!==W&&"stroke"!==W)&&null!=Q&&(Q&&Q.gradient&&(Q=Eb(Q,Ha.gradient,"")),p[W]=Q);return p}function Ta(p,x,Q,W){if(p.bounds&&x.intersects(p.bounds)&&("group"===p.marktype||!1!==p.interactive&&(!Q||Q(p)))){var Ha=
p.items,ob=p.marktype;p=Ha.length;var Db=0;if("group"===ob)for(;Db<p;++Db)Pb(Ha[Db],x,Q,W);else for(Q=Fd[ob].isect;Db<p;++Db)ob=Ha[Db],kc(ob,x,Q)&&W.push(ob)}return W}function Pb(p,x,Q,W){Q&&Q(p.mark)&&kc(p,x,Fd.group.isect)&&W.push(p);var Ha=p.items,ob=Ha&&Ha.length;if(ob){var Db=p.x||0;p=p.y||0;x.translate(-Db,-p);for(var Ub=0;Ub<ob;++Ub)Ta(Ha[Ub],x,Q,W);x.translate(Db,p)}return W}function kc(p,x,Q){var W=p.bounds;return x.encloses(W)||x.intersects(W)&&Q(p,x)}function oc(p,x,Q){return p===x?!0:
"path"===Q?qc(p,x):p instanceof Date&&x instanceof Date?+p===+x:q.isNumber(p)&&q.isNumber(x)?1E-9>=Math.abs(p-x):p&&x&&(q.isObject(p)||q.isObject(x))?uc(p,x):p==x}function qc(p,x){return oc($a(p),$a(x))}function uc(p,x){var Q=Object.keys(p),W=Object.keys(x),Ha;if(Q.length!==W.length)return!1;Q.sort();W.sort();for(Ha=Q.length-1;0<=Ha;Ha--)if(Q[Ha]!=W[Ha])return!1;for(Ha=Q.length-1;0<=Ha;Ha--)if(W=Q[Ha],!oc(p[W],x[W],W))return!1;return typeof p===typeof x}var kd=0,pd={basis:{curve:S.curveBasis},"basis-closed":{curve:S.curveBasisClosed},
"basis-open":{curve:S.curveBasisOpen},bundle:{curve:S.curveBundle,tension:"beta",value:.85},cardinal:{curve:S.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:S.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:S.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:S.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:S.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:S.curveCatmullRomOpen,tension:"alpha",
value:.5},linear:{curve:S.curveLinear},"linear-closed":{curve:S.curveLinearClosed},monotone:{horizontal:S.curveMonotoneY,vertical:S.curveMonotoneX},natural:{curve:S.curveNatural},step:{curve:S.curveStep},"step-after":{curve:S.curveStepAfter},"step-before":{curve:S.curveStepBefore}},yd={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},ld=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Od=Math.PI/180,de=Math.PI/2,jc=2*Math.PI,Wd=Math.sqrt(3)/2,Jd={},Lb={},Ke=[].join,oe=["l",0,0,0,
0,0,0,0],re={circle:{draw:function(p,x){x=Math.sqrt(x)/2;p.moveTo(x,0);p.arc(0,0,x,0,jc)}},cross:{draw:function(p,x){x=Math.sqrt(x)/2;var Q=x/2.5;p.moveTo(-x,-Q);p.lineTo(-x,Q);p.lineTo(-Q,Q);p.lineTo(-Q,x);p.lineTo(Q,x);p.lineTo(Q,Q);p.lineTo(x,Q);p.lineTo(x,-Q);p.lineTo(Q,-Q);p.lineTo(Q,-x);p.lineTo(-Q,-x);p.lineTo(-Q,-Q);p.closePath()}},diamond:{draw:function(p,x){x=Math.sqrt(x)/2;p.moveTo(-x,0);p.lineTo(0,-x);p.lineTo(x,0);p.lineTo(0,x);p.closePath()}},square:{draw:function(p,x){x=Math.sqrt(x);
var Q=-x/2;p.rect(Q,Q,x,x)}},arrow:{draw:function(p,x){x=Math.sqrt(x)/2;var Q=x/7,W=x/2.5,Ha=x/8;p.moveTo(-Q,x);p.lineTo(Q,x);p.lineTo(Q,-Ha);p.lineTo(W,-Ha);p.lineTo(0,-x);p.lineTo(-W,-Ha);p.lineTo(-Q,-Ha);p.closePath()}},wedge:{draw:function(p,x){var Q=Math.sqrt(x)/2;x=Wd*Q;var W=x-.5773502691896257*Q;Q/=4;p.moveTo(0,-x-W);p.lineTo(-Q,x-W);p.lineTo(Q,x-W);p.closePath()}},triangle:{draw:function(p,x){x=Math.sqrt(x)/2;var Q=Wd*x,W=Q-.5773502691896257*x;p.moveTo(0,-Q-W);p.lineTo(-x,Q-W);p.lineTo(x,
Q-W);p.closePath()}},"triangle-up":{draw:function(p,x){x=Math.sqrt(x)/2;var Q=Wd*x;p.moveTo(0,-Q);p.lineTo(-x,Q);p.lineTo(x,Q);p.closePath()}},"triangle-down":{draw:function(p,x){x=Math.sqrt(x)/2;var Q=Wd*x;p.moveTo(0,Q);p.lineTo(-x,-Q);p.lineTo(x,-Q);p.closePath()}},"triangle-right":{draw:function(p,x){x=Math.sqrt(x)/2;var Q=Wd*x;p.moveTo(Q,0);p.lineTo(-Q,-x);p.lineTo(-Q,x);p.closePath()}},"triangle-left":{draw:function(p,x){x=Math.sqrt(x)/2;var Q=Wd*x;p.moveTo(-Q,0);p.lineTo(Q,-x);p.lineTo(Q,x);
p.closePath()}},stroke:{draw:function(p,x){x=Math.sqrt(x)/2;p.moveTo(-x,0);p.lineTo(x,0)}}},Ye={},Oe=function(p){return p.x||0},ff=function(p){return p.y||0},He=function(p){return!1!==p.defined},be=S.arc().startAngle(function(p){return p.startAngle||0}).endAngle(function(p){return p.endAngle||0}).padAngle(function(p){return p.padAngle||0}).innerRadius(function(p){return p.innerRadius||0}).outerRadius(function(p){return p.outerRadius||0}).cornerRadius(function(p){return p.cornerRadius||0}),fc=S.area().x(Oe).y1(ff).y0(function(p){return(p.y||
0)+(p.height||0)}).defined(He),Pd=S.area().y(ff).x1(Oe).x0(function(p){return(p.x||0)+(p.width||0)}).defined(He),dc=S.line().x(Oe).y(ff).defined(He),Yc=ya().x(Oe).y(ff).width(function(p){return p.width||0}).height(function(p){return p.height||0}).cornerRadius(function(p){return wa(p.cornerRadiusTopLeft,p.cornerRadius)||0},function(p){return wa(p.cornerRadiusTopRight,p.cornerRadius)||0},function(p){return wa(p.cornerRadiusBottomRight,p.cornerRadius)||0},function(p){return wa(p.cornerRadiusBottomLeft,
p.cornerRadius)||0}),ne=S.symbol().type(function(p){return pa(p.shape||"circle")}).size(function(p){return wa(p.size,64)}),ee=ja().x(Oe).y(ff).defined(He).size(function(p){return p.size||1}),Pc=1;Ba.prototype={clone:function(){return new Ba(this)},clear:function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===
-Number.MAX_VALUE},equals:function(p){return this.x1===p.x1&&this.y1===p.y1&&this.x2===p.x2&&this.y2===p.y2},set:function(p,x,Q,W){Q<p?(this.x2=p,this.x1=Q):(this.x1=p,this.x2=Q);W<x?(this.y2=x,this.y1=W):(this.y1=x,this.y2=W);return this},add:function(p,x){p<this.x1&&(this.x1=p);x<this.y1&&(this.y1=x);p>this.x2&&(this.x2=p);x>this.y2&&(this.y2=x);return this},expand:function(p){this.x1-=p;this.y1-=p;this.x2+=p;this.y2+=p;return this},round:function(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);
this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale:function(p){this.x1*=p;this.y1*=p;this.x2*=p;this.y2*=p;return this},translate:function(p,x){this.x1+=p;this.x2+=p;this.y1+=x;this.y2+=x;return this},rotate:function(p,x,Q){p=this.rotatedPoints(p,x,Q);return this.clear().add(p[0],p[1]).add(p[2],p[3]).add(p[4],p[5]).add(p[6],p[7])},rotatedPoints:function(p,x,Q){var W=this.x1,Ha=this.y1,ob=this.x2,Db=this.y2,Ub=Math.cos(p);p=Math.sin(p);var ec=x-x*Ub+Q*p;x=Q-x*p-Q*Ub;return[Ub*
W-p*Ha+ec,p*W+Ub*Ha+x,Ub*W-p*Db+ec,p*W+Ub*Db+x,Ub*ob-p*Ha+ec,p*ob+Ub*Ha+x,Ub*ob-p*Db+ec,p*ob+Ub*Db+x]},union:function(p){p.x1<this.x1&&(this.x1=p.x1);p.y1<this.y1&&(this.y1=p.y1);p.x2>this.x2&&(this.x2=p.x2);p.y2>this.y2&&(this.y2=p.y2);return this},intersect:function(p){p.x1>this.x1&&(this.x1=p.x1);p.y1>this.y1&&(this.y1=p.y1);p.x2<this.x2&&(this.x2=p.x2);p.y2<this.y2&&(this.y2=p.y2);return this},encloses:function(p){return p&&this.x1<=p.x1&&this.x2>=p.x2&&this.y1<=p.y1&&this.y2>=p.y2},alignsWith:function(p){return p&&
(this.x1==p.x1||this.x2==p.x2||this.y1==p.y1||this.y2==p.y2)},intersects:function(p){return p&&!(this.x2<p.x1||this.x1>p.x2||this.y2<p.y1||this.y1>p.y2)},contains:function(p,x){return!(p<this.x1||p>this.x2||x<this.y1||x>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}};q.inherits(jb,Za);A.prototype={pending:function(){return this._pending},sanitizeURL:function(p){var x=this;x._pending+=1;return x._loader.sanitize(p,{context:"href"}).then(function(Q){--x._pending;
return Q}).catch(function(){--x._pending;return null})},loadImage:function(p){var x=this,Q=Hb.image();x._pending+=1;return x._loader.sanitize(p,{context:"image"}).then(function(W){var Ha=W.href;if(!Ha||!Q)throw{url:Ha};var ob=new Q;W=q.hasOwnProperty(W,"crossOrigin")?W.crossOrigin:"anonymous";null!=W&&(ob.crossOrigin=W);ob.onload=function(){--x._pending};ob.onerror=function(){--x._pending};ob.src=Ha;return ob}).catch(function(W){--x._pending;return{complete:!1,width:0,height:0,src:W&&W.url||""}})},
ready:function(){var p=this;return new Promise(function(x){function Q(W){p.pending()?setTimeout(function(){Q(!0)},10):x(W)}Q(!1)})}};var fe=jc-1E-8,Sd,Ld,Qd,Ed,ke,Gd,pe,Le,cf=function(p,x){p=Ld=p;x=Qd=x;return Sd.add(p,x)},qf=function(p){return Sd.add(p,Sd.y1)},gd=function(p){return Sd.add(Sd.x1,p)},rf=function(p,x){return Sd.add(ke*p+pe*x,Gd*p+Le*x)},Fe=function(p,x){return cf(ke*p+pe*x,Gd*p+Le*x)},Pe={beginPath:function(){},closePath:function(){},moveTo:Fe,lineTo:Fe,rect:function(p,x,Q,W){Ed?(rf(p+
Q,x),rf(p+Q,x+W),rf(p,x+W),Fe(p,x)):(Sd.add(p+Q,x+W),cf(p,x))},quadraticCurveTo:function(p,x,Q,W){var Ha=Gd*p+Le*x,ob=ke*Q+pe*W;Q=Gd*Q+Le*W;L(Ld,ke*p+pe*x,ob,qf);L(Qd,Ha,Q,gd);cf(ob,Q)},bezierCurveTo:function(p,x,Q,W,Ha,ob){var Db=Gd*p+Le*x,Ub=Gd*Q+Le*W,ec=ke*Ha+pe*ob;Ha=Gd*Ha+Le*ob;z(Ld,ke*p+pe*x,ke*Q+pe*W,ec,qf);z(Qd,Db,Ub,Ha,gd);cf(ec,Ha)},arc:function(p,x,Q,W,Ha,ob){W+=Ed;Ha+=Ed;Ld=Q*Math.cos(Ha)+p;Qd=Q*Math.sin(Ha)+x;if(Math.abs(Ha-W)>fe)Sd.add(p-Q,x-Q),Sd.add(p+Q,x+Q);else{var Db=function(ec){return Sd.add(Q*
Math.cos(ec)+p,Q*Math.sin(ec)+x)};Db(W);Db(Ha);if(Ha!==W){W%=jc;0>W&&(W+=jc);Ha%=jc;0>Ha&&(Ha+=jc);if(Ha<W){ob=!ob;var Ub=W;W=Ha;Ha=Ub}if(ob)for(Ha-=jc,Ub=W-W%de,W=0;4>W&&Ub>Ha;++W,Ub-=de)Db(Ub);else for(Ub=W-W%de+de,W=0;4>W&&Ub<Ha;++W,Ub+=de)Db(Ub)}}}},Ee=(Ee=Hb.canvas(1,1))?Ee.getContext("2d"):null,$e=new Ba,Qe=[],df=Ca("arc",function(p,x){return be.context(p)(x)}),Be=Ka("area",function(p,x){var Q=x[0];return("horizontal"===Q.orient?Pd:fc).curve(Ea(Q.interpolate||"linear",Q.orient,Q.tension)).context(p)(x)},
function(p,x){x="horizontal"===p[0].orient?x[1]:x[0];for(var Q="horizontal"===p[0].orient?"y":"x",W=p.length,Ha=Infinity,ob,Db;0<=--W;)!1!==p[W].defined&&(Db=Math.abs(p[W][Q]-x),Db<Ha&&(Ha=Db,ob=p[W]));return ob}),D=fb(hb),R=fb(hb,!1),Na=fb(hb,!0),Ab={type:"group",tag:"g",nested:!1,attr:function(p,x){p("transform",eb(x.x||0,x.y||0))},bound:function(p,x){if(!x.clip&&x.items)for(var Q=x.items,W=Q.length,Ha=0;Ha<W;++Ha)p.union(Q[Ha].bounds);(x.clip||x.width||x.height)&&!x.noBound&&p.add(0,0).add(x.width||
0,x.height||0);y(p,x);return p.translate(x.x||0,x.y||0)},draw:function(p,x,Q){var W=this;r(x,function(Ha){var ob=Ha.x||0,Db=Ha.y||0,Ub=Ha.strokeForeground,ec=null==Ha.opacity?1:Ha.opacity;(Ha.stroke||Ha.fill)&&ec&&(hb(p,Ha,ob,Db),ha(p,Ha),Ha.fill&&F(p,Ha,ec)&&p.fill(),Ha.stroke&&!Ub&&h(p,Ha,ec)&&p.stroke());p.save();p.translate(ob,Db);Ha.clip&&Z(p,Ha);Q&&Q.translate(-ob,-Db);r(Ha,function(zc){W.draw(p,zc,Q)});Q&&Q.translate(ob,Db);p.restore();Ub&&Ha.stroke&&ec&&(hb(p,Ha,ob,Db),ha(p,Ha),h(p,Ha,ec)&&
p.stroke())})},pick:function(p,x,Q,W,Ha,ob){var Db=this;if(x.bounds&&!x.bounds.contains(Ha,ob)||!x.items)return null;var Ub=Q*p.pixelRatio,ec=W*p.pixelRatio;return v(x,function(zc){var Cc=zc.bounds;if(!Cc||Cc.contains(Ha,ob)){var $c=zc.x||0;var qd=zc.y||0;Cc=$c+(zc.width||0);var Mc=qd+(zc.height||0),Ad=zc.clip;if(!Ad||!(Ha<$c||Ha>Cc||ob<qd||ob>Mc)){p.save();p.translate($c,qd);$c=Ha-$c;qd=ob-qd;if(Ad&&sa(zc)&&!Na(p,zc,Ub,ec))return p.restore(),null;Mc=zc.strokeForeground;if((Ad=!1!==x.interactive)&&
Mc&&zc.stroke&&R(p,zc,Ub,ec))return p.restore(),zc;Cc=v(zc,function(Cd){return(!1!==Cd.interactive||"group"===Cd.marktype)&&Cd.bounds&&Cd.bounds.contains($c,qd)?Db.pick(Cd,Q,W,$c,qd):null});!Cc&&Ad&&(zc.fill||!Mc&&zc.stroke)&&D(p,zc,Ub,ec)&&(Cc=zc);p.restore();return Cc||null}}})},isect:Ia,content:function(p,x,Q){x=x.clip?Fa(Q,x,x):null;p("clip-path",x)},background:function(p,x){p("class","background");p("aria-hidden",!0);var Q=ra(x);p("d",qa(null,x,Q,Q))},foreground:function(p,x){p("class","foreground");
p("aria-hidden",!0);if(x.strokeForeground){var Q=ra(x);p("d",qa(null,x,Q,Q))}else p("d","")}},zb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Jb={type:"image",tag:"image",nested:!1,attr:function(p,x,Q){var W=mb(x,Q);Q=Ib(x,W);var Ha=Xb(x,W),ob=(x.x||0)-za(x.align,Q),Db=(x.y||0)-wb(x.baseline,Ha);W=!W.src&&W.toDataURL?W.toDataURL():W.src||"";p("href",W,zb["xmlns:xlink"],"xlink:href");p("transform",eb(ob,Db));p("width",Q);p("height",Ha);p("preserveAspectRatio",
!1===x.aspect?"none":"xMidYMid")},bound:function(p,x){var Q=x.image,W=Ib(x,Q);Q=Xb(x,Q);var Ha=(x.x||0)-za(x.align,W);x=(x.y||0)-wb(x.baseline,Q);return p.set(Ha,x,Ha+W,x+Q)},draw:function(p,x,Q){var W=this;r(x,function(Ha){if(!Q||Q.intersects(Ha.bounds)){var ob=mb(Ha,W),Db=Ib(Ha,ob),Ub=Xb(Ha,ob),ec=(Ha.x||0)-za(Ha.align,Db),zc=(Ha.y||0)-wb(Ha.baseline,Ub),Cc;if(!1!==Ha.aspect){var $c=ob.width/ob.height;var qd=Ha.width/Ha.height;$c===$c&&qd===qd&&$c!==qd&&(qd<$c?($c=Db/$c,zc+=(Ub-$c)/2,Ub=$c):($c*=
Ub,ec+=(Db-$c)/2,Db=$c))}if(ob.complete||ob.toDataURL)ha(p,Ha),p.globalAlpha=null!=(Cc=Ha.opacity)?Cc:1,p.imageSmoothingEnabled=!1!==Ha.smooth,p.drawImage(ob,ec,zc,Db,Ub)}})},pick:ua(),isect:q.truthy,get:mb,xOffset:za,yOffset:wb},ac=Ka("line",function(p,x){var Q=x[0];return dc.curve(Ea(Q.interpolate||"linear",Q.orient,Q.tension)).context(p)(x)},function(p,x){for(var Q=Math.pow(p[0].strokeWidth||1,2),W=p.length,Ha,ob;0<=--W;)if(!1!==p[W].defined&&(Ha=p[W].x-x[0],ob=p[W].y-x[1],Ha=Ha*Ha+ob*ob,Ha<Q))return p[W];
return null}),Oc={type:"path",tag:"path",nested:!1,attr:function(p,x){var Q=x.scaleY||1;1===(x.scaleX||1)&&1===Q||p("vector-effect","non-scaling-stroke");Q=eb(x.x||0,x.y||0)+(x.angle?" rotate("+(x.angle+")"):"")+(x.scaleX||x.scaleY?" scale("+((x.scaleX||1)+","+(x.scaleY||1)+")"):"");p("transform",Q);p("d",x.path)},bound:function(p,x){return Tb(I(p,x.angle),x)?p.set(0,0,0,0):y(p,x,!0)},draw:J(Tb),pick:ua(fb(Tb)),isect:O(Tb)},Fc={type:"rect",tag:"path",nested:!1,attr:function(p,x){p("d",qa(null,x))},
bound:function(p,x){var Q,W;return y(p.set(Q=x.x||0,W=x.y||0,Q+x.width||0,W+x.height||0),x)},draw:J(rb),pick:ua(fb(rb)),isect:Ia},bd={type:"rule",tag:"line",nested:!1,attr:function(p,x){p("transform",eb(x.x||0,x.y||0));p("x2",null!=x.x2?x.x2-(x.x||0):0);p("y2",null!=x.y2?x.y2-(x.y||0):0)},bound:function(p,x){var Q,W;return y(p.set(Q=x.x||0,W=x.y||0,null!=x.x2?x.x2:Q,null!=x.y2?x.y2:W),x)},draw:function(p,x,Q){r(x,function(W){if(!Q||Q.intersects(W.bounds)){var Ha=null==W.opacity?1:W.opacity;Ha&&Sb(p,
W,Ha)&&(ha(p,W),p.stroke())}})},pick:ua(function(p,x,Q,W){return p.isPointInStroke?Sb(p,x,1)&&p.isPointInStroke(Q,W):!1}),isect:Sa},cd=Ca("shape",function(p,x){return(x.mark.shape||x.shape).context(p)(x)}),jd=Ca("symbol",function(p,x){return ne.context(p)(x)},ma),wd=q.lruCache(),Hd={height:tb,measureWidth:Tc,estimateWidth:rc,width:rc,canvas:ic};ic(!0);var ge={left:"start",center:"middle",right:"end"},me=new Ba,qe={type:"text",tag:"text",nested:!1,attr:function(p,x){var Q=x.dx||0,W=(x.dy||0)+ae(x),
Ha=Cb(x),ob=Ha.x1;Ha=Ha.y1;var Db=x.angle||0;p("text-anchor",ge[x.align]||"start");if(Db){if(x=eb(ob,Ha)+" rotate("+(Db+")"),Q||W)x+=" "+eb(Q,W)}else x=eb(ob+Q,Ha+W);p("transform",x)},bound:Rb,draw:function(p,x,Q){r(x,function(W){var Ha=null==W.opacity?1:W.opacity,ob;if(!(Q&&!Q.intersects(W.bounds)||0===Ha||0>=W.fontSize||null==W.text||0===W.text.length)){p.font=xd(W);p.textAlign=W.align||"left";var Db=Cb(W);var Ub=Db.x1;Db=Db.y1;W.angle&&(p.save(),p.translate(Ub,Db),p.rotate(W.angle*Od),Ub=Db=0);
Ub+=W.dx||0;Db+=(W.dy||0)+ae(W);var ec=Mb(W);ha(p,W);if(q.isArray(ec)){var zc=bc(W);for(ob=0;ob<ec.length;++ob){var Cc=xc(W,ec[ob]);W.fill&&F(p,W,Ha)&&p.fillText(Cc,Ub,Db);W.stroke&&h(p,W,Ha)&&p.strokeText(Cc,Ub,Db);Db+=zc}}else Cc=xc(W,ec),W.fill&&F(p,W,Ha)&&p.fillText(Cc,Ub,Db),W.stroke&&h(p,W,Ha)&&p.strokeText(Cc,Ub,Db);W.angle&&p.restore()}})},pick:ua(function(p,x,Q,W,Ha,ob){if(0>=x.fontSize)return!1;if(!x.angle)return!0;Q=Cb(x);p=Q.x1;Q=Q.y1;W=Rb(me,x,1);var Db=-x.angle*Od;x=Math.cos(Db);Db=
Math.sin(Db);return W.contains(x*Ha-Db*ob+(p-x*p+Db*Q),Db*Ha+x*ob+(Q-Db*p-x*Q))}),isect:function(p,x){p=Rb(me,p,2);return E(x,p[0],p[1],p[2],p[3])||E(x,p[0],p[1],p[4],p[5])||E(x,p[4],p[5],p[6],p[7])||E(x,p[2],p[3],p[6],p[7])}},he=Ka("trail",function(p,x){return ee.context(p)(x)},function(p,x){for(var Q=p.length,W,Ha;0<=--Q;)if(!1!==p[Q].defined&&(W=p[Q].x-x[0],Ha=p[Q].y-x[1],Ha=W*W+Ha*Ha,W=p[Q].size||1,Ha<W*W))return p[Q];return null}),Fd={arc:df,area:Be,group:Ab,image:Jb,line:ac,path:Oc,rect:Fc,
rule:bd,shape:cd,symbol:jd,text:qe,trail:he},ef={mark:null},xf="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
K.prototype={toJSON:function(p){return De(this.root,p||0)},mark:function(p,x,Q){x=x||this.root.items[0];p=fa(p,x);x.items[Q]=p;p.zindex&&(p.group.zdirty=!0);return p}};va.prototype={initialize:function(p,x,Q){this._el=p;this._obj=Q||null;return this.origin(x)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(p){return arguments.length?(this._origin=p||[0,0],this):this._origin.slice()},scene:function(p){if(!arguments.length)return this._scene;
this._scene=p;return this},on:function(){},off:function(){},_handlerIndex:function(p,x,Q){for(var W=p?p.length:0;0<=--W;)if(p[W].type===x&&(!Q||p[W].handler===Q))return W;return-1},handlers:function(p){var x=this._handlers,Q=[];if(p)Q.push.apply(Q,$jscomp.arrayFromIterable(x[this.eventName(p)]));else for(var W in x)Q.push.apply(Q,$jscomp.arrayFromIterable(x[W]));return Q},eventName:function(p){var x=p.indexOf(".");return 0>x?p:p.slice(0,x)},handleHref:function(p,x,Q){this._loader.sanitize(Q,{context:"href"}).then(function(W){var Ha=
new MouseEvent(p.type,p),ob=bb(null,"a"),Db;for(Db in W)ob.setAttribute(Db,W[Db]);ob.dispatchEvent(Ha)}).catch(function(){})},handleTooltip:function(p,x,Q){if(x&&null!=x.tooltip){var W=this.canvas(),Ha=this._origin,ob=x&&x.mark,Db;if(ob&&(Db=Fd[ob.marktype]).tip){W=cc(p,W);W[0]-=Ha[0];for(W[1]-=Ha[1];x=x.mark.group;)W[0]-=x.x||0,W[1]-=x.y||0;x=Db.tip(ob.items,W)}this._tooltip.call(this._obj,this,p,x,Q&&x&&x.tooltip||null)}},getItemBoundingClientRect:function(p){var x=this.canvas();if(x){var Q=x.getBoundingClientRect(),
W=this._origin,Ha=p.bounds;x=Ha.width();var ob=Ha.height(),Db=Ha.x1+W[0]+Q.left;for(Q=Ha.y1+W[1]+Q.top;p.mark&&(p=p.mark.group);)Db+=p.x||0,Q+=p.y||0;return{x:Db,y:Q,width:x,height:ob,left:Db,top:Q,right:Db+x,bottom:Q+ob}}}};yb.prototype={initialize:function(p,x,Q,W,Ha){this._el=p;return this.resize(x,Q,W,Ha)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(p){if(0===arguments.length)return this._bgcolor;this._bgcolor=p;return this},
resize:function(p,x,Q,W){this._width=p;this._height=x;this._origin=Q||[0,0];this._scale=W||1;return this},dirty:function(){},render:function(p){var x=this;x._call=function(){x._render(p)};x._call();x._call=null;return x},_render:function(){},renderAsync:function(p){var x=this.render(p);return this._ready?this._ready.then(function(){return x}):Promise.resolve(x)},_load:function(p,x){var Q=this;p=Q._loader[p](x);if(!Q._ready){var W=Q._call;Q._ready=Q._loader.ready().then(function(Ha){Ha&&W();Q._ready=
null})}return p},sanitizeURL:function(p){return this._load("sanitizeURL",p)},loadImage:function(p){return this._load("loadImage",p)}};q.inherits(Nb,va,{initialize:function(p,x,Q){var W=this;this._canvas=p&&La(p,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(function(Ha){return gc(W,Ha)});return va.prototype.initialize.call(this,p,x,Q)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),
DOMMouseScroll:function(p){this.fire("mousewheel",p)},mousemove:lc("mousemove","mouseover","mouseout"),dragover:lc("dragover","dragenter","dragleave"),mouseout:xb("mouseout"),dragleave:xb("dragleave"),mousedown:function(p){this._down=this._active;this.fire("mousedown",p)},click:function(p){this._down===this._active&&(this.fire("click",p),this._down=null)},touchstart:function(p){this._touch=this.pickEvent(p.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",
p,!0)},touchmove:function(p){this.fire("touchmove",p,!0)},touchend:function(p){this.fire("touchend",p,!0);this._touch=null},fire:function(p,x,Q){Q=Q?this._touch:this._active;var W=this._handlers[p];x.vegaType=p;"click"===p&&Q&&Q.href?this.handleHref(x,Q,Q.href):("mousemove"===p||"mouseout"===p)&&this.handleTooltip(x,Q,"mouseout"!==p);if(W){p=0;for(var Ha=W.length;p<Ha;++p)W[p].handler.call(this._obj,x,Q)}},on:function(p,x){var Q=this.eventName(p),W=this._handlers;0>this._handlerIndex(W[Q],p,x)&&(gc(this,
p),(W[Q]||(W[Q]=[])).push({type:p,handler:x}));return this},off:function(p,x){var Q=this.eventName(p);Q=this._handlers[Q];p=this._handlerIndex(Q,p,x);0<=p&&Q.splice(p,1);return this},pickEvent:function(p){p=cc(p,this._canvas);var x=this._origin;return this.pick(this._scene,p[0],p[1],p[0]-x[0],p[1]-x[1])},pick:function(p,x,Q,W,Ha){var ob=this.context();return Fd[p.marktype].pick.call(this,ob,p,x,Q,W,Ha)}});var Ff="undefined"!==typeof window?window.devicePixelRatio||1:1,kf=yb.prototype;q.inherits(Qb,
yb,{initialize:function(p,x,Q,W,Ha,ob){this._options=ob||{};this._canvas=this._options.externalContext?null:Hb.canvas(1,1,this._options.type);p&&this._canvas&&(Vb(p,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return kf.initialize.call(this,p,x,Q,W,Ha)},resize:function(p,x,Q,W){kf.resize.call(this,p,x,Q,W);if(this._canvas){p=this._canvas;x=this._width;Q=this._height;W=this._origin;var Ha=this._scale,ob=this._options.context,Db="undefined"!==typeof HTMLElement&&p instanceof
HTMLElement&&null!=p.parentNode,Ub=p.getContext("2d");Ha=Db?Ff:Ha;p.width=x*Ha;p.height=Q*Ha;for(var ec in ob)Ub[ec]=ob[ec];Db&&1!==Ha&&(p.style.width=x+"px",p.style.height=Q+"px");Ub.pixelRatio=Ha;Ub.setTransform(Ha,0,0,Ha,Ha*W[0],Ha*W[1])}else(ec=this._options.externalContext)||q.error("CanvasRenderer is missing a valid canvas or context"),ec.scale(this._scale,this._scale),ec.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||
(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(p){var x=this._tempb.clear().union(p.bounds);for(p=p.mark.group;p;)x.translate(p.x||0,p.y||0),p=p.mark.group;this._dirty.union(x)},_render:function(p){var x=this.context(),Q=this._origin,W=this._width,Ha=this._height,ob=this._dirty,Db=(new Ba).set(0,0,W,Ha).translate(-Q[0],-Q[1]);x.save();this._redraw||ob.empty()?Db=(this._redraw=!1,Db.expand(1)):(Db=Db.intersect(ob),Db.expand(1).round(),x.pixelRatio%1&&Db.scale(x.pixelRatio).round().scale(1/
x.pixelRatio),Db.translate(-(Q[0]%1),-(Q[1]%1)),x.beginPath(),x.rect(Db.x1,Db.y1,Db.width(),Db.height()),x.clip());this.clear(-Q[0],-Q[1],W,Ha);this.draw(x,p,Db);x.restore();ob.clear();return this},draw:function(p,x,Q){var W=Fd[x.marktype];if(x.clip){var Ha=x.clip;p.save();q.isFunction(Ha)?(p.beginPath(),Ha(p),p.clip()):Z(p,x.group)}W.draw.call(this,p,x,Q);x.clip&&p.restore()},clear:function(p,x,Q,W){var Ha=this._options,ob=this.context();"pdf"===Ha.type||Ha.externalContext||ob.clearRect(p,x,Q,W);
null!=this._bgcolor&&(ob.fillStyle=this._bgcolor,ob.fillRect(p,x,Q,W))}});var cg=function(p,x){return function(Q){var W=Q.target.__data__;W=Array.isArray(W)?W[0]:W;Q.vegaType=Q.type;x.call(p._obj,Q,W)}};q.inherits(Gc,va,{initialize:function(p,x,Q){var W=this._svg;W&&(W.removeEventListener("click",this._hrefHandler),W.removeEventListener("mousemove",this._tooltipHandler),W.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=W=p&&La(p,"svg"))W.addEventListener("click",this._hrefHandler),
W.addEventListener("mousemove",this._tooltipHandler),W.addEventListener("mouseout",this._tooltipHandler);return va.prototype.initialize.call(this,p,x,Q)},canvas:function(){return this._svg},on:function(p,x){var Q=this.eventName(p),W=this._handlers;0>this._handlerIndex(W[Q],p,x)&&(p={type:p,handler:x,listener:cg(this,x)},(W[Q]||(W[Q]=[])).push(p),this._svg&&this._svg.addEventListener(Q,p.listener));return this},off:function(p,x){var Q=this.eventName(p),W=this._handlers[Q];p=this._handlerIndex(W,p,
x);0<=p&&(this._svg&&this._svg.removeEventListener(Q,W[p].listener),W.splice(p,1));return this}});var yf=function(p,x,Q){var W={};return W.role=p,W["aria-roledescription"]=x,W["aria-label"]=Q||void 0,W},Xf=q.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),B={axis:{desc:"axis",caption:function(p){var x=p.datum,Q=p.orient,W=x.title?ad(p):null,Ha=p.context;x=Ha.scales[x.scale].value;Ha=Ha.dataflow.locale();
var ob=x.type;return("left"===Q||"right"===Q?"Y":"X")+"-axis"+(W?" titled '"+W+"'":"")+(" for a "+(cb.isDiscrete(ob)?"discrete":ob)+" scale with ")+cb.domainCaption(Ha,x,p)}},legend:{desc:"legend",caption:function(p){var x=p.datum,Q=x.title?ad(p):null,W=((x.type||"")+" legend").trim(),Ha=x.scales;x=Object.keys(Ha);var ob=p.context;Ha=ob.scales[Ha[x[0]]].value;ob=ob.dataflow.locale();return(W.length?W[0].toUpperCase()+W.slice(1):W)+(Q?" titled '"+Q+"'":"")+(" for "+md(x))+(" with "+cb.domainCaption(ob,
Ha,p))}},"title-text":{desc:"title",caption:function(p){return"Title text '"+q.array(p.text).join(" ")+"'"}},"title-subtitle":{desc:"subtitle",caption:function(p){return"Subtitle text '"+q.array(p.text).join(" ")+"'"}}},C={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},M=function(p){return(p+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},U=function(p){return rd(od(),p)+""},ca={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},ia={fill:"none","stroke-miterlimit":10},Aa=zb.xmlns,Xa=yb.prototype;q.inherits(Vd,yb,{initialize:function(p,x,Q,W,Ha){this._defs={};this._clearDefs();p&&(this._svg=Fb(p,0,"svg",Aa),vd(this._svg,zb),this._svg.setAttribute("class","marks"),Vb(p,
1),this._root=Fb(this._svg,0,"g",Aa),vd(this._root,ia),Vb(this._svg,1));this.background(this._bgcolor);return Xa.initialize.call(this,p,x,Q,W,Ha)},background:function(p){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",p);return Xa.background.apply(this,arguments)},resize:function(p,x,Q,W){Xa.resize.call(this,p,x,Q,W);this._svg&&(vd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height}),this._root.setAttribute("transform",
"translate("+this._origin+")"));this._dirty=[];return this},canvas:function(){return this._svg},svg:function(){var p=this._svg,x=this._bgcolor;if(!p)return null;if(x){p.removeAttribute("style");var Q=Fb(p,0,"rect",Aa);vd(Q,{width:this._width,height:this._height,fill:x})}var W=U(p);x&&(p.removeChild(Q),this._svg.style.setProperty("background-color",x));return W},_render:function(p){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,p),Vb(this._root,1));this.defs();this._dirty=
[];++this._dirtyID;return this},dirty:function(p){p.dirty!==this._dirtyID&&(p.dirty=this._dirtyID,this._dirty.push(p))},isDirty:function(p){return this._dirtyAll||!p._svg||p.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var p=this._dirty;if(!p.length||!this._dirtyID)return!0;var x=++this._dirtyID,Q;var W=0;for(Q=p.length;W<Q;++W){var Ha=p[W];var ob=Ha.mark;if(ob.marktype!==Db){var Db=ob.marktype;var Ub=Fd[Db]}ob.zdirty&&ob.dirty!==x&&(this._dirtyAll=!1,Zd(Ha,x),ob.items.forEach(function(ec){ec.dirty=
x}));ob.zdirty||(Ha.exit?(Ub.nested&&ob.items.length?(ob=ob.items[0],ob._svg&&this._update(Ub,ob._svg,ob)):Ha._svg&&(ob=Ha._svg.parentNode)&&ob.removeChild(Ha._svg),Ha._svg=null):(Ha=Ub.nested?ob.items[0]:Ha,Ha._update!==x&&(Ha._svg&&Ha._svg.ownerSVGElement?this._update(Ub,Ha._svg,Ha):(this._dirtyAll=!1,Zd(Ha,x)),Ha._update=x)))}return!this._dirtyAll},mark:function(p,x,Q){var W=this;if(!this.isDirty(x))return x._svg;var Ha=this._svg,ob=Fd[x.marktype],Db=!1===x.interactive?"none":null,Ub="g"===ob.tag,
ec=null,zc=0,Cc=te(x,p,Q,"g",Ha);Cc.setAttribute("class",Yb(x));p=Ac(x);for(var $c in p)P(Cc,$c,p[$c]);Ub||P(Cc,"pointer-events",Db);P(Cc,"clip-path",x.clip?Fa(this,x,x.group):null);Db=function(qd){var Mc=W.isDirty(qd),Ad=te(qd,Cc,ec,ob.tag,Ha);Mc&&(W._update(ob,Ad,qd),Ub&&ze(W,Ad,qd));ec=Ad;++zc};ob.nested?x.items.length&&Db(x.items[0]):r(x,Db);Vb(Cc,zc);return Cc},_update:function(p,x,Q){Va=x;lb=x.__values__;$b(ue,Q);p.attr(ue,Q,this);var W=pb[p.type];W&&W.call(this,p,x,Q);Va&&this.style(Va,Q)},
style:function(p,x){if(null!=x)for(var Q in ca){var W="font"===Q?ud(x):x[Q];if(W!==lb[Q]){var Ha=ca[Q];null==W?p.removeAttribute(Ha):(W&&W.gradient&&(W=Eb(W,this._defs.gradient,na())),p.setAttribute(Ha,W+""));lb[Q]=W}}},defs:function(){var p=this._svg,x=this._defs,Q=x.el,W=0;for(Cc in x.gradient){Q||(x.el=Q=Fb(p,1,"defs",Aa));var Ha,ob=Q,Db=x.gradient[Cc];if("radial"===Db.gradient){var Ub=Fb(ob,W++,"pattern",Aa);vd(Ub,{id:"p_"+Db.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"});
Ub=Fb(Ub,0,"rect",Aa);vd(Ub,{width:1,height:1,fill:"url("+na()+"#"+Db.id+")"});ob=Fb(ob,W++,"radialGradient",Aa);vd(ob,{id:Db.id,fx:Db.x1,fy:Db.y1,fr:Db.r1,cx:Db.x2,cy:Db.y2,r:Db.r2})}else ob=Fb(ob,W++,"linearGradient",Aa),vd(ob,{id:Db.id,x1:Db.x1,x2:Db.x2,y1:Db.y1,y2:Db.y2});var ec=0;for(Ha=Db.stops.length;ec<Ha;++ec)Ub=Fb(ob,ec,"stop",Aa),Ub.setAttribute("offset",Db.stops[ec].offset),Ub.setAttribute("stop-color",Db.stops[ec].color);Vb(ob,ec)}for(var zc in x.clipping){Q||(x.el=Q=Fb(p,1,"defs",Aa));
var Cc=Q;ob=x.clipping[zc];Cc=Fb(Cc,W,"clipPath",Aa);Cc.setAttribute("id",ob.id);ob.path?(Db=Fb(Cc,0,"path",Aa),Db.setAttribute("d",ob.path)):(Db=Fb(Cc,0,"rect",Aa),vd(Db,{x:0,y:0,width:ob.width,height:ob.height}));Vb(Cc,1);W+=1}Q&&(0===W?(p.removeChild(Q),x.el=null):Vb(Q,W))},_clearDefs:function(){var p=this._defs;p.gradient={};p.clipping={}}});var Va=null,lb=null,pb={group:function(p,x,Q){var W=Va=x.childNodes[2];lb=W.__values__;p.foreground(ue,Q,this);lb=x.__values__;Va=x.childNodes[1];p.content(ue,
Q,this);x=Va=x.childNodes[0];p.background(ue,Q,this);p=!1===Q.mark.interactive?"none":null;p!==lb.events&&(P(W,"pointer-events",p),P(x,"pointer-events",p),lb.events=p);Q.strokeForeground&&Q.stroke?(p=Q.fill,P(W,"display",null),this.style(x,Q),P(x,"stroke",null),p&&(Q.fill=null),lb=W.__values__,this.style(W,Q),p&&(Q.fill=p),Va=null):P(W,"display","none")},image:function(p,x,Q){!1===Q.smooth?(bf(x,"image-rendering","optimizeSpeed"),bf(x,"image-rendering","pixelated")):bf(x,"image-rendering",null)},
text:function(p,x,Q){p=Mb(Q);if(q.isArray(p)){var W=p.map(function(Db){return xc(Q,Db)});p=W.join("\n");if(p!==lb.text){Vb(x,0);var Ha=x.ownerDocument;var ob=bc(Q);W.forEach(function(Db,Ub){var ec=bb(Ha,"tspan",Aa);ec.__data__=Q;ec.textContent=Db;Ub&&(ec.setAttribute("x",0),ec.setAttribute("dy",ob));x.appendChild(ec)});lb.text=p}}else W=xc(Q,p),W!==lb.text&&(x.textContent=W,lb.text=W);P(x,"font-family",ud(Q));P(x,"font-size",tb(Q)+"px");P(x,"font-style",Q.fontStyle);P(x,"font-variant",Q.fontVariant);
P(x,"font-weight",Q.fontWeight)}};q.inherits(Da,yb,{svg:function(){return this._text},_render:function(p){var x=od();x.open("svg",q.extend({},zb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height}));var Q=this._bgcolor;Q&&"transparent"!==Q&&"none"!==Q&&x.open("rect",{width:this._width,height:this._height,fill:Q}).close();x.open("g",ia,{transform:"translate("+this._origin+")"});this.mark(x,p);x.close();this.defs(x);this._text=x.close()+
"";return this},mark:function(p,x){var Q=this,W=Fd[x.marktype],Ha=W.tag,ob=[$b,W.attr];p.open("g",{"class":Yb(x),"clip-path":x.clip?Fa(this,x,x.group):null},Ac(x),{"pointer-events":"g"!==Ha&&!1===x.interactive?"none":null});var Db=function(Ub){var ec=Q.href(Ub);ec&&p.open("a",ec);p.open(Ha,Q.attr(x,Ub,ob,"g"!==Ha?Ha:null));if("text"===Ha){var zc=Mb(Ub);if(q.isArray(zc))for(var Cc={x:0,dy:bc(Ub)},$c=0;$c<zc.length;++$c)p.open("tspan",$c?Cc:null).text(xc(Ub,zc[$c])).close();else p.text(xc(Ub,zc))}else"g"===
Ha&&(zc=Ub.strokeForeground,Cc=Ub.fill,$c=Ub.stroke,zc&&$c&&(Ub.stroke=null),p.open("path",Q.attr(x,Ub,W.background,"bgrect")).close(),p.open("g",Q.attr(x,Ub,W.content)),r(Ub,function(qd){return Q.mark(p,qd)}),p.close(),zc&&$c?(Cc&&(Ub.fill=null),Ub.stroke=$c,p.open("path",Q.attr(x,Ub,W.foreground,"bgrect")).close(),Cc&&(Ub.fill=Cc)):p.open("path",Q.attr(x,Ub,W.foreground,"bgfore")).close());p.close();ec&&p.close()};W.nested?x.items&&x.items.length&&Db(x.items[0]):r(x,Db);return p.close()},href:function(p){var x=
this,Q=p.href;if(Q){if(p=this._hrefs&&this._hrefs[Q])return p;this.sanitizeURL(Q).then(function(W){W["xlink:href"]=W.href;W.href=null;(x._hrefs||(x._hrefs={}))[Q]=W})}return null},attr:function(p,x,Q,W){var Ha=this,ob={},Db=function(Ub,ec,zc,Cc){ob[Cc||Ub]=ec};Array.isArray(Q)?Q.forEach(function(Ub){return Ub(Db,x,Ha)}):Q(Db,x,this);W&&gb(ob,x,p,W,this._defs);return ob},defs:function(p){var x=this._defs.gradient,Q=this._defs.clipping;if(0!==Object.keys(x).length+Object.keys(Q).length){p.open("defs");
for(var W in x){var Ha=x[W],ob=Ha.stops;"radial"===Ha.gradient?(p.open("pattern",{id:"p_"+W,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),p.open("rect",{width:"1",height:"1",fill:"url(#"+W+")"}).close(),p.close(),p.open("radialGradient",{id:W,fx:Ha.x1,fy:Ha.y1,fr:Ha.r1,cx:Ha.x2,cy:Ha.y2,r:Ha.r2})):p.open("linearGradient",{id:W,x1:Ha.x1,x2:Ha.x2,y1:Ha.y1,y2:Ha.y2});for(Ha=0;Ha<ob.length;++Ha)p.open("stop",{offset:ob[Ha].offset,"stop-color":ob[Ha].color}).close();
p.close()}for(var Db in Q)x=Q[Db],p.open("clipPath",{id:Db}),x.path?p.open("path",{d:x.path}).close():p.open("rect",{x:0,y:0,width:x.width,height:x.height}).close(),p.close();p.close()}}});var Gb={};Gb.canvas=Gb.png={renderer:Qb,headless:Qb,handler:Nb};Gb.svg={renderer:Vd,headless:Da,handler:Gc};Gb.none={};var Wb=new Ba;n.Bounds=Ba;n.CanvasHandler=Nb;n.CanvasRenderer=Qb;n.Gradient=function(p,x){var Q=[],W;return W={gradient:"linear",x1:p?p[0]:0,y1:p?p[1]:0,x2:x?x[0]:1,y2:x?x[1]:0,stops:Q,stop:function(Ha,
ob){Q.push({offset:Ha,color:ob});return W}}};n.GroupItem=jb;n.Handler=va;n.Item=Za;n.Marks=Fd;n.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};n.Renderer=yb;n.ResourceLoader=A;n.SVGHandler=Gc;n.SVGRenderer=Vd;n.SVGStringRenderer=Da;n.Scenegraph=K;n.boundClip=function(p){var x=p.clip;if(q.isFunction(x))x(I(Wb.clear()));else if(x)Wb.set(0,0,p.group.width,p.group.height);else return;p.bounds.intersect(Wb)};n.boundContext=I;n.boundItem=Rc;n.boundMark=se;n.boundStroke=y;n.domChild=Fb;n.domClear=
Vb;n.domCreate=bb;n.domFind=La;n.font=xd;n.fontFamily=ud;n.fontSize=tb;n.intersect=function(p,x,Q){var W=[];x=(new Ba).union(x);var Ha=p.marktype;return Ha?Ta(p,x,Q,W):"group"===Ha?Pb(p,x,Q,W):q.error("Intersect scene must be mark node or group item.")};n.intersectBoxLine=E;n.intersectPath=O;n.intersectPoint=ma;n.intersectRule=Sa;n.lineHeight=bc;n.markup=od;n.multiLineOffset=function(p){var x=Mb(p);return(q.isArray(x)?x.length-1:0)*bc(p)};n.pathCurves=Ea;n.pathEqual=qc;n.pathParse=$a;n.pathRectangle=
ya;n.pathRender=Ja;n.pathSymbols=pa;n.pathTrail=ja;n.point=cc;n.renderModule=function(p,x){p=String(p||"").toLowerCase();return 1<arguments.length?(Gb[p]=x,this):Gb[p]};n.resetSVGClipId=function(){Pc=1};n.resetSVGDefIds=function(){Pc=1;kd=0};n.sceneEqual=oc;n.sceneFromJSON=Ne;n.scenePickVisit=v;n.sceneToJSON=De;n.sceneVisit=r;n.sceneZOrder=m;n.serializeXML=U;n.textMetrics=Hd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[23]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(22),sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Hb(h){q.Transform.call(this,null,h)}function Ma(h,k,m){return k(h.bounds.clear(),h,m)}function cb(h){q.Transform.call(this,
0,h)}function Eb(h){return h._signals[":vega_identifier:"]||(h._signals[":vega_identifier:"]=h.add(0))}function qb(h){q.Transform.call(this,null,h)}function Ea(h){var k=h.groups;h=h.parent;return k&&1===k.size?k.get(Object.keys(k.object)[0]):k&&h?k.lookup(h):null}function $a(h){q.Transform.call(this,null,h)}function db(h){q.Transform.call(this,null,h)}function Ja(h,k,m){return h[k]===m?0:(h[k]=m,1)}function ea(h){h=h.items[0].orient;return"left"===h||"right"===h}function pa(h,k,m,r){k=k.items[0];
var v=k.datum,J=null!=k.translate?k.translate:.5,ba=k.orient,ka=+v.grid;var ua=[v.ticks?ka++:-1,v.labels?ka++:-1,ka+ +v.domain];ka=k.range;var fb=k.offset,eb=k.position,Ca=k.minExtent,Ka=k.maxExtent;v=v.title&&k.items[ua[2]].items[0];var Z=k.titlePadding,ra=k.bounds,hb=v&&S.multiLineOffset(v),mb;V.clear().union(ra);ra.clear();-1<(mb=ua[0])&&ra.union(k.items[mb].bounds);-1<(mb=ua[1])&&ra.union(k.items[mb].bounds);switch(ba){case "top":m=eb||0;r=-fb;Ca=Math.max(Ca,Math.min(Ka,-ra.y1));ra.add(0,-Ca).add(ka,
0);v&&Ga(h,v,Ca,Z,hb,0,-1,ra);break;case "left":m=-fb;r=eb||0;Ca=Math.max(Ca,Math.min(Ka,-ra.x1));ra.add(-Ca,0).add(0,ka);v&&Ga(h,v,Ca,Z,hb,1,-1,ra);break;case "right":m+=fb;r=eb||0;Ca=Math.max(Ca,Math.min(Ka,ra.x2));ra.add(0,0).add(Ca,ka);v&&Ga(h,v,Ca,Z,hb,1,1,ra);break;case "bottom":m=eb||0;r+=fb;Ca=Math.max(Ca,Math.min(Ka,ra.y2));ra.add(0,0).add(ka,Ca);v&&Ga(h,v,Ca,Z,0,0,1,ra);break;default:m=k.x,r=k.y}S.boundStroke(ra.translate(m,r),k);Ja(k,"x",m+J)|Ja(k,"y",r+J)&&(k.bounds=V,h.dirty(k),k.bounds=
ra,h.dirty(k));return k.mark.bounds.clear().union(ra)}function Ga(h,k,m,r,v,J,ba,ka){var ua=k.bounds;k.auto&&(m=ba*(m+v+r),v=r=0,h.dirty(k),J?r=(k.x||0)-(k.x=m):v=(k.y||0)-(k.y=m),k.mark.bounds.clear().union(ua.translate(-r,-v)),h.dirty(k));ka.union(ua)}function Wa(h){return(new S.Bounds).set(0,0,h.width||0,h.height||0)}function la(h){var k=h.bounds.clone();return k.empty()?k.set(0,0,0,0):k.translate(-(h.x||0),-(h.y||0))}function aa(h,k,m){h=Pa.isObject(h)?h[k]:h;return null!=h?h:void 0!==m?m:0}function Qa(h){return 0>
h?Math.ceil(-h):0}function xa(h,k,m){var r=!m.nodirty,v="flush"===m.bounds?Wa:la,J=V.set(0,0,0,0),ba=aa(m.align,"column"),ka=aa(m.align,"row"),ua=aa(m.padding,"column"),fb=aa(m.padding,"row"),eb=m.columns||k.length,Ca=0>=eb?1:Math.ceil(k.length/eb),Ka=k.length,Z=Array(Ka),ra=Array(eb),hb=0,mb=Array(Ka),Ib=Array(Ca),Xb=0,za=Array(Ka),wb=Array(Ka),Tb=Array(Ka),rb,Sb,ic;for(rb=0;rb<eb;++rb)ra[rb]=0;for(rb=0;rb<Ca;++rb)Ib[rb]=0;for(rb=0;rb<Ka;++rb){var rc=k[rb];var Tc=Tb[rb]=v(rc);rc.x=rc.x||0;za[rb]=
0;rc.y=rc.y||0;wb[rb]=0;rc=rb%eb;var pc=~~(rb/eb);hb=Math.max(hb,Sb=Math.ceil(Tc.x2));Xb=Math.max(Xb,ic=Math.ceil(Tc.y2));ra[rc]=Math.max(ra[rc],Sb);Ib[pc]=Math.max(Ib[pc],ic);Z[rb]=ua+Qa(Tc.x1);mb[rb]=fb+Qa(Tc.y1);r&&h.dirty(k[rb])}for(rb=0;rb<Ka;++rb)0===rb%eb&&(Z[rb]=0),rb<eb&&(mb[rb]=0);if("each"===ba)for(rc=1;rc<eb;++rc){v=0;for(rb=rc;rb<Ka;rb+=eb)v<Z[rb]&&(v=Z[rb]);for(rb=rc;rb<Ka;rb+=eb)Z[rb]=v+ra[rc-1]}else if("all"===ba){for(rb=v=0;rb<Ka;++rb)rb%eb&&v<Z[rb]&&(v=Z[rb]);for(rb=0;rb<Ka;++rb)rb%
eb&&(Z[rb]=v+hb)}else for(ba=!1,rc=1;rc<eb;++rc)for(rb=rc;rb<Ka;rb+=eb)Z[rb]+=ra[rc-1];if("each"===ka)for(pc=1;pc<Ca;++pc){v=0;rb=pc*eb;for(rc=rb+eb;rb<rc;++rb)v<mb[rb]&&(v=mb[rb]);for(rb=pc*eb;rb<rc;++rb)mb[rb]=v+Ib[pc-1]}else if("all"===ka){v=0;for(rb=eb;rb<Ka;++rb)v<mb[rb]&&(v=mb[rb]);for(rb=eb;rb<Ka;++rb)mb[rb]=v+Xb}else for(ka=!1,pc=1;pc<Ca;++pc)for(rb=pc*eb,rc=rb+eb;rb<rc;++rb)mb[rb]+=Ib[pc-1];for(rb=pc=0;rb<Ka;++rb)pc=Z[rb]+(rb%eb?pc:0),za[rb]+=pc-k[rb].x;for(rc=0;rc<eb;++rc)for(Z=0,rb=rc;rb<
Ka;rb+=eb)Z+=mb[rb],wb[rb]+=Z-k[rb].y;if(ba&&aa(m.center,"column")&&1<Ca)for(rb=0;rb<Ka;++rb)Tc="all"===ba?hb:ra[rb%eb],pc=Tc-Tb[rb].x2-k[rb].x-za[rb],0<pc&&(za[rb]+=pc/2);if(ka&&aa(m.center,"row")&&1!==eb)for(rb=0;rb<Ka;++rb)Tc="all"===ka?Xb:Ib[~~(rb/eb)],Z=Tc-Tb[rb].y2-k[rb].y-wb[rb],0<Z&&(wb[rb]+=Z/2);for(rb=0;rb<Ka;++rb)J.union(Tb[rb].translate(za[rb],wb[rb]));pc=aa(m.anchor,"x");Z=aa(m.anchor,"y");switch(aa(m.anchor,"column")){case "end":pc-=J.width();break;case "middle":pc-=J.width()/2}switch(aa(m.anchor,
"row")){case "end":Z-=J.height();break;case "middle":Z-=J.height()/2}pc=Math.round(pc);Z=Math.round(Z);J.clear();for(rb=0;rb<Ka;++rb)k[rb].mark.bounds.clear();for(rb=0;rb<Ka;++rb)rc=k[rb],rc.x+=za[rb]+=pc,rc.y+=wb[rb]+=Z,J.union(rc.mark.bounds.union(rc.bounds.translate(za[rb],wb[rb]))),r&&h.dirty(rc);return J}function Oa(h,k){return"x1"===k?h.x||0:"y1"===k?h.y||0:"x2"===k?(h.x||0)+(h.width||0):"y2"===k?(h.y||0)+(h.height||0):void 0}function ya(h,k){return h.bounds[k]}function ja(h,k,m,r,v,J,ba,ka,
ua,fb,eb,Ca,Ka,Z){var ra=m.length,hb=r=0,mb,Ib;if(!ra)return r;for(mb=eb;mb<ra;mb+=Ca)m[mb]&&(r=ba(r,ua(m[mb],fb)));if(!k.length)return r;k.length>v&&(h.warn("Grid headers exceed limit: "+v),k=k.slice(0,v));r+=J;v=0;for(J=k.length;v<J;++v)h.dirty(k[v]),k[v].mark.bounds.clear();mb=eb;v=0;for(J=k.length;v<J;++v,mb+=Ca){ua=k[v];eb=ua.mark.bounds;for(ra=mb;0<=ra&&null==(Ib=m[ra]);ra-=Ka);if(ka){ra=null==Z?Ib.x:Math.round(Ib.bounds.x1+Z*Ib.bounds.width());var Xb=r}else ra=r,Xb=null==Z?Ib.y:Math.round(Ib.bounds.y1+
Z*Ib.bounds.height());eb.union(ua.bounds.translate(ra-(ua.x||0),Xb-(ua.y||0)));ua.x=ra;ua.y=Xb;h.dirty(ua);hb=ba(hb,eb[fb])}return hb}function wa(h,k,m,r,v,J){if(k){h.dirty(k);var ba=m;r?ba=Math.round(v.x1+J*v.width()):m=Math.round(v.y1+J*v.height());k.bounds.translate(ba-(k.x||0),m-(k.y||0));k.mark.bounds.clear().union(k.bounds);k.x=ba;k.y=m;h.dirty(k)}}function sa(h,k){var m=h[k]||{};return function(r,v){return null!=m[r]?m[r]:null!=h[r]?h[r]:v}}function qa(h,k){var m=-Infinity;h.forEach(function(r){null!=
r.offset&&(m=Math.max(m,r.offset))});return-Infinity<m?m:k}function Fa(h,k,m,r,v,J,ba){var ka=sa(m,k);m=qa(h,ka("offset",0));var ua=ka("anchor","start"),fb="end"===ua?1:"middle"===ua?.5:0;h={align:"each",bounds:ka("bounds","flush"),columns:"vertical"===ka("direction")?1:h.length,padding:ka("margin",8),center:ka("center"),nodirty:!0};switch(k){case "left":h.anchor={x:Math.floor(r.x1)-m,column:"end",y:fb*(ba||r.height()+2*r.y1),row:ua};break;case "right":h.anchor={x:Math.ceil(r.x2)+m,y:fb*(ba||r.height()+
2*r.y1),row:ua};break;case "top":h.anchor={y:Math.floor(v.y1)-m,row:"end",x:fb*(J||v.width()+2*v.x1),column:ua};break;case "bottom":h.anchor={y:Math.ceil(v.y2)+m,x:fb*(J||v.width()+2*v.x1),column:ua};break;case "top-left":h.anchor={x:m,y:m};break;case "top-right":h.anchor={x:J-m,y:m,column:"end"};break;case "bottom-left":h.anchor={x:m,y:ba-m,row:"end"};break;case "bottom-right":h.anchor={x:J-m,y:ba-m,column:"end",row:"end"}}return h}function Ba(h,k){k=k.items[0];var m=k.datum,r=k.orient,v=k.bounds,
J=k.x,ba=k.y;k._bounds?k._bounds.clear().union(v):k._bounds=v.clone();v.clear();var ka=k.items[0].items[0];var ua=k.padding,fb=ua-ka.x,eb=ua-ka.y;if(k.datum.title){var Ca=k.items[1].items[0],Ka=Ca.anchor,Z=k.titlePadding||0,ra=ua-Ca.x,hb=ua-Ca.y;switch(Ca.orient){case "left":fb+=Math.ceil(Ca.bounds.width())+Z;break;case "right":case "bottom":break;default:eb+=Ca.bounds.height()+Z}(fb||eb)&&A(h,ka,fb,eb);switch(Ca.orient){case "left":hb+=jb(k,ka,Ca,Ka,1,1);break;case "right":ra+=jb(k,ka,Ca,"end",0,
0)+Z;hb+=jb(k,ka,Ca,Ka,1,1);break;case "bottom":ra+=jb(k,ka,Ca,Ka,0,0);hb+=jb(k,ka,Ca,"end",-1,0,1)+Z;break;default:ra+=jb(k,ka,Ca,Ka,0,0)}(ra||hb)&&A(h,Ca,ra,hb);0>(ra=Math.round(Ca.bounds.x1-ua))&&(A(h,ka,-ra,0),A(h,Ca,-ra,0))}else(fb||eb)&&A(h,ka,fb,eb);v=Za(k,v);h=2*k.padding;ka=2*k.padding;v.empty()||(h=Math.ceil(v.width()+h),ka=Math.ceil(v.height()+ka));"symbol"===m.type&&y(k.items[0].items[0].items[0].items);"none"!==r&&(k.x=J=0,k.y=ba=0);k.width=h;k.height=ka;S.boundStroke(v.set(J,ba,J+h,
ba+ka),k);k.mark.bounds.clear().union(v);return k}function Za(h,k){h.items.forEach(function(m){return k.union(m.bounds)});k.x1=h.padding;k.y1=h.padding;return k}function jb(h,k,m,r,v,J,ba){var ka=m.datum.vgrad;h=("symbol"===h.datum.type||!J&&ka||ba?k:k.items[0]).bounds[v?"y2":"x2"]-h.padding;k=ka&&J?h:0;J=ka&&J?0:h;m=0>=v?0:S.multiLineOffset(m);return Math.round("start"===r?k:"end"===r?J-m:.5*(h-m))}function A(h,k,m,r){k.x+=m;k.y+=r;k.bounds.translate(m,r);k.mark.bounds.translate(m,r);h.dirty(k)}
function y(h){var k=h.reduce(function(m,r){m[r.column]=Math.max(r.bounds.x2-r.x,m[r.column]||0);return m},{});h.forEach(function(m){m.width=k[m.column];m.height=m.bounds.y2-m.y})}function I(h,k,m,r,v){var J=k.items[0],ba=J.orient,ka=J.anchor,ua=J.offset,fb=J.padding,eb=J.items[0].items[0],Ca=J.items[1]&&J.items[1].items[0],Ka="left"===ba||"right"===ba?r:m,Z=0,ra=m=0;"group"!==J.frame?"left"===ba?(Z=v.y2,Ka=v.y1):"right"===ba?(Z=v.y1,Ka=v.y2):(Z=v.x1,Ka=v.x2):"left"===ba&&(Z=r,Ka=0);r="start"===ka?
Z:"end"===ka?Ka:(Z+Ka)/2;if(Ca&&Ca.text){switch(ba){case "top":case "bottom":ra=eb.bounds.height()+fb;break;case "left":m=eb.bounds.width()+fb;break;case "right":m=-eb.bounds.width()-fb}V.clear().union(Ca.bounds);V.translate(m-(Ca.x||0),ra-(Ca.y||0));Ja(Ca,"x",m)|Ja(Ca,"y",ra)&&(h.dirty(Ca),Ca.bounds.clear().union(V),Ca.mark.bounds.clear().union(V),h.dirty(Ca));V.clear().union(Ca.bounds)}else V.clear();V.union(eb.bounds);switch(ba){case "top":ba=r;v=v.y1-V.height()-ua;break;case "left":ba=v.x1-V.width()-
ua;v=r;break;case "right":ba=v.x2+V.width()+ua;v=r;break;case "bottom":ba=r;v=v.y2+ua;break;default:ba=J.x,v=J.y}Ja(J,"x",ba)|Ja(J,"y",v)&&(V.translate(ba,v),h.dirty(J),J.bounds.clear().union(V),k.bounds.clear().union(V),h.dirty(J));return J.bounds}function L(h){q.Transform.call(this,null,h)}function z(h){return h&&"legend-entry"!==h.mark.role}function H(h,k,m){var r=k.items,v=Math.max(0,k.width||0),J=Math.max(0,k.height||0),ba=(new S.Bounds).set(0,0,v,J),ka=ba.clone(),ua=ba.clone(),fb=[],eb,Ca;var Ka=
0;for(Ca=r.length;Ka<Ca;++Ka){var Z=r[Ka];switch(Z.role){case "axis":var ra=ea(Z)?ka:ua;ra.union(pa(h,Z,v,J));break;case "title":var hb=Z;break;case "legend":fb.push(Ba(h,Z));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":ka.union(Z.bounds);ua.union(Z.bounds);break;default:ba.union(Z.bounds)}}if(fb.length){var mb={};fb.forEach(function(Xb){eb=Xb.orient||"right";"none"!==eb&&(mb[eb]||(mb[eb]=[])).push(Xb)});
for(var Ib in mb)r=mb[Ib],xa(h,r,Fa(r,Ib,m.legends,ka,ua,v,J));fb.forEach(function(Xb){var za=Xb.bounds;za.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,h.dirty(Xb),Xb.bounds=za,h.dirty(Xb));if(m.autosize&&"fit"===m.autosize.type)switch(Xb.orient){case "left":case "right":ba.add(za.x1,0).add(za.x2,0);break;case "top":case "bottom":ba.add(0,za.y1).add(0,za.y2)}else ba.union(za)})}ba.union(ka).union(ua);hb&&ba.union(I(h,hb,v,J,ba));k.clip&&ba.set(0,0,k.width||0,k.height||0);O(h,k,ba,m)}function O(h,k,m,
r){r=r.autosize||{};var v=r.type;if(!(1>h._autosize)&&v){var J=h._width,ba=h._height,ka=Math.max(0,k.width||0),ua=Math.max(0,Math.ceil(-m.x1));k=Math.max(0,k.height||0);var fb=Math.max(0,Math.ceil(-m.y1)),eb=Math.max(0,Math.ceil(m.x2-ka));m=Math.max(0,Math.ceil(m.y2-k));if("padding"===r.contains){var Ca=h.padding();J-=Ca.left+Ca.right;ba-=Ca.top+Ca.bottom}"none"===v?(fb=ua=0,ka=J,k=ba):"fit"===v?(ka=Math.max(0,J-ua-eb),k=Math.max(0,ba-fb-m)):"fit-x"===v?(ka=Math.max(0,J-ua-eb),ba=k+fb+m):"fit-y"===
v?(J=ka+ua+eb,k=Math.max(0,ba-fb-m)):"pad"===v&&(J=ka+ua+eb,ba=k+fb+m);h._resizeView(J,ba,ka,k,[ua,fb],r.resize)}}Pa.inherits(Hb,q.Transform,{transform:function(h,k){var m=k.dataflow,r=h.mark,v=r.marktype,J=S.Marks[v],ba=J.bound,ka=r.bounds;if(J.nested)r.items.length&&m.dirty(r.items[0]),ka=Ma(r,ba),r.items.forEach(function(fb){fb.bounds.clear().union(ka)});else if("group"===v||h.modified())switch(k.visit(k.MOD,function(fb){return m.dirty(fb)}),ka.clear(),r.items.forEach(function(fb){return ka.union(Ma(fb,
ba))}),r.role){case "axis":case "legend":case "title":k.reflow()}else{var ua=k.changed(k.REM);k.visit(k.ADD,function(fb){ka.union(Ma(fb,ba))});k.visit(k.MOD,function(fb){ua=ua||ka.alignsWith(fb.bounds);m.dirty(fb);ka.union(Ma(fb,ba))});ua&&(ka.clear(),r.items.forEach(function(fb){return ka.union(fb.bounds)}))}S.boundClip(r);return k.modifies("bounds")}});cb.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Pa.inherits(cb,q.Transform,{transform:function(h,
k){var m=Eb(k.dataflow),r=h.as,v=m.value;k.visit(k.ADD,function(J){return J[r]=J[r]||++v});m.set(this.value=v);return k}});Pa.inherits(qb,q.Transform,{transform:function(h,k){var m=this.value;m||(m=k.dataflow.scenegraph().mark(h.markdef,Ea(h),h.index),m.group.context=h.context,h.context.group||(h.context.group=m.group),m.source=this.source,m.clip=h.clip,m.interactive=h.interactive,this.value=m);var r="group"===m.marktype?S.GroupItem:S.Item;k.visit(k.ADD,function(v){return r.call(v,m)});if(h.modified("clip")||
h.modified("interactive"))m.clip=h.clip,m.interactive=!!h.interactive,m.zdirty=!0,k.reflow();m.items=k.source;return k}});var ma={parity:function(h){return h.filter(function(k,m){return m%2?k.opacity=0:1})},greedy:function(h,k){var m;return h.filter(function(r,v){return v&&Ia(m.bounds,r.bounds,k)?r.opacity=0:(m=r,1)})}},Ia=function(h,k,m){return m>Math.max(k.x1-h.x2,h.x1-k.x2,k.y1-h.y2,h.y1-k.y2)},Sa=function(h,k){for(var m=1,r=h.length,v=h[0].bounds;m<r;++m)if(Ia(v,v=h[m].bounds,k))return!0},E=function(h){h=
h.bounds;return 1<h.width()&&1<h.height()},ha=function(h,k,m){h=h.range();var r=new S.Bounds;"top"===k||"bottom"===k?r.set(h[0],-Infinity,h[1],Infinity):r.set(-Infinity,h[0],Infinity,h[1]);r.expand(m||1);return function(v){return r.encloses(v.bounds)}},Y=function(h){h.forEach(function(k){return k.opacity=1});return h};Pa.inherits($a,q.Transform,{transform:function(h,k){var m=ma[h.method]||ma.parity,r=h.separation||0,v=k.materialize(k.SOURCE).source;if(v&&v.length){if(!h.method)return h.modified("method")&&
(Y(v),k=k.reflow(h.modified()).modifies("opacity")),k;v=v.filter(E);if(v.length){h.sort&&(v=v.slice().sort(h.sort));var J=Y(v);k=k.reflow(h.modified()).modifies("opacity");if(3<=J.length&&Sa(J,r)){do J=m(J,r);while(3<=J.length&&Sa(J,r));3>J.length&&!Pa.peek(v).opacity&&(1<J.length&&(Pa.peek(J).opacity=0),Pa.peek(v).opacity=1)}if(h.boundScale&&0<=h.boundTolerance){var ba=ha(h.boundScale,h.boundOrient,+h.boundTolerance);v.forEach(function(ua){ba(ua)||(ua.opacity=0)})}var ka=J[0].mark.bounds.clear();
v.forEach(function(ua){ua.opacity&&ka.union(ua.bounds)});return k}}}});Pa.inherits(db,q.Transform,{transform:function(h,k){var m=k.dataflow;k.visit(k.ALL,function(r){return m.dirty(r)});k.fields&&k.fields.zindex&&(h=k.source&&k.source[0])&&(h.mark.zdirty=!0)}});var V=new S.Bounds,w=function(h,k){return Math.floor(Math.min(h,k))},F=function(h,k){return Math.ceil(Math.max(h,k))};Pa.inherits(L,q.Transform,{transform:function(h,k){var m=k.dataflow;h.mark.items.forEach(function(r){if(h.layout){for(var v=
h.layout,J=r.items,ba=J.length,ka=0,ua,fb,eb=[],Ca=[],Ka=[],Z=[],ra=[],hb=null,mb=null;ka<ba;++ka)if(ua=J[ka],fb=ua.items,"group"===ua.marktype)switch(ua.role){case "axis":case "legend":case "title":break;case "row-header":Ca.push.apply(Ca,$jscomp.arrayFromIterable(fb));break;case "row-footer":Ka.push.apply(Ka,$jscomp.arrayFromIterable(fb));break;case "column-header":Z.push.apply(Z,$jscomp.arrayFromIterable(fb));break;case "column-footer":ra.push.apply(ra,$jscomp.arrayFromIterable(fb));break;case "row-title":hb=
fb[0];break;case "column-title":mb=fb[0];break;default:eb.push.apply(eb,$jscomp.arrayFromIterable(fb))}ua="flush"===v.bounds?Oa:ya;J=v.offset;fb=v.columns||eb.length;var Ib=0>=fb?1:Math.ceil(eb.length/fb),Xb=Ib*fb;ba=xa(m,eb,v);ba.empty()&&ba.set(0,0,0,0);if(Ca){ka=aa(v.headerBand,"row",null);var za=ja(m,Ca,eb,fb,Ib,-aa(J,"rowHeader"),w,0,ua,"x1",0,fb,1,ka)}if(Z){ka=aa(v.headerBand,"column",null);var wb=ja(m,Z,eb,fb,fb,-aa(J,"columnHeader"),w,1,ua,"y1",0,1,fb,ka)}if(Ka){ka=aa(v.footerBand,"row",null);
var Tb=ja(m,Ka,eb,fb,Ib,aa(J,"rowFooter"),F,0,ua,"x2",fb-1,fb,1,ka)}if(ra){ka=aa(v.footerBand,"column",null);var rb=ja(m,ra,eb,fb,fb,aa(J,"columnFooter"),F,1,ua,"y2",Xb-fb,1,fb,ka)}hb&&(Ca=aa(v.titleAnchor,"row"),eb=aa(J,"rowTitle"),eb="end"===Ca?Tb+eb:za-eb,ka=aa(v.titleBand,"row",.5),wa(m,hb,eb,0,ba,ka));mb&&(Ca=aa(v.titleAnchor,"column"),eb=aa(J,"columnTitle"),eb="end"===Ca?rb+eb:wb-eb,ka=aa(v.titleBand,"column",.5),wa(m,mb,eb,1,ba,ka))}H(m,r,h)});return z(h.mark.group)?k.reflow():k}});n.bound=
Hb;n.identifier=cb;n.mark=qb;n.overlap=$a;n.render=db;n.viewlayout=L;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[24]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(21),sb(0),sb(1),sb(19)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.d3))})(this,function(n,q,S,Pa,Hb,Ma){function cb(z){q.Transform.call(this,null,z)}function Eb(z){q.Transform.call(this,null,z)}function qb(){return q.ingest({})}
function Ea(z){var H=Pa.fastmap().test(function(O){return O.exit});H.lookup=function(O){return H.get(z(O))};return H}function $a(z){q.Transform.call(this,null,z)}function db(z){q.Transform.call(this,[],z)}function Ja(z){q.Transform.call(this,{},z)}function ea(z){q.Transform.call(this,null,z)}function pa(z){return S.isContinuous(z)&&z!==S.Sequential}function Ga(z){q.Transform.call(this,null,z);this.modified(!0)}function Wa(z,H,O){S.isLogarithmic(z)&&Math.abs(H.reduce(function(ma,Ia){return ma+(0>Ia?
-1:0<Ia?1:0)},0))!==H.length&&O.warn("Log scale domain includes zero: "+Pa.stringValue(H));return H}function la(z,H,O){return Pa.isFunction(z)&&(H||O)?S.interpolateRange(z,aa(H||[0,1],O)):z}function aa(z,H){return H?z.slice().reverse():z}function Qa(z){q.Transform.call(this,null,z)}function xa(z){q.Transform.call(this,null,z)}function Oa(z,H,O,ma,Ia){H=(H-z.sum)/2;for(var Sa=z.length,E=0,ha;E<Sa;++E)ha=z[E],ha[ma]=H,ha[Ia]=H+=Math.abs(O(ha))}function ya(z,H,O,ma,Ia){H=1/z.sum;for(var Sa=0,E=z.length,
ha=0,Y=0,V;ha<E;++ha)V=z[ha],V[ma]=Sa,V[Ia]=Sa=H*(Y+=Math.abs(O(V)))}function ja(z,H,O,ma,Ia){for(var Sa=H=0,E=z.length,ha=0,Y,V;ha<E;++ha)V=z[ha],Y=+O(V),0>Y?(V[ma]=Sa,V[Ia]=Sa+=Y):(V[ma]=H,V[Ia]=H+=Y)}function wa(z,H,O,ma){var Ia=[],Sa=function(h){return h(V)},E;if(null==H)Ia.push(z.slice());else{var ha={};var Y=0;for(E=z.length;Y<E;++Y){var V=z[Y];var w=H.map(Sa);var F=ha[w];F||(ha[w]=F=[],Ia.push(F));F.push(V)}}Sa=w=0;for(z=Ia.length;w<z;++w){F=Ia[w];H=Y=0;for(E=F.length;Y<E;++Y)H+=Math.abs(ma(F[Y]));
F.sum=H;H>Sa&&(Sa=H);O&&F.sort(O)}Ia.max=Sa;return Ia}Pa.inherits(cb,q.Transform,{transform:function(z,H){if(this.value&&!z.modified())return H.StopPropagation;var O=H.dataflow.locale();H=H.fork(H.NO_SOURCE|H.NO_FIELDS);var ma=this.value,Ia=z.scale,Sa=S.tickCount(Ia,null==z.count?z.values?z.values.length:10:z.count,z.minstep),E=z.format||S.tickFormat(O,Ia,Sa,z.formatSpecifier,z.formatType,!!z.values),ha=z.values?S.validTicks(Ia,z.values,Sa):S.tickValues(Ia,Sa);ma&&(H.rem=ma);ma=ha.map(function(Y,
V){return q.ingest({index:V/(ha.length-1||1),value:Y,label:E(Y)})});z.extra&&ma.length&&ma.push(q.ingest({index:-1,extra:{value:ma[0].value},label:""}));H.source=ma;this.value=H.add=ma;return H}});Pa.inherits(Eb,q.Transform,{transform:function(z,H){var O=H.dataflow,ma=H.fork(H.NO_SOURCE|H.NO_FIELDS),Ia=z.item||qb,Sa=z.key||q.tupleid,E=this.value;Pa.isArray(ma.encode)&&(ma.encode=null);E&&(z.modified("key")||H.modified(Sa))&&Pa.error("DataJoin does not support modified key function or fields.");E||
(H=H.addAll(),this.value=E=Ea(Sa));H.visit(H.ADD,function(ha){var Y=Sa(ha),V=E.get(Y);V?V.exit?(E.empty--,ma.add.push(V)):ma.mod.push(V):(V=Ia(ha),E.set(Y,V),ma.add.push(V));V.datum=ha;V.exit=!1});H.visit(H.MOD,function(ha){var Y=Sa(ha);if(Y=E.get(Y))Y.datum=ha,ma.mod.push(Y)});H.visit(H.REM,function(ha){var Y=Sa(ha);Y=E.get(Y);ha!==Y.datum||Y.exit||(ma.rem.push(Y),Y.exit=!0,++E.empty)});H.changed(H.ADD_MOD)&&ma.modifies("datum");(H.clean()||z.clean&&E.empty>O.cleanThreshold)&&O.runAfter(E.clean);
return ma}});Pa.inherits($a,q.Transform,{transform:function(z,H){var O=H.fork(H.ADD_REM),ma=z.mod||!1,Ia=z.encoders,Sa=H.encode;if(Pa.isArray(Sa))if(O.changed()||Sa.every(function(F){return Ia[F]}))Sa=Sa[0],O.encode=null;else return H.StopPropagation;var E="enter"===Sa,ha=Ia.update||Pa.falsy,Y=Ia.enter||Pa.falsy,V=Ia.exit||Pa.falsy,w=(Sa&&!E?Ia[Sa]:ha)||Pa.falsy;H.changed(H.ADD)&&(H.visit(H.ADD,function(F){Y(F,z);ha(F,z)}),O.modifies(Y.output),O.modifies(ha.output),w!==Pa.falsy&&w!==ha&&(H.visit(H.ADD,
function(F){w(F,z)}),O.modifies(w.output)));H.changed(H.REM)&&V!==Pa.falsy&&(H.visit(H.REM,function(F){V(F,z)}),O.modifies(V.output));if(E||w!==Pa.falsy)Sa=H.MOD|(z.modified()?H.REFLOW:0),E?(H.visit(Sa,function(F){var h=Y(F,z)||ma;(w(F,z)||h)&&O.mod.push(F)}),O.mod.length&&O.modifies(Y.output)):H.visit(Sa,function(F){(w(F,z)||ma)&&O.mod.push(F)}),O.mod.length&&O.modifies(w.output);return O.changed()?O:H.StopPropagation}});Pa.inherits(db,q.Transform,{transform:function(z,H){if(null!=this.value&&!z.modified())return H.StopPropagation;
var O=H.dataflow.locale(),ma=H.fork(H.NO_SOURCE|H.NO_FIELDS),Ia=this.value,Sa=z.type||S.SymbolLegend,E=z.scale,ha=+z.limit,Y=S.tickCount(E,null==z.count?5:z.count,z.minstep),V=!!z.values||Sa===S.SymbolLegend,w=z.format||S.labelFormat(O,E,Y,Sa,z.formatSpecifier,z.formatType,V),F=z.values||S.labelValues(E,Y),h;Ia&&(ma.rem=Ia);if(Sa===S.SymbolLegend){if(ha&&F.length>ha){H.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ia=F.slice(0,ha-1);var k=!0}else Ia=F;if(Pa.isFunction(h=z.size)){z.values||
0!==E(Ia[0])||(Ia=Ia.slice(1));var m=Ia.reduce(function(v,J){return Math.max(v,h(J,z))},0)}else h=Pa.constant(m=h||8);Ia=Ia.map(function(v,J){return q.ingest({index:J,label:w(v,J,Ia),value:v,offset:m,size:h(v,z)})});k&&(k=F[Ia.length],Ia.push(q.ingest({index:Ia.length,label:"…"+(F.length-Ia.length)+" entries",value:k,offset:m,size:h(k,z)})))}else if(Sa===S.GradientLegend){H=E.domain();var r=S.scaleFraction(E,H[0],Pa.peek(H));3>F.length&&!z.values&&H[0]!==Pa.peek(H)&&(F=[H[0],Pa.peek(H)]);Ia=F.map(function(v,
J){return q.ingest({index:J,label:w(v,J,F),value:v,perc:r(v)})})}else h=F.length-1,r=S.labelFraction(E),Ia=F.map(function(v,J){return q.ingest({index:J,label:w(v,J,F),value:v,perc:J?r(v):0,perc2:J===h?1:r(F[J+1])})});ma.source=Ia;this.value=ma.add=Ia;return ma}});var sa=function(z){return z.source.x},qa=function(z){return z.source.y},Fa=function(z){return z.target.x},Ba=function(z){return z.target.y};Ja.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Pa.inherits(Ja,q.Transform,{transform:function(z,H){var O=z.sourceX||sa,ma=z.sourceY||
qa,Ia=z.targetX||Fa,Sa=z.targetY||Ba,E=z.as||"path",ha=z.shape||"line",Y=y.get(ha+"-"+(z.orient||"vertical"))||y.get(ha);Y||Pa.error("LinkPath unsupported type: "+z.shape+(z.orient?"-"+z.orient:""));H.visit(H.SOURCE,function(V){V[E]=Y(O(V),ma(V),Ia(V),Sa(V))});return H.reflow(z.modified()).modifies(E)}});var Za=function(z,H,O,ma){return"M"+z+","+H+"L"+O+","+ma},jb=function(z,H,O,ma){var Ia=O-z,Sa=ma-H,E=Math.sqrt(Ia*Ia+Sa*Sa)/2;return"M"+z+","+H+"A"+E+","+E+" "+180*Math.atan2(Sa,Ia)/Math.PI+" 0 1 "+
O+","+ma},A=function(z,H,O,ma){var Ia=O-z,Sa=ma-H,E=.2*(Ia+Sa);Ia=.2*(Sa-Ia);return"M"+z+","+H+"C"+(z+E)+","+(H+Ia)+" "+(O+Ia)+","+(ma-E)+" "+O+","+ma},y=Pa.fastmap({line:Za,"line-radial":function(z,H,O,ma){return Za(H*Math.cos(z),H*Math.sin(z),ma*Math.cos(O),ma*Math.sin(O))},arc:jb,"arc-radial":function(z,H,O,ma){return jb(H*Math.cos(z),H*Math.sin(z),ma*Math.cos(O),ma*Math.sin(O))},curve:A,"curve-radial":function(z,H,O,ma){return A(H*Math.cos(z),H*Math.sin(z),ma*Math.cos(O),ma*Math.sin(O))},"orthogonal-horizontal":function(z,
H,O,ma){return"M"+z+","+H+"V"+ma+"H"+O},"orthogonal-vertical":function(z,H,O,ma){return"M"+z+","+H+"H"+O+"V"+ma},"orthogonal-radial":function(z,H,O,ma){var Ia=Math.cos(O),Sa=Math.sin(O);return"M"+H*Math.cos(z)+","+H*Math.sin(z)+"A"+H+","+H+" 0 0,"+((Math.abs(O-z)>Math.PI?O<=z:O>z)?1:0)+" "+H*Ia+","+H*Sa+"L"+ma*Ia+","+ma*Sa},"diagonal-horizontal":function(z,H,O,ma){var Ia=(z+O)/2;return"M"+z+","+H+"C"+Ia+","+H+" "+Ia+","+ma+" "+O+","+ma},"diagonal-vertical":function(z,H,O,ma){var Ia=(H+ma)/2;return"M"+
z+","+H+"C"+z+","+Ia+" "+O+","+Ia+" "+O+","+ma},"diagonal-radial":function(z,H,O,ma){var Ia=Math.cos(z);z=Math.sin(z);var Sa=Math.cos(O);O=Math.sin(O);var E=(H+ma)/2;return"M"+H*Ia+","+H*z+"C"+E*Ia+","+E*z+" "+E*Sa+","+E*O+" "+ma*Sa+","+ma*O}});ea.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",
array:!0,length:2,"default":["startAngle","endAngle"]}]};Pa.inherits(ea,q.Transform,{transform:function(z,H){var O=z.as||["startAngle","endAngle"],ma=O[0],Ia=O[1],Sa=z.startAngle||0,E=null!=z.endAngle?z.endAngle:2*Math.PI,ha=H.source,Y=ha.map(z.field||Pa.one),V=Y.length,w=Sa;Sa=(E-Sa)/Hb.sum(Y);E=Hb.range(V);var F;z.sort&&E.sort(function(m,r){return Y[m]-Y[r]});for(F=0;F<V;++F){var h=Y[E[F]];var k=ha[E[F]];k[ma]=w;k[Ia]=w+=h*Sa}this.value=Y;return H.reflow(z.modified()).modifies(O)}});var I=Pa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Pa.inherits(Ga,q.Transform,{transform:function(z,H){var O=H.dataflow,ma=this.value;var Ia=z.type;var Sa="";if(Ia===S.Sequential)Ia=S.Sequential+"-"+S.Linear;else{var E=z.type;S.isContinuous(E)&&E!==S.Time&&E!==S.UTC&&(z.scheme||z.range&&z.range.length&&z.range.every(Pa.isString))&&(Sa=z.rawDomain?z.rawDomain.length:z.domain?z.domain.length+ +(null!=z.domainMid):0,Sa=2===Sa?S.Sequential+"-":3===Sa?S.Diverging+"-":"");Ia=(Sa+Ia||S.Linear).toLowerCase()}ma&&Ia===ma.type||(this.value=ma=S.scale(Ia)());
for(Ia in z)I[Ia]||"padding"===Ia&&pa(ma.type)||(Pa.isFunction(ma[Ia])?ma[Ia](z[Ia]):O.warn("Unsupported scale property: "+Ia));Sa=Ia=ma;(E=z.domainRaw)?(ma.domain(Wa(ma.type,E,O)),E=E.length):E=-1;if(-1<E)O=E;else{var ha=z.domain;E=ma.type;var Y;!(Y=z.zero)&&(Y=void 0===z.zero)&&(Y=ma.type,Y=!ma.bins&&(Y===S.Linear||Y===S.Pow||Y===S.Sqrt));if(ha){if(pa(E)&&z.padding&&ha[0]!==Pa.peek(ha)){var V=z.range,w=z.padding;var F=z.exponent;var h=z.constant;V=Math.abs(Pa.peek(V)-V[0]);w=V/(V-2*w);F=E===S.Log?
Pa.zoomLog(ha,null,w):E===S.Sqrt?Pa.zoomPow(ha,null,w,.5):E===S.Pow?Pa.zoomPow(ha,null,w,F||1):E===S.Symlog?Pa.zoomSymlog(ha,null,w,h||1):Pa.zoomLinear(ha,null,w);ha=ha.slice();ha[0]=F[0];ha[ha.length-1]=F[1]}if(Y||null!=z.domainMin||null!=z.domainMax||null!=z.domainMid)F=(ha=ha.slice()).length-1||1,Y&&(0<ha[0]&&(ha[0]=0),0>ha[F]&&(ha[F]=0)),null!=z.domainMin&&(ha[0]=z.domainMin),null!=z.domainMax&&(ha[F]=z.domainMax),null!=z.domainMid&&(Y=z.domainMid,h=Y>ha[F]?F+1:Y<ha[0]?0:F,h!==F&&O.warn("Scale domainMid exceeds domain min or max.",
Y),ha.splice(h,0,Y));ma.domain(Wa(E,ha,O));E===S.Ordinal&&ma.unknown(z.domainImplicit?S.scaleImplicit:void 0);z.nice&&ma.nice&&ma.nice(!0!==z.nice&&S.tickCount(ma,z.nice)||null);O=ha.length}else O=0}(E=z.bins)&&!Pa.isArray(E)&&(Y=Sa.domain(),ma=Y[0],Y=Pa.peek(Y),ha=E.step,F=null==E.start?ma:E.start,E=null==E.stop?Y:E.stop,ha||Pa.error("Scale bins parameter missing step property."),F<ma&&(F=ha*Math.ceil(ma/ha)),E>Y&&(E=ha*Math.floor(Y/ha)),E=Hb.range(F,E+ha/2,ha));E?Sa.bins=E:Sa.bins&&delete Sa.bins;
Sa.type===S.BinOrdinal&&(E?z.domain||z.domainRaw||(Sa.domain(E),O=E.length):Sa.bins=Sa.domain());ma=O;a:{Sa=Ia.type;O=z.round||!1;E=z.range;if(null!=z.rangeStep)Sa!==S.Band&&Sa!==S.Point&&Pa.error("Only band and point scales support rangeStep."),E=[0,z.rangeStep*S.bandSpace(ma,Sa===S.Point?1:(null!=z.paddingInner?z.paddingInner:z.padding)||0,(null!=z.paddingOuter?z.paddingOuter:z.padding)||0)];else if(z.scheme&&(E=z.schemeExtent,Pa.isArray(z.scheme)?Y=S.interpolateColors(z.scheme,z.interpolate,z.interpolateGamma):
(Y=z.scheme.toLowerCase(),(Y=S.scheme(Y))||Pa.error("Unrecognized scheme name: "+z.scheme)),ma=Sa===S.Threshold?ma+1:Sa===S.BinOrdinal?ma-1:Sa===S.Quantile||Sa===S.Quantize?+z.schemeCount||5:ma,E=S.isInterpolating(Sa)?la(Y,E,z.reverse):Pa.isFunction(Y)?S.quantizeInterpolator(la(Y,E),ma):Sa===S.Ordinal?Y:Y.slice(0,ma),Pa.isFunction(E)))if(Ia.interpolator){Ia.interpolator(E);break a}else Pa.error("Scale type "+Sa+" does not support interpolating color schemes.");E&&S.isInterpolating(Sa)?Ia.interpolator(S.interpolateColors(aa(E,
z.reverse),z.interpolate,z.interpolateGamma)):(E&&z.interpolate&&Ia.interpolate?Ia.interpolate(S.interpolate(z.interpolate,z.interpolateGamma)):Pa.isFunction(Ia.round)?Ia.round(O):Pa.isFunction(Ia.rangeRound)&&Ia.interpolate(O?Ma.interpolateRound:Ma.interpolate),E&&Ia.range(aa(E,z.reverse)))}return H.fork(H.NO_SOURCE|H.NO_FIELDS)}});Pa.inherits(Qa,q.Transform,{transform:function(z,H){var O=z.modified("sort")||H.changed(H.ADD)||H.modified(z.sort.fields)||H.modified("datum");O&&H.source.sort(q.stableCompare(z.sort));
this.modified(O);return H}});var L=["y0","y1"];xa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":L}]};Pa.inherits(xa,q.Transform,{transform:function(z,H){var O=z.as||L,ma=O[0],Ia=O[1],Sa=q.stableCompare(z.sort),E=z.field||Pa.one,ha="center"===z.offset?Oa:"normalize"===
z.offset?ya:ja,Y;Sa=wa(H.source,z.groupby,Sa,E);var V=0;var w=Sa.length;for(Y=Sa.max;V<w;++V)ha(Sa[V],Y,E,ma,Ia);return H.reflow(z.modified()).modifies(O)}});n.axisticks=cb;n.datajoin=Eb;n.encode=$a;n.legendentries=db;n.linkpath=Ja;n.pie=ea;n.scale=Ga;n.sortitems=Qa;n.stack=xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[25]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(X){return 1<X?0:-1>X?Ta:Math.acos(X)}function Pa(X){return 1<X?Pb:-1>X?-Pb:Math.asin(X)}function Hb(X){return(X=Lb(X/2))*X}function Ma(){}function cb(X,ta){if(X&&Oe.hasOwnProperty(X.type))Oe[X.type](X,ta)}function Eb(X,ta,Ua){var kb=-1;Ua=X.length-Ua;
for(ta.lineStart();++kb<Ua;){var Bb=X[kb];ta.point(Bb[0],Bb[1],Bb[2])}ta.lineEnd()}function qb(X,ta){var Ua=-1,kb=X.length;for(ta.polygonStart();++Ua<kb;)Eb(X[Ua],ta,1);ta.polygonEnd()}function Ea(X,ta){if(X&&Ye.hasOwnProperty(X.type))Ye[X.type](X,ta);else cb(X,ta)}function $a(){ne.point=Ja}function db(){ea(be,fc)}function Ja(X,ta){ne.point=ea;be=X;fc=ta;X*=uc;ta*=uc;Pd=X;dc=ld(ta=ta/2+kc);Yc=Lb(ta)}function ea(X,ta){X*=uc;ta*=uc;ta=ta/2+kc;var Ua=X-Pd,kb=0<=Ua?1:-1,Bb=kb*Ua;Ua=ld(ta);ta=Lb(ta);var mc=
Yc*ta,wc=dc*Ua+mc*ld(Bb);kb=mc*kb*Lb(Bb);ff.add(yd(kb,wc));Pd=X;dc=Ua;Yc=ta}function pa(X){return[yd(X[1],X[0]),Pa(X[2])]}function Ga(X){var ta=X[0];X=X[1];var Ua=ld(X);return[Ua*ld(ta),Ua*Lb(ta),Lb(X)]}function Wa(X,ta){return X[0]*ta[0]+X[1]*ta[1]+X[2]*ta[2]}function la(X,ta){return[X[1]*ta[2]-X[2]*ta[1],X[2]*ta[0]-X[0]*ta[2],X[0]*ta[1]-X[1]*ta[0]]}function aa(X,ta){X[0]+=ta[0];X[1]+=ta[1];X[2]+=ta[2]}function Qa(X,ta){return[X[0]*ta,X[1]*ta,X[2]*ta]}function xa(X){var ta=oe(X[0]*X[0]+X[1]*X[1]+
X[2]*X[2]);X[0]/=ta;X[1]/=ta;X[2]/=ta}function Oa(X,ta){pe.push(Le=[ee=X,fe=X]);ta<Pc&&(Pc=ta);ta>Sd&&(Sd=ta)}function ya(X,ta){var Ua=Ga([X*uc,ta*uc]);if(ke){var kb=la(ke,Ua);kb=la([kb[1],-kb[0],0],kb);xa(kb);kb=pa(kb);var Bb=X-Ld,mc=0<Bb?1:-1,wc=kb[0]*qc*mc;Bb=180<kd(Bb);Bb^(mc*Ld<wc&&wc<mc*X)?(kb=kb[1]*qc,kb>Sd&&(Sd=kb)):(wc=(wc+360)%360-180,Bb^(mc*Ld<wc&&wc<mc*X))?(kb=-kb[1]*qc,kb<Pc&&(Pc=kb)):(ta<Pc&&(Pc=ta),ta>Sd&&(Sd=ta));Bb?X<Ld?Ba(ee,X)>Ba(ee,fe)&&(fe=X):Ba(X,fe)>Ba(ee,fe)&&(ee=X):fe>=ee?
(X<ee&&(ee=X),X>fe&&(fe=X)):X>Ld?Ba(ee,X)>Ba(ee,fe)&&(fe=X):Ba(X,fe)>Ba(ee,fe)&&(ee=X)}else pe.push(Le=[ee=X,fe=X]);ta<Pc&&(Pc=ta);ta>Sd&&(Sd=ta);ke=Ua;Ld=X}function ja(){cf.point=ya}function wa(){Le[0]=ee;Le[1]=fe;cf.point=Oa;ke=null}function sa(X,ta){if(ke){var Ua=X-Ld;Gd.add(180<kd(Ua)?Ua+(0<Ua?360:-360):Ua)}else Qd=X,Ed=ta;ne.point(X,ta);ya(X,ta)}function qa(){ne.lineStart()}function Fa(){sa(Qd,Ed);ne.lineEnd();1E-6<kd(Gd)&&(ee=-(fe=180));Le[0]=ee;Le[1]=fe;ke=null}function Ba(X,ta){return 0>(ta-=
X)?ta+360:ta}function Za(X,ta){return X[0]-ta[0]}function jb(X,ta){return X[0]<=X[1]?X[0]<=ta&&ta<=X[1]:ta<X[0]||X[1]<ta}function A(X,ta){X*=uc;ta*=uc;var Ua=ld(ta);y(Ua*ld(X),Ua*Lb(X),Lb(ta))}function y(X,ta,Ua){++qf;rf+=(X-rf)/qf;Fe+=(ta-Fe)/qf;Pe+=(Ua-Pe)/qf}function I(){ac.point=L}function L(X,ta){X*=uc;ta*=uc;var Ua=ld(ta);Ab=Ua*ld(X);zb=Ua*Lb(X);Jb=Lb(ta);ac.point=z;y(Ab,zb,Jb)}function z(X,ta){X*=uc;ta*=uc;var Ua=ld(ta),kb=Ua*ld(X);X=Ua*Lb(X);ta=Lb(ta);var Bb=yd(oe((Bb=zb*ta-Jb*X)*Bb+(Bb=Jb*
kb-Ab*ta)*Bb+(Bb=Ab*X-zb*kb)*Bb),Ab*kb+zb*X+Jb*ta);gd+=Bb;Ee+=Bb*(Ab+(Ab=kb));$e+=Bb*(zb+(zb=X));Qe+=Bb*(Jb+(Jb=ta));y(Ab,zb,Jb)}function H(){ac.point=A}function O(){ac.point=Ia}function ma(){Sa(R,Na);ac.point=A}function Ia(X,ta){R=X;Na=ta;X*=uc;ta*=uc;ac.point=Sa;var Ua=ld(ta);Ab=Ua*ld(X);zb=Ua*Lb(X);Jb=Lb(ta);y(Ab,zb,Jb)}function Sa(X,ta){X*=uc;ta*=uc;var Ua=ld(ta),kb=Ua*ld(X);X=Ua*Lb(X);ta=Lb(ta);Ua=zb*ta-Jb*X;var Bb=Jb*kb-Ab*ta,mc=Ab*X-zb*kb,wc=jc(Ua,Bb,mc),nc=Pa(wc);wc=wc&&-nc/wc;df.add(wc*Ua);
Be.add(wc*Bb);D.add(wc*mc);gd+=nc;Ee+=nc*(Ab+(Ab=kb));$e+=nc*(zb+(zb=X));Qe+=nc*(Jb+(Jb=ta));y(Ab,zb,Jb)}function E(X){return function(){return X}}function ha(X,ta){function Ua(kb,Bb){return kb=X(kb,Bb),ta(kb[0],kb[1])}X.invert&&ta.invert&&(Ua.invert=function(kb,Bb){return kb=ta.invert(kb,Bb),kb&&X.invert(kb[0],kb[1])});return Ua}function Y(X,ta){return[kd(X)>Ta?X+Math.round(-X/oc)*oc:X,ta]}function V(X,ta,Ua){return(X%=oc)?ta||Ua?ha(F(X),h(ta,Ua)):F(X):ta||Ua?h(ta,Ua):Y}function w(X){return function(ta,
Ua){return ta+=X,[ta>Ta?ta-oc:ta<-Ta?ta+oc:ta,Ua]}}function F(X){var ta=w(X);ta.invert=w(-X);return ta}function h(X,ta){function Ua(nc,yc){var Bc=ld(yc),dd=ld(nc)*Bc;nc=Lb(nc)*Bc;yc=Lb(yc);Bc=yc*kb+dd*Bb;return[yd(nc*mc-Bc*wc,dd*kb-yc*Bb),Pa(Bc*mc+nc*wc)]}var kb=ld(X),Bb=Lb(X),mc=ld(ta),wc=Lb(ta);Ua.invert=function(nc,yc){var Bc=ld(yc),dd=ld(nc)*Bc;nc=Lb(nc)*Bc;yc=Lb(yc);Bc=yc*mc-nc*wc;return[yd(nc*mc+yc*wc,dd*kb+Bc*Bb),Pa(Bc*kb-dd*Bb)]};return Ua}function k(X){function ta(Ua){Ua=X(Ua[0]*uc,Ua[1]*
uc);return Ua[0]*=qc,Ua[1]*=qc,Ua}X=V(X[0]*uc,X[1]*uc,2<X.length?X[2]*uc:0);ta.invert=function(Ua){Ua=X.invert(Ua[0]*uc,Ua[1]*uc);return Ua[0]*=qc,Ua[1]*=qc,Ua};return ta}function m(X,ta,Ua,kb,Bb,mc){if(Ua){var wc=ld(ta),nc=Lb(ta);Ua*=kb;if(null==Bb)Bb=ta+kb*oc,mc=ta-Ua/2;else if(Bb=r(wc,Bb),mc=r(wc,mc),0<kb?Bb<mc:Bb>mc)Bb+=kb*oc;for(;0<kb?Bb>mc:Bb<mc;Bb-=Ua)ta=pa([wc,-nc*ld(Bb),-nc*Lb(Bb)]),X.point(ta[0],ta[1])}}function r(X,ta){ta=Ga(ta);ta[0]-=X;xa(ta);X=S(-ta[1]);return((0>-ta[2]?-X:X)+oc-1E-6)%
oc}function v(){var X=[],ta;return{point:function(Ua,kb,Bb){ta.push([Ua,kb,Bb])},lineStart:function(){X.push(ta=[])},lineEnd:Ma,rejoin:function(){1<X.length&&X.push(X.pop().concat(X.shift()))},result:function(){var Ua=X;X=[];ta=null;return Ua}}}function J(X,ta){return 1E-6>kd(X[0]-ta[0])&&1E-6>kd(X[1]-ta[1])}function ba(X,ta,Ua,kb){this.x=X;this.z=ta;this.o=Ua;this.e=kb;this.v=!1;this.n=this.p=null}function ka(X,ta,Ua,kb,Bb){var mc=[],wc=[];X.forEach(function(Qc){if(!(0>=(Kc=Qc.length-1))){var Kc,
Wc=Qc[0],fd=Qc[Kc];if(J(Wc,fd)){if(!Wc[2]&&!fd[2]){Bb.lineStart();for(nc=0;nc<Kc;++nc)Bb.point((Wc=Qc[nc])[0],Wc[1]);Bb.lineEnd();return}fd[0]+=2E-6}mc.push(Kc=new ba(Wc,Qc,null,!0));wc.push(Kc.o=new ba(Wc,null,Kc,!1));mc.push(Kc=new ba(fd,Qc,null,!1));wc.push(Kc.o=new ba(fd,null,Kc,!0))}});if(mc.length){wc.sort(ta);ua(mc);ua(wc);var nc=0;for(X=wc.length;nc<X;++nc)wc[nc].e=Ua=!Ua;Ua=mc[0];for(var yc;;){for(var Bc=Ua,dd=!0;Bc.v;)if((Bc=Bc.n)===Ua)return;ta=Bc.z;Bb.lineStart();do{Bc.v=Bc.o.v=!0;if(Bc.e){if(dd)for(nc=
0,X=ta.length;nc<X;++nc)Bb.point((yc=ta[nc])[0],yc[1]);else kb(Bc.x,Bc.n.x,1,Bb);Bc=Bc.n}else{if(dd)for(ta=Bc.p.z,nc=ta.length-1;0<=nc;--nc)Bb.point((yc=ta[nc])[0],yc[1]);else kb(Bc.x,Bc.p.x,-1,Bb);Bc=Bc.p}Bc=Bc.o;ta=Bc.z;dd=!dd}while(!Bc.v);Bb.lineEnd()}}}function ua(X){if(ta=X.length){for(var ta,Ua=0,kb=X[0],Bb;++Ua<ta;)kb.n=Bb=X[Ua],Bb.p=kb,kb=Bb;kb.n=Bb=X[0];Bb.p=kb}}function fb(X){return kd(X[0])<=Ta?X[0]:Ke(X[0])*((kd(X[0])+Ta)%oc-Ta)}function eb(X,ta){var Ua=fb(ta);ta=ta[1];var kb=Lb(ta),Bb=
[Lb(Ua),-ld(Ua),0],mc=0,wc=0,nc=new q.Adder;1===kb?ta=Pb+1E-6:-1===kb&&(ta=-Pb-1E-6);kb=0;for(var yc=X.length;kb<yc;++kb)if(dd=(Bc=X[kb]).length){var Bc,dd,Qc=Bc[dd-1],Kc=fb(Qc),Wc=Qc[1]/2+kc,fd=Lb(Wc),hd=ld(Wc);for(Wc=0;Wc<dd;++Wc,Kc=Td,fd=Id,hd=sd,Qc=ie){var ie=Bc[Wc],Td=fb(ie);sd=ie[1]/2+kc;var Id=Lb(sd),sd=ld(sd),ed=Td-Kc,Rd=0<=ed?1:-1,Ie=Rd*ed,Re=Ie>Ta;fd*=Id;nc.add(yd(fd*Rd*Lb(Ie),hd*sd+fd*ld(Ie)));mc+=Re?ed+Rd*oc:ed;Re^Kc>=Ua^Td>=Ua&&(Qc=la(Ga(Qc),Ga(ie)),xa(Qc),Kc=la(Bb,Qc),xa(Kc),Kc=(Re^
0<=ed?-1:1)*Pa(Kc[2]),ta>Kc||ta===Kc&&(Qc[0]||Qc[1]))&&(wc+=Re^0<=ed?1:-1)}}return(-1E-6>mc||1E-6>mc&&-1E-12>nc)^wc&1}function Ca(X,ta,Ua,kb){return function(Bb){function mc(ed,Rd){X(ed,Rd)&&Bb.point(ed,Rd)}function wc(ed,Rd){Kc.point(ed,Rd)}function nc(){sd.point=wc;Kc.lineStart()}function yc(){sd.point=mc;Kc.lineEnd()}function Bc(ed,Rd){Id.push([ed,Rd]);fd.point(ed,Rd)}function dd(){fd.lineStart();Id=[]}function Qc(){Bc(Id[0][0],Id[0][1]);fd.lineEnd();var ed=fd.clean(),Rd=Wc.result(),Ie=Rd.length,
Re;Id.pop();ie.push(Id);Id=null;if(Ie)if(ed&1){if(Ie=Rd[0],0<(Rd=Ie.length-1)){hd||(Bb.polygonStart(),hd=!0);Bb.lineStart();for(ed=0;ed<Rd;++ed)Bb.point((Re=Ie[ed])[0],Re[1]);Bb.lineEnd()}}else 1<Ie&&ed&2&&Rd.push(Rd.pop().concat(Rd.shift())),Td.push(Rd.filter(Ka))}var Kc=ta(Bb),Wc=v(),fd=ta(Wc),hd=!1,ie,Td,Id,sd={point:mc,lineStart:nc,lineEnd:yc,polygonStart:function(){sd.point=Bc;sd.lineStart=dd;sd.lineEnd=Qc;Td=[];ie=[]},polygonEnd:function(){sd.point=mc;sd.lineStart=nc;sd.lineEnd=yc;Td=q.merge(Td);
var ed=eb(ie,kb);Td.length?(hd||(Bb.polygonStart(),hd=!0),ka(Td,Z,ed,Ua,Bb)):ed&&(hd||(Bb.polygonStart(),hd=!0),Bb.lineStart(),Ua(null,null,1,Bb),Bb.lineEnd());hd&&(Bb.polygonEnd(),hd=!1);Td=ie=null},sphere:function(){Bb.polygonStart();Bb.lineStart();Ua(null,null,1,Bb);Bb.lineEnd();Bb.polygonEnd()}};return sd}}function Ka(X){return 1<X.length}function Z(X,ta){return(0>(X=X.x)[0]?X[1]-Pb-1E-6:Pb-X[1])-(0>(ta=ta.x)[0]?ta[1]-Pb-1E-6:Pb-ta[1])}function ra(X){function ta(yc,Bc){return ld(yc)*ld(Bc)>Bb}
function Ua(yc,Bc,dd){var Qc=Ga(yc),Kc=Ga(Bc),Wc=[1,0,0];Kc=la(Qc,Kc);var fd=Wa(Kc,Kc);Qc=Kc[0];var hd=fd-Qc*Qc;if(!hd)return!dd&&yc;fd=Bb*fd/hd;hd=-Bb*Qc/hd;Qc=la(Wc,Kc);Wc=Qa(Wc,fd);Kc=Qa(Kc,hd);aa(Wc,Kc);Kc=Wa(Wc,Qc);fd=Wa(Qc,Qc);hd=Kc*Kc-fd*(Wa(Wc,Wc)-1);if(!(0>hd)){var ie=oe(hd);hd=Qa(Qc,(-Kc-ie)/fd);aa(hd,Wc);hd=pa(hd);if(!dd)return hd;dd=yc[0];var Td=Bc[0];yc=yc[1];Bc=Bc[1];if(Td<dd){var Id=dd;dd=Td;Td=Id}var sd=Td-dd,ed=1E-6>kd(sd-Ta);!ed&&Bc<yc&&(Id=yc,yc=Bc,Bc=Id);if(ed||1E-6>sd?ed?0<yc+
Bc^hd[1]<(1E-6>kd(hd[0]-dd)?yc:Bc):yc<=hd[1]&&hd[1]<=Bc:sd>Ta^(dd<=hd[0]&&hd[0]<=Td))return Bc=Qa(Qc,(-Kc+ie)/fd),aa(Bc,Wc),[hd,pa(Bc)]}}function kb(yc,Bc){var dd=wc?X:Ta-X,Qc=0;yc<-dd?Qc|=1:yc>dd&&(Qc|=2);Bc<-dd?Qc|=4:Bc>dd&&(Qc|=8);return Qc}var Bb=ld(X),mc=6*uc,wc=0<Bb,nc=1E-6<kd(Bb);return Ca(ta,function(yc){var Bc,dd,Qc,Kc,Wc;return{lineStart:function(){Kc=Qc=!1;Wc=1},point:function(fd,hd){var ie=[fd,hd],Td=ta(fd,hd);hd=wc?Td?0:kb(fd,hd):Td?kb(fd+(0>fd?Ta:-Ta),hd):0;!Bc&&(Kc=Qc=Td)&&yc.lineStart();
Td!==Qc&&(fd=Ua(Bc,ie),!fd||J(Bc,fd)||J(ie,fd))&&(ie[2]=1);if(Td!==Qc)Wc=0,Td?(yc.lineStart(),fd=Ua(ie,Bc),yc.point(fd[0],fd[1])):(fd=Ua(Bc,ie),yc.point(fd[0],fd[1],2),yc.lineEnd()),Bc=fd;else if(nc&&Bc&&wc^Td){var Id;hd&dd||!(Id=Ua(ie,Bc,!0))||(Wc=0,wc?(yc.lineStart(),yc.point(Id[0][0],Id[0][1]),yc.point(Id[1][0],Id[1][1]),yc.lineEnd()):(yc.point(Id[1][0],Id[1][1]),yc.lineEnd(),yc.lineStart(),yc.point(Id[0][0],Id[0][1],3)))}!Td||Bc&&J(Bc,ie)||yc.point(ie[0],ie[1]);Bc=ie;Qc=Td;dd=hd},lineEnd:function(){Qc&&
yc.lineEnd();Bc=null},clean:function(){return Wc|(Kc&&Qc)<<1}}},function(yc,Bc,dd,Qc){m(Qc,X,mc,dd,yc,Bc)},wc?[0,-X]:[-Ta,X-Ta])}function hb(X,ta,Ua,kb,Bb,mc){var wc=X[0],nc=X[1],yc=0,Bc=1,dd=ta[0]-wc,Qc=ta[1]-nc;Ua-=wc;if(dd||!(0<Ua)){Ua/=dd;if(0>dd){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}else if(0<dd){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}Ua=Bb-wc;if(dd||!(0>Ua)){Ua/=dd;if(0>dd){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}else if(0<dd){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}Ua=kb-nc;if(Qc||!(0<Ua)){Ua/=Qc;if(0>Qc){if(Ua<yc)return;
Ua<Bc&&(Bc=Ua)}else if(0<Qc){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}Ua=mc-nc;if(Qc||!(0>Ua)){Ua/=Qc;if(0>Qc){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}else if(0<Qc){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}0<yc&&(X[0]=wc+yc*dd,X[1]=nc+yc*Qc);1>Bc&&(ta[0]=wc+Bc*dd,ta[1]=nc+Bc*Qc);return!0}}}}}function mb(X,ta,Ua,kb){function Bb(yc,Bc,dd,Qc){var Kc=0,Wc=0;if(null==yc||(Kc=mc(yc,dd))!==(Wc=mc(Bc,dd))||0>nc(yc,Bc)^0<dd){do Qc.point(0===Kc||3===Kc?X:Ua,1<Kc?kb:ta);while((Kc=(Kc+dd+4)%4)!==Wc)}else Qc.point(Bc[0],Bc[1])}function mc(yc,
Bc){return 1E-6>kd(yc[0]-X)?0<Bc?0:3:1E-6>kd(yc[0]-Ua)?0<Bc?2:1:1E-6>kd(yc[1]-ta)?0<Bc?1:0:0<Bc?3:2}function wc(yc,Bc){return nc(yc.x,Bc.x)}function nc(yc,Bc){var dd=mc(yc,1),Qc=mc(Bc,1);return dd!==Qc?dd-Qc:0===dd?Bc[1]-yc[1]:1===dd?yc[0]-Bc[0]:2===dd?yc[1]-Bc[1]:Bc[0]-yc[0]}return function(yc){function Bc(je,Ce){X<=je&&je<=Ua&&ta<=Ce&&Ce<=kb&&Qc.point(je,Ce)}function dd(je,Ce){var lf=X<=je&&je<=Ua&&ta<=Ce&&Ce<=kb;fd&&hd.push([je,Ce]);if(Ie)ie=je,Td=Ce,Id=lf,Ie=!1,lf&&(Qc.lineStart(),Qc.point(je,
Ce));else if(lf&&Rd)Qc.point(je,Ce);else{var hf=[sd=Math.max(-1E9,Math.min(1E9,sd)),ed=Math.max(-1E9,Math.min(1E9,ed))],Kf=[je=Math.max(-1E9,Math.min(1E9,je)),Ce=Math.max(-1E9,Math.min(1E9,Ce))];hb(hf,Kf,X,ta,Ua,kb)?(Rd||(Qc.lineStart(),Qc.point(hf[0],hf[1])),Qc.point(Kf[0],Kf[1]),lf||Qc.lineEnd(),Re=!1):lf&&(Qc.lineStart(),Qc.point(je,Ce),Re=!1)}sd=je;ed=Ce;Rd=lf}var Qc=yc,Kc=v(),Wc,fd,hd,ie,Td,Id,sd,ed,Rd,Ie,Re,Ae={point:Bc,lineStart:function(){Ae.point=dd;fd&&fd.push(hd=[]);Ie=!0;Rd=!1;sd=ed=NaN},
lineEnd:function(){Wc&&(dd(ie,Td),Id&&Rd&&Kc.rejoin(),Wc.push(Kc.result()));Ae.point=Bc;Rd&&Qc.lineEnd()},polygonStart:function(){Qc=Kc;Wc=[];fd=[];Re=!0},polygonEnd:function(){for(var je,Ce=je=0,lf=fd.length;Ce<lf;++Ce){var hf=fd[Ce],Kf=1,dg=hf.length,Bd=hf[0],af=Bd[0];for(Bd=Bd[1];Kf<dg;++Kf){var lg=af;var mh=Bd;Bd=hf[Kf];af=Bd[0];Bd=Bd[1];mh<=kb?Bd>kb&&(af-lg)*(kb-mh)>(Bd-mh)*(X-lg)&&++je:Bd<=kb&&(af-lg)*(kb-mh)<(Bd-mh)*(X-lg)&&--je}}Ce=Re&&je;lf=(Wc=q.merge(Wc)).length;if(Ce||lf)yc.polygonStart(),
Ce&&(yc.lineStart(),Bb(null,null,1,yc),yc.lineEnd()),lf&&ka(Wc,wc,je,Bb,yc),yc.polygonEnd();Qc=yc;Wc=fd=hd=null}};return Ae}}function Ib(){wd.point=wd.lineEnd=Ma}function Xb(X,ta){X*=uc;ta*=uc;bd=X;cd=Lb(ta);jd=ld(ta);wd.point=za}function za(X,ta){X*=uc;ta*=uc;var Ua=Lb(ta);ta=ld(ta);var kb=kd(X-bd),Bb=ld(kb);kb=Lb(kb);kb*=ta;var mc=jd*Ua-cd*ta*Bb;Bb=cd*Ua+jd*ta*Bb;Fc.add(yd(oe(kb*kb+mc*mc),Bb));bd=X;cd=Ua;jd=ta}function wb(X){Fc=new q.Adder;Ea(X,wd);return+Fc}function Tb(X,ta){Hd[0]=X;Hd[1]=ta;return wb(ge)}
function rb(X,ta){return X&&qe.hasOwnProperty(X.type)?qe[X.type](X,ta):!1}function Sb(X,ta){for(var Ua,kb,Bb,mc=0,wc=X.length;mc<wc;mc++){kb=Tb(X[mc],ta);if(0===kb||0<mc&&(Bb=Tb(X[mc],X[mc-1]),0<Bb&&Ua<=Bb&&kb<=Bb&&(Ua+kb-Bb)*(1-Math.pow((Ua-kb)/Bb,2))<1E-12*Bb))return!0;Ua=kb}return!1}function ic(X,ta){return!!eb(X.map(rc),Tc(ta))}function rc(X){return X=X.map(Tc),X.pop(),X}function Tc(X){return[X[0]*uc,X[1]*uc]}function pc(X,ta,Ua){var kb=q.range(X,ta-1E-6,Ua).concat(ta);return function(Bb){return kb.map(function(mc){return[Bb,
mc]})}}function tb(X,ta,Ua){var kb=q.range(X,ta-1E-6,Ua).concat(ta);return function(Bb){return kb.map(function(mc){return[mc,Bb]})}}function bc(){function X(){return{type:"MultiLineString",coordinates:ta()}}function ta(){return q.range(Od(mc/Kc)*Kc,Bb,Kc).map(ie).concat(q.range(Od(Bc/Wc)*Wc,yc,Wc).map(Td)).concat(q.range(Od(kb/dd)*dd,Ua,dd).filter(function(sd){return 1E-6<kd(sd%Kc)}).map(fd)).concat(q.range(Od(nc/Qc)*Qc,wc,Qc).filter(function(sd){return 1E-6<kd(sd%Wc)}).map(hd))}var Ua,kb,Bb,mc,wc,
nc,yc,Bc,dd=10,Qc=dd,Kc=90,Wc=360,fd,hd,ie,Td,Id=2.5;X.lines=function(){return ta().map(function(sd){return{type:"LineString",coordinates:sd}})};X.outline=function(){return{type:"Polygon",coordinates:[ie(mc).concat(Td(yc).slice(1),ie(Bb).reverse().slice(1),Td(Bc).reverse().slice(1))]}};X.extent=function(sd){return arguments.length?X.extentMajor(sd).extentMinor(sd):X.extentMinor()};X.extentMajor=function(sd){if(!arguments.length)return[[mc,Bc],[Bb,yc]];mc=+sd[0][0];Bb=+sd[1][0];Bc=+sd[0][1];yc=+sd[1][1];
mc>Bb&&(sd=mc,mc=Bb,Bb=sd);Bc>yc&&(sd=Bc,Bc=yc,yc=sd);return X.precision(Id)};X.extentMinor=function(sd){if(!arguments.length)return[[kb,nc],[Ua,wc]];kb=+sd[0][0];Ua=+sd[1][0];nc=+sd[0][1];wc=+sd[1][1];kb>Ua&&(sd=kb,kb=Ua,Ua=sd);nc>wc&&(sd=nc,nc=wc,wc=sd);return X.precision(Id)};X.step=function(sd){return arguments.length?X.stepMajor(sd).stepMinor(sd):X.stepMinor()};X.stepMajor=function(sd){if(!arguments.length)return[Kc,Wc];Kc=+sd[0];Wc=+sd[1];return X};X.stepMinor=function(sd){if(!arguments.length)return[dd,
Qc];dd=+sd[0];Qc=+sd[1];return X};X.precision=function(sd){if(!arguments.length)return Id;Id=+sd;fd=pc(nc,wc,90);hd=tb(kb,Ua,Id);ie=pc(Bc,yc,90);Td=tb(mc,Bb,Id);return X};return X.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Mb(){yf.point=xc}function xc(X,ta){yf.point=Xc;xf=kf=X;Ff=cg=ta}function Xc(X,ta){ef.add(cg*X-kf*ta);kf=X;cg=ta}function ud(){Xc(xf,Ff)}function xd(X,ta){ca+=X;ia+=ta;++Aa}function ae(){Ha.point=Cb}function Cb(X,ta){Ha.point=
Rb;xd(Q=X,W=ta)}function Rb(X,ta){var Ua=X-Q,kb=ta-W;Ua=oe(Ua*Ua+kb*kb);Xa+=Ua*(Q+X)/2;Va+=Ua*(W+ta)/2;lb+=Ua;xd(Q=X,W=ta)}function Rc(){Ha.point=xd}function se(){Ha.point=Ne}function De(){Md(p,x)}function Ne(X,ta){Ha.point=Md;xd(p=Q=X,x=W=ta)}function Md(X,ta){var Ua=X-Q,kb=ta-W;Ua=oe(Ua*Ua+kb*kb);Xa+=Ua*(Q+X)/2;Va+=Ua*(W+ta)/2;lb+=Ua;Ua=W*X-Q*ta;pb+=Ua*(Q+X);Gb+=Ua*(W+ta);Wb+=3*Ua;xd(Q=X,W=ta)}function K(X){this._context=X}function fa(X,ta){$c.point=bb;Ub=zc=X;ec=Cc=ta}function bb(X,ta){zc-=X;Cc-=
ta;ob.add(oe(zc*zc+Cc*Cc));zc=X;Cc=ta}function La(){this._string=[]}function Fb(X){return"m0,"+X+"a"+X+","+X+" 0 1,1 0,"+-2*X+"a"+X+","+X+" 0 1,1 0,"+2*X+"z"}function Vb(X){return function(ta){var Ua=new Yb,kb;for(kb in X)Ua[kb]=X[kb];Ua.stream=ta;return Ua}}function Yb(){}function cc(X,ta,Ua){var kb=X.clipExtent&&X.clipExtent();X.scale(150).translate([0,0]);null!=kb&&X.clipExtent(null);Ea(Ua,X.stream(U));ta(U.result());null!=kb&&X.clipExtent(kb);return X}function va(X,ta,Ua){return cc(X,function(kb){var Bb=
ta[1][0]-ta[0][0],mc=ta[1][1]-ta[0][1],wc=Math.min(Bb/(kb[1][0]-kb[0][0]),mc/(kb[1][1]-kb[0][1]));Bb=+ta[0][0]+(Bb-wc*(kb[1][0]+kb[0][0]))/2;kb=+ta[0][1]+(mc-wc*(kb[1][1]+kb[0][1]))/2;X.scale(150*wc).translate([Bb,kb])},Ua)}function Ra(X,ta,Ua){return cc(X,function(kb){var Bb=+ta,mc=Bb/(kb[1][0]-kb[0][0]);Bb=(Bb-mc*(kb[1][0]+kb[0][0]))/2;kb=-mc*kb[0][1];X.scale(150*mc).translate([Bb,kb])},Ua)}function yb(X,ta,Ua){return cc(X,function(kb){var Bb=+ta,mc=Bb/(kb[1][1]-kb[0][1]),wc=-mc*kb[0][0];kb=(Bb-
mc*(kb[1][1]+kb[0][1]))/2;X.scale(150*mc).translate([wc,kb])},Ua)}function Nb(X){return Vb({point:function(ta,Ua){ta=X(ta,Ua);this.stream.point(ta[0],ta[1])}})}function gc(X,ta){function Ua(kb,Bb,mc,wc,nc,yc,Bc,dd,Qc,Kc,Wc,fd,hd,ie){var Td=Bc-kb,Id=dd-Bb,sd=Td*Td+Id*Id;if(sd>4*ta&&hd--){var ed=wc+Kc,Rd=nc+Wc,Ie=yc+fd,Re=oe(ed*ed+Rd*Rd+Ie*Ie),Ae=Pa(Ie/=Re),je=1E-6>kd(kd(Ie)-1)||1E-6>kd(mc-Qc)?(mc+Qc)/2:yd(Rd,ed),Ce=X(je,Ae);Ae=Ce[0];Ce=Ce[1];var lf=Ae-kb,hf=Ce-Bb,Kf=Id*lf-Td*hf;if(Kf*Kf/sd>ta||.3<
kd((Td*lf+Id*hf)/sd-.5)||wc*Kc+nc*Wc+yc*fd<qd)Ua(kb,Bb,mc,wc,nc,yc,Ae,Ce,je,ed/=Re,Rd/=Re,Ie,hd,ie),ie.point(Ae,Ce),Ua(Ae,Ce,je,ed,Rd,Ie,Bc,dd,Qc,Kc,Wc,fd,hd,ie)}}return function(kb){function Bb(Ae,je){Ae=X(Ae,je);kb.point(Ae[0],Ae[1])}function mc(){Id=NaN;Re.point=wc;kb.lineStart()}function wc(Ae,je){var Ce=Ga([Ae,je]);je=X(Ae,je);Ua(Id,sd,Td,ed,Rd,Ie,Id=je[0],sd=je[1],Td=Ae,ed=Ce[0],Rd=Ce[1],Ie=Ce[2],16,kb);kb.point(Id,sd)}function nc(){Re.point=Bb;kb.lineEnd()}function yc(){mc();Re.point=Bc;Re.lineEnd=
dd}function Bc(Ae,je){wc(Qc=Ae,je);Kc=Id;Wc=sd;fd=ed;hd=Rd;ie=Ie;Re.point=wc}function dd(){Ua(Id,sd,Td,ed,Rd,Ie,Kc,Wc,Qc,fd,hd,ie,16,kb);Re.lineEnd=nc;nc()}var Qc,Kc,Wc,fd,hd,ie,Td,Id,sd,ed,Rd,Ie,Re={point:Bb,lineStart:mc,lineEnd:nc,polygonStart:function(){kb.polygonStart();Re.lineStart=yc},polygonEnd:function(){kb.polygonEnd();Re.lineStart=mc}};return Re}}function tc(X){return Vb({point:function(ta,Ua){ta=X(ta,Ua);return this.stream.point(ta[0],ta[1])}})}function lc(X,ta,Ua,kb,Bb){function mc(wc,
nc){wc*=kb;nc*=Bb;return[ta+X*wc,Ua-X*nc]}mc.invert=function(wc,nc){return[(wc-ta)/X*kb,(Ua-nc)/X*Bb]};return mc}function xb(X,ta,Ua,kb,Bb,mc){function wc(fd,hd){fd*=kb;hd*=Bb;return[yc*fd-Bc*hd+ta,Ua-Bc*fd-yc*hd]}if(!mc)return lc(X,ta,Ua,kb,Bb);var nc=ld(mc);mc=Lb(mc);var yc=nc*X,Bc=mc*X,dd=nc/X,Qc=mc/X,Kc=(mc*Ua-nc*ta)/X,Wc=(mc*ta+nc*Ua)/X;wc.invert=function(fd,hd){return[kb*(dd*fd-Qc*hd+Kc),Bb*(Wc-Qc*fd-dd*hd)]};return wc}function Qb(X){return Gc(function(){return X})()}function Gc(X){function ta(Bd){return hf(Bd[0]*
uc,Bd[1]*uc)}function Ua(Bd){return(Bd=hf.invert(Bd[0],Bd[1]))&&[Bd[0]*qc,Bd[1]*qc]}function kb(){var Bd=xb(wc,0,0,ie,Td,hd).apply(null,mc(Bc,dd));Bd=xb(wc,nc-Bd[0],yc-Bd[1],ie,Td,hd);fd=V(Qc,Kc,Wc);lf=ha(mc,Bd);hf=ha(fd,lf);Bd=lf;Ce=+je?gc(Bd,je):Nb(Bd);return Bb()}function Bb(){Kf=dg=null;return ta}var mc,wc=150,nc=480,yc=250,Bc=0,dd=0,Qc=0,Kc=0,Wc=0,fd,hd=0,ie=1,Td=1,Id=null,sd=Oc,ed=null,Rd,Ie,Re,Ae=he,je=.5,Ce,lf,hf,Kf,dg;ta.stream=function(Bd){return Kf&&dg===Bd?Kf:Kf=Mc(tc(fd)(sd(Ce(Ae(dg=
Bd)))))};ta.preclip=function(Bd){return arguments.length?(sd=Bd,Id=void 0,Bb()):sd};ta.postclip=function(Bd){return arguments.length?(Ae=Bd,ed=Rd=Ie=Re=null,Bb()):Ae};ta.clipAngle=function(Bd){return arguments.length?(sd=+Bd?ra(Id=Bd*uc):(Id=null,Oc),Bb()):Id*qc};ta.clipExtent=function(Bd){return arguments.length?(Ae=null==Bd?(ed=Rd=Ie=Re=null,he):mb(ed=+Bd[0][0],Rd=+Bd[0][1],Ie=+Bd[1][0],Re=+Bd[1][1]),Bb()):null==ed?null:[[ed,Rd],[Ie,Re]]};ta.scale=function(Bd){return arguments.length?(wc=+Bd,kb()):
wc};ta.translate=function(Bd){return arguments.length?(nc=+Bd[0],yc=+Bd[1],kb()):[nc,yc]};ta.center=function(Bd){return arguments.length?(Bc=Bd[0]%360*uc,dd=Bd[1]%360*uc,kb()):[Bc*qc,dd*qc]};ta.rotate=function(Bd){return arguments.length?(Qc=Bd[0]%360*uc,Kc=Bd[1]%360*uc,Wc=2<Bd.length?Bd[2]%360*uc:0,kb()):[Qc*qc,Kc*qc,Wc*qc]};ta.angle=function(Bd){return arguments.length?(hd=Bd%360*uc,kb()):hd*qc};ta.reflectX=function(Bd){return arguments.length?(ie=Bd?-1:1,kb()):0>ie};ta.reflectY=function(Bd){return arguments.length?
(Td=Bd?-1:1,kb()):0>Td};ta.precision=function(Bd){if(arguments.length){var af=lf;var lg=je=Bd*Bd;af=(Ce=+lg?gc(af,lg):Nb(af),Bb())}else af=oe(je);return af};ta.fitExtent=function(Bd,af){return va(ta,Bd,af)};ta.fitSize=function(Bd,af){return va(ta,[[0,0],Bd],af)};ta.fitWidth=function(Bd,af){return Ra(ta,Bd,af)};ta.fitHeight=function(Bd,af){return yb(ta,Bd,af)};return function(){mc=X.apply(this,arguments);ta.invert=mc.invert&&Ua;return kb()}}function $b(X){var ta=0,Ua=Ta/3,kb=Gc(X);X=kb(ta,Ua);X.parallels=
function(Bb){return arguments.length?kb(ta=Bb[0]*uc,Ua=Bb[1]*uc):[ta*qc,Ua*qc]};return X}function Ac(X){function ta(kb,Bb){return[kb*Ua,Lb(Bb)/Ua]}var Ua=ld(X);ta.invert=function(kb,Bb){return[kb/Ua,Pa(Bb*Ua)]};return ta}function Jc(X,ta){function Ua(nc,yc){yc=oe(mc-2*Bb*Lb(yc))/Bb;return[yc*Lb(nc*=Bb),wc-yc*ld(nc)]}var kb=Lb(X),Bb=(kb+Lb(ta))/2;if(1E-6>kd(Bb))return Ac(X);var mc=1+kb*(2*Bb-kb),wc=oe(mc)/Bb;Ua.invert=function(nc,yc){yc=wc-yc;var Bc=yd(nc,kd(yc))*Ke(yc);0>yc*Bb&&(Bc-=Ta*Ke(nc)*Ke(yc));
return[Bc/Bb,Pa((mc-(nc*nc+yc*yc)*Bb*Bb)/(2*Bb))]};return Ua}function Hc(){return $b(Jc).scale(155.424).center([0,33.6442])}function ad(){return Hc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function md(X){var ta=X.length;return{point:function(Ua,kb){for(var Bb=-1;++Bb<ta;)X[Bb].point(Ua,kb)},sphere:function(){for(var Ua=-1;++Ua<ta;)X[Ua].sphere()},lineStart:function(){for(var Ua=-1;++Ua<ta;)X[Ua].lineStart()},lineEnd:function(){for(var Ua=-1;++Ua<
ta;)X[Ua].lineEnd()},polygonStart:function(){for(var Ua=-1;++Ua<ta;)X[Ua].polygonStart()},polygonEnd:function(){for(var Ua=-1;++Ua<ta;)X[Ua].polygonEnd()}}}function od(X){return function(ta,Ua){var kb=ld(ta),Bb=ld(Ua);kb=X(kb*Bb);return Infinity===kb?[2,0]:[kb*Bb*Lb(ta),kb*Lb(Ua)]}}function rd(X){return function(ta,Ua){var kb=oe(ta*ta+Ua*Ua),Bb=X(kb),mc=Lb(Bb);Bb=ld(Bb);return[yd(ta*mc,kb*Bb),Pa(kb&&Ua*mc/kb)]}}function Vd(X,ta){return[X,Wd(re((Pb+ta)/2))]}function Zd(X){function ta(){var Qc=Ta*Bb(),
Kc=Ua(k(Ua.rotate()).invert([0,0]));return wc(null==nc?[[Kc[0]-Qc,Kc[1]-Qc],[Kc[0]+Qc,Kc[1]+Qc]]:X===Vd?[[Math.max(Kc[0]-Qc,nc),yc],[Math.min(Kc[0]+Qc,Bc),dd]]:[[nc,Math.max(Kc[1]-Qc,yc)],[Bc,Math.min(Kc[1]+Qc,dd)]])}var Ua=Qb(X),kb=Ua.center,Bb=Ua.scale,mc=Ua.translate,wc=Ua.clipExtent,nc=null,yc,Bc,dd;Ua.scale=function(Qc){return arguments.length?(Bb(Qc),ta()):Bb()};Ua.translate=function(Qc){return arguments.length?(mc(Qc),ta()):mc()};Ua.center=function(Qc){return arguments.length?(kb(Qc),ta()):
kb()};Ua.clipExtent=function(Qc){return arguments.length?(null==Qc?nc=yc=Bc=dd=null:(nc=+Qc[0][0],yc=+Qc[0][1],Bc=+Qc[1][0],dd=+Qc[1][1]),ta()):null==nc?null:[[nc,yc],[Bc,dd]]};return ta()}function ze(X,ta){function Ua(wc,nc){0<mc?nc<-Pb+1E-6&&(nc=-Pb+1E-6):nc>Pb-1E-6&&(nc=Pb-1E-6);nc=mc/Jd(re((Pb+nc)/2),Bb);return[nc*Lb(Bb*wc),mc-nc*ld(Bb*wc)]}var kb=ld(X),Bb=X===ta?Lb(X):Wd(kb/ld(ta))/Wd(re((Pb+ta)/2)/re((Pb+X)/2)),mc=kb*Jd(re((Pb+X)/2),Bb)/Bb;if(!Bb)return Vd;Ua.invert=function(wc,nc){nc=mc-nc;
var yc=Ke(Bb)*oe(wc*wc+nc*nc),Bc=yd(wc,kd(nc))*Ke(nc);0>nc*Bb&&(Bc-=Ta*Ke(wc)*Ke(nc));return[Bc/Bb,2*pd(Jd(mc/yc,1/Bb))-Pb]};return Ua}function te(X,ta){return[X,ta]}function ue(X,ta){function Ua(wc,nc){nc=mc-nc;wc*=Bb;return[nc*Lb(wc),mc-nc*ld(wc)]}var kb=ld(X),Bb=X===ta?Lb(X):(kb-ld(ta))/(ta-X),mc=kb/Bb+X;if(1E-6>kd(Bb))return te;Ua.invert=function(wc,nc){nc=mc-nc;var yc=yd(wc,kd(nc))*Ke(nc);0>nc*Bb&&(yc-=Ta*Ke(wc)*Ke(nc));return[yc/Bb,mc-Ke(Bb)*oe(wc*wc+nc*nc)]};return Ua}function bf(X,ta){ta=
Pa(we*Lb(ta));var Ua=ta*ta,kb=Ua*Ua*Ua;return[X*ld(ta)/(we*(1.340264+3*-.081106*Ua+kb*(7*8.93E-4+.034164*Ua))),ta*(1.340264+-.081106*Ua+kb*(8.93E-4+.003796*Ua))]}function vd(X,ta){var Ua=ld(ta),kb=ld(X)*Ua;return[Ua*Lb(X)/kb,Lb(ta)/kb]}function P(X,ta){var Ua=ta*ta,kb=Ua*Ua;return[X*(.8707-.131979*Ua+kb*(-.013791+kb*(.003971*Ua-.001529*kb))),ta*(1.007226+Ua*(.015085+kb*(-.044475+.028874*Ua-.005916*kb)))]}function na(X,ta){return[ld(ta)*Lb(X),Lb(ta)]}function Da(X,ta){var Ua=ld(ta),kb=1+ld(X)*Ua;return[Ua*
Lb(X)/kb,Lb(ta)/kb]}function gb(X,ta){return[Wd(re((Pb+ta)/2)),-X]}var Ta=Math.PI,Pb=Ta/2,kc=Ta/4,oc=2*Ta,qc=180/Ta,uc=Ta/180,kd=Math.abs,pd=Math.atan,yd=Math.atan2,ld=Math.cos,Od=Math.ceil,de=Math.exp,jc=Math.hypot,Wd=Math.log,Jd=Math.pow,Lb=Math.sin,Ke=Math.sign||function(X){return 0<X?1:0>X?-1:0},oe=Math.sqrt,re=Math.tan,Ye={Feature:function(X,ta){cb(X.geometry,ta)},FeatureCollection:function(X,ta){X=X.features;for(var Ua=-1,kb=X.length;++Ua<kb;)cb(X[Ua].geometry,ta)}},Oe={Sphere:function(X,ta){ta.sphere()},
Point:function(X,ta){X=X.coordinates;ta.point(X[0],X[1],X[2])},MultiPoint:function(X,ta){for(var Ua=X.coordinates,kb=-1,Bb=Ua.length;++kb<Bb;)X=Ua[kb],ta.point(X[0],X[1],X[2])},LineString:function(X,ta){Eb(X.coordinates,ta,0)},MultiLineString:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)Eb(X[Ua],ta,0)},Polygon:function(X,ta){qb(X.coordinates,ta)},MultiPolygon:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)qb(X[Ua],ta)},GeometryCollection:function(X,ta){X=X.geometries;
for(var Ua=-1,kb=X.length;++Ua<kb;)cb(X[Ua],ta)}},ff=new q.Adder,He=new q.Adder,be,fc,Pd,dc,Yc,ne={point:Ma,lineStart:Ma,lineEnd:Ma,polygonStart:function(){ff=new q.Adder;ne.lineStart=$a;ne.lineEnd=db},polygonEnd:function(){var X=+ff;He.add(0>X?oc+X:X);this.lineStart=this.lineEnd=this.point=Ma},sphere:function(){He.add(oc)}},ee,Pc,fe,Sd,Ld,Qd,Ed,ke,Gd,pe,Le,cf={point:Oa,lineStart:ja,lineEnd:wa,polygonStart:function(){cf.point=sa;cf.lineStart=qa;cf.lineEnd=Fa;Gd=new q.Adder;ne.polygonStart()},polygonEnd:function(){ne.polygonEnd();
cf.point=Oa;cf.lineStart=ja;cf.lineEnd=wa;0>ff?(ee=-(fe=180),Pc=-(Sd=90)):1E-6<Gd?Sd=90:-1E-6>Gd&&(Pc=-90);Le[0]=ee;Le[1]=fe},sphere:function(){ee=-(fe=180);Pc=-(Sd=90)}},qf,gd,rf,Fe,Pe,Ee,$e,Qe,df,Be,D,R,Na,Ab,zb,Jb,ac={sphere:Ma,point:A,lineStart:I,lineEnd:H,polygonStart:function(){ac.lineStart=O;ac.lineEnd=ma},polygonEnd:function(){ac.lineStart=I;ac.lineEnd=H}};Y.invert=Y;var Oc=Ca(function(){return!0},function(X){var ta=NaN,Ua=NaN,kb=NaN,Bb;return{lineStart:function(){X.lineStart();Bb=1},point:function(mc,
wc){var nc=0<mc?Ta:-Ta,yc=kd(mc-ta);if(1E-6>kd(yc-Ta))X.point(ta,Ua=0<(Ua+wc)/2?Pb:-Pb),X.point(kb,Ua),X.lineEnd(),X.lineStart(),X.point(nc,Ua),X.point(mc,Ua),Bb=0;else if(kb!==nc&&yc>=Ta){1E-6>kd(ta-kb)&&(ta-=1E-6*kb);1E-6>kd(mc-nc)&&(mc-=1E-6*nc);yc=ta;var Bc=Ua,dd=mc,Qc,Kc,Wc=Lb(yc-dd);Ua=1E-6<kd(Wc)?pd((Lb(Bc)*(Kc=ld(wc))*Lb(dd)-Lb(wc)*(Qc=ld(Bc))*Lb(yc))/(Qc*Kc*Wc)):(Bc+wc)/2;X.point(kb,Ua);X.lineEnd();X.lineStart();X.point(nc,Ua);Bb=0}X.point(ta=mc,Ua=wc);kb=nc},lineEnd:function(){X.lineEnd();
ta=Ua=NaN},clean:function(){return 2-Bb}}},function(X,ta,Ua,kb){null==X?(Ua*=Pb,kb.point(-Ta,Ua),kb.point(0,Ua),kb.point(Ta,Ua),kb.point(Ta,0),kb.point(Ta,-Ua),kb.point(0,-Ua),kb.point(-Ta,-Ua),kb.point(-Ta,0),kb.point(-Ta,Ua)):1E-6<kd(X[0]-ta[0])?(X=X[0]<ta[0]?Ta:-Ta,Ua=Ua*X/2,kb.point(-X,Ua),kb.point(0,Ua),kb.point(X,Ua)):kb.point(ta[0],ta[1])},[-Ta,-Pb]),Fc,bd,cd,jd,wd={sphere:Ma,point:Ma,lineStart:function(){wd.point=Xb;wd.lineEnd=Ib},lineEnd:Ma,polygonStart:Ma,polygonEnd:Ma},Hd=[null,null],ge=
{type:"LineString",coordinates:Hd},me={Feature:function(X,ta){return rb(X.geometry,ta)},FeatureCollection:function(X,ta){X=X.features;for(var Ua=-1,kb=X.length;++Ua<kb;)if(rb(X[Ua].geometry,ta))return!0;return!1}},qe={Sphere:function(){return!0},Point:function(X,ta){return 0===Tb(X.coordinates,ta)},MultiPoint:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(0===Tb(X[Ua],ta))return!0;return!1},LineString:function(X,ta){return Sb(X.coordinates,ta)},MultiLineString:function(X,ta){X=
X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(Sb(X[Ua],ta))return!0;return!1},Polygon:function(X,ta){return ic(X.coordinates,ta)},MultiPolygon:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(ic(X[Ua],ta))return!0;return!1},GeometryCollection:function(X,ta){X=X.geometries;for(var Ua=-1,kb=X.length;++Ua<kb;)if(rb(X[Ua],ta))return!0;return!1}},he=function(X){return X},Fd=new q.Adder,ef=new q.Adder,xf,Ff,kf,cg,yf={point:Ma,lineStart:Ma,lineEnd:Ma,polygonStart:function(){yf.lineStart=
Mb;yf.lineEnd=ud},polygonEnd:function(){yf.lineStart=yf.lineEnd=yf.point=Ma;Fd.add(kd(ef));ef=new q.Adder},result:function(){var X=Fd/2;Fd=new q.Adder;return X}},Xf=Infinity,B=Xf,C=-Xf,M=C,U={point:function(X,ta){X<Xf&&(Xf=X);X>C&&(C=X);ta<B&&(B=ta);ta>M&&(M=ta)},lineStart:Ma,lineEnd:Ma,polygonStart:Ma,polygonEnd:Ma,result:function(){var X=[[Xf,B],[C,M]];C=M=-(B=Xf=Infinity);return X}},ca=0,ia=0,Aa=0,Xa=0,Va=0,lb=0,pb=0,Gb=0,Wb=0,p,x,Q,W,Ha={point:xd,lineStart:ae,lineEnd:Rc,polygonStart:function(){Ha.lineStart=
se;Ha.lineEnd=De},polygonEnd:function(){Ha.point=xd;Ha.lineStart=ae;Ha.lineEnd=Rc},result:function(){var X=Wb?[pb/Wb,Gb/Wb]:lb?[Xa/lb,Va/lb]:Aa?[ca/Aa,ia/Aa]:[NaN,NaN];ca=ia=Aa=Xa=Va=lb=pb=Gb=Wb=0;return X}};K.prototype={_radius:4.5,pointRadius:function(X){return this._radius=X,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(X,ta){switch(this._point){case 0:this._context.moveTo(X,
ta);this._point=1;break;case 1:this._context.lineTo(X,ta);break;default:this._context.moveTo(X+this._radius,ta),this._context.arc(X,ta,this._radius,0,oc)}},result:Ma};var ob=new q.Adder,Db,Ub,ec,zc,Cc,$c={point:Ma,lineStart:function(){$c.point=fa},lineEnd:function(){Db&&bb(Ub,ec);$c.point=Ma},polygonStart:function(){Db=!0},polygonEnd:function(){Db=null},result:function(){var X=+ob;ob=new q.Adder;return X}};La.prototype={_radius:4.5,_circle:Fb(4.5),pointRadius:function(X){(X=+X)!==this._radius&&(this._radius=
X,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(X,ta){switch(this._point){case 0:this._string.push("M",X,",",ta);this._point=1;break;case 1:this._string.push("L",X,",",ta);break;default:null==this._circle&&(this._circle=Fb(this._radius)),this._string.push("M",X,",",ta,this._circle)}},result:function(){if(this._string.length){var X=
this._string.join("");this._string=[];return X}return null}};Yb.prototype={constructor:Yb,point:function(X,ta){this.stream.point(X,ta)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qd=ld(30*uc),Mc=Vb({point:function(X,ta){this.stream.point(X*uc,ta*uc)}}),Ad=od(function(X){return oe(2/(1+X))});Ad.invert=rd(function(X){return 2*
Pa(X/2)});var Cd=od(function(X){return(X=S(X))&&X/Lb(X)});Cd.invert=rd(function(X){return X});Vd.invert=function(X,ta){return[X,2*pd(de(ta))-Pb]};te.invert=te;var we=oe(3)/2;bf.invert=function(X,ta){for(var Ua=ta,kb=Ua*Ua,Bb=kb*kb*kb,mc=0,wc;12>mc&&!(wc=Ua*(1.340264+-.081106*kb+Bb*(8.93E-4+.003796*kb))-ta,kb=1.340264+3*-.081106*kb+Bb*(7*8.93E-4+.034164*kb),Ua-=wc/=kb,kb=Ua*Ua,Bb=kb*kb*kb,1E-12>kd(wc));++mc);return[we*X*(1.340264+3*-.081106*kb+Bb*(7*8.93E-4+.034164*kb))/ld(Ua),Pa(Lb(Ua)/we)]};vd.invert=
rd(pd);P.invert=function(X,ta){var Ua=ta,kb=25;do{var Bb=Ua*Ua;var mc=Bb*Bb;Ua-=mc=(Ua*(1.007226+Bb*(.015085+mc*(-.044475+.028874*Bb-.005916*mc)))-ta)/(1.007226+Bb*(.045255+mc*(-.311325+.259866*Bb-.005916*11*mc)))}while(1E-6<kd(mc)&&0<--kb);return[X/(.8707+(Bb=Ua*Ua)*(-.131979+Bb*(-.013791+Bb*Bb*Bb*(.003971-.001529*Bb)))),Ua]};na.invert=rd(Pa);Da.invert=rd(function(X){return 2*pd(X)});gb.invert=function(X,ta){return[-ta,2*pd(de(X))-Pb]};n.geoAlbers=ad;n.geoAlbersUsa=function(){function X(Kc){var Wc=
Kc[0];Kc=Kc[1];return dd=null,(mc.point(Wc,Kc),dd)||(nc.point(Wc,Kc),dd)||(Bc.point(Wc,Kc),dd)}function ta(){Ua=kb=null;return X}var Ua,kb,Bb=ad(),mc,wc=Hc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),nc,yc=Hc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Bc,dd,Qc={point:function(Kc,Wc){dd=[Kc,Wc]}};X.invert=function(Kc){var Wc=Bb.scale(),fd=Bb.translate(),hd=(Kc[0]-fd[0])/Wc;Wc=(Kc[1]-fd[1])/Wc;return(.12<=Wc&&.234>Wc&&-.425<=hd&&-.214>hd?wc:.166<=Wc&&.234>Wc&&-.214<=hd&&-.115>
hd?yc:Bb).invert(Kc)};X.stream=function(Kc){return Ua&&kb===Kc?Ua:Ua=md([Bb.stream(kb=Kc),wc.stream(Kc),yc.stream(Kc)])};X.precision=function(Kc){if(!arguments.length)return Bb.precision();Bb.precision(Kc);wc.precision(Kc);yc.precision(Kc);return ta()};X.scale=function(Kc){if(!arguments.length)return Bb.scale();Bb.scale(Kc);wc.scale(.35*Kc);yc.scale(Kc);return X.translate(Bb.translate())};X.translate=function(Kc){if(!arguments.length)return Bb.translate();var Wc=Bb.scale(),fd=+Kc[0],hd=+Kc[1];mc=
Bb.translate(Kc).clipExtent([[fd-.455*Wc,hd-.238*Wc],[fd+.455*Wc,hd+.238*Wc]]).stream(Qc);nc=wc.translate([fd-.307*Wc,hd+.201*Wc]).clipExtent([[fd-.425*Wc+1E-6,hd+.12*Wc+1E-6],[fd-.214*Wc-1E-6,hd+.234*Wc-1E-6]]).stream(Qc);Bc=yc.translate([fd-.205*Wc,hd+.212*Wc]).clipExtent([[fd-.214*Wc+1E-6,hd+.166*Wc+1E-6],[fd-.115*Wc-1E-6,hd+.234*Wc-1E-6]]).stream(Qc);return ta()};X.fitExtent=function(Kc,Wc){return va(X,Kc,Wc)};X.fitSize=function(Kc,Wc){return va(X,[[0,0],Kc],Wc)};X.fitWidth=function(Kc,Wc){return Ra(X,
Kc,Wc)};X.fitHeight=function(Kc,Wc){return yb(X,Kc,Wc)};return X.scale(1070)};n.geoArea=function(X){He=new q.Adder;Ea(X,ne);return 2*He};n.geoAzimuthalEqualArea=function(){return Qb(Ad).scale(124.75).clipAngle(179.999)};n.geoAzimuthalEqualAreaRaw=Ad;n.geoAzimuthalEquidistant=function(){return Qb(Cd).scale(79.4188).clipAngle(179.999)};n.geoAzimuthalEquidistantRaw=Cd;n.geoBounds=function(X){var ta,Ua,kb;Sd=fe=-(ee=Pc=Infinity);pe=[];Ea(X,cf);if(ta=pe.length){pe.sort(Za);X=1;var Bb=pe[0];for(Ua=[Bb];X<
ta;++X){var mc=pe[X];jb(Bb,mc[0])||jb(Bb,mc[1])?(Ba(Bb[0],mc[1])>Ba(Bb[0],Bb[1])&&(Bb[1]=mc[1]),Ba(mc[0],Bb[1])>Ba(Bb[0],Bb[1])&&(Bb[0]=mc[0])):Ua.push(Bb=mc)}var wc=-Infinity;ta=Ua.length-1;X=0;for(Bb=Ua[ta];X<=ta;Bb=mc,++X)mc=Ua[X],(kb=Ba(Bb[1],mc[0]))>wc&&(wc=kb,ee=mc[0],fe=Bb[1])}pe=Le=null;return Infinity===ee||Infinity===Pc?[[NaN,NaN],[NaN,NaN]]:[[ee,Pc],[fe,Sd]]};n.geoCentroid=function(X){qf=gd=rf=Fe=Pe=Ee=$e=Qe=0;df=new q.Adder;Be=new q.Adder;D=new q.Adder;Ea(X,ac);X=+df;var ta=+Be,Ua=+D,
kb=jc(X,ta,Ua);return 1E-12>kb&&(X=Ee,ta=$e,Ua=Qe,1E-6>gd&&(X=rf,ta=Fe,Ua=Pe),kb=jc(X,ta,Ua),1E-12>kb)?[NaN,NaN]:[yd(ta,X)*qc,Pa(Ua/kb)*qc]};n.geoCircle=function(){function X(){var nc=ta.apply(this,arguments),yc=Ua.apply(this,arguments)*uc,Bc=kb.apply(this,arguments)*uc;Bb=[];mc=V(-nc[0]*uc,-nc[1]*uc,0).invert;m(wc,yc,Bc,1);nc={type:"Polygon",coordinates:[Bb]};Bb=mc=null;return nc}var ta=E([0,0]),Ua=E(90),kb=E(6),Bb,mc,wc={point:function(nc,yc){Bb.push(nc=mc(nc,yc));nc[0]*=qc;nc[1]*=qc}};X.center=
function(nc){return arguments.length?(ta="function"===typeof nc?nc:E([+nc[0],+nc[1]]),X):ta};X.radius=function(nc){return arguments.length?(Ua="function"===typeof nc?nc:E(+nc),X):Ua};X.precision=function(nc){return arguments.length?(kb="function"===typeof nc?nc:E(+nc),X):kb};return X};n.geoClipAntimeridian=Oc;n.geoClipCircle=ra;n.geoClipExtent=function(){var X=0,ta=0,Ua=960,kb=500,Bb,mc,wc;return wc={stream:function(nc){return Bb&&mc===nc?Bb:Bb=mb(X,ta,Ua,kb)(mc=nc)},extent:function(nc){return arguments.length?
(X=+nc[0][0],ta=+nc[0][1],Ua=+nc[1][0],kb=+nc[1][1],Bb=mc=null,wc):[[X,ta],[Ua,kb]]}}};n.geoClipRectangle=mb;n.geoConicConformal=function(){return $b(ze).scale(109.5).parallels([30,30])};n.geoConicConformalRaw=ze;n.geoConicEqualArea=Hc;n.geoConicEqualAreaRaw=Jc;n.geoConicEquidistant=function(){return $b(ue).scale(131.154).center([0,13.9389])};n.geoConicEquidistantRaw=ue;n.geoContains=function(X,ta){return(X&&me.hasOwnProperty(X.type)?me[X.type]:rb)(X,ta)};n.geoDistance=Tb;n.geoEqualEarth=function(){return Qb(bf).scale(177.158)};
n.geoEqualEarthRaw=bf;n.geoEquirectangular=function(){return Qb(te).scale(152.63)};n.geoEquirectangularRaw=te;n.geoGnomonic=function(){return Qb(vd).scale(144.049).clipAngle(60)};n.geoGnomonicRaw=vd;n.geoGraticule=bc;n.geoGraticule10=function(){return bc()()};n.geoIdentity=function(){function X(){fd=Ua*mc;hd=Ua*wc;Id=sd=null;return ta}function ta(ed){var Rd=ed[0]*fd;ed=ed[1]*hd;if(nc){var Ie=ed*yc-Rd*Bc;Rd=Rd*yc+ed*Bc;ed=Ie}return[Rd+kb,ed+Bb]}var Ua=1,kb=0,Bb=0,mc=1,wc=1,nc=0,yc,Bc,dd=null,Qc,Kc,
Wc,fd=1,hd=1,ie=Vb({point:function(ed,Rd){ed=ta([ed,Rd]);this.stream.point(ed[0],ed[1])}}),Td=he,Id,sd;ta.invert=function(ed){var Rd=ed[0]-kb;ed=ed[1]-Bb;if(nc){var Ie=ed*yc+Rd*Bc;Rd=Rd*yc-ed*Bc;ed=Ie}return[Rd/fd,ed/hd]};ta.stream=function(ed){return Id&&sd===ed?Id:Id=ie(Td(sd=ed))};ta.postclip=function(ed){return arguments.length?(Td=ed,dd=Qc=Kc=Wc=null,X()):Td};ta.clipExtent=function(ed){return arguments.length?(Td=null==ed?(dd=Qc=Kc=Wc=null,he):mb(dd=+ed[0][0],Qc=+ed[0][1],Kc=+ed[1][0],Wc=+ed[1][1]),
X()):null==dd?null:[[dd,Qc],[Kc,Wc]]};ta.scale=function(ed){return arguments.length?(Ua=+ed,X()):Ua};ta.translate=function(ed){return arguments.length?(kb=+ed[0],Bb=+ed[1],X()):[kb,Bb]};ta.angle=function(ed){return arguments.length?(nc=ed%360*uc,Bc=Lb(nc),yc=ld(nc),X()):nc*qc};ta.reflectX=function(ed){return arguments.length?(mc=ed?-1:1,X()):0>mc};ta.reflectY=function(ed){return arguments.length?(wc=ed?-1:1,X()):0>wc};ta.fitExtent=function(ed,Rd){return va(ta,ed,Rd)};ta.fitSize=function(ed,Rd){return va(ta,
[[0,0],ed],Rd)};ta.fitWidth=function(ed,Rd){return Ra(ta,ed,Rd)};ta.fitHeight=function(ed,Rd){return yb(ta,ed,Rd)};return ta};n.geoInterpolate=function(X,ta){var Ua=X[0]*uc,kb=X[1]*uc;X=ta[0]*uc;ta=ta[1]*uc;var Bb=ld(kb),mc=Lb(kb),wc=ld(ta),nc=Lb(ta),yc=Bb*ld(Ua),Bc=Bb*Lb(Ua),dd=wc*ld(X),Qc=wc*Lb(X),Kc=2*Pa(oe(Hb(ta-kb)+Bb*wc*Hb(X-Ua))),Wc=Lb(Kc);X=Kc?function(fd){var hd=Lb(fd*=Kc)/Wc,ie=Lb(Kc-fd)/Wc;fd=ie*yc+hd*dd;var Td=ie*Bc+hd*Qc;hd=ie*mc+hd*nc;return[yd(Td,fd)*qc,yd(hd,oe(fd*fd+Td*Td))*qc]}:
function(){return[Ua*qc,kb*qc]};X.distance=Kc;return X};n.geoLength=wb;n.geoMercator=function(){return Zd(Vd).scale(961/oc)};n.geoMercatorRaw=Vd;n.geoNaturalEarth1=function(){return Qb(P).scale(175.295)};n.geoNaturalEarth1Raw=P;n.geoOrthographic=function(){return Qb(na).scale(249.5).clipAngle(90.000001)};n.geoOrthographicRaw=na;n.geoPath=function(X,ta){function Ua(wc){wc&&("function"===typeof kb&&mc.pointRadius(+kb.apply(this,arguments)),Ea(wc,Bb(mc)));return mc.result()}var kb=4.5,Bb,mc;Ua.area=
function(wc){Ea(wc,Bb(yf));return yf.result()};Ua.measure=function(wc){Ea(wc,Bb($c));return $c.result()};Ua.bounds=function(wc){Ea(wc,Bb(U));return U.result()};Ua.centroid=function(wc){Ea(wc,Bb(Ha));return Ha.result()};Ua.projection=function(wc){return arguments.length?(Bb=null==wc?(X=null,he):(X=wc).stream,Ua):X};Ua.context=function(wc){if(!arguments.length)return ta;mc=null==wc?(ta=null,new La):new K(ta=wc);"function"!==typeof kb&&mc.pointRadius(kb);return Ua};Ua.pointRadius=function(wc){if(!arguments.length)return kb;
kb="function"===typeof wc?wc:(mc.pointRadius(+wc),+wc);return Ua};return Ua.projection(X).context(ta)};n.geoProjection=Qb;n.geoProjectionMutator=Gc;n.geoRotation=k;n.geoStereographic=function(){return Qb(Da).scale(250).clipAngle(142)};n.geoStereographicRaw=Da;n.geoStream=Ea;n.geoTransform=function(X){return{stream:Vb(X)}};n.geoTransverseMercator=function(){var X=Zd(gb),ta=X.center,Ua=X.rotate;X.center=function(kb){return arguments.length?ta([-kb[1],kb[0]]):(kb=ta(),[kb[1],-kb[0]])};X.rotate=function(kb){return arguments.length?
Ua([kb[0],kb[1],2<kb.length?kb[2]+90:90]):(kb=Ua(),[kb[0],kb[1],kb[2]-90])};return Ua([0,0,90]).scale(159.155)};n.geoTransverseMercatorRaw=gb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[26]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(25),sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],q):q(n.d3=n.d3||{},n.d3,n.d3)})(this,function(n,q,S){function Pa(B){return 1<B?Yc:-1>B?-Yc:Math.asin(B)}function Hb(B){return 1<B?0:-1>B?dc:Math.acos(B)}function Ma(B){return 0<B?Math.sqrt(B):0}function cb(B){return(Ke(B)-Ke(-B))/2}function Eb(B){return(Ke(B)+Ke(-B))/2}function qb(B){function C(ca,ia){var Aa=
Lb(ca),Xa=Lb(ia);ia=fc(ia);Aa*=Xa;Aa=-((1-Aa?re((1+Aa)/2)/(1-Aa):-.5)+U/(1+Aa));return[Aa*Xa*fc(ca),Aa*ia]}var M=Pd(B/2),U=2*re(Lb(B/2))/(M*M);C.invert=function(ca,ia){var Aa=Ma(ca*ca+ia*ia),Xa=-B/2,Va=50;if(!Aa)return[0,0];do{var lb=Xa/2;var pb=Lb(lb);lb=fc(lb);var Gb=lb/pb,Wb=-re(jc(pb));Xa-=pb=(2/Gb*Wb-U*Gb-Aa)/(-Wb/(lb*lb)+1-U/(2*pb*pb))*(0>pb?.7:1)}while(1E-6<jc(pb)&&0<--Va);Va=fc(Xa);return[Jd(ca*Va,Aa*Lb(Xa)),Pa(ia*Va/Aa)]};return C}function Ea(B,C){var M=Lb(C);var U=(U=Hb(M*Lb(B/=2)))?U/Math.sin(U):
1;return[2*M*fc(B)*U,fc(C)*U]}function $a(B){function C(Xa,Va){var lb=Lb(Va),pb=Lb(Xa/=2);return[(1+lb)*fc(Xa),(ca*Va>-Jd(pb,ia)-.001?0:10*-ca)+Aa+fc(Va)*U-(1+lb)*M*pb]}var M=fc(B),U=Lb(B),ca=0<=B?1:-1,ia=Pd(ca*B),Aa=(1+M-U)/2;C.invert=function(Xa,Va){var lb=0,pb=0,Gb=50;do{var Wb=Lb(lb),p=fc(lb),x=Lb(pb),Q=fc(pb),W=1+x,Ha=W*p-Xa,ob=Aa+Q*U-W*M*Wb-Va,Db=W*Wb/2,Ub=-p*Q;p=M*W*p/2;x=U*x+M*Wb*Q;Wb=Ub*p-x*Db;Ub=(ob*Ub-Ha*x)/Wb/2;Ha=(Ha*p-ob*Db)/Wb;2<jc(Ha)&&(Ha/=2);lb-=Ub;pb-=Ha}while((1E-6<jc(Ub)||1E-6<
jc(Ha))&&0<--Gb);return ca*pb>-Jd(Lb(lb),ia)-.001?[2*lb,pb]:null};return C}function db(B,C){C=Pd(C/2);var M=Ma(1-C*C),U=1+M*Lb(B/=2);B=fc(B)*M/U;C/=U;U=B*B;M=C*C;return[4/3*B*(3+U-3*M),4/3*C*(3+3*U-M)]}function Ja(B,C){var M=jc(C);return M<ne?[B,re(Pd(ne+C/2))]:[B*Lb(M)*(2*Pc-1/fc(M)),be(C)*(2*Pc*(M-ne)-re(Pd(M/2)))]}function ea(B){function C(U,ca){ca=q.geoAzimuthalEquidistantRaw(U,ca);if(jc(U)>Yc){U=Jd(ca[1],ca[0]);var ia=Ma(ca[0]*ca[0]+ca[1]*ca[1]),Aa=M*He((U-Yc)/M)+Yc,Xa=Jd(fc(U-=Aa),2-Lb(U));
U=Aa+Pa(dc/ia*fc(Xa))-Xa;ca[0]=ia*Lb(U);ca[1]=ia*fc(U)}return ca}var M=2*dc/B;C.invert=function(U,ca){var ia=Ma(U*U+ca*ca);if(ia>Yc){var Aa=Jd(ca,U);U=M*He((Aa-Yc)/M)+Yc;ca=Aa>U?-1:1;Aa=ia*Lb(U-Aa);Aa=1/Pd(ca*Hb((Aa-dc)/Ma(dc*(dc-2*Aa)+ia*ia)));Aa=U+2*Wd((Aa+ca*Ma(Aa*Aa-3))/3);U=ia*Lb(Aa);ca=ia*fc(Aa)}return q.geoAzimuthalEquidistantRaw.invert(U,ca)};return C}function pa(B,C){function M(U,ca){U=q.geoAzimuthalEqualAreaRaw(U/C,ca);U[0]*=B;return U}2>arguments.length&&(C=B);if(1===C)return q.geoAzimuthalEqualAreaRaw;
if(Infinity===C)return Ga;M.invert=function(U,ca){U=q.geoAzimuthalEqualAreaRaw.invert(U/B,ca);U[0]*=C;return U};return M}function Ga(B,C){return[B*Lb(C)/Lb(C/=2),2*fc(C)]}function Wa(B,C,M){var U=100;M=void 0===M?0:+M;C=+C;do{var ca=B(M);var ia=B(M+1E-6);ca===ia&&(ia=ca+1E-6);M-=ca=-1E-6*(ca-C)/(ca-ia)}while(0<U--&&1E-6<jc(ca));return 0>U?NaN:M}function la(B,C,M){void 0===C&&(C=40);void 0===M&&(M=1E-12);return function(U,ca,ia,Aa){ia=void 0===ia?0:+ia;Aa=void 0===Aa?0:+Aa;for(var Xa=0;Xa<C;Xa++){var Va=
B(ia,Aa),lb=Va[0]-U,pb=Va[1]-ca;if(jc(lb)<M&&jc(pb)<M)break;var Gb=lb*lb+pb*pb;if(Gb>Wb)ia-=x/=2,Aa-=W/=2;else{var Wb=Gb;Gb=(0<ia?-1:1)*M;var p=(0<Aa?-1:1)*M;var x=B(ia+Gb,Aa);var Q=B(ia,Aa+p);var W=(x[0]-Va[0])/Gb;Gb=(x[1]-Va[1])/Gb;x=(Q[0]-Va[0])/p;Va=(Q[1]-Va[1])/p;p=Va*W-Gb*x;p=(.5>jc(p)?.5:1)/p;x=(pb*x-lb*Va)*p;W=(lb*Gb-pb*W)*p;ia+=x;Aa+=W;if(jc(x)<M&&jc(W)<M)break}}return[ia,Aa]}}function aa(){function B(M,U){if(-1.4>M+U){var ca=(M-U+1.6)*(M+U+1.4)/8;M+=ca;U-=.8*ca*fc(U+dc/2)}ca=C(M,U);M=(1-
Lb(M*U))/12;0>ca[1]&&(ca[0]*=1+M);0<ca[1]&&(ca[1]*=1+M/1.5*ca[0]*ca[0]);return ca}var C=pa(1.68,2);B.invert=la(B);return B}function Qa(B,C){B*=fc(C);var M=30,U;do C-=U=(C+fc(C)-B)/(1+Lb(C));while(1E-6<jc(U)&&0<--M);return C/2}function xa(B,C,M){function U(ca,ia){return[B*ca*Lb(ia=Qa(M,ia)),C*fc(ia)]}U.invert=function(ca,ia){return ia=Pa(ia/C),[ca/(B*Lb(ia)),Pa((2*ia+fc(2*ia))/M)]};return U}function Oa(B,C){var M=Qa(dc,C);return[2.00276*B/(1/Lb(C)+1.11072/Lb(M)),(C+Pc*fc(M))/2.00276]}function ya(B){var C=
0,M=q.geoProjectionMutator(B);B=M(C);B.parallel=function(U){return arguments.length?M(C=U*Qd):C*Ld};return B}function ja(B,C){return[B*Lb(C),C]}function wa(B){function C(U,ca){var ia=M+B-ca;U=ia?U*Lb(ca)/ia:ia;return[ia*fc(U),M-ia*Lb(U)]}if(!B)return ja;var M=1/Pd(B);C.invert=function(U,ca){var ia=Ma(U*U+(ca=M-ca)*ca),Aa=M+B-ia;return[ia/Lb(Aa)*Jd(U,ca),Aa]};return C}function sa(B){function C(M,U){M=(U=Yc-U)?M*B*fc(U)/U:U;return[U*fc(M)/B,Yc-U*Lb(M)]}C.invert=function(M,U){M*=B;var ca=Yc-U;U=Ma(M*
M+ca*ca);M=Jd(M,ca);return[(U?U/fc(U):1)*M/B,Yc-U]};return C}function qa(B,C,M,U,ca,ia){var Aa=Lb(ia);if(1<jc(B)||1<jc(ia))B=Hb(M*ca+C*U*Aa);else{B=fc(B/2);var Xa=fc(ia/2);B=2*Pa(Ma(B*B+C*U*Xa*Xa))}return 1E-6<jc(B)?[B,Jd(U*fc(ia),C*ca-M*U*Aa)]:[0,0]}function Fa(B,C,M){return Hb((B*B+C*C-M*M)/(2*B*C))}function Ba(B,C,M){var U=[[B[0],B[1],fc(B[1]),Lb(B[1])],[C[0],C[1],fc(C[1]),Lb(C[1])],[M[0],M[1],fc(M[1]),Lb(M[1])]];B=U[2];for(M=0;3>M;++M,B=C)C=U[M],B.v=qa(C[1]-B[1],B[3],B[2],C[3],C[2],C[0]-B[0]),
B.point=[0,0];B=Fa(U[0].v[0],U[2].v[0],U[1].v[0]);var ca=Fa(U[0].v[0],U[1].v[0],U[2].v[0]),ia=dc-B;U[2].point[1]=0;U[0].point[0]=-(U[1].point[0]=U[0].v[0]/2);var Aa=[U[2].point[0]=U[0].point[0]+U[2].v[0]*Lb(B),2*(U[0].point[1]=U[1].point[1]=U[2].v[0]*fc(B))];return function(Xa,Va){var lb=fc(Va),pb=Lb(Va),Gb=Array(3),Wb;for(Wb=0;3>Wb;++Wb){var p=U[Wb];Gb[Wb]=qa(Va-p[1],p[3],p[2],pb,lb,Xa-p[0]);if(!Gb[Wb][0])return p.point;var x=Gb[Wb];p=Gb[Wb][1]-p.v[1];p-=2*dc*oe((p+dc)/(2*dc));x[1]=p}Xa=Aa.slice();
for(Wb=0;3>Wb;++Wb)Va=Fa(U[Wb].v[0],Gb[Wb][0],Gb[2==Wb?0:Wb+1][0]),0>Gb[Wb][1]&&(Va=-Va),Wb?1==Wb?(Va=ca-Va,Xa[0]-=Gb[Wb][0]*Lb(Va),Xa[1]-=Gb[Wb][0]*fc(Va)):(Va=ia-Va,Xa[0]+=Gb[Wb][0]*Lb(Va),Xa[1]+=Gb[Wb][0]*fc(Va)):(Xa[0]+=Gb[Wb][0]*Lb(Va),Xa[1]-=Gb[Wb][0]*fc(Va));Xa[0]/=3;Xa[1]/=3;return Xa}}function Za(B){return B[0]*=Qd,B[1]*=Qd,B}function jb(B,C,M){var U=q.geoCentroid({type:"MultiPoint",coordinates:[B,C,M]});U=[-U[0],-U[1]];var ca=q.geoRotation(U);B=Ba(Za(ca(B)),Za(ca(C)),Za(ca(M)));B.invert=
la(B);B=q.geoProjection(B).rotate(U);var ia=B.center;delete B.rotate;B.center=function(Aa){return arguments.length?ia(ca(Aa)):ca.invert(ia())};return B.clipAngle(90)}function A(B,C){C=Ma(1-fc(C));return[2/fe*B*C,fe*(1-C)]}function y(B){function C(U,ca){return[U,(U?U/fc(U):1)*(fc(ca)*Lb(U)-M*Lb(ca))]}var M=Pd(B);C.invert=M?function(U,ca){U&&(ca*=fc(U)/U);var ia=Lb(U);return[U,2*Jd(Ma(ia*ia+M*M-ca*ca)-ia,M-ca)]}:function(U,ca){return[U,Pa(U?ca*Pd(U)/U:ca)]};return C}function I(B,C){return[Le*B*(2*Lb(2*
C/3)-1)/fe,Le*fe*fc(C/3)]}function L(B){function C(U,ca){return[U*M,fc(ca)/M]}var M=Lb(B);C.invert=function(U,ca){return[U/M,Pa(ca*M)]};return C}function z(B){function C(U,ca){return[U*M,(1+M)*Pd(ca/2)]}var M=Lb(B);C.invert=function(U,ca){return[U/M,2*Wd(ca/(1+M))]};return C}function H(B,C){var M=Ma(8/(3*dc));return[M*B*(1-jc(C)/dc),M*C]}function O(B,C){var M=Ma(4-3*fc(jc(C)));return[2/Ma(6*dc)*B*M,be(C)*Ma(2*dc/3)*(2-M)]}function ma(B,C){var M=Ma(dc*(4+dc));return[2/M*B*(1+Ma(1-4*C*C/(dc*dc))),4/
M*C]}function Ia(B,C){var M=(2+Yc)*fc(C);C/=2;for(var U=0,ca=Infinity;10>U&&1E-6<jc(ca);U++)ca=Lb(C),C-=ca=(C+fc(C)*(ca+2)-M)/(2*ca*(1+ca));return[2/Ma(dc*(4+dc))*B*(1+Lb(C)),2*Ma(dc/(4+dc))*fc(C)]}function Sa(B,C){return[B*(1+Lb(C))/Ma(2+dc),2*C/Ma(2+dc)]}function E(B,C){for(var M=(1+Yc)*fc(C),U=0,ca=Infinity;10>U&&1E-6<jc(ca);U++)C-=ca=(C+fc(C)-M)/(1+Lb(C));M=Ma(2+dc);return[B*(1+Lb(C))/M,2*C/M]}function ha(B,C){var M=fc(B/=2);B=Lb(B);var U=Ma(Lb(C)),ca=Lb(C/=2);C=fc(C)/(ca+Pc*B*U);var ia=Ma(2/
(1+C*C));M=Ma((Pc*ca+(B+M)*U)/(Pc*ca+(B-M)*U));return[cf*(ia*(M-1/M)-2*re(M)),cf*(ia*C*(M+1/M)-2*Wd(C))]}function Y(B,C){C=Pd(C/2);return[B*qf*Ma(1-C*C),(1+qf)*C]}function V(B,C){var M=C/2,U=Lb(M);return[2*B/fe*Lb(C)*U*U,fe*Pd(M)]}function w(B){function C(Va,lb){var pb=Lb(lb),Gb=fc(lb);return[pb/(ca+B*pb)*Va,ca*lb+B*Gb]}function M(Va,lb){Va=C(Va,lb);return[Va[0]*Xa,Va[1]/Xa]}function U(Va){return M(0,Va)[1]}var ca=1-B,ia=C(dc,0)[0]-C(-dc,0)[0],Aa=C(0,Yc)[1]-C(0,-Yc)[1],Xa=Ma(2*Aa/ia);M.invert=function(Va,
lb){lb=Wa(U,lb);return[Va/Xa*(B+ca/Lb(lb)),lb]};return M}function F(B){return[2*B[0],2*Wd(fc(B[1]*Qd))*Ld]}function h(B,C){function M(ia,Aa){ia=q.geoAzimuthalEquidistantRaw(ia,Aa);Aa=ia[0];var Xa=ia[1],Va=Aa*Aa+Xa*Xa;if(Va>ca){var lb=Ma(Va);Aa=Jd(Xa,Aa);Va=U*He(Aa/U);Xa=Aa-Va;var pb=B*Lb(Xa),Gb=(B*fc(Xa)-Xa*fc(pb))/(Yc-pb),Wb=k(Xa,Gb),p=(dc-B)/m(Wb,pb,dc);Aa=lb;var x=50,Q;do Aa-=Q=(B+m(Wb,pb,Aa)*p-lb)/(Wb(Aa)*p);while(1E-6<jc(Q)&&0<--x);Xa*=fc(Aa);Aa<Yc&&(Xa-=Gb*(Aa-Yc));lb=fc(Va);Va=Lb(Va);ia[0]=
Aa*Va-Xa*lb;ia[1]=Aa*lb+Xa*Va}return ia}var U=2*dc/C,ca=B*B;M.invert=function(ia,Aa){var Xa=ia*ia+Aa*Aa;if(Xa>ca){var Va=Ma(Xa);Aa=Jd(Aa,ia);Xa=U*He(Aa/U);Aa-=Xa;ia=Va*Lb(Aa);Aa=Va*fc(Aa);Va=ia-Yc;for(var lb=fc(ia),pb=Aa/lb,Gb=ia<Yc?Infinity:0,Wb=10;;){var p=B*fc(pb),x=B*Lb(pb),Q=fc(x),W=Yc-x,Ha=(p-pb*Q)/W,ob=k(pb,Ha);if(1E-12>jc(Gb)||!--Wb)break;pb-=Gb=(pb*lb-Ha*Va-Aa)/(lb-2*Va*(W*(x+pb*p*Lb(x)-Q)-p*(p-pb*Q))/(W*W))}Va=B+m(ob,x,ia)*(dc-B)/m(ob,x,dc);Aa=Xa+pb;ia=Va*Lb(Aa);Aa=Va*fc(Aa)}return q.geoAzimuthalEquidistantRaw.invert(ia,
Aa)};return M}function k(B,C){return function(M){var U=B*Lb(M);M<Yc&&(U-=C);return Ma(1+U*U)}}function m(B,C,M){var U=(M-C)/50;M=B(C)+B(M);for(var ca=1;50>ca;++ca)M+=2*B(C+=U);return.5*M*U}function r(B,C,M,U,ca,ia,Aa,Xa){function Va(lb,pb){if(!pb)return[B*lb/dc,0];var Gb=pb*pb,Wb=B+Gb*(C+Gb*(M+Gb*U)),p=pb*(ca-1+Gb*(ia-Xa+Gb*Aa));p=(Wb*Wb+p*p)/(2*p);lb=lb*Pa(Wb/p)/dc;return[p*fc(lb),pb*(1+Gb*Xa)+p*(1-Lb(lb))]}8>arguments.length&&(Xa=0);Va.invert=function(lb,pb){var Gb=dc*lb/B,Wb=pb,p=50;do{var x=Wb*
Wb,Q=B+x*(C+x*(M+x*U)),W=Wb*(ca-1+x*(ia-Xa+x*Aa)),Ha=Q*Q+W*W,ob=2*W;var Db=Ha/ob;var Ub=Db*Db;var ec=Pa(Q/Db)/dc;var zc=Gb*ec,Cc=Q*Q,$c=(2*C+x*(4*M+6*x*U))*Wb,qd=ca+x*(3*ia+5*x*Aa);W=(2*(Q*$c+W*(qd-1))*ob-2*Ha*(qd-1))/(ob*ob);Ha=Lb(zc);qd=fc(zc);ob=Db*Ha;zc=Db*qd;Ub=Gb/dc*(1/Ma(1-Cc/Ub))*($c*Db-Q*W)/Ub;Q=zc-lb;x=Wb*(1+x*Xa)+Db-ob-pb;Db=W*qd+ob*Ub;Cc=ob*ec;W=1+W-(W*Ha-zc*Ub);ec*=zc;Ha=Db*ec-W*Cc;if(!Ha)break;Gb-=Db=(x*Db-Q*W)/Ha;Wb-=ec=(Q*ec-x*Cc)/Ha}while((1E-6<jc(Db)||1E-6<jc(ec))&&0<--p);return[Gb,
Wb]};return Va}function v(B,C){var M=B*B,U=C*C;return[B*(1-.162388*U)*(.87-9.52426E-4*M*M),C*(1+U/12)]}function J(B){function C(U,ca){var ia=0<U?-.5:.5;U=B(U+ia*dc,ca);U[0]-=ia*M;return U}var M=B(Yc,0)[0]-B(-Yc,0)[0];B.invert&&(C.invert=function(U,ca){var ia=0<U?-.5:.5;U=B.invert(U+ia*M,ca);ia=U[0]-ia*dc;ia<-dc?ia+=2*dc:ia>dc&&(ia-=2*dc);U[0]=ia;return U});return C}function ba(B,C){var M=be(B),U=be(C),ca=Lb(C),ia=Lb(B)*ca;B=fc(B)*ca;C=fc(U*C);B=jc(Jd(B,C));C=Pa(ia);1E-6<jc(B-Yc)&&(B%=Yc);ia=ka(B>
dc/4?Yc-B:B,C);B>dc/4&&(C=ia[0],ia[0]=-ia[1],ia[1]=-C);return ia[0]*=M,ia[1]*=-U,ia}function ka(B,C){if(C===Yc)return[0,0];var M=fc(C),U=M*M,ca=U*U,ia=1+ca,Aa=1+3*ca,Xa=1-ca,Va=Pa(1/Ma(ia)),lb=Xa+U*ia*Va,pb=(1-M)/lb,Gb=Ma(pb),Wb=pb*ia,p=Ma(Wb),x=Gb*Xa;if(0===B)return[0,-(x+U*p)];var Q=Lb(C),W=1/Q,Ha=2*M*Q;Va=(-lb*Q-(1-M)*(-3*U+Va*Aa)*Ha)/(lb*lb);M=-W*Ha;ia=-W*(U*ia*Va+pb*Aa*Ha);Xa=-2*W*(.5*Va/Gb*Xa-2*U*Gb*Ha);Gb=4*B/dc;if(B>.222*dc||C<dc/4&&B>.175*dc){C=(x+U*Ma(Wb*(1+ca)-x*x))/(1+ca);if(B>dc/4)return[C,
C];ca=C;W=.5*C;C=.5*(W+ca);B=50;do{Ha=Ma(Wb-C*C);Ha=C*(Xa+M*Ha)+ia*Pa(C/p)-Gb;if(!Ha)break;0>Ha?W=C:ca=C;C=.5*(W+ca)}while(1E-6<jc(ca-W)&&0<--B)}else{C=1E-6;B=25;do Ha=C*C,ca=Ma(Wb-Ha),Aa=Xa+M*ca,W=C*Aa+ia*Pa(C/p)-Gb,Ha=Aa+(ia-M*Ha)/ca,C-=ca=ca?W/Ha:0;while(1E-6<jc(ca)&&0<--B)}return[C,-x-U*Ma(Wb-C*C)]}function ua(B,C){if(1E-6>C){var M=fc(B);var U=Lb(B);var ca=C*(B-M*U)/4;return[M-ca*U,U+ca*M,1-C*M*M/2,B-ca]}if(.999999<=C){ca=(1-C)/4;U=Eb(B);M=Ke(2*B);M=(M-1)/(M+1);C=1/U;var ia=U*cb(B);return[M+ca*
(ia-B)/(U*U),C-ca*M*C*(ia-B),C+ca*M*C*(ia+B),2*Wd(Ke(B))-Yc+ca*(ia-B)/U]}var Aa=[1,0,0,0,0,0,0,0,0],Xa=[Ma(C),0,0,0,0,0,0,0,0],Va=0;U=Ma(1-C);for(ia=1;1E-6<jc(Xa[Va]/Aa[Va])&&8>Va;)ca=Aa[Va++],Xa[Va]=(ca-U)/2,Aa[Va]=(ca+U)/2,U=Ma(ca*U),ia*=2;C=ia*Aa[Va]*B;do M=Xa[Va]*fc(U=C)/Aa[Va],C=(Pa(M)+C)/2;while(--Va);return[fc(C),M=Lb(C),M/Lb(C-U),C]}function fb(B,C){if(!C)return B;if(1===C)return re(Pd(B/2+ne));var M=1,U=Ma(1-C),ca=Ma(C);for(C=0;1E-6<jc(ca);C++)B%dc?(ca=Wd(U*Pd(B)/M),0>ca&&(ca+=dc),B+=ca+
~~(B/dc)*dc):B+=B,ca=(M+U)/2,U=Ma(M*U),ca=((M=ca)-U)/2;return B/(ff(2,C)*M)}function eb(B,C){var M=(Pc-1)/(Pc+1),U=Ma(1-M*M),ca=fb(Yc,U*U),ia=re(Pd(dc/4+jc(C)/2));ia=Ke(-1*ia)/Ma(M);M=ia*Lb(-1*B);var Aa=ia*fc(-1*B);B=M*M;ia=Aa+1;Aa=1-B-Aa*Aa;B=[.5*((0<=M?Yc:-Yc)-Jd(Aa,2*M)),-.25*re(Aa*Aa+4*B)+.5*re(ia*ia+B)];M=B[0];B=B[1];U*=U;ia=jc(M);Aa=jc(B);Aa=cb(Aa);if(ia){var Xa=1/fc(ia);ia=1/(Pd(ia)*Pd(ia));Aa=-(ia+U*Aa*Aa*Xa*Xa-1+U);Aa=(-Aa+Ma(Aa*Aa-4*(U-1)*ia))/2;U=[fb(Wd(1/Ma(Aa)),U)*be(M),fb(Wd(Ma((Aa/
ia-1)/U)),1-U)*be(B)]}else U=[0,fb(Wd(Aa),1-U)*be(B)];return[-U[1],(0<=C?1:-1)*(.5*ca-U[0])]}function Ca(B){function C(ia,Aa){var Xa=ca(ia,Aa);ia=Xa[0];Aa=Xa[1];Xa=fc(Aa);Aa=Lb(Aa);var Va=Lb(ia),lb=Hb(M*Xa+U*Aa*Va),pb=fc(lb);lb=1E-6<jc(pb)?lb/pb:1;return[lb*U*fc(ia),(jc(ia)>Yc?lb:-lb)*(M*Aa-U*Xa*Va)]}var M=fc(B),U=Lb(B),ca=Ka(B);ca.invert=Ka(-B);C.invert=function(ia,Aa){var Xa=Ma(ia*ia+Aa*Aa),Va=-fc(Xa),lb=Lb(Xa),pb=Xa*lb,Gb=-Aa*Va,Wb=Xa*M,p=Ma(pb*pb+Gb*Gb-Wb*Wb);pb=Jd(pb*Wb+Gb*p,Gb*Wb-pb*p);ia=(Xa>
Yc?-1:1)*Jd(ia*Va,Xa*Lb(pb)*lb+Aa*fc(pb)*Va);return ca.invert(ia,pb)};return C}function Ka(B){var C=fc(B),M=Lb(B);return function(U,ca){var ia=Lb(ca),Aa=Lb(U)*ia;U=fc(U)*ia;ca=fc(ca);return[Jd(U,Aa*M-ca*C),Pa(ca*M+Aa*C)]}}function Z(B){function C(pb,Gb){var Wb=jc(Gb);if(Wb>M){var p=Oe(B-1,Ye(0,oe((pb+dc)/Xa)));pb+=dc*(B-1)/B-p*Xa;pb=A(pb,Wb);pb[0]=pb[0]*Sd/U-Sd*(B-1)/(2*B)+p*Sd/B;pb[1]=ca+4*(pb[1]-ia)*Aa/Sd;0>Gb&&(pb[1]=-pb[1])}else pb=$e(pb,Gb);pb[0]*=Va;pb[1]/=lb;return pb}var M=Ee*Qd,U=A(dc,M)[0]-
A(-dc,M)[0],ca=$e(0,M)[1],ia=A(0,M)[1],Aa=fe-ia,Xa=Sd/B,Va=4/Sd,lb=ca+Aa*Aa*4/Sd;C.invert=function(pb,Gb){pb/=Va;Gb*=lb;var Wb=jc(Gb);if(Wb>ca){var p=Oe(B-1,Ye(0,oe((pb+dc)/Xa)));pb=(pb+dc*(B-1)/B-p*Xa)*U/Sd;pb=A.invert(pb,.25*(Wb-ca)*Sd/Aa+ia);pb[0]-=dc*(B-1)/B-p*Xa;0>Gb&&(pb[1]=-pb[1]);return pb}return $e.invert(pb,Gb)};return C}function ra(B,C){return[B,C&1?89.999999:Ee]}function hb(B,C){return[B,C&1?-89.999999:-Ee]}function mb(B){return[.999999*B[0],B[1]]}function Ib(B){var C=[].concat(S.range(-180,
180+B/2,B).map(ra),S.range(180,-180-B/2,-B).map(hb));return{type:"Polygon",coordinates:[180===B?C.map(mb):C]}}function Xb(B){function C(pb,Gb){var Wb=1-fc(Gb);if(Wb&&2>Wb){var p=Yc-Gb,x=25;do{var Q=fc(p);var W=Lb(p);Gb=ca+Jd(Q,M-W);W=1+lb-2*M*W;p-=Q=(p-Va*ca-M*Q+W*Gb-.5*Wb*Aa)/(2*M*Q*Gb)}while(1E-12<jc(Q)&&0<--x);Wb=ia*Ma(W);pb=pb*Gb/dc}else Wb=ia*(B+Wb),pb=pb*ca/dc;return[Wb*fc(pb),Xa-Wb*Lb(pb)]}var M=1+B,U=fc(1/M),ca=Pa(U),ia=2*Ma(dc/(Aa=dc+4*ca*M)),Aa,Xa=.5*ia*(M+Ma(B*(2+B))),Va=B*B,lb=M*M;C.invert=
function(pb,Gb){var Wb=pb*pb+(Gb-=Xa)*Gb;Gb=(1+lb-Wb/(ia*ia))/(2*M);var p=Hb(Gb),x=fc(p),Q=ca+Jd(x,M-Gb);return[Pa(pb/Ma(Wb))*dc/Q,Pa(1-2*(p-Va*ca-M*x+(1+lb-2*M*Gb)*Q)/Aa)]};return C}function za(B,C){return-.7109889596207567<C?(B=Gd(B,C),B[1]+=.0528035274542,B):ja(B,C)}function wb(B,C){return.7109889596207567<jc(C)?(B=Gd(B,C),B[1]-=0<C?.0528035274542:-.0528035274542,B):ja(B,C)}function Tb(B,C,M,U){function ca(Gb){return Ma(1+B*Lb(2*Gb)+C*Lb(4*Gb))}function ia(Gb){Gb*=M;return(2*Gb+(1+B-C/2)*fc(2*
Gb)+(B+C)/2*fc(4*Gb)+C/2*fc(6*Gb))/M}function Aa(Gb){return ca(Gb)*fc(Gb)}var Xa=Ma(4*dc/(2*M+(1+B-C/2)*fc(2*M)+(B+C)/2*fc(4*M)+C/2*fc(6*M))),Va=Ma(U*fc(M)*Ma((1+B*Lb(2*M)+C*Lb(4*M))/(1+B+C))),lb=M*ia(1),pb=function(Gb,Wb){var p=M*Wa(ia,lb*fc(Wb)/M,Wb/dc);isNaN(p)&&(p=M*be(Wb));Wb=Xa*ca(p);return[Wb*Va*Gb/dc*Lb(p),Wb/Va*fc(p)]};pb.invert=function(Gb,Wb){Wb=Wa(Aa,Wb*Va/Xa);return[Gb*dc/(Lb(Wb)*Xa*Va*ca(Wb)),Pa(M*ia(Wb/M)/lb)]};0===M&&(Xa=Ma(U/dc),pb=function(Gb,Wb){return[Gb*Xa,fc(Wb)/Xa]},pb.invert=
function(Gb,Wb){return[Gb/Xa,Pa(Wb*Xa)]});return pb}function rb(B,C,M,U,ca,ia,Aa,Xa,Va,lb,pb){if(pb.nanEncountered)return NaN;var Gb=M-C;var Wb=B(C+.25*Gb);var p=B(M-.25*Gb);if(isNaN(Wb))pb.nanEncountered=!0;else if(isNaN(p))pb.nanEncountered=!0;else{var x=Gb*(U+4*Wb+ca)/12;var Q=Gb*(ca+4*p+ia)/12;var W=x+Q;Aa=(W-Aa)/15;if(lb>Va)return pb.maxDepthCount++,W+Aa;if(Math.abs(Aa)<Xa)return W+Aa;Gb=C+.5*Gb;C=rb(B,C,Gb,U,Wb,ca,x,.5*Xa,Va,lb+1,pb);if(isNaN(C))return pb.nanEncountered=!0,NaN;B=rb(B,Gb,M,ca,
p,ia,Q,.5*Xa,Va,lb+1,pb);return isNaN(B)?(pb.nanEncountered=!0,NaN):C+B}}function Sb(B,C,M,U,ca){void 0===U&&(U=1E-8);void 0===ca&&(ca=20);var ia=B(C),Aa=B(.5*(C+M)),Xa=B(M);return rb(B,C,M,ia,Aa,Xa,(ia+4*Aa+Xa)*(M-C)/6,U,ca,1,{maxDepthCount:0,nanEncountered:!1})}function ic(B,C,M){function U(pb){return B+(1-B)*ff(1-ff(pb,C),1/C)}function ca(pb){var Gb=0,Wb=1E3,p=500;do Xa[p]>pb?Wb=p:Gb=p,p=Gb+Wb>>1;while(p>Gb);(Gb=Xa[p+1]-Xa[p])&&(Gb=(pb-Xa[p+1])/Gb);return(p+1+Gb)/1E3}for(var ia=1/Sb(U,0,1,1E-4),
Aa=1.00000001*ia,Xa=[],Va=0;1E3>=Va;Va++)Xa.push(Sb(U,0,Va/1E3,1E-4)*Aa);var lb=2*ca(1)/dc*ia/M;M=function(pb,Gb){var Wb=ca(jc(fc(Gb)));pb*=U(Wb);Wb/=lb;return[pb,0<=Gb?Wb:-Wb]};M.invert=function(pb,Gb){var Wb;Gb*=lb;1>jc(Gb)&&(Wb=be(Gb)*Pa(Sb(U,0,jc(Gb),1E-4)*ia));return[pb/U(jc(Gb)),Wb]};return M}function rc(B,C){for(var M=-1,U=B.length,ca=B[0],ia,Aa,Xa,Va=[];++M<U;){ia=B[M];Aa=(ia[0]-ca[0])/C;Xa=(ia[1]-ca[1])/C;for(var lb=0;lb<C;++lb)Va.push([ca[0]+lb*Aa,ca[1]+lb*Xa]);ca=ia}Va.push(ia);return Va}
function Tc(B){var C=[],M,U=B[0].length;for(M=0;M<U;++M){var ca=B[0][M];var ia=ca[0][0];var Aa=ca[0][1];var Xa=ca[1][1];var Va=ca[2][0];ca=ca[2][1];C.push(rc([[ia+1E-6,Aa+1E-6],[ia+1E-6,Xa-1E-6],[Va-1E-6,Xa-1E-6],[Va-1E-6,ca+1E-6]],30))}for(M=B[1].length-1;0<=M;--M)ca=B[1][M],ia=ca[0][0],Aa=ca[0][1],Xa=ca[1][1],Va=ca[2][0],ca=ca[2][1],C.push(rc([[Va-1E-6,ca-1E-6],[Va-1E-6,Xa+1E-6],[ia+1E-6,Xa+1E-6],[ia+1E-6,Aa-1E-6]],30));return{type:"Polygon",coordinates:[S.merge(C)]}}function pc(B,C,M){function U(Va,
lb){for(var pb=0>lb?-1:1,Gb=C[+(0>lb)],Wb=0,p=Gb.length-1;Wb<p&&Va>Gb[Wb][2][0];++Wb);Va=B(Va-Gb[Wb][1][0],lb);Va[0]+=B(Gb[Wb][1][0],pb*lb>pb*Gb[Wb][0][1]?Gb[Wb][0][1]:lb)[0];return Va}var ca,ia;M?U.invert=M(U):B.invert&&(U.invert=function(Va,lb){for(var pb=ia[+(0>lb)],Gb=C[+(0>lb)],Wb=0,p=pb.length;Wb<p;++Wb){var x=pb[Wb];if(x[0][0]<=Va&&Va<x[1][0]&&x[0][1]<=lb&&lb<x[1][1])return pb=B.invert(Va-B(Gb[Wb][1][0],0)[0],lb),pb[0]+=Gb[Wb][1][0],Gb=U(pb[0],pb[1]),Va=[Va,lb],1E-6>jc(Gb[0]-Va[0])&&1E-6>jc(Gb[1]-
Va[1])?pb:null}});var Aa=q.geoProjection(U),Xa=Aa.stream;Aa.stream=function(Va){var lb=Aa.rotate(),pb=Xa(Va),Gb=(Aa.rotate([0,0]),Xa(Va));Aa.rotate(lb);pb.sphere=function(){q.geoStream(ca,Gb)};return pb};Aa.lobes=function(Va){if(!arguments.length)return C.map(function(lb){return lb.map(function(pb){return[[pb[0][0]*Ld,pb[0][1]*Ld],[pb[1][0]*Ld,pb[1][1]*Ld],[pb[2][0]*Ld,pb[2][1]*Ld]]})});ca=Tc(Va);C=Va.map(function(lb){return lb.map(function(pb){return[[pb[0][0]*Qd,pb[0][1]*Qd],[pb[1][0]*Qd,pb[1][1]*
Qd],[pb[2][0]*Qd,pb[2][1]*Qd]]})});ia=C.map(function(lb){return lb.map(function(pb){var Gb=B(pb[0][0],pb[0][1])[0],Wb=B(pb[2][0],pb[2][1])[0],p=B(pb[1][0],pb[0][1])[1];pb=B(pb[1][0],pb[1][1])[1];if(p>pb){var x=p;p=pb;pb=x}return[[Gb,p],[Wb,pb]]})});return Aa};null!=C&&Aa.lobes(C);return Aa}function tb(B,C){return[3/Sd*B*Ma(dc*dc/3-C*C),C]}function bc(B){function C(M,U){if(1E-6>jc(jc(U)-Yc))return[0,0>U?-2:2];U=fc(U);U=ff((1+U)/(1-U),B/2);var ca=.5*(U+1/U)+Lb(M*=B);return[2*fc(M)/ca,(U-1/U)/ca]}C.invert=
function(M,U){var ca=jc(U);if(1E-6>jc(ca-2))return M?null:[0,be(U)*Yc];if(2<ca)return null;M/=2;U/=2;ca=M*M;var ia=U*U;U=2*U/(1+ca+ia);U=ff((1+U)/(1-U),1/B);return[Jd(2*M,1-ca-ia)/B,Pa((U-1)/(U+1))]};return C}function Mb(B,C){return[B*(1+Ma(Lb(C)))/2,C/(Lb(C/2)*Lb(B/6))]}function xc(B,C){var M=B*B,U=C*C;return[B*(.975534+U*(-.119161+-.0143059*M+-.0547009*U)),C*(1.00384+M*(.0802894+-.02855*U+1.99025E-4*M)+U*(.0998909+-.0491032*U))]}function Xc(B,C){return[fc(B)/Lb(C),Pd(C)*Lb(B)]}function ud(B){function C(ca,
ia){var Aa=ia-B,Xa=1E-6>jc(Aa)?ca*M:1E-6>jc(Xa=ne+ia/2)||1E-6>jc(jc(Xa)-Yc)?0:ca*Aa/re(Pd(Xa)/U);return[Xa,Aa]}var M=Lb(B),U=Pd(ne+B/2);C.invert=function(ca,ia){var Aa,Xa=ia+B;return[1E-6>jc(ia)?ca/M:1E-6>jc(Aa=ne+Xa/2)||1E-6>jc(jc(Aa)-Yc)?0:ca*re(Pd(Aa)/U)/ia,Xa]};return C}function xd(B,C){return[B,1.25*re(Pd(ne+.4*C))]}function ae(B){function C(U,ca){var ia=Lb(ca),Aa=2/(1+ia*Lb(U));U=Aa*ia*fc(U);ca=Aa*fc(ca);Aa=M;ia=B[Aa];for(var Xa=ia[0],Va=ia[1],lb;0<=--Aa;)ia=B[Aa],Xa=ia[0]+U*(lb=Xa)-ca*Va,Va=
ia[1]+U*Va+ca*lb;Xa=U*(lb=Xa)-ca*Va;return[Xa,U*Va+ca*lb]}var M=B.length-1;C.invert=function(U,ca){var ia=20,Aa=U,Xa=ca;do{for(var Va=M,lb=B[Va],pb=lb[0],Gb=lb[1],Wb=0,p=0,x;0<=--Va;)lb=B[Va],Wb=pb+Aa*(x=Wb)-Xa*p,p=Gb+Aa*p+Xa*x,pb=lb[0]+Aa*(x=pb)-Xa*Gb,Gb=lb[1]+Aa*Gb+Xa*x;Wb=pb+Aa*(x=Wb)-Xa*p;p=Gb+Aa*p+Xa*x;pb=Aa*(x=pb)-Xa*Gb-U;Gb=Aa*Gb+Xa*x-ca;lb=Wb*Wb+p*p;Aa-=Va=(pb*Wb+Gb*p)/lb;Xa-=pb=(Gb*Wb-pb*p)/lb}while(1E-12<jc(Va)+jc(pb)&&0<--ia);if(ia)return U=Ma(Aa*Aa+Xa*Xa),ca=2*Wd(.5*U),ia=fc(ca),[Jd(Aa*
ia,U*Lb(ca)),U?Pa(Xa*ia/U):0]};return C}function Cb(B,C){B=q.geoProjection(ae(B)).rotate(C).clipAngle(90);var M=q.geoRotation(C),U=B.center;delete B.rotate;B.center=function(ca){return arguments.length?U(M(ca)):M.invert(U())};return B}function Rb(B,C){C=Pa(7*fc(C)/(3*bd));return[bd*B*(2*Lb(2*C/3)-1)/cd,9*fc(C/3)/cd]}function Rc(B,C){for(var M=(1+ee)*fc(C),U=0,ca;25>U&&!(C-=ca=(fc(C/2)+fc(C)-M)/(.5*Lb(C/2)+Lb(C)),1E-6>jc(ca));U++);return[B*(1+2*Lb(C)/Lb(C/2))/(3*Pc),2*Ma(3)*fc(C/2)/Ma(2+Pc)]}function se(B,
C){var M=Ma(6/(4+dc)),U=(1+dc/4)*fc(C);C/=2;for(var ca=0,ia;25>ca&&!(C-=ia=(C/2+fc(C)-U)/(.5+Lb(C)),1E-6>jc(ia));ca++);return[M*(.5+Lb(C))*B/1.5,M*C]}function De(B,C){var M=C*C,U=M*M,ca=M*U;return[B*(.84719-.13063*M+ca*ca*(-.04515+.05494*M-.02326*U+.00331*ca)),C*(1.01183+U*U*(-.02625+.01926*M-.00396*U))]}function Ne(B,C){return[B*(1+Lb(C))/2,2*(C-Pd(C/2))]}function Md(B,C){var M=fc(C),U=Lb(C),ca=be(B);if(0===B||jc(C)===Yc)return[0,C];if(0===C)return[B,0];if(jc(B)===Yc)return[B*U,Yc*M];B=dc/(2*B)-
2*B/dc;var ia=2*C/dc,Aa=(1-ia*ia)/(M-ia),Xa=B*B,Va=Aa*Aa;ia=1+Xa/Va;var lb=1+Va/Xa,pb=(B*M/Aa-B/2)/ia,Gb=(Va*M/Xa+Aa/2)/lb;M=Gb*Gb-(Va*M*M/Xa+Aa*M-1)/lb;return[Yc*(pb+Ma(pb*pb+U*U/ia)*ca),Yc*(Gb+Ma(0>M?0:M)*be(-C*B)*ca)]}function K(B,C){var M=C*C;return[B,C*(1.0148+M*M*(.23185+M*(-.14499+.02406*M)))]}function fa(B,C){if(1E-6>jc(C))return[B,0];var M=Pd(C);B*=fc(C);return[fc(B)/M,C+(1-Lb(B))/M]}function bb(B,C){var M=Fb(B[1],B[0]),U=Fb(C[1],C[0]),ca=Jd(M[0]*U[1]-M[1]*U[0],M[0]*U[0]+M[1]*U[1]);M=Ma(M[0]*
M[0]+M[1]*M[1])/Ma(U[0]*U[0]+U[1]*U[1]);return La([1,0,B[0][0],0,1,B[0][1]],La([M,0,0,0,M,0],La([Lb(ca),fc(ca),0,-fc(ca),Lb(ca),0],[1,0,-C[0][0],0,1,-C[0][1]])))}function La(B,C){return[B[0]*C[0]+B[1]*C[3],B[0]*C[1]+B[1]*C[4],B[0]*C[2]+B[1]*C[5]+B[2],B[3]*C[0]+B[4]*C[3],B[3]*C[1]+B[4]*C[4],B[3]*C[2]+B[4]*C[5]+B[5]]}function Fb(B,C){return[B[0]-C[0],B[1]-C[1]]}function Vb(B,C){function M(Xa,Va){Xa.edges=Ra(Xa.face);if(Va.face){var lb=Xa.shared=va(Xa.face,Va.face),pb=bb(lb.map(Va.project),lb.map(Xa.project));
Xa.transform=Va.transform?La(Va.transform,pb):pb;pb=Va.edges;for(var Gb=0,Wb=pb.length;Gb<Wb;++Gb)cc(lb[0],pb[Gb][1])&&cc(lb[1],pb[Gb][0])&&(pb[Gb]=Xa),cc(lb[0],pb[Gb][0])&&cc(lb[1],pb[Gb][1])&&(pb[Gb]=Xa);pb=Xa.edges;Gb=0;for(Wb=pb.length;Gb<Wb;++Gb)cc(lb[0],pb[Gb][0])&&cc(lb[1],pb[Gb][1])&&(pb[Gb]=Va),cc(lb[0],pb[Gb][1])&&cc(lb[1],pb[Gb][0])&&(pb[Gb]=Va)}else Xa.transform=Va.transform;Xa.children&&Xa.children.forEach(function(p){M(p,Xa)});return Xa}function U(Xa,Va){var lb=C(Xa,Va);Xa=lb.project([Xa*
Ld,Va*Ld]);if(lb=lb.transform)return[lb[0]*Xa[0]+lb[1]*Xa[1]+lb[2],-(lb[3]*Xa[0]+lb[4]*Xa[1]+lb[5])];Xa[1]=-Xa[1];return Xa}function ca(Xa,Va){var lb=Xa.project.invert,pb=Xa.transform,Gb=Va;if(pb){var Wb=1/(pb[0]*pb[4]-pb[1]*pb[3]);pb=[Wb*pb[4],-Wb*pb[1],Wb*(pb[1]*pb[5]-pb[2]*pb[4]),-Wb*pb[3],Wb*pb[0],Wb*(pb[2]*pb[3]-pb[0]*pb[5])];Gb=[pb[0]*Gb[0]+pb[1]*Gb[1]+pb[2],pb[3]*Gb[0]+pb[4]*Gb[1]+pb[5]]}if(pb=lb)lb=p=lb(Gb),lb=C(lb[0]*Qd,lb[1]*Qd),pb=Xa===lb;if(pb)return p;var p;Xa=Xa.children;lb=0;for(Gb=
Xa&&Xa.length;lb<Gb;++lb)if(p=ca(Xa[lb],Va))return p}M(B,{transform:null});yb(B)&&(U.invert=function(Xa,Va){return(Xa=ca(B,[Xa,-Va]))&&(Xa[0]*=Qd,Xa[1]*=Qd,Xa)});var ia=q.geoProjection(U),Aa=ia.stream;ia.stream=function(Xa){var Va=ia.rotate(),lb=Aa(Xa),pb=(ia.rotate([0,0]),Aa(Xa));ia.rotate(Va);lb.sphere=function(){pb.polygonStart();pb.lineStart();Yb(pb,B);pb.lineEnd();pb.polygonEnd()};return lb};return ia.angle(-30)}function Yb(B,C,M){var U,ca=C.edges,ia=ca.length;var Aa={type:"MultiPoint",coordinates:C.face};
var Xa=C.face.filter(function(Gb){return 90!==jc(Gb[1])}),Va=q.geoBounds({type:"MultiPoint",coordinates:Xa});Xa=!1;var lb=-1,pb=Va[1][0]-Va[0][0];Va=180===pb||360===pb?[(Va[0][0]+Va[1][0])/2,(Va[0][1]+Va[1][1])/2]:q.geoCentroid(Aa);if(M)for(;++lb<ia&&ca[lb]!==M;);++lb;for(pb=0;pb<ia;++pb)Aa=ca[(pb+lb)%ia],Array.isArray(Aa)?(Xa||(B.point((U=q.geoInterpolate(Aa[0],Va)(1E-6))[0],U[1]),Xa=!0),B.point((U=q.geoInterpolate(Aa[1],Va)(1E-6))[0],U[1])):(Xa=!1,Aa!==M&&Yb(B,Aa,C))}function cc(B,C){return B&&
C&&B[0]===C[0]&&B[1]===C[1]}function va(B,C){for(var M,U,ca=B.length,ia=null,Aa=0;Aa<ca;++Aa){M=B[Aa];for(var Xa=C.length;0<=--Xa;)if(U=C[Xa],M[0]===U[0]&&M[1]===U[1]){if(ia)return[ia,M];ia=M}}}function Ra(B){for(var C=B.length,M=[],U=B[C-1],ca=0;ca<C;++ca)M.push([U,U=B[ca]]);return M}function yb(B){return B.project.invert||B.children&&B.children.some(yb)}function Nb(B,C){B=A(B,C);return[B[0]*me,B[1]]}function gc(B,C){for(var M=0,U=B.length,ca=0;M<U;++M)ca+=B[M]*C[M];return ca}function tc(B,C){return[B[1]*
C[2]-B[2]*C[1],B[2]*C[0]-B[0]*C[2],B[0]*C[1]-B[1]*C[0]]}function lc(B){return[Jd(B[1],B[0])*Ld,Pa(Ye(-1,Oe(1,B[2])))*Ld]}function xb(B){var C=B[0]*Qd;B=B[1]*Qd;var M=Lb(B);return[M*Lb(C),M*fc(C),fc(B)]}function Qb(B,C){return{type:"FeatureCollection",features:B.features.map(function(M){return Gc(M,C)})}}function Gc(B,C){return{type:"Feature",id:B.id,properties:B.properties,geometry:Ac(B.geometry,C)}}function $b(B,C){return{type:"GeometryCollection",geometries:B.geometries.map(function(M){return Ac(M,
C)})}}function Ac(B,C){if(!B)return null;if("GeometryCollection"===B.type)return $b(B,C);switch(B.type){case "Point":var M=ef;break;case "MultiPoint":M=ef;break;case "LineString":M=xf;break;case "MultiLineString":M=xf;break;case "Polygon":M=Ff;break;case "MultiPolygon":M=Ff;break;case "Sphere":M=Ff;break;default:return null}q.geoStream(B,C(M));return M.result()}function Jc(B){function C(U,ca){var ia=jc(U)<Yc;ca=B(ia?U:0<U?U-dc:U+dc,ca);U=(ca[0]-ca[1])*ee;ca=(ca[0]+ca[1])*ee;if(ia)return[U,ca];ia=
M*ee;var Aa=0<U^0<ca?-1:1;return[Aa*U-be(ca)*ia,Aa*ca-be(U)*ia]}var M=B(Yc,0)[0]-B(-Yc,0)[0];B.invert&&(C.invert=function(U,ca){var ia=(U+ca)*ee,Aa=(ca-U)*ee,Xa=jc(ia)<.5*M&&jc(Aa)<.5*M;if(!Xa){var Va=M*ee,lb=0<ia^0<Aa?-1:1;U=-lb*U+(0<Aa?1:-1)*Va;ca=-lb*ca+(0<ia?1:-1)*Va;ia=(-U-ca)*ee;Aa=(U-ca)*ee}ca=B.invert(ia,Aa);Xa||(ca[0]+=0<ia?dc:-dc);return ca});return q.geoProjection(C).rotate([-90,-90,45]).clipAngle(179.999)}function Hc(B){function C(U,ca){U=M?Pd(U*M/2)/M:U/2;if(!ca)return[2*U,-B];U=2*Wd(U*
fc(ca));var ia=1/Pd(ca);return[fc(U)*ia,ca+(1-Lb(U))*ia-B]}var M=fc(B);C.invert=function(U,ca){if(1E-6>jc(ca+=B))return[M?2*Wd(M*U/2)/M:U,0];var ia=U*U+ca*ca,Aa=0,Xa=10;do{var Va=Pd(Aa);var lb=1/Lb(Aa),pb=ia-2*ca*Aa+Aa*Aa;Aa-=Va=(Va*pb+2*(Aa-ca))/(2+pb*lb*lb+2*(Aa-ca)*Va)}while(1E-6<jc(Va)&&0<--Xa);U*=Va=Pd(Aa);ca=Pd(jc(ca)<jc(Aa+1/Va)?.5*Pa(U):.5*Hb(U)+dc/4)/fc(Aa);return[M?2*Wd(M*ca)/M:2*ca,Aa]};return C}function ad(B,C){var M=Oe(18,36*jc(C)/dc),U=oe(M);M-=U;var ca=(Va=kf[U])[0],ia=Va[1],Aa=(Va=
kf[++U])[0],Xa=Va[1];U=(Va=kf[Oe(19,++U)])[0];Va=Va[1];var Va;return[B*(Aa+M*(U-ca)/2+M*M*(U-2*Aa+ca)/2),(0<C?Yc:-Yc)*(Xa+M*(Va-ia)/2+M*M*(Va-2*Xa+ia)/2)]}function md(B){function C(M,U){var ca=Lb(U),ia=(B-1)/(B-ca*Lb(M));return[ia*ca*fc(M),ia*fc(U)]}C.invert=function(M,U){var ca=M*M+U*U,ia=Ma(ca);ca=(B-Ma(1-ca*(B+1)/(B-1)))/((B-1)/ia+ia/(B-1));return[Jd(M*ca,ia*Ma(1-ca*ca)),ia?Pa(U*ca/ia):0]};return C}function od(B,C){function M(Aa,Xa){Aa=U(Aa,Xa);Xa=Aa[1];var Va=Xa*ia/(B-1)+ca;return[Aa[0]*ca/Va,
Xa/Va]}var U=md(B);if(!C)return U;var ca=Lb(C),ia=fc(C);M.invert=function(Aa,Xa){var Va=(B-1)/(B-1-Xa*ia);return U.invert(Va*Aa,Va*Xa*ca)};return M}function rd(B){return 0<B.length}function Vd(B){return-90===B||90===B?[0,B]:[-180,Math.floor(1E4*B)/1E4]}function Zd(B){var C=B[0],M=B[1],U=!1;-179.9999>=C?(C=-180,U=!0):179.9999<=C&&(C=180,U=!0);-89.9999>=M?(M=-90,U=!0):89.9999<=M&&(M=90,U=!0);return U?[C,M]:B}function ze(B){return B.map(Zd)}function te(B,C,M){for(var U=0,ca=B.length;U<ca;++U){var ia=
B[U].slice();M.push({index:-1,polygon:C,ring:ia});for(var Aa=0,Xa=ia.length;Aa<Xa;++Aa){var Va=ia[Aa],lb=Va[0],pb=Va[1];if(-179.9999>=lb||179.9999<=lb||-89.9999>=pb||89.9999<=pb){ia[Aa]=Zd(Va);for(Va=Aa+1;Va<Xa;++Va){var Gb=ia[Va];lb=Gb[0];Gb=Gb[1];if(-179.9999<lb&&179.9999>lb&&-89.9999<Gb&&89.9999>Gb)break}if(Va!==Aa+1){Aa?(Aa={index:-1,polygon:C,ring:ia.slice(0,Aa+1)},Aa.ring[Aa.ring.length-1]=Vd(pb),M[M.length-1]=Aa):M.pop();if(Va>=Xa)break;M.push({index:-1,polygon:C,ring:ia=ia.slice(Va-1)});ia[0]=
Vd(ia[0][1]);Aa=-1;Xa=ia.length}}}}}function ue(B){var C,M=B.length,U={},ca={};for(C=0;C<M;++C){var ia=B[C];var Aa=ia.ring[0];var Xa=ia.ring[ia.ring.length-1];Aa[0]===Xa[0]&&Aa[1]===Xa[1]?(ia.polygon.push(ia.ring),B[C]=null):(ia.index=C,U[Aa]=ca[Xa]=ia)}for(C=0;C<M;++C)if(ia=B[C]){Aa=ia.ring[0];Xa=ia.ring[ia.ring.length-1];var Va=ca[Aa];var lb=U[Xa];delete U[Aa];delete ca[Xa];Aa[0]===Xa[0]&&Aa[1]===Xa[1]?ia.polygon.push(ia.ring):Va?(delete ca[Aa],delete U[Va.ring[0]],Va.ring.pop(),B[Va.index]=null,
ia={index:-1,polygon:Va.polygon,ring:Va.ring.concat(ia.ring)},Va===lb?ia.polygon.push(ia.ring):(ia.index=M++,B.push(U[ia.ring[0]]=ca[ia.ring[ia.ring.length-1]]=ia))):lb?(delete U[Xa],delete ca[lb.ring[lb.ring.length-1]],ia.ring.pop(),ia={index:M++,polygon:lb.polygon,ring:ia.ring.concat(lb.ring)},B[lb.index]=null,B.push(U[ia.ring[0]]=ca[ia.ring[ia.ring.length-1]]=ia)):(ia.ring.push(ia.ring[0]),ia.polygon.push(ia.ring))}}function bf(B){var C={type:"Feature",geometry:vd(B.geometry)};null!=B.id&&(C.id=
B.id);null!=B.bbox&&(C.bbox=B.bbox);null!=B.properties&&(C.properties=B.properties);return C}function vd(B){if(null==B)return B;switch(B.type){case "GeometryCollection":var C={type:"GeometryCollection",geometries:B.geometries.map(vd)};break;case "Point":C={type:"Point",coordinates:Zd(B.coordinates)};break;case "MultiPoint":case "LineString":C={type:B.type,coordinates:ze(B.coordinates)};break;case "MultiLineString":C={type:"MultiLineString",coordinates:B.coordinates.map(ze)};break;case "Polygon":var M=
[];te(B.coordinates,M,C=[]);ue(C);C={type:"Polygon",coordinates:M};break;case "MultiPolygon":C=[];M=-1;var U=B.coordinates.length;for(var ca=Array(U);++M<U;)te(B.coordinates[M],ca[M]=[],C);ue(C);C={type:"MultiPolygon",coordinates:ca.filter(rd)};break;default:return B}null!=B.bbox&&(C.bbox=B.bbox);return C}function P(B,C){C=Pd(C/2);var M=fc(ne*C);return[B*(.74482-.34588*M*M),1.70711*C]}function na(B,C,M){var U=q.geoInterpolate(C,M);M=U(.5);C=q.geoRotation([-M[0],-M[1]])(C);U=U.distance/2;var ca=-Pa(fc(C[1]*
Qd)/fc(U));M=[-M[0],-M[1],-(0<C[0]?dc-ca:ca)*Ld];B=q.geoProjection(B(U)).rotate(M);var ia=q.geoRotation(M),Aa=B.center;delete B.rotate;B.center=function(Xa){return arguments.length?Aa(ia(Xa)):ia.invert(Aa())};return B.clipAngle(90)}function Da(B){function C(U,ca){U=q.geoGnomonicRaw(U,ca);U[0]*=M;return U}var M=Lb(B);C.invert=function(U,ca){return q.geoGnomonicRaw.invert(U/M,ca)};return C}function gb(B,C){return na(Da,B,C)}function Ta(B){function C(Xa,Va){var lb=Hb(Lb(Va)*Lb(Xa-M));Xa=Hb(Lb(Va)*Lb(Xa-
U));lb*=lb;Xa*=Xa;return[(lb-Xa)/(2*B),(0>Va?-1:1)*Ma(4*ca*Xa-(ca-lb+Xa)*(ca-lb+Xa))/(2*B)]}if(!(B*=2))return q.geoAzimuthalEquidistantRaw;var M=-B/2,U=-M,ca=B*B,ia=Pd(U),Aa=.5/fc(U);C.invert=function(Xa,Va){var lb=Va*Va,pb=Lb(Ma(lb+(Gb=Xa+M)*Gb));Xa=Lb(Ma(lb+(Gb=Xa+U)*Gb));var Gb,Wb;return[Jd(Wb=pb-Xa,Gb=(pb+Xa)*ia),(0>Va?-1:1)*Hb(Ma(Gb*Gb+Wb*Wb)*Aa)]};return C}function Pb(B,C){return na(Ta,B,C)}function kc(B,C){if(1E-6>jc(C))return[B,0];var M=jc(C/Yc),U=Pa(M);if(1E-6>jc(B)||1E-6>jc(jc(C)-Yc))return[0,
be(C)*dc*Pd(U/2)];var ca=Lb(U);U=jc(dc/B-B/dc)/2;var ia=U*U;ca/=M+ca-1;M=ca*(2/M-1);var Aa=M*M,Xa=Aa+ia,Va=ca-Aa,lb=ia+ca;return[be(B)*dc*(U*Va+Ma(ia*Va*Va-Xa*(ca*ca-Aa)))/Xa,be(C)*dc*(M*lb-U*Ma((ia+1)*Xa-lb*lb))/Xa]}function oc(B,C){if(1E-6>jc(C))return[B,0];var M=jc(C/Yc),U=Pa(M);if(1E-6>jc(B)||1E-6>jc(jc(C)-Yc))return[0,be(C)*dc*Pd(U/2)];var ca=Lb(U);U=jc(dc/B-B/dc)/2;var ia=U*U;M=ca*(Ma(1+ia)-U*ca)/(1+ia*M*M);return[be(B)*dc*M,be(C)*dc*Ma(1-M*(2*U+M))]}function qc(B,C){if(1E-6>jc(C))return[B,
0];var M=C/Yc,U=Pa(M);if(1E-6>jc(B)||1E-6>jc(jc(C)-Yc))return[0,dc*Pd(U/2)];C=(dc/B-B/dc)/2;M/=1+Lb(U);return[dc*(be(B)*Ma(C*C+1-M*M)-C),dc*M]}function uc(B,C){if(!C)return[B,0];var M=jc(C);if(!B||M===Yc)return[0,C];var U=M/Yc;M=U*U;var ca=(8*U-M*(M+2)-5)/(2*M*(U-1)),ia=ca*ca,Aa=U*ca,Xa=M+ia+2*Aa;U+=3*ca;ca=B/Yc;ca+=1/ca;ca=be(jc(B)-Yc)*Ma(ca*ca-4);var Va=ca*ca;M=(ca*(Xa+ia-1)+2*Ma(Xa*(M+ia*Va-1)+(1-M)*(M*(U*U+4*ia)+12*Aa*ia+4*ia*ia)))/(4*Xa+Va);return[be(B)*Yc*M,be(C)*Yc*Ma(1+ca*jc(M)-M*M)]}function kd(B,
C,M,U,ca){function ia(Aa,Xa){Xa=M*fc(U*Xa);var Va=Ma(1-Xa*Xa),lb=Ma(2/(1+Va*Lb(Aa*=ca)));return[B*Va*lb*fc(Aa),C*Xa*lb]}ia.invert=function(Aa,Xa){var Va=Aa/B,lb=Xa/C;Va=Ma(Va*Va+lb*lb);lb=2*Pa(Va/2);return[Jd(Aa*Pd(lb),B*Va)/ca,Va&&Pa(Xa*fc(lb)/(C*M*Va))/U]};return ia}function pd(B,C,M,U){var ca=dc/3;B=Ye(B,1E-6);C=Ye(C,1E-6);B=Oe(B,Yc);C=Oe(C,dc-1E-6);M=Ye(M,0);M=Oe(M,99.999999);U=Ye(U,1E-6);var ia=U/100;M=Hb((M/100+1)*Lb(ca))/ca;ca=fc(B)/fc(M*Yc);U=C/dc;C=Ma(ia*fc(B/2)/fc(C/2));B=C/Ma(U*ca*M);C=
1/(C*Ma(U*ca*M));return kd(B,C,ca,M,U)}function yd(){var B=65*Qd,C=60*Qd,M=20,U=200,ca=q.geoProjectionMutator(pd),ia=ca(B,C,M,U);ia.poleline=function(Aa){return arguments.length?ca(B=+Aa*Qd,C,M,U):B*Ld};ia.parallels=function(Aa){return arguments.length?ca(B,C=+Aa*Qd,M,U):C*Ld};ia.inflation=function(Aa){return arguments.length?ca(B,C,M=+Aa,U):M};ia.ratio=function(Aa){return arguments.length?ca(B,C,M,U=+Aa):U};return ia.scale(163.775)}function ld(B,C){return[B*Ma(1-3*C*C/(dc*dc)),C]}function Od(B,C){var M=
Lb(C),U=Lb(B)*M,ca=1-U;C=Lb(B=Jd(fc(B)*M,-fc(C)));B=fc(B);M=Ma(1-U*U);return[B*M-C*ca,-C*M-B*ca]}function de(B,C){var M=Ea(B,C);return[(M[0]+B/Yc)/2,(M[1]+C)/2]}var jc=Math.abs,Wd=Math.atan,Jd=Math.atan2,Lb=Math.cos,Ke=Math.exp,oe=Math.floor,re=Math.log,Ye=Math.max,Oe=Math.min,ff=Math.pow,He=Math.round,be=Math.sign||function(B){return 0<B?1:0>B?-1:0},fc=Math.sin,Pd=Math.tan,dc=Math.PI,Yc=dc/2,ne=dc/4,ee=Math.SQRT1_2,Pc=Ma(2),fe=Ma(dc),Sd=2*dc,Ld=180/dc,Qd=dc/180;Ea.invert=function(B,C){if(!(B*B+4*
C*C>dc*dc+1E-6)){var M=B,U=C,ca=25;do{var ia=fc(M),Aa=fc(M/2),Xa=Lb(M/2),Va=fc(U),lb=Lb(U),pb=fc(2*U),Gb=Va*Va,Wb=lb*lb,p=Aa*Aa,x=1-Wb*Xa*Xa,Q=x?Hb(lb*Xa)*Ma(W=1/x):W=0,W;x=2*Q*lb*Aa-B;var Ha=Q*Va-C,ob=W*(Wb*p+Q*lb*Xa*Gb),Db=W*(.5*ia*pb-2*Q*Va*Aa);ia=.25*W*(pb*Aa-Q*Va*Wb*ia);lb=W*(Gb*Xa+Q*p*lb);Xa=Db*ia-lb*ob;if(!Xa)break;Db=(Ha*Db-x*lb)/Xa;x=(x*ia-Ha*ob)/Xa;M-=Db;U-=x}while((1E-6<jc(Db)||1E-6<jc(x))&&0<--ca);return[M,U]}};db.invert=function(B,C){B*=.375;C*=.375;if(!B&&1<jc(C))return null;var M=1+
B*B+C*C,U=Ma((M-Ma(M*M-4*C*C))/2);M=Pa(U)/3;U?(U=jc(C/U),U=re(U+Ma(U*U-1))/3):(U=jc(B),U=re(U+Ma(U*U+1))/3);var ca=Lb(M),ia=Eb(U),Aa=ia*ia-ca*ca;return[2*be(B)*Jd(cb(U)*ca,.25-Aa),2*be(C)*Jd(ia*fc(M),.25+Aa)]};var Ed=Ma(8),ke=re(1+Pc);Ja.invert=function(B,C){if((ca=jc(C))<ke)return[B,2*Wd(Ke(C))-Yc];var M=ne,U=25,ca;do{var ia=Lb(M/2);var Aa=Pd(M/2);M-=ia=(Ed*(M-ne)-re(Aa)-ca)/(Ed-ia*ia/(2*Aa))}while(1E-12<jc(ia)&&0<--U);return[B/(Lb(M)*(Ed-1/fc(M))),be(C)*M]};Ga.invert=function(B,C){C=2*Pa(C/2);return[B*
Lb(C/2)/Lb(C),C]};var Gd=xa(Pc/Yc,Pc,dc);Oa.invert=function(B,C){var M=2.00276*C;C=0>C?-ne:ne;var U=25;do{var ca=M-Pc*fc(C);C-=ca=(fc(2*C)+2*C-dc*fc(ca))/(2*Lb(2*C)+2+dc*Lb(ca)*Pc*Lb(C))}while(1E-6<jc(ca)&&0<--U);ca=M-Pc*fc(C);return[B*(1/Lb(ca)+1.11072/Lb(C))/2.00276,ca]};ja.invert=function(B,C){return[B/Lb(C),C]};var pe=xa(1,4/dc,dc);A.invert=function(B,C){var M=(M=C/fe-1)*M;return[0<M?B*Ma(dc/M)/2:0,Pa(1-M)]};var Le=Ma(3);I.invert=function(B,C){C=3*Pa(C/(Le*fe));return[fe*B/(Le*(2*Lb(2*C/3)-1)),
C]};H.invert=function(B,C){var M=Ma(8/(3*dc));C/=M;return[B/(M*(1-jc(C)/dc)),C]};O.invert=function(B,C){var M=2-jc(C)/Ma(2*dc/3);return[B*Ma(6*dc)/(2*M),be(C)*Pa((4-M*M)/3)]};ma.invert=function(B,C){var M=Ma(dc*(4+dc))/2;return[B*M/(1+Ma(1-C*C*(4+dc)/(4*dc))),C*M/2]};Ia.invert=function(B,C){C=C*Ma((4+dc)/dc)/2;var M=Pa(C),U=Lb(M);return[B/(2/Ma(dc*(4+dc))*(1+U)),Pa((M+C*(U+2))/(2+Yc))]};Sa.invert=function(B,C){var M=Ma(2+dc);C=C*M/2;return[M*B/(1+Lb(C)),C]};E.invert=function(B,C){var M=1+Yc,U=Ma(M/
2);return[2*B*U/(1+Lb(C*=U)),Pa((C+fc(C))/M)]};var cf=3+2*Pc;ha.invert=function(B,C){if(!(ca=db.invert(B/1.2,1.065*C)))return null;var M=ca[0];ca=ca[1];var U=20,ca;B/=cf;C/=cf;do{var ia=M/2,Aa=ca/2,Xa=fc(ia),Va=Lb(ia),lb=fc(Aa),pb=Lb(Aa),Gb=Lb(ca),Wb=Ma(Gb),p=lb/(pb+Pc*Va*Wb),x=p*p,Q=Ma(2/(1+x)),W=(Pc*pb+(Va+Xa)*Wb)/(Pc*pb+(Va-Xa)*Wb),Ha=Ma(W),ob=Ha-1/Ha,Db=Ha+1/Ha;Aa=Q*ob-2*re(Ha)-B;ia=Q*p*Db-2*Wd(p)-C;var Ub=lb&&ee*Wb*Xa*x/lb,ec=(Pc*Va*pb+Wb)/(2*(pb+Pc*Va*Wb)*(pb+Pc*Va*Wb)*Wb),zc=-.5*p*Q*Q*Q,Cc=
zc*Ub;zc*=ec;var $c=($c=2*pb+Pc*Wb*(Va-Xa))*$c*Ha;Va=(Pc*Va*pb*Wb+Gb)/$c;lb=-(Pc*Xa*lb)/(Wb*$c);Xa=ob*Cc-2*Va/Ha+Q*(Va+Va/W);Ha=ob*zc-2*lb/Ha+Q*(lb+lb/W);Ub=p*Db*Cc-2*Ub/(1+x)+Q*Db*Ub+Q*p*(Va-Va/W);x=p*Db*zc-2*ec/(1+x)+Q*Db*ec+Q*p*(lb-lb/W);p=Ha*Ub-x*Xa;if(!p)break;x=(ia*Ha-Aa*x)/p;Aa=(Aa*Ub-ia*Xa)/p;M-=x;ca=Ye(-Yc,Oe(Yc,ca-Aa))}while((1E-6<jc(x)||1E-6<jc(Aa))&&0<--U);return 1E-6>jc(jc(ca)-Yc)?[0,ca]:U&&[M,ca]};var qf=Lb(35*Qd);Y.invert=function(B,C){C/=1+qf;return[B&&B/(qf*Ma(1-C*C)),2*Wd(C)]};V.invert=
function(B,C){var M=Wd(C/fe);C=Lb(M);M*=2;return[B*fe/2/(Lb(M)*C*C),M]};var gd=r(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),rf=r(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Fe=r(5/6*dc,-.62636,-.0344,0,1.3493,-.05524,0,.045);v.invert=function(B,C){var M=B,U=C,ca=50,ia;do{var Aa=U*U;U-=ia=(U*(1+Aa/12)-C)/(1+Aa/4)}while(1E-6<jc(ia)&&0<--ca);ca=50;B/=1-.162388*Aa;do{var Xa=(Xa=M*M)*Xa;M-=ia=(M*(.87-9.52426E-4*Xa)-B)/(.87-.00476213*Xa)}while(1E-6<jc(ia)&&0<--ca);return[M,
U]};var Pe=r(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);ba.invert=function(B,C){1<jc(B)&&(B=2*be(B)-B);1<jc(C)&&(C=2*be(C)-C);var M=be(B),U=be(C),ca=-M*B,ia=-U*C;C=1>ia/ca;B=C?ia:ca;var Aa=C?ca:ia,Xa=0,Va=1;ca=.5;for(var lb=50;;){ia=ca*ca;var pb=Ma(ca),Gb=Pa(1/Ma(1+ia)),Wb=1-ia+ca*(1+ia)*Gb,p=(1-pb)/Wb,x=Ma(p),Q=p*(1+ia),W=x*(1-ia),Ha=Ma(Q-B*B);W=Aa+W+ca*Ha;if(1E-12>jc(Va-Xa)||0===--lb||0===W)break;0<W?Xa=ca:Va=ca;ca=.5*(Xa+Va)}lb?(Aa=Pa(pb),lb=Lb(Aa),Xa=1/lb,Va=2*pb*lb,pb=(-Wb*lb-(1-
pb)*(-3*ca+Gb*(1+3*ia))*Va)/(Wb*Wb),ca=[dc/4*(B*(-2*Xa*(.5*pb/x*(1-ia)-2*ca*x*Va)+-Xa*Va*Ha)+-Xa*(ca*(1+ia)*pb+p*(1+3*ia)*Va)*Pa(B/Ma(Q))),Aa]):ca=null;B=ca[0];ca=ca[1];ia=Lb(ca);C&&(B=-Yc-B);return[M*(Jd(fc(B)*ia,-fc(ca))+dc),U*Pa(Lb(B)*ia)]};eb.invert=function(B,C){var M=(Pc-1)/(Pc+1),U=Ma(1-M*M);C=.5*fb(Yc,U*U)-C;B=-B;U*=U;if(C)if(C=ua(C,U),B){B=ua(B,1-U);var ca=B[1]*B[1]+U*C[0]*C[0]*B[0]*B[0];C=[[C[0]*B[2]/ca,C[1]*C[2]*B[0]*B[1]/ca],[C[1]*B[1]/ca,-C[0]*C[2]*B[0]*B[2]/ca],[C[2]*B[1]*B[2]/ca,-U*
C[0]*C[1]*B[0]/ca]]}else C=[[C[0],0],[C[1],0],[C[2],0]];else B=ua(B,1-U),C=[[0,B[0]/B[1]],[1/B[1],0],[B[2]/B[1],0]];U=C[0];C=C[1];B=C[0]*C[0]+C[1]*C[1];U=[(U[0]*C[0]+U[1]*C[1])/B,(U[1]*C[0]-U[0]*C[1])/B];return[Jd(U[1],U[0])/-1,2*Wd(Ke(-.5*re(M*U[0]*U[0]+M*U[1]*U[1])))-Yc]};var Ee=Pa(1-1/3)*Ld,$e=L(0);za.invert=function(B,C){return-.7109889596207567<C?Gd.invert(B,C-.0528035274542):ja.invert(B,C)};wb.invert=function(B,C){return.7109889596207567<jc(C)?Gd.invert(B,C+(0<C?.0528035274542:-.0528035274542)):
ja.invert(B,C)};var Qe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],df=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Be=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,
0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],D=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],R=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Na=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];tb.invert=function(B,
C){return[Sd/3*B/Ma(dc*dc/3-C*C),C]};var Ab=dc/Pc;Mb.invert=function(B,C){var M=jc(B),U=jc(C),ca=1E-6,ia=Yc;U<Ab?ia*=U/Ab:ca+=6*Hb(Ab/U);for(var Aa=0;25>Aa;Aa++){var Xa=fc(ia),Va=Ma(Lb(ia)),lb=fc(ia/2),pb=Lb(ia/2),Gb=fc(ca/6),Wb=Lb(ca/6),p=.5*ca*(1+Va)-M,x=ia/(pb*Wb)-U;Xa=Va?-.25*ca*Xa/Va:0;Va=.5*(1+Va);lb=(1+.5*ia*lb/pb)/(pb*Wb);Gb=ia/pb*(Gb/6)/(Wb*Wb);pb=Xa*Gb-lb*Va;Gb=(p*Gb-x*Va)/pb;p=(x*Xa-p*lb)/pb;ia-=Gb;ca-=p;if(1E-6>jc(Gb)&&1E-6>jc(p))break}return[0>B?-ca:ca,0>C?-ia:ia]};xc.invert=function(B,
C){var M=be(B)*dc,U=C/2,ca=50;do{var ia=M*M,Aa=U*U,Xa=M*U,Va=M*(.975534+Aa*(-.119161+-.0143059*ia+-.0547009*Aa))-B,lb=U*(1.00384+ia*(.0802894+-.02855*Aa+1.99025E-4*ia)+Aa*(.0998909+-.0491032*Aa))-C,pb=.975534-Aa*(.119161+.0429177*ia+.0547009*Aa),Gb=-Xa*(.238322+.2188036*Aa+.0286118*ia);Xa*=.1605788+7.961E-4*ia+-.0571*Aa;Aa=1.00384+ia*(.0802894+1.99025E-4*ia)+Aa*(3*(.0998909-.02855*ia)-.245516*Aa);ia=Gb*Xa-Aa*pb;Gb=(lb*Gb-Va*Aa)/ia;Va=(Va*Xa-lb*pb)/ia;M-=Gb;U-=Va}while((1E-6<jc(Gb)||1E-6<jc(Va))&&
0<--ca);return ca&&[M,U]};Xc.invert=function(B,C){var M=B*B,U=C*C+1,ca=M+U;M=B?ee*Ma((ca-Ma(ca*ca-4*M))/M):1/Ma(U);return[Pa(B*M),be(C)*Hb(M)]};xd.invert=function(B,C){return[B,2.5*Wd(Ke(.8*C))-.625*dc]};var zb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Jb=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ac=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],
[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Oc=[[.9245,0],[0,0],[.01943,0]],Fc=[[.721316,0],[0,0],[-.00881625,-.00617325]],bd=Ma(6),cd=Ma(7);Rb.invert=function(B,C){C=3*Pa(C*cd/9);return[B*cd/(bd*(2*Lb(2*C/3)-1)),Pa(3*fc(C)*bd/7)]};Rc.invert=function(B,C){C=C*Ma(2+Pc)/(2*Ma(3));var M=2*Pa(C);return[3*Pc*B/(1+2*Lb(M)/Lb(M/2)),Pa((C+fc(M))/(1+ee))]};se.invert=function(B,C){var M=Ma(6/(4+dc));C/=M;1E-6>jc(jc(C)-Yc)&&(C=0>C?-Yc:Yc);return[1.5*B/(M*(.5+Lb(C))),
Pa((C/2+fc(C))/(1+dc/4))]};De.invert=function(B,C){var M=C,U=25;do{var ca=M*M;var ia=ca*ca;M-=ca=(M*(1.01183+ia*ia*(-.02625+.01926*ca-.00396*ia))-C)/(1.01183+ia*ia*(-.23625+.21186*ca+-.05148*ia))}while(1E-12<jc(ca)&&0<--U);ca=M*M;ia=ca*ca;C=ca*ia;return[B/(.84719-.13063*ca+C*C*(-.04515+.05494*ca-.02326*ia+.00331*C)),M]};Ne.invert=function(B,C){for(var M=C/2,U=0,ca=Infinity;10>U&&1E-6<jc(ca);++U)ca=Lb(C/2),C-=ca=(C-Pd(C/2)-M)/(1-.5/(ca*ca));return[2*B/(1+Lb(C)),C]};var jd=[[[[-180,0],[-90,90],[0,0]],
[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];Md.invert=function(B,C){B/=Yc;C/=Yc;var M=B*B,U=M+C*C,ca=dc*dc;return[B?(U-1+Ma((1-U)*(1-U)+4*M))/(2*B)*Yc:0,Wa(function(ia){return U*(dc*fc(ia)-2*ia)*dc+4*ia*ia*(C-fc(ia))+2*dc*ia-ca*C},0)]};var wd=5*.23185;K.invert=function(B,C){1.790857183<C?C=1.790857183:-1.790857183>C&&(C=-1.790857183);var M=C;do{var U=M*M;M-=U=(M*(1.0148+U*U*(.23185+U*(-.14499+.02406*U)))-C)/(1.0148+U*U*(wd+U*(-1.01493+.21654*U)))}while(1E-6<jc(U));
return[B,M]};fa.invert=function(B,C){if(1E-6>jc(C))return[B,0];var M=B*B+C*C,U=.5*C,ca=10;do{var ia=Pd(U);var Aa=1/Lb(U),Xa=M-2*C*U+U*U;U-=ia=(ia*Xa+2*(U-C))/(2+Xa*Aa*Aa+2*(U-C)*ia)}while(1E-6<jc(ia)&&0<--ca);ia=Pd(U);return[(jc(C)<jc(U+1/ia)?Pa(B*ia):be(C)*be(B)*(Hb(jc(B*ia))+Yc))/fc(U),U]};var Hd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ge=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(B){return B.map(function(C){return Hd[C]})}),me=2/Ma(3);Nb.invert=function(B,
C){return A.invert(B/me,C)};var qe=function(){},he=[],Fd=[],ef={point:function(B,C){he.push([B,C])},result:function(){var B=he.length?2>he.length?{type:"Point",coordinates:he[0]}:{type:"MultiPoint",coordinates:he}:null;he=[];return B}},xf={lineStart:qe,point:function(B,C){he.push([B,C])},lineEnd:function(){he.length&&(Fd.push(he),he=[])},result:function(){var B=Fd.length?2>Fd.length?{type:"LineString",coordinates:Fd[0]}:{type:"MultiLineString",coordinates:Fd}:null;Fd=[];return B}},Ff={polygonStart:qe,
lineStart:qe,point:function(B,C){he.push([B,C])},lineEnd:function(){var B=he.length;if(B){do he.push(he[0].slice());while(4>++B);Fd.push(he);he=[]}},polygonEnd:qe,result:function(){if(!Fd.length)return null;var B=[],C=[];Fd.forEach(function(M){if(4>(ca=M.length))var U=!1;else{U=0;for(var ca,ia=M[ca-1][1]*M[0][0]-M[ca-1][0]*M[0][1];++U<ca;)ia+=M[U-1][1]*M[U][0]-M[U-1][0]*M[U][1];U=0>=ia}U?B.push([M]):C.push(M)});C.forEach(function(M){var U=M[0];B.some(function(ca){for(var ia=ca[0],Aa=U[0],Xa=U[1],
Va=!1,lb=0,pb=ia.length,Gb=pb-1;lb<pb;Gb=lb++){var Wb=ia[lb],p=Wb[0];Wb=Wb[1];var x=ia[Gb];Gb=x[0];x=x[1];Wb>Xa^x>Xa&&Aa<(Gb-p)*(Xa-Wb)/(x-Wb)+p&&(Va=!Va)}if(Va)return ca.push(M),!0})||B.push([M])});Fd=[];return B.length?1<B.length?{type:"MultiPolygon",coordinates:B}:{type:"Polygon",coordinates:B[0]}:null}},kf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],
[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];kf.forEach(function(B){B[1]*=1.0144});ad.invert=function(B,C){var M=C/Yc,U=90*M,ca=Oe(18,jc(U/5)),ia=Ye(0,oe(ca));do{var Aa=kf[ia][1],Xa=kf[ia+1][1],Va=kf[Oe(19,ia+2)][1],lb=Va-Aa;Aa=Va-2*Xa+Aa;Xa=2*(jc(M)-Xa)/lb;lb=Aa/lb;lb=Xa*(1-lb*Xa*(1-2*lb*Xa));if(0<=lb||1===ia){U=(0<=C?5:-5)*(lb+ca);M=50;do ca=Oe(18,jc(U)/5),ia=oe(ca),lb=ca-ia,Aa=kf[ia][1],Xa=kf[ia+1][1],Va=kf[Oe(19,ia+2)][1],U-=(ca=(0<=C?Yc:-Yc)*(Xa+lb*(Va-Aa)/2+lb*lb*(Va-2*
Xa+Aa)/2)-C)*Ld;while(1E-12<jc(ca)&&0<--M);break}}while(0<=--ia);C=kf[ia][0];ca=kf[ia+1][0];ia=kf[Oe(19,ia+2)][0];return[B/(ca+lb*(ia-C)/2+lb*lb*(ia-2*ca+C)/2),U*Qd]};P.invert=function(B,C){C/=1.70711;var M=fc(ne*C);return[B/(.74482-.34588*M*M),2*Wd(C)]};kc.invert=function(B,C){if(1E-6>jc(C))return[B,0];if(1E-6>jc(B))return[0,Yc*fc(2*Wd(C/dc))];var M=(B/=dc)*B,U=(C/=dc)*C,ca=M+U,ia=ca*ca,Aa=-jc(C)*(1+ca),Xa=Aa-2*U+M,Va=-2*Aa+1+2*U+ia,lb=U/Va+(2*Xa*Xa*Xa/(Va*Va*Va)-9*Aa*Xa/(Va*Va))/27,pb=(Aa-Xa*Xa/
(3*Va))/Va;Aa=2*Ma(-pb/3);lb=Hb(3*lb/(pb*Aa))/3;return[dc*(ca-1+Ma(1+2*(M-U)+ia))/(2*B),be(C)*dc*(-Aa*Lb(lb+dc/3)-Xa/(3*Va))]};oc.invert=function(B,C){if(!B)return[0,Yc*fc(2*Wd(C/dc))];var M=jc(B/dc),U=(1-M*M-(C/=dc)*C)/(2*M),ca=Ma(U*U+1);return[be(B)*dc*(ca-U),be(C)*Yc*fc(2*Jd(Ma((1-2*U*M)*(U+ca)-M),Ma(ca+U+M)))]};qc.invert=function(B,C){if(!C)return[B,0];C/=dc;var M=(dc*dc*(1-C*C)-B*B)/(2*dc*B);return[B?dc*(be(B)*Ma(M*M+1)-M):0,Yc*fc(2*Wd(C))]};uc.invert=function(B,C){if(!B||!C)return[B,C];var M=
be(C);C=jc(C)/dc;var U=be(B)*B/Yc,ca=(U*U-1+4*C*C)/jc(U),ia=ca*ca,Aa=C*(2-(.5<C?Oe(C,jc(B)):0));C=B*B+C*C;var Xa=50;do{var Va=Aa*Aa;var lb=(8*Aa-Va*(Va+2)-5)/(2*Va*(Aa-1));var pb=(3*Aa-Va*Aa-10)/(2*Va*Aa),Gb=lb*lb,Wb=Aa*lb,p=Aa+lb,x=p*p,Q=Aa+3*lb,W=-2*p*(4*Wb*Gb+(1-4*Va+3*Va*Va)*(1+pb)+Gb*(-6+14*Va-ia+(-8+8*Va-2*ia)*pb)+Wb*(-8+12*Va+(-10+10*Va-ia)*pb));Va=Ma(x*(Va+Gb*ia-1)+(1-Va)*(Va*(Q*Q+4*Gb)+Gb*(12*Wb+4*Gb)));Aa-=lb=(ca*(x+Gb-1)+2*Va-U*(4*x+ia))/(ca*(2*lb*pb+2*p*(1+pb))+W/Va-8*p*(ca*(-1+Gb+x)+
2*Va)*(1+pb)/(ia+4*x))}while(1E-6<lb*C*C&&0<--Xa);return[be(B)*(Ma(ca*ca+4)+ca)*dc/4,M*Yc*Aa]};var cg=4*dc+3*Ma(3),yf=2*Ma(2*dc*Ma(3)/cg),Xf=xa(yf*Ma(3)/dc,yf,cg/6);ld.invert=function(B,C){return[B/Ma(1-3*C*C/(dc*dc)),C]};Od.invert=function(B,C){var M=(B*B+C*C)/-2,U=Ma(-M*(2+M)),ca=C*M+B*U;B=B*M-C*U;C=Ma(B*B+ca*ca);return[Jd(U*ca,C*(1+M)),C?-Pa(U*B/C):0]};de.invert=function(B,C){var M=B,U=C,ca=25;do{var ia=Lb(U),Aa=fc(U),Xa=fc(2*U),Va=Aa*Aa,lb=ia*ia,pb=fc(M),Gb=Lb(M/2),Wb=fc(M/2),p=Wb*Wb,x=1-lb*Gb*
Gb,Q=x?Hb(ia*Gb)*Ma(W=1/x):W=0,W;x=.5*(2*Q*ia*Wb+M/Yc)-B;var Ha=.5*(Q*Aa+U)-C,ob=.5*W*(lb*p+Q*ia*Gb*Va)+.5/Yc,Db=W*(pb*Xa/4-Q*Aa*Wb);Aa=.125*W*(Xa*Wb-Q*Aa*lb*pb);Va=.5*W*(Va*Gb+Q*p*ia)+.5;ia=Db*Aa-Va*ob;Db=(Ha*Db-x*Va)/ia;x=(x*Aa-Ha*ob)/ia;M-=Db;U-=x}while((1E-6<jc(Db)||1E-6<jc(x))&&0<--ca);return[M,U]};n.geoAiry=function(){var B=Yc,C=q.geoProjectionMutator(qb),M=C(B);M.radius=function(U){return arguments.length?C(B=U*Qd):B*Ld};return M.scale(179.976).clipAngle(147)};n.geoAiryRaw=qb;n.geoAitoff=function(){return q.geoProjection(Ea).scale(152.63)};
n.geoAitoffRaw=Ea;n.geoArmadillo=function(){var B=20*Qd,C=0<=B?1:-1,M=Pd(C*B),U=q.geoProjectionMutator($a),ca=U(B),ia=ca.stream;ca.parallel=function(Aa){if(!arguments.length)return B*Ld;M=Pd((C=0<=(B=Aa*Qd)?1:-1)*B);return U(B)};ca.stream=function(Aa){var Xa=ca.rotate(),Va=ia(Aa),lb=(ca.rotate([0,0]),ia(Aa)),pb=ca.precision();ca.rotate(Xa);Va.sphere=function(){lb.polygonStart();lb.lineStart();for(var Gb=-180*C;180>C*Gb;Gb+=90*C)lb.point(Gb,90*C);if(B)for(;-180<=C*(Gb-=3*C*pb);)lb.point(Gb,C*-Jd(Lb(Gb*
Qd/2),M)*Ld);lb.lineEnd();lb.polygonEnd()};return Va};return ca.scale(218.695).center([0,28.0974])};n.geoArmadilloRaw=$a;n.geoAugust=function(){return q.geoProjection(db).scale(66.1603)};n.geoAugustRaw=db;n.geoBaker=function(){return q.geoProjection(Ja).scale(112.314)};n.geoBakerRaw=Ja;n.geoBerghaus=function(){var B=5,C=q.geoProjectionMutator(ea),M=C(B),U=M.stream,ca=-Lb(.01*Qd),ia=fc(.01*Qd);M.lobes=function(Aa){return arguments.length?C(B=+Aa):B};M.stream=function(Aa){var Xa=M.rotate(),Va=U(Aa),
lb=(M.rotate([0,0]),U(Aa));M.rotate(Xa);Va.sphere=function(){lb.polygonStart();lb.lineStart();for(var pb=0,Gb=360/B,Wb=2*dc/B,p=90-180/B,x=Yc;pb<B;++pb,p-=Gb,x-=Wb)lb.point(Jd(ia*Lb(x),ca)*Ld,Pa(ia*fc(x))*Ld),-90>p?(lb.point(-90,-180-p-.01),lb.point(-90,-180-p+.01)):(lb.point(90,p+.01),lb.point(90,p-.01));lb.lineEnd();lb.polygonEnd()};return Va};return M.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};n.geoBerghausRaw=ea;n.geoBertin1953=function(){return q.geoProjection(aa()).rotate([-16.5,
-42]).scale(176.57).center([7.93,.09])};n.geoBertin1953Raw=aa;n.geoBoggs=function(){return q.geoProjection(Oa).scale(160.857)};n.geoBoggsRaw=Oa;n.geoBonne=function(){return ya(wa).scale(123.082).center([0,26.1441]).parallel(45)};n.geoBonneRaw=wa;n.geoBottomley=function(){var B=.5,C=q.geoProjectionMutator(sa),M=C(B);M.fraction=function(U){return arguments.length?C(B=+U):B};return M.scale(158.837)};n.geoBottomleyRaw=sa;n.geoBromley=function(){return q.geoProjection(pe).scale(152.63)};n.geoBromleyRaw=
pe;n.geoChamberlin=jb;n.geoChamberlinRaw=Ba;n.geoChamberlinAfrica=function(){return jb([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};n.geoCollignon=function(){return q.geoProjection(A).scale(95.6464).center([0,30])};n.geoCollignonRaw=A;n.geoCraig=function(){return ya(y).scale(249.828).clipAngle(90)};n.geoCraigRaw=y;n.geoCraster=function(){return q.geoProjection(I).scale(156.19)};n.geoCrasterRaw=I;n.geoCylindricalEqualArea=function(){return ya(L).parallel(38.58).scale(195.044)};n.geoCylindricalEqualAreaRaw=
L;n.geoCylindricalStereographic=function(){return ya(z).scale(124.75)};n.geoCylindricalStereographicRaw=z;n.geoEckert1=function(){return q.geoProjection(H).scale(165.664)};n.geoEckert1Raw=H;n.geoEckert2=function(){return q.geoProjection(O).scale(165.664)};n.geoEckert2Raw=O;n.geoEckert3=function(){return q.geoProjection(ma).scale(180.739)};n.geoEckert3Raw=ma;n.geoEckert4=function(){return q.geoProjection(Ia).scale(180.739)};n.geoEckert4Raw=Ia;n.geoEckert5=function(){return q.geoProjection(Sa).scale(173.044)};
n.geoEckert5Raw=Sa;n.geoEckert6=function(){return q.geoProjection(E).scale(173.044)};n.geoEckert6Raw=E;n.geoEisenlohr=function(){return q.geoProjection(ha).scale(62.5271)};n.geoEisenlohrRaw=ha;n.geoFahey=function(){return q.geoProjection(Y).scale(137.152)};n.geoFaheyRaw=Y;n.geoFoucaut=function(){return q.geoProjection(V).scale(135.264)};n.geoFoucautRaw=V;n.geoFoucautSinusoidal=function(){var B=.5,C=q.geoProjectionMutator(w),M=C(B);M.alpha=function(U){return arguments.length?C(B=+U):B};return M.scale(168.725)};
n.geoFoucautSinusoidalRaw=w;n.geoGilbert=function(B){function C(ia){return U([ia[0]/2,Pa(Pd(ia[1]/2*Qd))*Ld])}function M(ia){C[ia]=function(){return arguments.length?(U[ia].apply(U,arguments),C):U[ia]()}}null==B&&(B=q.geoOrthographic);var U=B(),ca=q.geoEquirectangular().scale(Ld).precision(0).clipAngle(null).translate([0,0]);U.invert&&(C.invert=function(ia){return F(U.invert(ia))});C.stream=function(ia){var Aa=U.stream(ia);ia=ca.stream({point:function(Xa,Va){Aa.point(Xa/2,Pa(Pd(-Va/2*Qd))*Ld)},lineStart:function(){Aa.lineStart()},
lineEnd:function(){Aa.lineEnd()},polygonStart:function(){Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd()}});ia.sphere=Aa.sphere;return ia};C.rotate=function(ia){return arguments.length?(ca.rotate(ia),C):ca.rotate()};C.center=function(ia){return arguments.length?(U.center([ia[0]/2,Pa(Pd(ia[1]/2*Qd))*Ld]),C):F(U.center())};M("angle");M("clipAngle");M("clipExtent");M("fitExtent");M("fitHeight");M("fitSize");M("fitWidth");M("scale");M("translate");M("precision");return C.scale(249.5)};n.geoGingery=
function(){var B=6,C=30*Qd,M=Lb(C),U=fc(C),ca=q.geoProjectionMutator(h),ia=ca(C,B),Aa=ia.stream,Xa=-Lb(.01*Qd),Va=fc(.01*Qd);ia.radius=function(lb){if(!arguments.length)return C*Ld;M=Lb(C=lb*Qd);U=fc(C);return ca(C,B)};ia.lobes=function(lb){return arguments.length?ca(C,B=+lb):B};ia.stream=function(lb){var pb=ia.rotate(),Gb=Aa(lb),Wb=(ia.rotate([0,0]),Aa(lb));ia.rotate(pb);Gb.sphere=function(){Wb.polygonStart();Wb.lineStart();for(var p=0,x=2*dc/B,Q=0;p<B;++p,Q-=x)Wb.point(Jd(Va*Lb(Q),Xa)*Ld,Pa(Va*
fc(Q))*Ld),Wb.point(Jd(U*Lb(Q-x/2),M)*Ld,Pa(U*fc(Q-x/2))*Ld);Wb.lineEnd();Wb.polygonEnd()};return Gb};return ia.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};n.geoGingeryRaw=h;n.geoGinzburg4=function(){return q.geoProjection(gd).scale(149.995)};n.geoGinzburg4Raw=gd;n.geoGinzburg5=function(){return q.geoProjection(rf).scale(153.93)};n.geoGinzburg5Raw=rf;n.geoGinzburg6=function(){return q.geoProjection(Fe).scale(130.945)};n.geoGinzburg6Raw=Fe;n.geoGinzburg8=function(){return q.geoProjection(v).scale(131.747)};
n.geoGinzburg8Raw=v;n.geoGinzburg9=function(){return q.geoProjection(Pe).scale(131.087)};n.geoGinzburg9Raw=Pe;n.geoGringorten=function(){return q.geoProjection(J(ba)).scale(239.75)};n.geoGringortenRaw=ba;n.geoGuyou=function(){return q.geoProjection(J(eb)).scale(151.496)};n.geoGuyouRaw=eb;n.geoHammer=function(){var B=2,C=q.geoProjectionMutator(pa),M=C(B);M.coefficient=function(U){return arguments.length?C(B=+U):B};return M.scale(169.529)};n.geoHammerRaw=pa;n.geoHammerRetroazimuthal=function(){var B=
0,C=q.geoProjectionMutator(Ca),M=C(B),U=M.rotate,ca=M.stream,ia=q.geoCircle();M.parallel=function(Aa){if(!arguments.length)return B*Ld;var Xa=M.rotate();return C(B=Aa*Qd).rotate(Xa)};M.rotate=function(Aa){if(!arguments.length)return Aa=U.call(M),Aa[1]+=B*Ld,Aa;U.call(M,[Aa[0],Aa[1]-B*Ld]);ia.center([-Aa[0],-Aa[1]]);return M};M.stream=function(Aa){Aa=ca(Aa);Aa.sphere=function(){Aa.polygonStart();var Xa=ia.radius(89.99)().coordinates[0],Va=Xa.length-1,lb=-1,pb;for(Aa.lineStart();++lb<Va;)Aa.point((pb=
Xa[lb])[0],pb[1]);Aa.lineEnd();Xa=ia.radius(90.01)().coordinates[0];for(Aa.lineStart();0<=--lb;)Aa.point((pb=Xa[lb])[0],pb[1]);Aa.lineEnd();Aa.polygonEnd()};return Aa};return M.scale(79.4187).parallel(45).clipAngle(179.999)};n.geoHammerRetroazimuthalRaw=Ca;n.geoHealpix=function(){var B=4,C=q.geoProjectionMutator(Z),M=C(B),U=M.stream;M.lobes=function(ca){return arguments.length?C(B=+ca):B};M.stream=function(ca){var ia=M.rotate(),Aa=U(ca),Xa=(M.rotate([0,0]),U(ca));M.rotate(ia);Aa.sphere=function(){q.geoStream(Ib(180/
B),Xa)};return Aa};return M.scale(239.75)};n.geoHealpixRaw=Z;n.geoHill=function(){var B=1,C=q.geoProjectionMutator(Xb),M=C(B);M.ratio=function(U){return arguments.length?C(B=+U):B};return M.scale(167.774).center([0,18.67])};n.geoHillRaw=Xb;n.geoHomolosine=function(){return q.geoProjection(wb).scale(152.63)};n.geoHomolosineRaw=wb;n.geoHufnagel=function(){var B=1,C=0,M=45*Qd,U=2,ca=q.geoProjectionMutator(Tb),ia=ca(B,C,M,U);ia.a=function(Aa){return arguments.length?ca(B=+Aa,C,M,U):B};ia.b=function(Aa){return arguments.length?
ca(B,C=+Aa,M,U):C};ia.psiMax=function(Aa){return arguments.length?ca(B,C,M=+Aa*Qd,U):M*Ld};ia.ratio=function(Aa){return arguments.length?ca(B,C,M,U=+Aa):U};return ia.scale(180.739)};n.geoHufnagelRaw=Tb;n.geoHyperelliptical=function(){var B=0,C=2.5,M=1.183136,U=q.geoProjectionMutator(ic),ca=U(B,C,M);ca.alpha=function(ia){return arguments.length?U(B=+ia,C,M):B};ca.k=function(ia){return arguments.length?U(B,C=+ia,M):C};ca.gamma=function(ia){return arguments.length?U(B,C,M=+ia):M};return ca.scale(152.63)};
n.geoHyperellipticalRaw=ic;n.geoInterrupt=pc;n.geoInterruptedBoggs=function(){return pc(Oa,Qe).scale(160.857)};n.geoInterruptedHomolosine=function(){return pc(wb,df).scale(152.63)};n.geoInterruptedMollweide=function(){return pc(Gd,Be).scale(169.529)};n.geoInterruptedMollweideHemispheres=function(){return pc(Gd,D).scale(169.529).rotate([20,0])};n.geoInterruptedSinuMollweide=function(){return pc(za,R,la).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoInterruptedSinusoidal=function(){return pc(ja,
Na).scale(152.63).rotate([-20,0])};n.geoKavrayskiy7=function(){return q.geoProjection(tb).scale(158.837)};n.geoKavrayskiy7Raw=tb;n.geoLagrange=function(){var B=.5,C=q.geoProjectionMutator(bc),M=C(B);M.spacing=function(U){return arguments.length?C(B=+U):B};return M.scale(124.75)};n.geoLagrangeRaw=bc;n.geoLarrivee=function(){return q.geoProjection(Mb).scale(97.2672)};n.geoLarriveeRaw=Mb;n.geoLaskowski=function(){return q.geoProjection(xc).scale(139.98)};n.geoLaskowskiRaw=xc;n.geoLittrow=function(){return q.geoProjection(Xc).scale(144.049).clipAngle(89.999)};
n.geoLittrowRaw=Xc;n.geoLoximuthal=function(){return ya(ud).parallel(40).scale(158.837)};n.geoLoximuthalRaw=ud;n.geoMiller=function(){return q.geoProjection(xd).scale(108.318)};n.geoMillerRaw=xd;n.geoModifiedStereographic=Cb;n.geoModifiedStereographicRaw=ae;n.geoModifiedStereographicAlaska=function(){return Cb(zb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};n.geoModifiedStereographicGs48=function(){return Cb(Jb,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
n.geoModifiedStereographicGs50=function(){return Cb(ac,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};n.geoModifiedStereographicMiller=function(){return Cb(Oc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};n.geoModifiedStereographicLee=function(){return Cb(Fc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};n.geoMollweide=function(){return q.geoProjection(Gd).scale(169.529)};n.geoMollweideRaw=Gd;n.geoMtFlatPolarParabolic=function(){return q.geoProjection(Rb).scale(164.859)};
n.geoMtFlatPolarParabolicRaw=Rb;n.geoMtFlatPolarQuartic=function(){return q.geoProjection(Rc).scale(188.209)};n.geoMtFlatPolarQuarticRaw=Rc;n.geoMtFlatPolarSinusoidal=function(){return q.geoProjection(se).scale(166.518)};n.geoMtFlatPolarSinusoidalRaw=se;n.geoNaturalEarth2=function(){return q.geoProjection(De).scale(175.295)};n.geoNaturalEarth2Raw=De;n.geoNellHammer=function(){return q.geoProjection(Ne).scale(152.63)};n.geoNellHammerRaw=Ne;n.geoInterruptedQuarticAuthalic=function(){return pc(pa(Infinity),
jd).rotate([20,0]).scale(152.63)};n.geoNicolosi=function(){return q.geoProjection(Md).scale(127.267)};n.geoNicolosiRaw=Md;n.geoPatterson=function(){return q.geoProjection(K).scale(139.319)};n.geoPattersonRaw=K;n.geoPolyconic=function(){return q.geoProjection(fa).scale(103.74)};n.geoPolyconicRaw=fa;n.geoPolyhedral=Vb;n.geoPolyhedralButterfly=function(B){B=B||function(M){M=q.geoCentroid({type:"MultiPoint",coordinates:M});return q.geoGnomonic().scale(1).translate([0,0]).rotate([-M[0],-M[1]])};var C=
ge.map(function(M){return{face:M,project:B(M)}});[-1,0,0,1,0,1,4,5].forEach(function(M,U){(M=C[M])&&(M.children||(M.children=[])).push(C[U])});return Vb(C[0],function(M,U){return C[M<-dc/2?0>U?6:4:0>M?0>U?2:0:M<dc/2?0>U?3:1:0>U?7:5]}).angle(-30).scale(101.858).center([0,45])};n.geoPolyhedralCollignon=function(B){B=B||function(M){M=q.geoCentroid({type:"MultiPoint",coordinates:M});return q.geoProjection(Nb).translate([0,0]).scale(1).rotate(0<M[1]?[-M[0],0]:[180-M[0],180])};var C=ge.map(function(M){return{face:M,
project:B(M)}});[-1,0,0,1,0,1,4,5].forEach(function(M,U){(M=C[M])&&(M.children||(M.children=[])).push(C[U])});return Vb(C[0],function(M,U){return C[M<-dc/2?0>U?6:4:0>M?0>U?2:0:M<dc/2?0>U?3:1:0>U?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};n.geoPolyhedralWaterman=function(B){B=B||function(ia){ia=6===ia.length?q.geoCentroid({type:"MultiPoint",coordinates:ia}):ia[0];return q.geoGnomonic().scale(1).translate([0,0]).rotate([-ia[0],-ia[1]])};var C=ge.map(function(ia){ia=ia.map(xb);for(var Aa=
ia.length,Xa=ia[Aa-1],Va,lb=[],pb=0;pb<Aa;++pb)Va=ia[pb],lb.push(lc([.9486832980505138*Xa[0]+.31622776601683794*Va[0],.9486832980505138*Xa[1]+.31622776601683794*Va[1],.9486832980505138*Xa[2]+.31622776601683794*Va[2]]),lc([.9486832980505138*Va[0]+.31622776601683794*Xa[0],.9486832980505138*Va[1]+.31622776601683794*Xa[1],.9486832980505138*Va[2]+.31622776601683794*Xa[2]])),Xa=Va;return lb}),M=[],U=[-1,0,0,1,0,1,4,5];C.forEach(function(ia,Aa){for(var Xa=ge[Aa],Va=Xa.length,lb=M[Aa]=[],pb=0;pb<Va;++pb)C.push([Xa[pb],
ia[(2*pb+2)%(2*Va)],ia[(2*pb+1)%(2*Va)]]),U.push(Aa),lb.push(tc(xb(ia[(2*pb+2)%(2*Va)]),xb(ia[(2*pb+1)%(2*Va)])))});var ca=C.map(function(ia){return{project:B(ia),face:ia}});U.forEach(function(ia,Aa){(ia=ca[ia])&&(ia.children||(ia.children=[])).push(ca[Aa])});return Vb(ca[0],function(ia,Aa){var Xa=Lb(Aa);Xa=[Xa*Lb(ia),Xa*fc(ia),fc(Aa)];ia=ia<-dc/2?0>Aa?6:4:0>ia?0>Aa?2:0:ia<dc/2?0>Aa?3:1:0>Aa?7:5;Aa=M[ia];return ca[0>gc(Aa[0],Xa)?8+3*ia:0>gc(Aa[1],Xa)?3*ia+9:0>gc(Aa[2],Xa)?3*ia+10:ia]}).angle(-30).scale(110.625).center([0,
45])};n.geoProject=function(B,C){C=C.stream;if(!C)throw Error("invalid projection");switch(B&&B.type){case "Feature":var M=Gc;break;case "FeatureCollection":M=Qb;break;default:M=Ac}return M(B,C)};n.geoGringortenQuincuncial=function(){return Jc(ba).scale(176.423)};n.geoPeirceQuincuncial=function(){return Jc(eb).scale(111.48)};n.geoQuantize=function(B,C){function M(Va){var lb=Va.length,pb=2,Gb=Array(lb);Gb[0]=+Va[0].toFixed(C);for(Gb[1]=+Va[1].toFixed(C);pb<lb;)Gb[pb]=Va[pb],++pb;return Gb}function U(Va){for(var lb=
M(Va[0]),pb=[lb],Gb=1;Gb<Va.length;Gb++){var Wb=M(Va[Gb]);if(2<Wb.length||Wb[0]!=lb[0]||Wb[1]!=lb[1])pb.push(Wb),lb=Wb}1===pb.length&&1<Va.length&&pb.push(M(Va[Va.length-1]));return pb}function ca(Va){return Va.map(U)}function ia(Va){if(null==Va)return Va;switch(Va.type){case "GeometryCollection":var lb={type:"GeometryCollection",geometries:Va.geometries.map(ia)};break;case "Point":lb={type:"Point",coordinates:M(Va.coordinates)};break;case "MultiPoint":lb={type:Va.type,coordinates:Va.coordinates.map(M)};
break;case "LineString":lb={type:Va.type,coordinates:U(Va.coordinates)};break;case "MultiLineString":case "Polygon":lb={type:Va.type,coordinates:ca(Va.coordinates)};break;case "MultiPolygon":lb={type:"MultiPolygon",coordinates:Va.coordinates.map(ca)};break;default:return Va}null!=Va.bbox&&(lb.bbox=Va.bbox);return lb}function Aa(Va){var lb={type:"Feature",properties:Va.properties,geometry:ia(Va.geometry)};null!=Va.id&&(lb.id=Va.id);null!=Va.bbox&&(lb.bbox=Va.bbox);return lb}if(!(0<=(C=+C)&&20>=C))throw Error("invalid digits");
if(null!=B)switch(B.type){case "Feature":return Aa(B);case "FeatureCollection":var Xa={type:"FeatureCollection",features:B.features.map(Aa)};null!=B.bbox&&(Xa.bbox=B.bbox);return Xa;default:return ia(B)}return B};n.geoQuincuncial=Jc;n.geoRectangularPolyconic=function(){return ya(Hc).scale(131.215)};n.geoRectangularPolyconicRaw=Hc;n.geoRobinson=function(){return q.geoProjection(ad).scale(152.63)};n.geoRobinsonRaw=ad;n.geoSatellite=function(){var B=2,C=0,M=q.geoProjectionMutator(od),U=M(B,C);U.distance=
function(ca){return arguments.length?M(B=+ca,C):B};U.tilt=function(ca){return arguments.length?M(B,C=ca*Qd):C*Ld};return U.scale(432.147).clipAngle(Hb(1/B)*Ld-1E-6)};n.geoSatelliteRaw=od;n.geoSinuMollweide=function(){return q.geoProjection(za).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoSinuMollweideRaw=za;n.geoSinusoidal=function(){return q.geoProjection(ja).scale(152.63)};n.geoSinusoidalRaw=ja;n.geoStitch=function(B){if(null==B)return B;switch(B.type){case "Feature":return bf(B);
case "FeatureCollection":var C={type:"FeatureCollection",features:B.features.map(bf)};null!=B.bbox&&(C.bbox=B.bbox);return C;default:return vd(B)}};n.geoTimes=function(){return q.geoProjection(P).scale(146.153)};n.geoTimesRaw=P;n.geoTwoPointAzimuthal=gb;n.geoTwoPointAzimuthalRaw=Da;n.geoTwoPointAzimuthalUsa=function(){return gb([-158,21.5],[-77,39]).clipAngle(60).scale(400)};n.geoTwoPointEquidistant=Pb;n.geoTwoPointEquidistantRaw=Ta;n.geoTwoPointEquidistantUsa=function(){return Pb([-158,21.5],[-77,
39]).clipAngle(130).scale(122.571)};n.geoVanDerGrinten=function(){return q.geoProjection(kc).scale(79.4183)};n.geoVanDerGrintenRaw=kc;n.geoVanDerGrinten2=function(){return q.geoProjection(oc).scale(79.4183)};n.geoVanDerGrinten2Raw=oc;n.geoVanDerGrinten3=function(){return q.geoProjection(qc).scale(79.4183)};n.geoVanDerGrinten3Raw=qc;n.geoVanDerGrinten4=function(){return q.geoProjection(uc).scale(127.16)};n.geoVanDerGrinten4Raw=uc;n.geoWagner=yd;n.geoWagner7=function(){return yd().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};
n.geoWagnerRaw=pd;n.geoWagner4=function(){return q.geoProjection(Xf).scale(176.84)};n.geoWagner4Raw=Xf;n.geoWagner6=function(){return q.geoProjection(ld).scale(152.63)};n.geoWagner6Raw=ld;n.geoWiechel=function(){return q.geoProjection(Od).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};n.geoWiechelRaw=Od;n.geoWinkel3=function(){return q.geoProjection(de).scale(158.837)};n.geoWinkel3Raw=de;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[27]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(25),sb(26)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3,n.d3))})(this,function(n,q,S){function Pa(Ea,$a){return function Ja(){var ea=$a();ea.type=Ea;ea.path=q.geoPath().projection(ea);ea.copy=ea.copy||function(){var pa=Ja();cb.forEach(function(Ga){if(ea[Ga])pa[Ga](ea[Ga]())});
pa.path.pointRadius(ea.path.pointRadius());return pa};return ea}}function Hb(Ea,$a){if(!Ea||"string"!==typeof Ea)throw Error("Projection type must be a name string.");Ea=Ea.toLowerCase();return 1<arguments.length?(Eb[Ea]=Pa(Ea,$a),this):Eb[Ea]||null}var Ma=q.geoPath(),cb="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Eb={albers:q.geoAlbers,albersusa:q.geoAlbersUsa,azimuthalequalarea:q.geoAzimuthalEqualArea,
azimuthalequidistant:q.geoAzimuthalEquidistant,conicconformal:q.geoConicConformal,conicequalarea:q.geoConicEqualArea,conicequidistant:q.geoConicEquidistant,equalEarth:q.geoEqualEarth,equirectangular:q.geoEquirectangular,gnomonic:q.geoGnomonic,identity:q.geoIdentity,mercator:q.geoMercator,mollweide:S.geoMollweide,naturalEarth1:q.geoNaturalEarth1,orthographic:q.geoOrthographic,stereographic:q.geoStereographic,transversemercator:q.geoTransverseMercator},qb;for(qb in Eb)Hb(qb,Eb[qb]);n.getProjectionPath=
function(Ea){return Ea&&Ea.path||Ma};n.projection=Hb;n.projectionProperties=cb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[28]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(0),sb(1),sb(13),sb(27),sb(25),sb(18),sb(17)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.d3,n.vega))})(this,function(n,q,S,Pa,Hb,
Ma,cb,Eb,qb){function Ea(){}function $a(){function V(v,J){return J.map(function(ba){return w(v,ba)})}function w(v,J){var ba=[],ka=[];F(v,J,function(ua){r(ua,v,J);for(var fb=0,eb=ua.length,Ca=ua[eb-1][1]*ua[0][0]-ua[eb-1][0]*ua[0][1];++fb<eb;)Ca+=ua[fb-1][1]*ua[fb][0]-ua[fb-1][0]*ua[fb][1];0<Ca?ba.push([ua]):ka.push(ua)});ka.forEach(function(ua){for(var fb=0,eb=ba.length,Ca;fb<eb;++fb){a:{var Ka=(Ca=ba[fb])[0];for(var Z=ua,ra=-1,hb=Z.length;++ra<hb;){b:{var mb=Ka;for(var Ib=Z[ra],Xb=Ib[0],za=Ib[1],
wb=-1,Tb=0,rb=mb.length,Sb=rb-1;Tb<rb;Sb=Tb++){var ic=mb[Tb],rc=ic[0],Tc=ic[1],pc=mb[Sb];Sb=pc[0];var tb=pc[1],bc,Mb=ic;ic=pc;pc=Ib;if(bc=(ic[0]-Mb[0])*(pc[1]-Mb[1])===(pc[0]-Mb[0])*(ic[1]-Mb[1]))Mb=Mb[bc=+(Mb[0]===ic[0])],pc=pc[bc],ic=ic[bc],bc=Mb<=pc&&pc<=ic||ic<=pc&&pc<=Mb;if(bc){mb=0;break b}Tc>za!==tb>za&&Xb<(Sb-rc)*(za-Tc)/(tb-Tc)+rc&&(wb=-wb)}mb=wb}if(mb){Ka=mb;break a}}Ka=0}if(-1!==Ka){Ca.push(ua);break}}});return{type:"MultiPolygon",value:J,coordinates:ba}}function F(v,J,ba){function ka(mb){var Ib=
[mb[0][0]+Ca,mb[0][1]+eb];mb=[mb[1][0]+Ca,mb[1][1]+eb];var Xb=2*Ib[0]+Ib[1]*(k+1)*4,za=2*mb[0]+mb[1]*(k+1)*4,wb,Tb;(wb=fb[Xb])?(Tb=ua[za])?(delete fb[wb.end],delete ua[Tb.start],wb===Tb?(wb.ring.push(mb),ba(wb.ring)):ua[wb.start]=fb[Tb.end]={start:wb.start,end:Tb.end,ring:wb.ring.concat(Tb.ring)}):(delete fb[wb.end],wb.ring.push(mb),fb[wb.end=za]=wb):(wb=ua[za])?(Tb=fb[Xb])?(delete ua[wb.start],delete fb[Tb.end],wb===Tb?(wb.ring.push(mb),ba(wb.ring)):ua[Tb.start]=fb[wb.end]={start:Tb.start,end:wb.end,
ring:Tb.ring.concat(wb.ring)}):(delete ua[wb.start],wb.ring.unshift(Ib),ua[wb.start=Xb]=wb):ua[Xb]=fb[za]={start:Xb,end:za,ring:[Ib,mb]}}var ua=[],fb=[],eb;var Ca=eb=-1;var Ka=v[0]>=J;for(ha[Ka<<1].forEach(ka);++Ca<k-1;){var Z=Ka;Ka=v[Ca+1]>=J;ha[Z|Ka<<1].forEach(ka)}for(ha[Ka<<0].forEach(ka);++eb<m-1;){Ca=-1;Ka=v[eb*k+k]>=J;var ra=v[eb*k]>=J;for(ha[Ka<<1|ra<<2].forEach(ka);++Ca<k-1;){Z=Ka;Ka=v[eb*k+k+Ca+1]>=J;var hb=ra;ra=v[eb*k+Ca+1]>=J;ha[Z|Ka<<1|ra<<2|hb<<3].forEach(ka)}ha[Ka|ra<<3].forEach(ka)}Ca=
-1;ra=v[eb*k]>=J;for(ha[ra<<2].forEach(ka);++Ca<k-1;)hb=ra,ra=v[eb*k+Ca+1]>=J,ha[ra<<2|hb<<3].forEach(ka);ha[ra<<3].forEach(ka)}function h(v,J,ba){v.forEach(function(ka){var ua=ka[0],fb=ka[1],eb=ua|0,Ca=fb|0,Ka=J[Ca*k+eb];if(0<ua&&ua<k&&eb===ua){var Z=J[Ca*k+eb-1];ka[0]=ua+(ba-Z)/(Ka-Z)-.5}0<fb&&fb<m&&Ca===fb&&(Z=J[(Ca-1)*k+eb],ka[1]=fb+(ba-Z)/(Ka-Z)-.5)})}var k=1,m=1,r=h;V.contour=w;V.size=function(v){if(!arguments.length)return[k,m];var J=Math.floor(v[0]),ba=Math.floor(v[1]);0<=J&&0<=ba||S.error("invalid size");
return k=J,m=ba,V};V.smooth=function(v){return arguments.length?(r=v?h:Ea,V):r===h};return V}function db(V,w,F){return function(h){var k=S.extent(h);h=F?Math.min(k[0],0):k[0];k=k[1];var m=k-h;h=w?Pa.tickStep(h,k,V):m/(V+1);return Pa.range(h,k,h)}}function Ja(V){q.Transform.call(this,null,V)}function ea(V,w,F){var h=db(F.levels||10,F.nice,!1!==F.zero);return"shared"!==F.resolve?h:h(V.map(function(k){return Pa.max(w(k).values)}))}function pa(V,w,F,h){var k=h.scale||w.scale,m=h.translate||w.translate;
S.isFunction(k)&&(k=k(F,h));S.isFunction(m)&&(m=m(F,h));if(1!==k&&null!=k||m)F=(S.isNumber(k)?k:k[0])||1,k=(S.isNumber(k)?k:k[1])||1,V.forEach(Ga(w,F,k,m&&m[0]||0,m&&m[1]||0))}function Ga(V,w,F,h,k){function m(ua){ua.forEach(r)}function r(ua){ka&&ua.reverse();ua.forEach(v)}function v(ua){ua[0]=(ua[0]-J)*w+h;ua[1]=(ua[1]-ba)*F+k}var J=V.x1||0,ba=V.y1||0,ka=0>w*F;return function(ua){ua.coordinates.forEach(m);return ua}}function Wa(V,w,F){V=0<=V?V:Hb.bandwidthNRD(w,F);return Math.round((Math.sqrt(4*
V*V+1)-1)/2)}function la(V){return S.isFunction(V)?V:S.constant(+V)}function aa(){function V(J,ba){var ka=Wa(k[0],J,w)>>v,ua=Wa(k[1],J,F)>>v,fb=ka?ka+2:0,eb=ua?ua+2:0,Ca=2*fb+(m>>v),Ka=2*eb+(r>>v),Z=new Float32Array(Ca*Ka),ra=new Float32Array(Ca*Ka),hb=Z;J.forEach(function(mb){var Ib=fb+(+w(mb)>>v),Xb=eb+(+F(mb)>>v);0<=Ib&&Ib<Ca&&0<=Xb&&Xb<Ka&&(Z[Ib+Xb*Ca]+=+h(mb))});0<ka&&0<ua?(Qa(Ca,Ka,Z,ra,ka),xa(Ca,Ka,ra,Z,ua),Qa(Ca,Ka,Z,ra,ka),xa(Ca,Ka,ra,Z,ua),Qa(Ca,Ka,Z,ra,ka),xa(Ca,Ka,ra,Z,ua)):0<ka?(Qa(Ca,
Ka,Z,ra,ka),Qa(Ca,Ka,ra,Z,ka),Qa(Ca,Ka,Z,ra,ka),hb=ra):0<ua&&(xa(Ca,Ka,Z,ra,ua),xa(Ca,Ka,ra,Z,ua),xa(Ca,Ka,Z,ra,ua),hb=ra);J=ba?Math.pow(2,-2*v):1/Pa.sum(hb);ba=0;for(ka=Ca*Ka;ba<ka;++ba)hb[ba]*=J;return{values:hb,scale:1<<v,width:Ca,height:Ka,x1:fb,y1:eb,x2:fb+(m>>v),y2:eb+(r>>v)}}var w=function(J){return J[0]},F=function(J){return J[1]},h=S.one,k=[-1,-1],m=960,r=500,v=2;V.x=function(J){return arguments.length?(w=la(J),V):w};V.y=function(J){return arguments.length?(F=la(J),V):F};V.weight=function(J){return arguments.length?
(h=la(J),V):h};V.size=function(J){if(!arguments.length)return[m,r];var ba=+J[0],ka=+J[1];0<=ba&&0<=ka||S.error("invalid size");return m=ba,r=ka,V};V.cellSize=function(J){if(!arguments.length)return 1<<v;1<=(J=+J)||S.error("invalid cell size");v=Math.floor(Math.log(J)/Math.LN2);return V};V.bandwidth=function(J){if(!arguments.length)return k;J=S.array(J);1===J.length&&(J=[+J[0],+J[0]]);2!==J.length&&S.error("invalid bandwidth");return k=J,V};return V}function Qa(V,w,F,h,k){for(var m=(k<<1)+1,r=0;r<
w;++r)for(var v=0,J=0;v<V+k;++v)v<V&&(J+=F[v+r*V]),v>=k&&(v>=m&&(J-=F[v-m+r*V]),h[v-k+r*V]=J/Math.min(v+1,V-1+m-v,m))}function xa(V,w,F,h,k){for(var m=(k<<1)+1,r=0;r<V;++r)for(var v=0,J=0;v<w+k;++v)v<w&&(J+=F[r+v*V]),v>=k&&(v>=m&&(J-=F[r+(v-m)*V]),h[r+(v-k)*V]=J/Math.min(v+1,w-1+m-v,m))}function Oa(V){q.Transform.call(this,null,V)}function ya(V,w){Y.forEach(function(F){return null!=w[F]?V[F](w[F]):0});return V}function ja(V,w){var F=[],h=function(ka){return ka(v)},k;if(null==w)F.push(V);else{var m=
{};var r=0;for(k=V.length;r<k;++r){var v=V[r];var J=w.map(h);var ba=m[J];ba||(m[J]=ba=[],ba.dims=J,F.push(ba));ba.push(v)}}return F}function wa(V){q.Transform.call(this,null,V)}function sa(V){q.Transform.call(this,null,V)}function qa(V){q.Transform.call(this,null,V)}function Fa(V,w){var F=V.pointRadius();V.context(null);null!=w&&V.pointRadius(w);return F}function Ba(V){q.Transform.call(this,null,V)}function Za(V){q.Transform.call(this,null,V)}function jb(V,w,F){var h=null==F?function(k){return V(w(k))}:
function(k){var m=V.pointRadius();k=V.pointRadius(F)(w(k));V.pointRadius(m);return k};h.context=function(k){V.context(k);return h};return h}function A(V){q.Transform.call(this,[],V);this.generator=cb.geoGraticule()}function y(V){q.Transform.call(this,null,V)}function I(V,w){if(S.isFunction(V)){var F=function(h){return Eb.rgb(V(h,w))};F.dep=z(V)}else F=S.constant(Eb.rgb(V||"#888"));return F}function L(V,w){if(S.isFunction(V)){var F=function(h){return V(h,w)};F.dep=z(V)}else V?F=S.constant(V):(F=function(h){return h.$value/
h.$max||0},F.dep=!0);return F}function z(V){if(!S.isFunction(V))return!1;V=S.toSet(S.accessorFields(V));return V.$x||V.$y||V.$value||V.$max}function H(V,w,F,h){var k=V.width,m=V.height,r=V.x1||0,v=V.y1||0,J=V.x2||k;m=V.y2||m;var ba=V.values;V=ba?function(mb){return ba[mb]}:S.zero;for(var ka=qb.canvas(J-r,m-v),ua=ka.getContext("2d"),fb=ua.getImageData(0,0,J-r,m-v),eb=fb.data,Ca=v,Ka=0;Ca<m;++Ca){w.$y=Ca-v;for(var Z=r,ra=Ca*k;Z<J;++Z,Ka+=4){w.$x=Z-r;w.$value=V(Z+ra);var hb=F(w);eb[Ka+0]=hb.r;eb[Ka+
1]=hb.g;eb[Ka+2]=hb.b;eb[Ka+3]=~~(255*h(w))}}ua.putImageData(fb,0,0);return ka}function O(V){q.Transform.call(this,null,V);this.modified(!0)}function ma(V,w){var F=Sa(w.fit);w.extent?V.fitExtent(w.extent,F):w.size?V.fitSize(w.size,F):0}function Ia(V){var w=Ma.projection((V||"mercator").toLowerCase());w||S.error("Unrecognized projection type: "+V);return w()}function Sa(V){V=S.array(V);return 1===V.length?V[0]:{type:"FeatureCollection",features:V.reduce(function(w,F){return w.concat(E(F))},[])}}function E(V){return"FeatureCollection"===
V.type?V.features:S.array(V).filter(function(w){return null!=w}).map(function(w){return"Feature"===w.type?w:{type:"Feature",geometry:w}})}var ha=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Ja.Definition={type:"Isocontour",metadata:{generates:!0},
params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};S.inherits(Ja,q.Transform,{transform:function(V,
w){if(this.value&&!w.changed()&&!V.modified())return w.StopPropagation;var F=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;var h=V.field||S.identity,k=$a().smooth(!1!==V.smooth),m=V.thresholds||ea(w,h,V),r=null===V.as?null:V.as||"contour",v=[];w.forEach(function(J){var ba=h(J),ka=k.size([ba.width,ba.height])(ba.values,S.isArray(m)?m:m(ba.values));pa(ka,ba,J,V);ka.forEach(function(ua){var fb={};v.push(q.rederive(J,q.ingest(null!=r?(fb[r]=ua,fb):ua)))})});this.value&&(F.rem=this.value);
this.value=F.source=F.add=v;return F}});Oa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};var Y="x y weight size cellSize bandwidth".split(" ");
S.inherits(Oa,q.Transform,{transform:function(V,w){function F(J,ba){for(var ka=0;ka<k.length;++ka)J[k[ka]]=ba[ka];return J}if(this.value&&!w.changed()&&!V.modified())return w.StopPropagation;var h=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;w=ja(w,V.groupby);var k=(V.groupby||[]).map(S.accessorName),m=ya(aa(),V),r=V.as||"grid",v=[];v=w.map(function(J){var ba={};return q.ingest(F((ba[r]=m(J,V.counts),ba),J.dims))});this.value&&(h.rem=this.value);this.value=h.source=h.add=v;return h}});
wa.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};S.inherits(wa,q.Transform,{transform:function(V,
w){if(this.value&&!w.changed()&&!V.modified())return w.StopPropagation;var F=w.fork(w.NO_SOURCE|w.NO_FIELDS),h=$a().smooth(!1!==V.smooth),k=V.values,m=V.thresholds||db(V.count||10,V.nice,!!k),r=V.size;if(!k){k=w.materialize(w.SOURCE).source;V=ya(aa(),V)(k,!0);var v=Ga(V,V.scale||1,V.scale||1,0,0);r=[V.width,V.height];k=V.values}m=S.isArray(m)?m:m(k);k=h.size(r)(k,m);v&&k.forEach(v);this.value&&(F.rem=this.value);this.value=F.source=F.add=(k||[]).map(q.ingest);return F}});sa.Definition={type:"GeoJSON",
metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};S.inherits(sa,q.Transform,{transform:function(V,w){var F=this._features,h=this._points,k=V.fields,m=k&&k[0],r=k&&k[1],v=V.geojson||!k&&S.identity;k=w.ADD;V=V.modified()||w.changed(w.REM)||w.modified(S.accessorFields(v))||m&&w.modified(S.accessorFields(m))||r&&w.modified(S.accessorFields(r));if(!this.value||V)k=w.SOURCE,this._features=F=[],this._points=h=[];v&&w.visit(k,function(J){return F.push(v(J))});
m&&r&&(w.visit(k,function(J){var ba=m(J);J=r(J);null!=ba&&null!=J&&(ba=+ba)===ba&&(J=+J)===J&&h.push([ba,J])}),F=F.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:h}}));this.value={type:"FeatureCollection",features:F}}});qa.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};S.inherits(qa,q.Transform,{transform:function(V,w){var F=
w.fork(w.ALL),h=this.value,k=V.field||S.identity,m=V.as||"path",r=F.SOURCE;!h||V.modified()?(this.value=h=Ma.getProjectionPath(V.projection),F.materialize().reflow()):r=k===S.identity||w.modified(k.fields)?F.ADD_MOD:F.ADD;V=Fa(h,V.pointRadius);F.visit(r,function(v){return v[m]=h(k(v))});h.pointRadius(V);return F.modifies(m)}});Ba.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",
type:"string",array:!0,length:2,"default":["x","y"]}]};S.inherits(Ba,q.Transform,{transform:function(V,w){function F(ba){var ka=h([k(ba),m(ba)]);ka?(ba[v]=ka[0],ba[J]=ka[1]):(ba[v]=void 0,ba[J]=void 0)}var h=V.projection,k=V.fields[0],m=V.fields[1],r=V.as||["x","y"],v=r[0],J=r[1];V.modified()?w=w.materialize().reflow(!0).visit(w.SOURCE,F):(V=w.modified(k.fields)||w.modified(m.fields),w.visit(V?w.ADD_MOD:w.ADD,F));return w.modifies(r)}});Za.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},
params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};S.inherits(Za,q.Transform,{transform:function(V,w){w=w.fork(w.ALL);var F=this.value,h=V.as||"shape",k=w.ADD;if(!F||V.modified())this.value=F=jb(Ma.getProjectionPath(V.projection),V.field||S.field("datum"),V.pointRadius),w.materialize().reflow(),k=w.SOURCE;w.visit(k,function(m){return m[h]=F});return w.modifies(h)}});A.Definition=
{type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,
"default":[10,10]},{name:"precision",type:"number","default":2.5}]};S.inherits(A,q.Transform,{transform:function(V,w){var F=this.value,h=this.generator;if(!F.length||V.modified())for(var k in V)if(S.isFunction(h[k]))h[k](V[k]);V=h();F.length?w.mod.push(q.replace(F[0],V)):w.add.push(q.ingest(V));F[0]=V;return w}});y.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",
values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};S.inherits(y,q.Transform,{transform:function(V,w){if(!w.changed()&&!V.modified())return w.StopPropagation;var F=w.materialize(w.SOURCE).source,h="shared"===V.resolve,k=V.field||S.identity,m=L(V.opacity,V),r=I(V.color,V),v=V.as||"image",J={$x:0,$y:0,$value:0,$max:h?Pa.max(F.map(function(ba){return Pa.max(k(ba).values)})):0};F.forEach(function(ba){var ka=k(ba),ua=S.extend({},ba,J);h||(ua.$max=Pa.max(ka.values||
[]));ba[v]=H(ka,ua,r.dep?r:S.constant(r(ua)),m.dep?m:S.constant(m(ua)))});return w.reflow(!0).modifies(v)}});S.inherits(O,q.Transform,{transform:function(V,w){var F=this.value;!F||V.modified("type")?(this.value=F=Ia(V.type),Ma.projectionProperties.forEach(function(h){if(null!=V[h]){var k=F,m=V[h];if(S.isFunction(k[h]))k[h](m)}})):Ma.projectionProperties.forEach(function(h){if(V.modified(h)){var k=F,m=V[h];if(S.isFunction(k[h]))k[h](m)}});null!=V.pointRadius&&F.path.pointRadius(V.pointRadius);V.fit&&
ma(F,V);return w.fork(w.NO_SOURCE|w.NO_FIELDS)}});n.contour=wa;n.geojson=sa;n.geopath=qa;n.geopoint=Ba;n.geoshape=Za;n.graticule=A;n.heatmap=y;n.isocontour=Ja;n.kde2d=Oa;n.projection=O;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[29]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(Ea,$a,db,Ja){if(isNaN($a)||isNaN(db))return Ea;var ea,pa=Ea._root;Ja={data:Ja};var Ga=Ea._x0,Wa=Ea._y0,la=Ea._x1,aa=Ea._y1,Qa,xa,Oa,ya;if(!pa)return Ea._root=Ja,Ea;for(;pa.length;)if((Oa=$a>=(Qa=(Ga+la)/2))?Ga=Qa:la=Qa,(ya=db>=(xa=(Wa+aa)/2))?Wa=xa:aa=xa,ea=pa,!(pa=pa[Oa|=
ya<<1]))return ea[Oa]=Ja,Ea;var ja=+Ea._x.call(null,pa.data);var wa=+Ea._y.call(null,pa.data);if($a===ja&&db===wa)return Ja.next=pa,ea?ea[Oa]=Ja:Ea._root=Ja,Ea;do ea=ea?ea[Oa]=Array(4):Ea._root=Array(4),(Oa=$a>=(Qa=(Ga+la)/2))?Ga=Qa:la=Qa,(ya=db>=(xa=(Wa+aa)/2))?Wa=xa:aa=xa;while((Oa|=ya<<1)===(ya=(wa>=xa)<<1|ja>=Qa));return ea[ya]=pa,ea[Oa]=Ja,Ea}function S(Ea,$a,db,Ja,ea){this.node=Ea;this.x0=$a;this.y0=db;this.x1=Ja;this.y1=ea}function Pa(Ea){return Ea[0]}function Hb(Ea){return Ea[1]}function Ma(Ea,
$a,db){$a=new cb(null==$a?Pa:$a,null==db?Hb:db,NaN,NaN,NaN,NaN);return null==Ea?$a:$a.addAll(Ea)}function cb(Ea,$a,db,Ja,ea,pa){this._x=Ea;this._y=$a;this._x0=db;this._y0=Ja;this._x1=ea;this._y1=pa;this._root=void 0}function Eb(Ea){for(var $a={data:Ea.data},db=$a;Ea=Ea.next;)db=db.next={data:Ea.data};return $a}var qb=Ma.prototype=cb.prototype;qb.copy=function(){var Ea=new cb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),$a=this._root,db,Ja;if(!$a)return Ea;if(!$a.length)return Ea._root=Eb($a),
Ea;for(db=[{source:$a,target:Ea._root=Array(4)}];$a=db.pop();)for(var ea=0;4>ea;++ea)if(Ja=$a.source[ea])Ja.length?db.push({source:Ja,target:$a.target[ea]=Array(4)}):$a.target[ea]=Eb(Ja);return Ea};qb.add=function(Ea){var $a=+this._x.call(null,Ea),db=+this._y.call(null,Ea);return q(this.cover($a,db),$a,db,Ea)};qb.addAll=function(Ea){var $a,db,Ja=Ea.length,ea,pa,Ga=Array(Ja),Wa=Array(Ja),la=Infinity,aa=Infinity,Qa=-Infinity,xa=-Infinity;for(db=0;db<Ja;++db)isNaN(ea=+this._x.call(null,$a=Ea[db]))||
isNaN(pa=+this._y.call(null,$a))||(Ga[db]=ea,Wa[db]=pa,ea<la&&(la=ea),ea>Qa&&(Qa=ea),pa<aa&&(aa=pa),pa>xa&&(xa=pa));if(la>Qa||aa>xa)return this;this.cover(la,aa).cover(Qa,xa);for(db=0;db<Ja;++db)q(this,Ga[db],Wa[db],Ea[db]);return this};qb.cover=function(Ea,$a){if(isNaN(Ea=+Ea)||isNaN($a=+$a))return this;var db=this._x0,Ja=this._y0,ea=this._x1,pa=this._y1;if(isNaN(db))ea=(db=Math.floor(Ea))+1,pa=(Ja=Math.floor($a))+1;else{for(var Ga=ea-db||1,Wa=this._root,la,aa;db>Ea||Ea>=ea||Ja>$a||$a>=pa;)switch(aa=
($a<Ja)<<1|Ea<db,la=Array(4),la[aa]=Wa,Wa=la,Ga*=2,aa){case 0:ea=db+Ga;pa=Ja+Ga;break;case 1:db=ea-Ga;pa=Ja+Ga;break;case 2:ea=db+Ga;Ja=pa-Ga;break;case 3:db=ea-Ga,Ja=pa-Ga}this._root&&this._root.length&&(this._root=Wa)}this._x0=db;this._y0=Ja;this._x1=ea;this._y1=pa;return this};qb.data=function(){var Ea=[];this.visit(function($a){if(!$a.length){do Ea.push($a.data);while($a=$a.next)}});return Ea};qb.extent=function(Ea){return arguments.length?this.cover(+Ea[0][0],+Ea[0][1]).cover(+Ea[1][0],+Ea[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};qb.find=function(Ea,$a,db){var Ja=this._x0,ea=this._y0,pa,Ga,Wa,la,aa=this._x1,Qa=this._y1,xa=[],Oa=this._root,ya;Oa&&xa.push(new S(Oa,Ja,ea,aa,Qa));null==db?db=Infinity:(Ja=Ea-db,ea=$a-db,aa=Ea+db,Qa=$a+db,db*=db);for(;ya=xa.pop();)if(!(!(Oa=ya.node)||(pa=ya.x0)>aa||(Ga=ya.y0)>Qa||(Wa=ya.x1)<Ja||(la=ya.y1)<ea))if(Oa.length){ya=(pa+Wa)/2;var ja=(Ga+la)/2;xa.push(new S(Oa[3],ya,ja,Wa,la),new S(Oa[2],pa,ja,ya,la),new S(Oa[1],ya,Ga,Wa,
ja),new S(Oa[0],pa,Ga,ya,ja));if(Oa=($a>=ja)<<1|Ea>=ya)ya=xa[xa.length-1],xa[xa.length-1]=xa[xa.length-1-Oa],xa[xa.length-1-Oa]=ya}else if(ya=Ea-+this._x.call(null,Oa.data),ja=$a-+this._y.call(null,Oa.data),ya=ya*ya+ja*ja,ya<db){var wa=Math.sqrt(db=ya);Ja=Ea-wa;ea=$a-wa;aa=Ea+wa;Qa=$a+wa;wa=Oa.data}return wa};qb.remove=function(Ea){if(isNaN(la=+this._x.call(null,Ea))||isNaN(aa=+this._y.call(null,Ea)))return this;var $a,db=this._root,Ja,ea=this._x0,pa=this._y0,Ga=this._x1,Wa=this._y1,la,aa,Qa,xa,Oa,
ya;if(!db)return this;if(db.length)for(;;){(Oa=la>=(Qa=(ea+Ga)/2))?ea=Qa:Ga=Qa;(ya=aa>=(xa=(pa+Wa)/2))?pa=xa:Wa=xa;if(!($a=db,db=db[Oa|=ya<<1]))return this;if(!db.length)break;if($a[Oa+1&3]||$a[Oa+2&3]||$a[Oa+3&3]){var ja=$a;var wa=Oa}}for(;db.data!==Ea;)if(!(Ja=db,db=db.next))return this;(Ea=db.next)&&delete db.next;if(Ja)return Ea?Ja.next=Ea:delete Ja.next,this;if(!$a)return this._root=Ea,this;Ea?$a[Oa]=Ea:delete $a[Oa];(db=$a[0]||$a[1]||$a[2]||$a[3])&&db===($a[3]||$a[2]||$a[1]||$a[0])&&!db.length&&
(ja?ja[wa]=db:this._root=db);return this};qb.removeAll=function(Ea){for(var $a=0,db=Ea.length;$a<db;++$a)this.remove(Ea[$a]);return this};qb.root=function(){return this._root};qb.size=function(){var Ea=0;this.visit(function($a){if(!$a.length){do++Ea;while($a=$a.next)}});return Ea};qb.visit=function(Ea){var $a=[],db,Ja=this._root,ea,pa,Ga,Wa;for(Ja&&$a.push(new S(Ja,this._x0,this._y0,this._x1,this._y1));db=$a.pop();)if(!Ea(Ja=db.node,pa=db.x0,Ga=db.y0,Wa=db.x1,db=db.y1)&&Ja.length){var la=(pa+Wa)/
2,aa=(Ga+db)/2;(ea=Ja[3])&&$a.push(new S(ea,la,aa,Wa,db));(ea=Ja[2])&&$a.push(new S(ea,pa,aa,la,db));(ea=Ja[1])&&$a.push(new S(ea,la,Ga,Wa,aa));(ea=Ja[0])&&$a.push(new S(ea,pa,Ga,la,aa))}return this};qb.visitAfter=function(Ea){var $a=[],db=[],Ja;for(this._root&&$a.push(new S(this._root,this._x0,this._y0,this._x1,this._y1));Ja=$a.pop();){var ea=Ja.node;if(ea.length){var pa,Ga=Ja.x0,Wa=Ja.y0,la=Ja.x1,aa=Ja.y1,Qa=(Ga+la)/2,xa=(Wa+aa)/2;(pa=ea[0])&&$a.push(new S(pa,Ga,Wa,Qa,xa));(pa=ea[1])&&$a.push(new S(pa,
Qa,Wa,la,xa));(pa=ea[2])&&$a.push(new S(pa,Ga,xa,Qa,aa));(pa=ea[3])&&$a.push(new S(pa,Qa,xa,la,aa))}db.push(Ja)}for(;Ja=db.pop();)Ea(Ja.node,Ja.x0,Ja.y0,Ja.x1,Ja.y1);return this};qb.x=function(Ea){return arguments.length?(this._x=Ea,this):this._x};qb.y=function(Ea){return arguments.length?(this._y=Ea,this):this._y};n.quadtree=Ma;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[30]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){for(var cb=0,Eb=arguments.length,qb={},Ea;cb<Eb;++cb){if(!(Ea=arguments[cb]+"")||Ea in qb||/[\s.]/.test(Ea))throw Error("illegal type: "+Ea);qb[Ea]=[]}return new S(qb)}function S(cb){this._=cb}function Pa(cb,Eb){return cb.trim().split(/^|\s+/).map(function(qb){var Ea="",
$a=qb.indexOf(".");0<=$a&&(Ea=qb.slice($a+1),qb=qb.slice(0,$a));if(qb&&!Eb.hasOwnProperty(qb))throw Error("unknown type: "+qb);return{type:qb,name:Ea}})}function Hb(cb,Eb,qb){for(var Ea=0,$a=cb.length;Ea<$a;++Ea)if(cb[Ea].name===Eb){cb[Ea]=Ma;cb=cb.slice(0,Ea).concat(cb.slice(Ea+1));break}null!=qb&&cb.push({name:Eb,value:qb});return cb}var Ma={value:function(){}};S.prototype=q.prototype={constructor:S,on:function(cb,Eb){var qb=this._,Ea=Pa(cb+"",qb),$a,db=-1,Ja=Ea.length;if(2>arguments.length)for(;++db<
Ja;){var ea;if(ea=$a=(cb=Ea[db]).type){a:{ea=qb[$a];for(var pa=0,Ga=ea.length;pa<Ga;++pa)if(($a=ea[pa]).name===cb.name){$a=$a.value;break a}$a=void 0}ea=$a}if(ea)return $a}else{if(null!=Eb&&"function"!==typeof Eb)throw Error("invalid callback: "+Eb);for(;++db<Ja;)if($a=(cb=Ea[db]).type)qb[$a]=Hb(qb[$a],cb.name,Eb);else if(null==Eb)for($a in qb)qb[$a]=Hb(qb[$a],cb.name,null);return this}},copy:function(){var cb={},Eb=this._,qb;for(qb in Eb)cb[qb]=Eb[qb].slice();return new S(cb)},call:function(cb,Eb){if(0<
($a=arguments.length-2))for(var qb=Array($a),Ea=0,$a,db;Ea<$a;++Ea)qb[Ea]=arguments[Ea+2];if(!this._.hasOwnProperty(cb))throw Error("unknown type: "+cb);db=this._[cb];Ea=0;for($a=db.length;Ea<$a;++Ea)db[Ea].value.apply(Eb,qb)},apply:function(cb,Eb,qb){if(!this._.hasOwnProperty(cb))throw Error("unknown type: "+cb);cb=this._[cb];for(var Ea=0,$a=cb.length;Ea<$a;++Ea)cb[Ea].value.apply(Eb,qb)}};n.dispatch=q;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[31]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){return Ga||(aa(S),Ga=la.now()+Wa)}function S(){Ga=0}function Pa(){this._call=this._time=this._next=null}function Hb(Qa,xa,Oa){var ya=new Pa;ya.restart(Qa,xa,Oa);return ya}function Ma(){q();++Ea;for(var Qa=Ja,xa;Qa;)0<=(xa=Ga-Qa._time)&&Qa._call.call(null,xa),Qa=Qa._next;
--Ea}function cb(){Ga=(pa=la.now())+Wa;Ea=$a=0;try{Ma()}finally{Ea=0;for(var Qa,xa=Ja,Oa,ya=Infinity;xa;)xa._call?(ya>xa._time&&(ya=xa._time),Qa=xa,xa=xa._next):(Oa=xa._next,xa._next=null,xa=Qa?Qa._next=Oa:Ja=Oa);ea=Qa;qb(ya);Ga=0}}function Eb(){var Qa=la.now(),xa=Qa-pa;1E3<xa&&(Wa-=xa,pa=Qa)}function qb(Qa){Ea||($a&&($a=clearTimeout($a)),24<Qa-Ga?(Infinity>Qa&&($a=setTimeout(cb,Qa-la.now()-Wa)),db&&(db=clearInterval(db))):(db||(pa=la.now(),db=setInterval(Eb,1E3)),Ea=1,aa(cb)))}var Ea=0,$a=0,db=0,
Ja,ea,pa=0,Ga=0,Wa=0,la="object"===typeof performance&&performance.now?performance:Date,aa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qa){setTimeout(Qa,17)};Pa.prototype=Hb.prototype={constructor:Pa,restart:function(Qa,xa,Oa){if("function"!==typeof Qa)throw new TypeError("callback is not a function");Oa=(null==Oa?q():+Oa)+(null==xa?0:+xa);this._next||ea===this||(ea?ea._next=this:Ja=this,ea=this);this._call=Qa;this._time=Oa;qb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,qb())}};n.interval=function(Qa,xa,Oa){var ya=new Pa,ja=xa;if(null==xa)return ya.restart(Qa,xa,Oa),ya;ya._restart=ya.restart;ya.restart=function(wa,sa,qa){sa=+sa;qa=null==qa?q():+qa;ya._restart(function Za(Ba){Ba+=ja;ya._restart(Za,ja+=sa,qa);wa(Ba)},sa,qa)};ya.restart(Qa,xa,Oa);return ya};n.now=q;n.timeout=function(Qa,xa,Oa){var ya=new Pa;xa=null==xa?0:+xa;ya.restart(function(ja){ya.stop();Qa(ja+xa)},xa,Oa);return ya};n.timer=Hb;n.timerFlush=Ma;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(29),sb(30),sb(31)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],q):(n=n||self,q(n.d3=n.d3||{},n.d3,n.d3,n.d3))})(this,function(n,q,S,Pa){function Hb(ea){return function(){return ea}}function Ma(ea){return ea.x+ea.vx}function cb(ea){return ea.y+ea.vy}function Eb(ea){return ea.index}function qb(ea,pa){ea=ea.get(pa);if(!ea)throw Error("node not found: "+
pa);return ea}function Ea(){var ea=1;return function(){return(ea=(1664525*ea+1013904223)%4294967296)/4294967296}}function $a(ea){return ea.x}function db(ea){return ea.y}var Ja=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(ea,pa){function Ga(){var aa,Qa=Wa.length,xa=0,Oa=0;for(aa=0;aa<Qa;++aa){var ya=Wa[aa];xa+=ya.x;Oa+=ya.y}xa=(xa/Qa-ea)*la;Oa=(Oa/Qa-pa)*la;for(aa=0;aa<Qa;++aa)ya=Wa[aa],ya.x-=xa,ya.y-=Oa}var Wa,la=1;null==ea&&(ea=0);null==pa&&(pa=0);Ga.initialize=function(aa){Wa=aa};Ga.x=function(aa){return arguments.length?
(ea=+aa,Ga):ea};Ga.y=function(aa){return arguments.length?(pa=+aa,Ga):pa};Ga.strength=function(aa){return arguments.length?(la=+aa,Ga):la};return Ga};n.forceCollide=function(ea){function pa(){function ya(y,I,L,z,H){var O=y.data;y=y.r;var ma=Za+y;if(O)O.index>qa.index&&(I=Fa-O.x-O.vx,L=Ba-O.y-O.vy,z=I*I+L*L,z<ma*ma&&(0===I&&(I=1E-6*(Qa()-.5),z+=I*I),0===L&&(L=1E-6*(Qa()-.5),z+=L*L),z=(ma-(z=Math.sqrt(z)))/z*xa,qa.vx+=(I*=z)*(ma=(y*=y)/(jb+y)),qa.vy+=(L*=z)*ma,O.vx-=I*(ma=1-ma),O.vy-=L*ma));else return I>
Fa+ma||z<Fa-ma||L>Ba+ma||H<Ba-ma}for(var ja,wa=la.length,sa,qa,Fa,Ba,Za,jb,A=0;A<Oa;++A)for(sa=q.quadtree(la,Ma,cb).visitAfter(Ga),ja=0;ja<wa;++ja)qa=la[ja],Za=aa[qa.index],jb=Za*Za,Fa=qa.x+qa.vx,Ba=qa.y+qa.vy,sa.visit(ya)}function Ga(ya){if(ya.data)return ya.r=aa[ya.data.index];for(var ja=ya.r=0;4>ja;++ja)ya[ja]&&ya[ja].r>ya.r&&(ya.r=ya[ja].r)}function Wa(){if(la){var ya,ja=la.length;aa=Array(ja);for(ya=0;ya<ja;++ya){var wa=la[ya];aa[wa.index]=+ea(wa,ya,la)}}}var la,aa,Qa,xa=1,Oa=1;"function"!==
typeof ea&&(ea=Hb(null==ea?1:+ea));pa.initialize=function(ya,ja){la=ya;Qa=ja;Wa()};pa.iterations=function(ya){return arguments.length?(Oa=+ya,pa):Oa};pa.strength=function(ya){return arguments.length?(xa=+ya,pa):xa};pa.radius=function(ya){return arguments.length?(ea="function"===typeof ya?ya:Hb(+ya),Wa(),pa):ea};return pa};n.forceLink=function(ea){function pa(Ba){for(var Za=0,jb=ea.length;Za<Fa;++Za)for(var A=0,y,I,L,z,H;A<jb;++A)y=ea[A],I=y.source,y=y.target,L=y.x+y.vx-I.x-I.vx||1E-6*(qa()-.5),z=
y.y+y.vy-I.y-I.vy||1E-6*(qa()-.5),H=Math.sqrt(L*L+z*z),H=(H-ya[A])/H*Ba*xa[A],L*=H,z*=H,y.vx-=L*(H=sa[A]),y.vy-=z*H,I.vx+=L*(H=1-H),I.vy+=z*H}function Ga(){if(ja){var Ba=ja.length,Za=ea.length,jb=new Map(ja.map(function(y,I){return[aa(y,I,ja),y]}));var A=0;for(wa=Array(Ba);A<Za;++A)Ba=ea[A],Ba.index=A,"object"!==typeof Ba.source&&(Ba.source=qb(jb,Ba.source)),"object"!==typeof Ba.target&&(Ba.target=qb(jb,Ba.target)),wa[Ba.source.index]=(wa[Ba.source.index]||0)+1,wa[Ba.target.index]=(wa[Ba.target.index]||
0)+1;A=0;for(sa=Array(Za);A<Za;++A)Ba=ea[A],sa[A]=wa[Ba.source.index]/(wa[Ba.source.index]+wa[Ba.target.index]);xa=Array(Za);Wa();ya=Array(Za);la()}}function Wa(){if(ja)for(var Ba=0,Za=ea.length;Ba<Za;++Ba)xa[Ba]=+Qa(ea[Ba],Ba,ea)}function la(){if(ja)for(var Ba=0,Za=ea.length;Ba<Za;++Ba)ya[Ba]=+Oa(ea[Ba],Ba,ea)}var aa=Eb,Qa=function(Ba){return 1/Math.min(wa[Ba.source.index],wa[Ba.target.index])},xa,Oa=Hb(30),ya,ja,wa,sa,qa,Fa=1;null==ea&&(ea=[]);pa.initialize=function(Ba,Za){ja=Ba;qa=Za;Ga()};pa.links=
function(Ba){return arguments.length?(ea=Ba,Ga(),pa):ea};pa.id=function(Ba){return arguments.length?(aa=Ba,pa):aa};pa.iterations=function(Ba){return arguments.length?(Fa=+Ba,pa):Fa};pa.strength=function(Ba){return arguments.length?(Qa="function"===typeof Ba?Ba:Hb(+Ba),Wa(),pa):Qa};pa.distance=function(Ba){return arguments.length?(Oa="function"===typeof Ba?Ba:Hb(+Ba),la(),pa):Oa};return pa};n.forceManyBody=function(){function ea(qa){var Fa=la.length,Ba=q.quadtree(la,$a,db).visitAfter(Ga);xa=qa;for(qa=
0;qa<Fa;++qa)aa=la[qa],Ba.visit(Wa)}function pa(){if(la){var qa,Fa=la.length;ya=Array(Fa);for(qa=0;qa<Fa;++qa){var Ba=la[qa];ya[Ba.index]=+Oa(Ba,qa,la)}}}function Ga(qa){var Fa=0,Ba,Za,jb=0,A,y,I;if(qa.length){for(A=y=I=0;4>I;++I)(Ba=qa[I])&&(Za=Math.abs(Ba.value))&&(Fa+=Ba.value,jb+=Za,A+=Za*Ba.x,y+=Za*Ba.y);qa.x=A/jb;qa.y=y/jb}else{Ba=qa;Ba.x=Ba.data.x;Ba.y=Ba.data.y;do Fa+=ya[Ba.data.index];while(Ba=Ba.next)}qa.value=Fa}function Wa(qa,Fa,Ba,Za){if(!qa.value)return!0;Ba=qa.x-aa.x;var jb=qa.y-aa.y;
Fa=Za-Fa;Za=Ba*Ba+jb*jb;if(Fa*Fa/sa<Za)return Za<wa&&(0===Ba&&(Ba=1E-6*(Qa()-.5),Za+=Ba*Ba),0===jb&&(jb=1E-6*(Qa()-.5),Za+=jb*jb),Za<ja&&(Za=Math.sqrt(ja*Za)),aa.vx+=Ba*qa.value*xa/Za,aa.vy+=jb*qa.value*xa/Za),!0;if(!(qa.length||Za>=wa)){if(qa.data!==aa||qa.next)0===Ba&&(Ba=1E-6*(Qa()-.5),Za+=Ba*Ba),0===jb&&(jb=1E-6*(Qa()-.5),Za+=jb*jb),Za<ja&&(Za=Math.sqrt(ja*Za));do qa.data!==aa&&(Fa=ya[qa.data.index]*xa/Za,aa.vx+=Ba*Fa,aa.vy+=jb*Fa);while(qa=qa.next)}}var la,aa,Qa,xa,Oa=Hb(-30),ya,ja=1,wa=Infinity,
sa=.81;ea.initialize=function(qa,Fa){la=qa;Qa=Fa;pa()};ea.strength=function(qa){return arguments.length?(Oa="function"===typeof qa?qa:Hb(+qa),pa(),ea):Oa};ea.distanceMin=function(qa){return arguments.length?(ja=qa*qa,ea):Math.sqrt(ja)};ea.distanceMax=function(qa){return arguments.length?(wa=qa*qa,ea):Math.sqrt(wa)};ea.theta=function(qa){return arguments.length?(sa=qa*qa,ea):Math.sqrt(sa)};return ea};n.forceRadial=function(ea,pa,Ga){function Wa(ya){for(var ja=0,wa=aa.length;ja<wa;++ja){var sa=aa[ja],
qa=sa.x-pa||1E-6,Fa=sa.y-Ga||1E-6,Ba=Math.sqrt(qa*qa+Fa*Fa);Ba=(Oa[ja]-Ba)*xa[ja]*ya/Ba;sa.vx+=qa*Ba;sa.vy+=Fa*Ba}}function la(){if(aa){var ya,ja=aa.length;xa=Array(ja);Oa=Array(ja);for(ya=0;ya<ja;++ya)Oa[ya]=+ea(aa[ya],ya,aa),xa[ya]=isNaN(Oa[ya])?0:+Qa(aa[ya],ya,aa)}}var aa,Qa=Hb(.1),xa,Oa;"function"!==typeof ea&&(ea=Hb(+ea));null==pa&&(pa=0);null==Ga&&(Ga=0);Wa.initialize=function(ya){aa=ya;la()};Wa.strength=function(ya){return arguments.length?(Qa="function"===typeof ya?ya:Hb(+ya),la(),Wa):Qa};
Wa.radius=function(ya){return arguments.length?(ea="function"===typeof ya?ya:Hb(+ya),la(),Wa):ea};Wa.x=function(ya){return arguments.length?(pa=+ya,Wa):pa};Wa.y=function(ya){return arguments.length?(Ga=+ya,Wa):Ga};return Wa};n.forceSimulation=function(ea){function pa(){Ga();qa.call("tick",aa);Qa<xa&&(sa.stop(),qa.call("end",aa))}function Ga(Ba){var Za,jb=ea.length;void 0===Ba&&(Ba=1);for(var A=0;A<Ba;++A)for(Qa+=(ya-Qa)*Oa,wa.forEach(function(I){I(Qa)}),Za=0;Za<jb;++Za){var y=ea[Za];null==y.fx?y.x+=
y.vx*=ja:(y.x=y.fx,y.vx=0);null==y.fy?y.y+=y.vy*=ja:(y.y=y.fy,y.vy=0)}return aa}function Wa(){for(var Ba=0,Za=ea.length,jb;Ba<Za;++Ba){jb=ea[Ba];jb.index=Ba;null!=jb.fx&&(jb.x=jb.fx);null!=jb.fy&&(jb.y=jb.fy);if(isNaN(jb.x)||isNaN(jb.y)){var A=10*Math.sqrt(.5+Ba),y=Ba*Ja;jb.x=A*Math.cos(y);jb.y=A*Math.sin(y)}if(isNaN(jb.vx)||isNaN(jb.vy))jb.vx=jb.vy=0}}function la(Ba){Ba.initialize&&Ba.initialize(ea,Fa);return Ba}var aa,Qa=1,xa=.001,Oa=1-Math.pow(xa,1/300),ya=0,ja=.6,wa=new Map,sa=Pa.timer(pa),qa=
S.dispatch("tick","end"),Fa=Ea();null==ea&&(ea=[]);Wa();return aa={tick:Ga,restart:function(){return sa.restart(pa),aa},stop:function(){return sa.stop(),aa},nodes:function(Ba){return arguments.length?(ea=Ba,Wa(),wa.forEach(la),aa):ea},alpha:function(Ba){return arguments.length?(Qa=+Ba,aa):Qa},alphaMin:function(Ba){return arguments.length?(xa=+Ba,aa):xa},alphaDecay:function(Ba){return arguments.length?(Oa=+Ba,aa):+Oa},alphaTarget:function(Ba){return arguments.length?(ya=+Ba,aa):ya},velocityDecay:function(Ba){return arguments.length?
(ja=1-Ba,aa):1-ja},randomSource:function(Ba){return arguments.length?(Fa=Ba,wa.forEach(la),aa):Fa},force:function(Ba,Za){return 1<arguments.length?(null==Za?wa.delete(Ba):wa.set(Ba,la(Za)),aa):wa.get(Ba)},find:function(Ba,Za,jb){var A,y=ea.length;jb=null==jb?Infinity:jb*jb;for(A=0;A<y;++A){var I=ea[A];var L=Ba-I.x;var z=Za-I.y;L=L*L+z*z;if(L<jb){var H=I;jb=L}}return H},on:function(Ba,Za){return 1<arguments.length?(qa.on(Ba,Za),aa):qa.on(Ba)}}};n.forceX=function(ea){function pa(xa){for(var Oa=0,ya=
la.length,ja;Oa<ya;++Oa)ja=la[Oa],ja.vx+=(Qa[Oa]-ja.x)*aa[Oa]*xa}function Ga(){if(la){var xa,Oa=la.length;aa=Array(Oa);Qa=Array(Oa);for(xa=0;xa<Oa;++xa)aa[xa]=isNaN(Qa[xa]=+ea(la[xa],xa,la))?0:+Wa(la[xa],xa,la)}}var Wa=Hb(.1),la,aa,Qa;"function"!==typeof ea&&(ea=Hb(null==ea?0:+ea));pa.initialize=function(xa){la=xa;Ga()};pa.strength=function(xa){return arguments.length?(Wa="function"===typeof xa?xa:Hb(+xa),Ga(),pa):Wa};pa.x=function(xa){return arguments.length?(ea="function"===typeof xa?xa:Hb(+xa),
Ga(),pa):ea};return pa};n.forceY=function(ea){function pa(xa){for(var Oa=0,ya=la.length,ja;Oa<ya;++Oa)ja=la[Oa],ja.vy+=(Qa[Oa]-ja.y)*aa[Oa]*xa}function Ga(){if(la){var xa,Oa=la.length;aa=Array(Oa);Qa=Array(Oa);for(xa=0;xa<Oa;++xa)aa[xa]=isNaN(Qa[xa]=+ea(la[xa],xa,la))?0:+Wa(la[xa],xa,la)}}var Wa=Hb(.1),la,aa,Qa;"function"!==typeof ea&&(ea=Hb(null==ea?0:+ea));pa.initialize=function(xa){la=xa;Ga()};pa.strength=function(xa){return arguments.length?(Wa="function"===typeof xa?xa:Hb(+xa),Ga(),pa):Wa};pa.y=
function(xa){return arguments.length?(ea="function"===typeof xa?xa:Hb(+xa),Ga(),pa):ea};return pa};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[33]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(0),sb(32)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Hb(ea){q.Transform.call(this,null,ea)}function Ma(ea,pa){return function(){return ea.touch(pa).run()}}function cb(ea,pa){ea=
Pa.forceSimulation(ea);var Ga=ea.stop,Wa=ea.restart,la=!1;ea.stopped=function(){return la};ea.restart=function(){return la=!1,Wa()};ea.stop=function(){return la=!0,Ga()};return Eb(ea,pa,!0).on("end",function(){return la=!0})}function Eb(ea,pa,Ga,Wa){var la=S.array(pa.forces),aa;var Qa=0;for(aa=$a.length;Qa<aa;++Qa){var xa=$a[Qa];if("forces"!==xa&&pa.modified(xa))ea[xa](pa[xa])}Qa=0;for(aa=la.length;Qa<aa;++Qa){var Oa="forces"+Qa;if(Ga||pa.modified("forces",Qa)){xa=void 0;var ya=la[Qa];S.hasOwnProperty(Ea,
ya.force)||S.error("Unrecognized force: "+ya.force);var ja=Ea[ya.force]();for(xa in ya)S.isFunction(ja[xa])&&qb(ja[xa],ya[xa],ya);xa=ja}else{if(xa=Wa)a:{ja=xa=void 0;ya=la[Qa];var wa=Wa;for(ja in ya)if(S.isFunction(xa=ya[ja])&&wa.modified(S.accessorFields(xa))){xa=1;break a}xa=0}xa=xa?ea.force(Oa):null}xa&&ea.force(Oa,xa)}for(aa=ea.numForces||0;Qa<aa;++Qa)ea.force("forces"+Qa,null);ea.numForces=la.length;return ea}function qb(ea,pa,Ga){ea(S.isFunction(pa)?function(Wa){return pa(Wa,Ga)}:pa)}var Ea=
{center:Pa.forceCenter,collide:Pa.forceCollide,nbody:Pa.forceManyBody,link:Pa.forceLink,x:Pa.forceX,y:Pa.forceY},$a=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],db=["static","iterations"],Ja=["x","y","vx","vy"];Hb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},
{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number",
"default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},
{name:"as",type:"string",array:!0,modify:!1,"default":Ja}]};S.inherits(Hb,q.Transform,{transform:function(ea,pa){var Ga=this.value,Wa=pa.changed(pa.ADD_REM),la=ea.modified($a),aa=ea.iterations||300;Ga?(Wa&&(pa.modifies("index"),Ga.nodes(pa.source)),(la||pa.changed(pa.MOD))&&Eb(Ga,ea,0,pa)):(this.value=Ga=cb(pa.source,ea),Ga.on("tick",Ma(pa.dataflow,this)),ea.static||(Wa=!0,Ga.tick()),pa.modifies("index"));if(la||Wa||ea.modified(db)||pa.changed()&&ea.restart)if(Ga.alpha(Math.max(Ga.alpha(),ea.alpha||
1)).alphaDecay(1-Math.pow(Ga.alphaMin(),1/aa)),ea.static)for(Ga.stop();0<=--aa;)Ga.tick();else if(Ga.stopped()&&Ga.restart(),!Wa)return pa.StopPropagation;return this.finish(ea,pa)},finish:function(ea,pa){for(var Ga=pa.dataflow,Wa=this._argops,la=0,aa=Wa.length,Qa;la<aa;++la)if(Qa=Wa[la],"forces"===Qa.name&&"link"===Qa.op._argval.force){Qa=Qa.op._argops;for(var xa=0,Oa=Qa.length,ya;xa<Oa;++xa)if("links"===Qa[xa].name&&(ya=Qa[xa].op.source)){Ga.pulse(ya,Ga.changeset().reflow());break}}return pa.reflow(ea.modified()).modifies(Ja)}});
n.force=Hb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[34]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(h,k){return h.parent===k.parent?1:2}function S(h,k){return h+k.x}function Pa(h,k){return Math.max(h,k.y)}function Hb(h){for(var k;k=h.children;)h=k[0];return h}function Ma(h){for(var k;k=h.children;)h=k[k.length-1];return h}function cb(h){var k=0,m=h.children,r=m&&m.length;
if(r)for(;0<=--r;)k+=m[r].value;else k=1;h.value=k}function Eb(){var h=this,k,m,r,v,J,ba;return $jscomp.generator.createGenerator(Eb,function(ka){switch(ka.nextAddress){case 1:k=h,r=[k];case 2:m=r.reverse(),r=[];case 5:if(!(k=m.pop())){ka.jumpTo(4);break}return ka.yield(k,7);case 7:if(v=k.children)for(J=0,ba=v.length;J<ba;++J)r.push(v[J]);ka.jumpTo(5);break;case 4:r.length?ka.jumpTo(2):ka.jumpToEnd()}})}function qb(h,k){h instanceof Map?(h=[void 0,h],void 0===k&&(k=$a)):void 0===k&&(k=Ea);h=new ea(h);
for(var m,r=[h],v,J,ba,ka;m=r.pop();)if((J=k(m.data))&&(ka=(J=Array.from(J)).length))for(m.children=J,ba=ka-1;0<=ba;--ba)r.push(v=J[ba]=new ea(J[ba])),v.parent=m,v.depth=m.depth+1;return h.eachBefore(Ja)}function Ea(h){return h.children}function $a(h){return Array.isArray(h)?h[1]:null}function db(h){void 0!==h.data.value&&(h.value=h.data.value);h.data=h.data.data}function Ja(h){var k=0;do h.height=k;while((h=h.parent)&&h.height<++k)}function ea(h){this.data=h;this.depth=this.height=0;this.parent=
null}function pa(h){var k=0;h=Array.from(h);for(var m=h.length,r,v;m;)v=Math.random()*m--|0,r=h[m],h[m]=h[v],h[v]=r;m=h.length;r=[];for(var J;k<m;)if(v=h[k],J&&Wa(J,v))++k;else{a:if(k=r,la(v,k))k=[v];else{for(r=0;r<k.length;++r)if(Ga(v,k[r])&&la(aa(k[r],v),k)){k=[k[r],v];break a}for(r=0;r<k.length-1;++r)for(J=r+1;J<k.length;++J)if(Ga(aa(k[r],k[J]),v)&&Ga(aa(k[r],v),k[J])&&Ga(aa(k[J],v),k[r])&&la(Qa(k[r],k[J],v),k)){k=[k[r],k[J],v];break a}throw Error();}a:{k=r=k;switch(k.length){case 1:k=k[0];k={x:k.x,
y:k.y,r:k.r};break a;case 2:k=aa(k[0],k[1]);break a;case 3:k=Qa(k[0],k[1],k[2]);break a}k=void 0}J=k;k=0}return J}function Ga(h,k){var m=h.r-k.r,r=k.x-h.x;h=k.y-h.y;return 0>m||m*m<r*r+h*h}function Wa(h,k){var m=h.r-k.r+1E-9*Math.max(h.r,k.r,1),r=k.x-h.x;h=k.y-h.y;return 0<m&&m*m>r*r+h*h}function la(h,k){for(var m=0;m<k.length;++m)if(!Wa(h,k[m]))return!1;return!0}function aa(h,k){var m=h.x,r=h.y;h=h.r;var v=k.x,J=k.y;k=k.r;var ba=v-m,ka=J-r,ua=k-h,fb=Math.sqrt(ba*ba+ka*ka);return{x:(m+v+ba/fb*ua)/
2,y:(r+J+ka/fb*ua)/2,r:(fb+h+k)/2}}function Qa(h,k,m){var r=h.x,v=h.y;h=h.r;var J=k.x,ba=k.y,ka=k.r,ua=m.x,fb=m.y,eb=m.r;m=r-J;k=r-ua;var Ca=v-ba,Ka=v-fb,Z=ka-h,ra=eb-h,hb=r*r+v*v-h*h;ba=hb-J*J-ba*ba+ka*ka;fb=hb-ua*ua-fb*fb+eb*eb;ua=k*Ca-m*Ka;J=(Ca*fb-Ka*ba)/(2*ua)-r;Ca=(Ka*Z-Ca*ra)/ua;Ka=(k*ba-m*fb)/(2*ua)-v;m=(m*ra-k*Z)/ua;k=Ca*Ca+m*m-1;Z=2*(h+J*Ca+Ka*m);h=J*J+Ka*Ka-h*h;h=-(k?(Z+Math.sqrt(Z*Z-4*k*h))/(2*k):h/Z);return{x:r+J+Ca*h,y:v+Ka+m*h,r:h}}function xa(h,k,m){var r=h.x-k.x,v=h.y-k.y,J=r*r+v*
v;if(J){var ba=k.r+m.r;ba*=ba;var ka=h.r+m.r;ka*=ka;if(ba>ka){var ua=(J+ka-ba)/(2*J);ba=Math.sqrt(Math.max(0,ka/J-ua*ua));m.x=h.x-ua*r-ba*v;m.y=h.y-ua*v+ba*r}else ua=(J+ba-ka)/(2*J),ba=Math.sqrt(Math.max(0,ba/J-ua*ua)),m.x=k.x+ua*r-ba*v,m.y=k.y+ua*v+ba*r}else m.x=k.x+m.r,m.y=k.y}function Oa(h,k){var m=h.r+k.r-1E-6,r=k.x-h.x;h=k.y-h.y;return 0<m&&m*m>r*r+h*h}function ya(h){var k=h._,m=h.next._,r=k.r+m.r;h=(k.x*m.r+m.x*k.r)/r;k=(k.y*m.r+m.y*k.r)/r;return h*h+k*k}function ja(h){this._=h;this.previous=
this.next=null}function wa(h){if(!(m=(h="object"===typeof h&&"length"in h?h:Array.from(h)).length))return 0;var k,m;var r=h[0];r.x=0;r.y=0;if(!(1<m))return r.r;var v=h[1];r.x=-v.r;v.x=r.r;v.y=0;if(!(2<m))return r.r+v.r;xa(v,r,k=h[2]);r=new ja(r);v=new ja(v);k=new ja(k);r.next=k.previous=v;v.next=r.previous=k;k.next=v.previous=r;var J=3;a:for(;J<m;++J){xa(r._,v._,k=h[J]);k=new ja(k);var ba=v.next;var ka=r.previous;var ua=v._.r;var fb=r._.r;do if(ua<=fb){if(Oa(ba._,k._)){v=ba;r.next=v;v.previous=r;
--J;continue a}ua+=ba._.r;ba=ba.next}else{if(Oa(ka._,k._)){r=ka;r.next=v;v.previous=r;--J;continue a}fb+=ka._.r;ka=ka.previous}while(ba!==ka.next);k.previous=r;k.next=v;r.next=v.previous=v=k;for(ba=ya(r);(k=k.next)!==v;)(ka=ya(k))<ba&&(r=k,ba=ka);v=r.next}r=[v._];for(k=v;(k=k.next)!==v;)r.push(k._);k=pa(r);for(J=0;J<m;++J)r=h[J],r.x-=k.x,r.y-=k.y;return k.r}function sa(h){if("function"!==typeof h)throw Error();return h}function qa(){return 0}function Fa(h){return function(){return h}}function Ba(h){return Math.sqrt(h.value)}
function Za(h){return function(k){k.children||(k.r=Math.max(0,+h(k)||0))}}function jb(h,k){return function(m){if(r=m.children){var r,v,J=r.length,ba=h(m)*k||0;if(ba)for(v=0;v<J;++v)r[v].r+=ba;var ka=wa(r);if(ba)for(v=0;v<J;++v)r[v].r-=ba;m.r=ka+ba}}}function A(h){return function(k){var m=k.parent;k.r*=h;m&&(k.x=m.x+h*k.x,k.y=m.y+h*k.y)}}function y(h){h.x0=Math.round(h.x0);h.y0=Math.round(h.y0);h.x1=Math.round(h.x1);h.y1=Math.round(h.y1)}function I(h,k,m,r,v){var J=h.children,ba=-1,ka=J.length;for(r=
h.value&&(r-k)/h.value;++ba<ka;)h=J[ba],h.y0=m,h.y1=v,h.x0=k,h.x1=k+=h.value*r}function L(h){return h.id}function z(h){return h.parentId}function H(h,k){return h.parent===k.parent?1:2}function O(h){var k=h.children;return k?k[0]:h.t}function ma(h){var k=h.children;return k?k[k.length-1]:h.t}function Ia(h,k){this._=h;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=k}function Sa(h){h=new Ia(h,0);for(var k,m=[h],r,v,J;k=m.pop();)if(v=k._.children)for(k.children=
Array(r=v.length),J=r-1;0<=J;--J)m.push(r=k.children[J]=new Ia(v[J],J)),r.parent=k;(h.parent=new Ia(null,0)).children=[h];return h}function E(h,k,m,r,v){var J=h.children,ba=-1,ka=J.length;for(v=h.value&&(v-m)/h.value;++ba<ka;)h=J[ba],h.x0=k,h.x1=r,h.y0=m,h.y1=m+=h.value*v}function ha(h,k,m,r,v,J){for(var ba=[],ka=k.children,ua,fb,eb=ua=0,Ca=ka.length,Ka,Z=k.value,ra,hb,mb,Ib,Xb,za;ua<Ca;){k=v-m;Ka=J-r;do ra=ka[eb++].value;while(!ra&&eb<Ca);hb=mb=ra;za=Math.max(Ka/k,k/Ka)/(Z*h);Ib=ra*ra*za;for(Xb=
Math.max(mb/Ib,Ib/hb);eb<Ca;++eb){ra+=fb=ka[eb].value;fb<hb&&(hb=fb);fb>mb&&(mb=fb);Ib=ra*ra*za;Ib=Math.max(mb/Ib,Ib/hb);if(Ib>Xb){ra-=fb;break}Xb=Ib}ba.push(ua={value:ra,dice:k<Ka,children:ka.slice(ua,eb)});ua.dice?I(ua,m,r,v,Z?r+=Ka*ra/Z:J):E(ua,m,r,Z?m+=k*ra/Z:v,J);Z-=ra;ua=eb}return ba}var Y={};ea.prototype=qb.prototype=(Y.constructor=ea,Y.count=function(){return this.eachAfter(cb)},Y.each=function(h,k){for(var m=-1,r=$jscomp.makeIterator(this),v=r.next();!v.done;v=r.next())h.call(k,v.value,++m,
this);return this},Y.eachAfter=function(h,k){for(var m,r=[this],v=[],J,ba,ka=-1;m=r.pop();)if(v.push(m),m=m.children)for(J=0,ba=m.length;J<ba;++J)r.push(m[J]);for(;m=v.pop();)h.call(k,m,++ka,this);return this},Y.eachBefore=function(h,k){for(var m,r=[this],v,J=-1;m=r.pop();)if(h.call(k,m,++J,this),m=m.children)for(v=m.length-1;0<=v;--v)r.push(m[v]);return this},Y.find=function(h,k){for(var m=-1,r=$jscomp.makeIterator(this),v=r.next();!v.done;v=r.next())if(v=v.value,h.call(k,v,++m,this))return v},Y.sum=
function(h){return this.eachAfter(function(k){for(var m=+h(k.data)||0,r=k.children,v=r&&r.length;0<=--v;)m+=r[v].value;k.value=m})},Y.sort=function(h){return this.eachBefore(function(k){k.children&&k.children.sort(h)})},Y.path=function(h){var k=this;var m=k;var r=h;if(m!==r){var v=m.ancestors(),J=r.ancestors(),ba=null;m=v.pop();for(r=J.pop();m===r;)ba=m,m=v.pop(),r=J.pop();m=ba}for(r=[k];k!==m;)k=k.parent,r.push(k);for(k=r.length;h!==m;)r.splice(k,0,h),h=h.parent;return r},Y.ancestors=function(){for(var h=
this,k=[h];h=h.parent;)k.push(h);return k},Y.descendants=function(){return Array.from(this)},Y.leaves=function(){var h=[];this.eachBefore(function(k){k.children||h.push(k)});return h},Y.links=function(){var h=this,k=[];h.each(function(m){m!==h&&k.push({source:m.parent,target:m})});return k},Y.copy=function(){return qb(this).eachBefore(db)},Y[Symbol.iterator]=Eb,Y);var V={depth:-1},w={};Ia.prototype=Object.create(ea.prototype);Y=(1+Math.sqrt(5))/2;var F=function m(k){function r(v,J,ba,ka,ua){ha(k,
v,J,ba,ka,ua)}r.ratio=function(v){return m(1<(v=+v)?v:1)};return r}(Y);Y=function r(m){function v(J,ba,ka,ua,fb){if((eb=J._squarify)&&eb.ratio===m)for(var eb,Ca,Ka,Z=-1,ra,hb=eb.length,mb=J.value;++Z<hb;){J=eb[Z];Ca=J.children;Ka=J.value=0;for(ra=Ca.length;Ka<ra;++Ka)J.value+=Ca[Ka].value;J.dice?I(J,ba,ka,ua,mb?ka+=(fb-ka)*J.value/mb:fb):E(J,ba,ka,mb?ba+=(ua-ba)*J.value/mb:ua,fb);mb-=J.value}else J._squarify=eb=ha(m,J,ba,ka,ua,fb),eb.ratio=m}v.ratio=function(J){return r(1<(J=+J)?J:1)};return v}(Y);
n.cluster=function(){function m(ka){var ua,fb=0;ka.eachAfter(function(ra){var hb=ra.children;if(hb){var mb=hb.reduce(S,0)/hb.length;ra.x=mb;ra.y=1+hb.reduce(Pa,0)}else ra.x=ua?fb+=r(ra,ua):0,ra.y=0,ua=ra});var eb=Hb(ka),Ca=Ma(ka),Ka=eb.x-r(eb,Ca)/2,Z=Ca.x+r(Ca,eb)/2;return ka.eachAfter(ba?function(ra){ra.x=(ra.x-ka.x)*v;ra.y=(ka.y-ra.y)*J}:function(ra){ra.x=(ra.x-Ka)/(Z-Ka)*v;ra.y=(1-(ka.y?ra.y/ka.y:1))*J})}var r=q,v=1,J=1,ba=!1;m.separation=function(ka){return arguments.length?(r=ka,m):r};m.size=
function(ka){return arguments.length?(ba=!1,v=+ka[0],J=+ka[1],m):ba?null:[v,J]};m.nodeSize=function(ka){return arguments.length?(ba=!0,v=+ka[0],J=+ka[1],m):ba?[v,J]:null};return m};n.hierarchy=qb;n.pack=function(){function m(ka){ka.x=v/2;ka.y=J/2;r?ka.eachBefore(Za(r)).eachAfter(jb(ba,.5)).eachBefore(A(1)):ka.eachBefore(Za(Ba)).eachAfter(jb(qa,1)).eachAfter(jb(ba,ka.r/Math.min(v,J))).eachBefore(A(Math.min(v,J)/(2*ka.r)));return ka}var r=null,v=1,J=1,ba=qa;m.radius=function(ka){return arguments.length?
(r=null==ka?null:sa(ka),m):r};m.size=function(ka){return arguments.length?(v=+ka[0],J=+ka[1],m):[v,J]};m.padding=function(ka){return arguments.length?(ba="function"===typeof ka?ka:Fa(+ka),m):ba};return m};n.packEnclose=pa;n.packSiblings=function(m){wa(m);return m};n.partition=function(){function m(ua){var fb=ua.height+1;ua.x0=ua.y0=ba;ua.x1=v;ua.y1=J/fb;ua.eachBefore(r(J,fb));ka&&ua.eachBefore(y);return ua}function r(ua,fb){return function(eb){eb.children&&I(eb,eb.x0,ua*(eb.depth+1)/fb,eb.x1,ua*(eb.depth+
2)/fb);var Ca=eb.x0,Ka=eb.y0,Z=eb.x1-ba,ra=eb.y1-ba;Z<Ca&&(Ca=Z=(Ca+Z)/2);ra<Ka&&(Ka=ra=(Ka+ra)/2);eb.x0=Ca;eb.y0=Ka;eb.x1=Z;eb.y1=ra}}var v=1,J=1,ba=0,ka=!1;m.round=function(ua){return arguments.length?(ka=!!ua,m):ka};m.size=function(ua){return arguments.length?(v=+ua[0],J=+ua[1],m):[v,J]};m.padding=function(ua){return arguments.length?(ba=+ua,m):ba};return m};n.stratify=function(){function m(J){var ba=Array.from(J),ka=ba.length,ua,fb,eb=new Map;for(ua=0;ua<ka;++ua){var Ca=ba[ua];var Ka=ba[ua]=new ea(Ca);
if(null!=(fb=r(Ca,ua,J))&&(fb+="")){var Z=Ka.id=fb;eb.set(Z,eb.has(Z)?w:Ka)}null!=(fb=v(Ca,ua,J))&&(fb+="")&&(Ka.parent=fb)}for(ua=0;ua<ka;++ua)if(Ka=ba[ua],fb=Ka.parent){J=eb.get(fb);if(!J)throw Error("missing: "+fb);if(J===w)throw Error("ambiguous: "+fb);J.children?J.children.push(Ka):J.children=[Ka];Ka.parent=J}else{if(ra)throw Error("multiple roots");var ra=Ka}if(!ra)throw Error("no root");ra.parent=V;ra.eachBefore(function(hb){hb.depth=hb.parent.depth+1;--ka}).eachBefore(Ja);ra.parent=null;if(0<
ka)throw Error("cycle");return ra}var r=L,v=z;m.id=function(J){return arguments.length?(r=sa(J),m):r};m.parentId=function(J){return arguments.length?(v=sa(J),m):v};return m};n.tree=function(){function m(eb){var Ca=Sa(eb);Ca.eachAfter(r);Ca.parent.m=-Ca.z;Ca.eachBefore(v);if(fb)eb.eachBefore(J);else{var Ka=eb,Z=eb,ra=eb;eb.eachBefore(function(Xb){Xb.x<Ka.x&&(Ka=Xb);Xb.x>Z.x&&(Z=Xb);Xb.depth>ra.depth&&(ra=Xb)});Ca=Ka===Z?1:ba(Ka,Z)/2;var hb=Ca-Ka.x,mb=ka/(Z.x+Ca+hb),Ib=ua/(ra.depth||1);eb.eachBefore(function(Xb){Xb.x=
(Xb.x+hb)*mb;Xb.y=Xb.depth*Ib})}return eb}function r(eb){var Ca=eb.children,Ka=eb.parent.children,Z=eb.i?Ka[eb.i-1]:null;if(Ca){for(var ra=0,hb=0,mb=eb.children,Ib=mb.length,Xb;0<=--Ib;)Xb=mb[Ib],Xb.z+=ra,Xb.m+=ra,ra+=Xb.s+(hb+=Xb.c);Ca=(Ca[0].z+Ca[Ca.length-1].z)/2;Z?(eb.z=Z.z+ba(eb._,Z._),eb.m=eb.z-Ca):eb.z=Ca}else Z&&(eb.z=Z.z+ba(eb._,Z._));Ca=eb.parent;Ka=eb.parent.A||Ka[0];if(Z){hb=ra=eb;mb=ra.parent.children[0];Ib=ra.m;Xb=hb.m;for(var za=Z.m,wb=mb.m,Tb;Z=ma(Z),ra=O(ra),Z&&ra;){mb=O(mb);hb=ma(hb);
hb.a=eb;Tb=Z.z+za-ra.z-Ib+ba(Z._,ra._);if(0<Tb){var rb=Z.a.parent===eb.parent?Z.a:Ka,Sb=eb,ic=Tb,rc=ic/(Sb.i-rb.i);Sb.c-=rc;Sb.s+=ic;rb.c+=rc;Sb.z+=ic;Sb.m+=ic;Ib+=Tb;Xb+=Tb}za+=Z.m;Ib+=ra.m;wb+=mb.m;Xb+=hb.m}Z&&!ma(hb)&&(hb.t=Z,hb.m+=za-Xb);ra&&!O(mb)&&(mb.t=ra,mb.m+=Ib-wb,Ka=eb)}Ca.A=Ka}function v(eb){eb._.x=eb.z+eb.parent.m;eb.m+=eb.parent.m}function J(eb){eb.x*=ka;eb.y=eb.depth*ua}var ba=H,ka=1,ua=1,fb=null;m.separation=function(eb){return arguments.length?(ba=eb,m):ba};m.size=function(eb){return arguments.length?
(fb=!1,ka=+eb[0],ua=+eb[1],m):fb?null:[ka,ua]};m.nodeSize=function(eb){return arguments.length?(fb=!0,ka=+eb[0],ua=+eb[1],m):fb?[ka,ua]:null};return m};n.treemap=function(){function m(ra){ra.x0=ra.y0=0;ra.x1=ba;ra.y1=ka;ra.eachBefore(r);ua=[0];J&&ra.eachBefore(y);return ra}function r(ra){var hb=ua[ra.depth],mb=ra.x0+hb,Ib=ra.y0+hb,Xb=ra.x1-hb,za=ra.y1-hb;Xb<mb&&(mb=Xb=(mb+Xb)/2);za<Ib&&(Ib=za=(Ib+za)/2);ra.x0=mb;ra.y0=Ib;ra.x1=Xb;ra.y1=za;ra.children&&(hb=ua[ra.depth+1]=fb(ra)/2,mb+=Z(ra)-hb,Ib+=
eb(ra)-hb,Xb-=Ca(ra)-hb,za-=Ka(ra)-hb,Xb<mb&&(mb=Xb=(mb+Xb)/2),za<Ib&&(Ib=za=(Ib+za)/2),v(ra,mb,Ib,Xb,za))}var v=F,J=!1,ba=1,ka=1,ua=[0],fb=qa,eb=qa,Ca=qa,Ka=qa,Z=qa;m.round=function(ra){return arguments.length?(J=!!ra,m):J};m.size=function(ra){return arguments.length?(ba=+ra[0],ka=+ra[1],m):[ba,ka]};m.tile=function(ra){return arguments.length?(v=sa(ra),m):v};m.padding=function(ra){return arguments.length?m.paddingInner(ra).paddingOuter(ra):m.paddingInner()};m.paddingInner=function(ra){return arguments.length?
(fb="function"===typeof ra?ra:Fa(+ra),m):fb};m.paddingOuter=function(ra){return arguments.length?m.paddingTop(ra).paddingRight(ra).paddingBottom(ra).paddingLeft(ra):m.paddingTop()};m.paddingTop=function(ra){return arguments.length?(eb="function"===typeof ra?ra:Fa(+ra),m):eb};m.paddingRight=function(ra){return arguments.length?(Ca="function"===typeof ra?ra:Fa(+ra),m):Ca};m.paddingBottom=function(ra){return arguments.length?(Ka="function"===typeof ra?ra:Fa(+ra),m):Ka};m.paddingLeft=function(ra){return arguments.length?
(Z="function"===typeof ra?ra:Fa(+ra),m):Z};return m};n.treemapBinary=function(m,r,v,J,ba){function ka(Z,ra,hb,mb,Ib,Xb,za){if(Z>=ra-1)Z=ua[Z],Z.x0=mb,Z.y0=Ib,Z.x1=Xb,Z.y1=za;else{for(var wb=Ka[Z],Tb=hb/2+wb,rb=Z+1,Sb=ra-1;rb<Sb;){var ic=rb+Sb>>>1;Ka[ic]<Tb?rb=ic+1:Sb=ic}Tb-Ka[rb-1]<Ka[rb]-Tb&&Z+1<rb&&--rb;wb=Ka[rb]-wb;Tb=hb-wb;Xb-mb>za-Ib?(hb=hb?(mb*Tb+Xb*wb)/hb:Xb,ka(Z,rb,wb,mb,Ib,hb,za),ka(rb,ra,Tb,hb,Ib,Xb,za)):(hb=hb?(Ib*Tb+za*wb)/hb:za,ka(Z,rb,wb,mb,Ib,Xb,hb),ka(rb,ra,Tb,mb,hb,Xb,za))}}var ua=
m.children,fb,eb=ua.length,Ca,Ka=Array(eb+1);for(Ka[0]=Ca=fb=0;fb<eb;++fb)Ka[fb+1]=Ca+=ua[fb].value;ka(0,eb,m.value,r,v,J,ba)};n.treemapDice=I;n.treemapResquarify=Y;n.treemapSlice=E;n.treemapSliceDice=function(m,r,v,J,ba){(m.depth&1?E:I)(m,r,v,J,ba)};n.treemapSquarify=F;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[35]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(0),sb(34)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Hb(xa,Oa,ya){var ja={};xa.each(function(wa){var sa=wa.data;ya(sa)&&(ja[Oa(sa)]=wa)});xa.lookup=ja;return xa}function Ma(xa){q.Transform.call(this,null,
xa)}function cb(){function xa(wa,sa){if(sa>=ya.length)return wa;for(var qa=wa.length,Fa=ya[sa++],Ba={},Za={},jb=-1,A,y,I;++jb<qa;)A=Fa(y=wa[jb])+"",(I=Ba[A])?I.push(y):Ba[A]=[y];for(A in Ba)Za[A]=xa(Ba[A],sa);return Za}function Oa(wa,sa){if(++sa>ya.length)return wa;var qa=[],Fa;for(Fa in wa)qa.push({key:Fa,values:Oa(wa[Fa],sa)});return qa}var ya=[],ja={entries:function(wa){return Oa(xa(wa,0),0)},key:function(wa){return ya.push(wa),ja}};return ja}function Eb(xa){q.Transform.call(this,null,xa)}function qb(xa,
Oa,ya){for(var ja,wa=0,sa=Oa.length;wa<sa;++wa)if(ja=Oa[wa],ja in ya)xa[ja](ya[ja])}function Ea(xa){Eb.call(this,xa)}function $a(xa){Eb.call(this,xa)}function db(xa){q.Transform.call(this,null,xa)}function Ja(xa){Eb.call(this,xa)}function ea(xa){q.Transform.call(this,[],xa)}function pa(xa){Eb.call(this,xa)}Ma.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var Ga=function(xa){return xa.values};S.inherits(Ma,
q.Transform,{transform:function(xa,Oa){Oa.source||S.error("Nest transform requires an upstream data source.");var ya=xa.generate,ja=xa.modified(),wa=Oa.clone(),sa=this.value;if(!sa||ja||Oa.changed())sa&&sa.each(function(qa){qa.children&&q.isTuple(qa.data)&&wa.rem.push(qa.data)}),this.value=sa=Pa.hierarchy({values:S.array(xa.keys).reduce(function(qa,Fa){qa.key(Fa);return qa},cb()).entries(wa.source)},Ga),ya&&sa.each(function(qa){qa.children&&(qa=q.ingest(qa.data),wa.add.push(qa),wa.source.push(qa))}),
Hb(sa,q.tupleid,q.tupleid);wa.source.root=sa;return wa}});var Wa=function(xa,Oa){return xa.parent===Oa.parent?1:2};S.inherits(Eb,q.Transform,{transform:function(xa,Oa){Oa.source&&Oa.source.root||S.error(this.constructor.name+" transform requires a backing tree data source.");var ya=this.layout(xa.method),ja=this.fields,wa=Oa.source.root,sa=xa.as||ja;xa.field?wa.sum(xa.field):wa.count();xa.sort&&wa.sort(q.stableCompare(xa.sort,function(qa){return qa.data}));qb(ya,this.params,xa);ya.separation&&ya.separation(!1!==
xa.separation?Wa:S.one);try{this.value=ya(wa)}catch(qa){S.error(qa)}wa.each(function(qa){for(var Fa=qa.data,Ba=ja.length-1,Za=0;Za<Ba;++Za)Fa[sa[Za]]=qa[ja[Za]];Fa[sa[Ba]]=qa.children?qa.children.length:0});return Oa.reflow(xa.modified()).modifies(sa).modifies("leaf")}});var la=["x","y","r","depth","children"];Ea.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field",
"default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};S.inherits(Ea,Eb,{layout:Pa.pack,params:["radius","size","padding"],fields:la});la="x0 y0 x1 y1 depth children".split(" ");$a.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,
length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};S.inherits($a,Eb,{layout:Pa.partition,params:["size","round","padding"],fields:la});db.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};S.inherits(db,q.Transform,{transform:function(xa,Oa){Oa.source||S.error("Stratify transform requires an upstream data source.");var ya=this.value,ja=xa.modified(),wa=Oa.fork(Oa.ALL).materialize(Oa.SOURCE);
Oa=!ya||ja||Oa.changed(Oa.ADD_REM)||Oa.modified(xa.key.fields)||Oa.modified(xa.parentKey.fields);wa.source=wa.source.slice();Oa&&(ya=wa.source.length?Hb(Pa.stratify().id(xa.key).parentId(xa.parentKey)(wa.source),xa.key,S.truthy):Hb(Pa.stratify()([{}]),xa.key,xa.key));wa.source.root=this.value=ya;return wa}});var aa={tidy:Pa.tree,cluster:Pa.cluster};la=["x","y","depth","children"];Ja.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};S.inherits(Ja,Eb,{layout:function(xa){xa=xa||"tidy";if(S.hasOwnProperty(aa,xa))return aa[xa]();S.error("Unrecognized Tree layout method: "+xa)},params:["size","nodeSize"],fields:la});ea.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};S.inherits(ea,q.Transform,{transform:function(xa,Oa){xa=this.value;var ya=Oa.source&&Oa.source.root,ja=Oa.fork(Oa.NO_SOURCE),wa={};ya||S.error("TreeLinks transform requires a tree data source.");Oa.changed(Oa.ADD_REM)?(ja.rem=xa,Oa.visit(Oa.SOURCE,function(sa){return wa[q.tupleid(sa)]=1}),ya.each(function(sa){var qa=sa.data;(sa=sa.parent&&sa.parent.data)&&wa[q.tupleid(qa)]&&wa[q.tupleid(sa)]&&ja.add.push(q.ingest({source:sa,target:qa}))}),this.value=ja.add):Oa.changed(Oa.MOD)&&
(Oa.visit(Oa.MOD,function(sa){return wa[q.tupleid(sa)]=1}),xa.forEach(function(sa){(wa[q.tupleid(sa.source)]||wa[q.tupleid(sa.target)])&&ja.mod.push(sa)}));return ja}});var Qa={binary:Pa.treemapBinary,dice:Pa.treemapDice,slice:Pa.treemapSlice,slicedice:Pa.treemapSliceDice,squarify:Pa.treemapSquarify,resquarify:Pa.treemapResquarify};la="x0 y0 x1 y1 depth children".split(" ");pa.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};S.inherits(pa,Eb,{layout:function(){var xa=Pa.treemap();xa.ratio=function(Oa){var ya=xa.tile();ya.ratio&&xa.tile(ya.ratio(Oa))};xa.method=function(Oa){S.hasOwnProperty(Qa,Oa)?xa.tile(Qa[Oa]):S.error("Unrecognized Treemap layout method: "+Oa)};return xa},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:la});n.nest=Ma;n.pack=Ea;n.partition=$a;n.stratify=db;n.tree=Ja;n.treelinks=ea;n.treemap=pa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[36]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(17),sb(12),sb(22),sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa,Hb){function Ma(A,y){var I=A.bitmap();(y||[]).forEach(function(L){return I.set(A(L.boundary[0]),
A(L.boundary[3]))});return[I,void 0]}function cb(A,y,I,L){var z=A.width,H=A.height,O=I||L,ma=q.canvas(z,H).getContext("2d");y.forEach(function(w){return Eb(ma,w,O)});y=new Uint32Array(ma.getImageData(0,0,z,H).data.buffer);I=A.bitmap();var Ia=O&&A.bitmap(),Sa,E,ha;for(E=0;E<H;++E)for(Sa=0;Sa<z;++Sa)if(ha=y[E*z+Sa]&4278190080){var Y=A(Sa);var V=A(E);L||I.set(Y,V);O&&ha^268435456&&Ia.set(Y,V)}return[I,Ia]}function Eb(A,y,I){if(y.length){var L=y[0].mark.marktype;"group"===L?y.forEach(function(z){z.items.forEach(function(H){return Eb(A,
H.items,I)})}):Pa.Marks[L].draw(A,{items:I?y.map(qb):y})}}function qb(A){A=S.rederive(A,{});A.stroke&&(A.strokeOpacity=1);A.fill&&(A.fillOpacity=.0625,A.stroke="#000",A.strokeOpacity=1,A.strokeWidth=2);return A}function Ea(A,y){var I=new Uint32Array(~~((A*y+32)/32));return{array:I,get:function(L,z){L=z*A+L;return I[L>>>5]&1<<(L&31)},set:function(L,z){L=z*A+L;I[L>>>5]|=1<<(L&31)},clear:function(L,z){L=z*A+L;I[L>>>5]&=~(1<<(L&31))},getRange:function(L,z,H,O){for(var ma,Ia,Sa,E;O>=z;--O)if(ma=O*A+L,
Ia=O*A+H,Sa=ma>>>5,E=Ia>>>5,Sa===E){if(I[Sa]&xa[ma&31]&Oa[(Ia&31)+1])return!0}else{if(I[Sa]&xa[ma&31]||I[E]&Oa[(Ia&31)+1])return!0;for(ma=Sa+1;ma<E;++ma)if(I[ma])return!0}return!1},setRange:function(L,z,H,O){for(var ma,Ia,Sa,E;z<=O;++z)if(ma=z*A+L,Ia=z*A+H,Sa=ma>>>5,E=Ia>>>5,Sa===E)I[Sa]|=xa[ma&31]&Oa[(Ia&31)+1];else for(I[Sa]|=xa[ma&31],I[E]|=Oa[(Ia&31)+1],ma=Sa+1;ma<E;++ma)I[ma]|=4294967295},clearRange:function(L,z,H,O){for(var ma,Ia,Sa,E;z<=O;++z)if(ma=z*A+L,Ia=z*A+H,Sa=ma>>>5,E=Ia>>>5,Sa===E)I[Sa]&=
Oa[ma&31]|xa[(Ia&31)+1];else for(I[Sa]&=Oa[ma&31],I[E]&=xa[(Ia&31)+1],ma=Sa+1;ma<E;++ma)I[ma]&=0},outOfBounds:function(L,z,H,O){return 0>L||0>z||O>=y||H>=A}}}function $a(A,y,I){var L=Math.max(1,Math.sqrt(A*y/1E6)),z=~~((A+2*I+L)/L),H=~~((y+2*I+L)/L),O=function(ma){return~~((ma+I)/L)};O.invert=function(ma){return ma*L-I};O.bitmap=function(){return Ea(z,H)};O.ratio=L;O.padding=I;O.width=A;O.height=y;return O}function db(A,y,I,L,z,H){I/=2;return 0>A-I||A+I>z||0>y-(I=L/2)||y+I>H}function Ja(A,y,I,L,z,
H,O,ma){z=z*H/(2*L);L=A(y-z);y=A(y+z);z=A(I-(H/=2));A=A(I+H);return O.outOfBounds(L,z,y,A)||O.getRange(L,z,y,A)||ma&&ma.getRange(L,z,y,A)}function ea(A,y,I,L){var z=A.width,H=A.height,O=y[0],ma=y[1],Ia=L.length;return function(Sa){var E=Sa.boundary,ha=Sa.datum.fontSize;if(0>E[2]||0>E[5]||E[0]>z||E[3]>H)return!1;for(var Y=0,V,w,F,h,k,m,r,v,J,ba,ka,ua,fb,eb,Ca=0;Ca<Ia;++Ca){V=(I[Ca]&3)-1;w=(I[Ca]>>>2&3)-1;F=0===V&&0===w||0>L[Ca];h=V&&w?Math.SQRT1_2:1;k=0>L[Ca]?-1:1;m=E[1+V]+L[Ca]*V*h;ba=E[4+w]+k*ha*
w/2+L[Ca]*w*h;h=ba-ha/2;v=ba+ha/2;ka=A(m);fb=A(h);eb=A(v);if(!Y){r=ka;J=fb;ua=eb;var Ka=m,Z=m,ra=h,hb=v,mb=F;if(!O.outOfBounds(r,J,ka,ua)&&(mb&&ma?!ma.getRange(r,J,ka,ua)&&E[0]<=Ka&&Z<=E[2]&&E[3]<=ra&&hb<=E[5]:!O.getRange(r,J,ka,ua)))Y=Pa.textMetrics.width(Sa.datum,Sa.datum.text);else continue}J=m+k*Y*V/2;m=J-Y/2;r=J+Y/2;ka=A(m);ua=A(r);Ka=ka;Z=ua;ra=fb;hb=eb;mb=m;var Ib=r,Xb=h,za=v;if(!O.outOfBounds(Ka,ra,Z,hb)&&(F&&ma?!ma.getRange(Ka,ra,Z,hb)&&E[0]<=mb&&Ib<=E[2]&&E[3]<=Xb&&za<=E[5]:!O.getRange(Ka,
ra,Z,hb)))return Sa.x=V?0>V*k?r:m:J,Sa.y=w?0>w*k?v:h:ba,Sa.align=sa[V*k+1],Sa.baseline=qa[w*k+1],O.setRange(ka,fb,ua,eb),!0}return!1}}function pa(A,y,I,L,z,H,O,ma,Ia,Sa,E){if(!A.length)return A;var ha=Math.max(L.length,z.length);L=Ga(L,ha);z=Wa(z,ha);ha=la(A[0].datum);var Y="group"===ha&&A[0].datum.items[Ia].marktype,V="area"===Y,w=aa(ha,Y,ma,Ia);y=$a(y[0],y[1],Sa);Sa=V&&"naive"===E;ma=A.map(function(k){return{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:w(k)}});if(!Sa){I&&
ma.sort(function(k,m){return I(k.datum,m.datum)});var F=!1;for(Sa=0;Sa<z.length&&!F;++Sa)F=5===z[Sa]||0>L[Sa];ha&&(O||V)&&(H=[A.map(function(k){return k.datum})].concat(H));F=H.length?cb(y,H,F,V):Ma(y,O&&ma)}var h=V?Ba[E](y,F,O,Ia):ea(y,F,z,L);ma.forEach(function(k){return k.opacity=+h(k)});return ma}function Ga(A,y){for(var I=new Float64Array(y),L=A.length,z=0;z<L;++z)I[z]=A[z]||0;for(A=L;A<y;++A)I[A]=I[L-1];return I}function Wa(A,y){for(var I=new Int8Array(y),L=A.length,z=0;z<L;++z)I[z]|=Fa[A[z]];
for(A=L;A<y;++A)I[A]=I[L-1];return I}function la(A){return A&&A.mark&&A.mark.marktype}function aa(A,y,I,L){var z=function(H){return[H.x,H.x,H.x,H.y,H.y,H.y]};return A?"line"===A||"area"===A?function(H){return z(H.datum)}:"line"===y?function(H){H=H.datum.items[L].items;return z(H.length?H["start"===I?0:H.length-1]:{x:NaN,y:NaN})}:function(H){H=H.datum.bounds;return[H.x1,(H.x1+H.x2)/2,H.x2,H.y1,(H.y1+H.y2)/2,H.y2]}:z}function Qa(A){S.Transform.call(this,null,A)}var xa=new Uint32Array(33),Oa=new Uint32Array(33);
Oa[0]=0;xa[0]=~Oa[0];for(var ya=1;32>=ya;++ya)Oa[ya]=Oa[ya-1]<<1|1,xa[ya]=~Oa[ya];var ja=[-1,-1,1,1],wa=[-1,1,-1,1],sa=["right","center","left"],qa=["bottom","middle","top"],Fa={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Ba={naive:function(A,y,I,L){var z=A.width,H=A.height;return function(O){for(var ma=O.datum.datum.items[L].items,Ia=ma.length,Sa=O.datum.fontSize,E=Pa.textMetrics.width(O.datum,O.datum.text),ha=0,Y,V,w,F,h,k,m=0;m<Ia;++m)Y=
ma[m].x,w=ma[m].y,V=void 0===ma[m].x2?Y:ma[m].x2,F=void 0===ma[m].y2?w:ma[m].y2,h=(Y+V)/2,k=(w+F)/2,Y=Math.abs(V-Y+F-w),Y>=ha&&(ha=Y,O.x=h,O.y=k);h=E/2;k=Sa/2;Y=O.x-h;V=O.x+h;w=O.y-k;F=O.y+k;O.align="center";0>Y&&V<=z?O.align="left":0<=Y&&z<V&&(O.align="right");O.baseline="middle";0>w&&F<=H?O.baseline="top":0<=w&&H<F&&(O.baseline="bottom");return!0}},"reduced-search":function(A,y,I,L){function z(Sa,E,ha,Y,V){Sa=A.invert(Sa);E=A.invert(E);var w=ha,F=O;if(!db(Sa,E,Y,V,H,O)&&!Ja(A,Sa,E,V,Y,w,ma,Ia)&&
!Ja(A,Sa,E,V,Y,V,ma,null)){for(;1<=F-w;){var h=(w+F)/2;Ja(A,Sa,E,V,Y,h,ma,Ia)?F=h:w=h}if(w>ha)return[Sa,E,w,!0]}}var H=A.width,O=A.height,ma=y[0],Ia=y[1];return function(Sa){for(var E=Sa.datum.datum.items[L].items,ha=E.length,Y=Sa.datum.fontSize,V=Pa.textMetrics.width(Sa.datum,Sa.datum.text),w=I?Y:0,F=!1,h=!1,k=0,m,r,v,J,ba,ka,ua,fb,eb,Ca,Ka,Z,ra,hb=0;hb<ha;++hb){m=E[hb].x;v=E[hb].y;r=void 0===E[hb].x2?m:E[hb].x2;J=void 0===E[hb].y2?v:E[hb].y2;m>r&&(ba=m,m=r,r=ba);v>J&&(ba=v,v=J,J=ba);ua=A(m);eb=
A(r);fb=~~((ua+eb)/2);Ca=A(v);Z=A(J);Ka=~~((Ca+Z)/2);for(ba=fb;ba>=ua;--ba)for(ka=Ka;ka>=Ca;--ka)if(ra=z(ba,ka,w,V,Y))F=$jscomp.makeIterator(ra),Sa.x=F.next().value,Sa.y=F.next().value,w=F.next().value,F=F.next().value;for(ba=fb;ba<=eb;++ba)for(ka=Ka;ka<=Z;++ka)if(ra=z(ba,ka,w,V,Y))F=$jscomp.makeIterator(ra),Sa.x=F.next().value,Sa.y=F.next().value,w=F.next().value,F=F.next().value;F||I||(ba=Math.abs(r-m+J-v),m=(m+r)/2,v=(v+J)/2,ba>=k&&!db(m,v,V,Y,H,O)&&!Ja(A,m,v,Y,V,Y,ma,null)&&(k=ba,Sa.x=m,Sa.y=
v,h=!0))}return F||h?(m=V/2,v=Y/2,ma.setRange(A(Sa.x-m),A(Sa.y-v),A(Sa.x+m),A(Sa.y+v)),Sa.align="center",Sa.baseline="middle",!0):!1}},floodfill:function(A,y,I,L){var z=A.width,H=A.height,O=y[0],ma=y[1],Ia=A.bitmap();return function(Sa){for(var E=Sa.datum.datum.items[L].items,ha=E.length,Y=Sa.datum.fontSize,V=Pa.textMetrics.width(Sa.datum,Sa.datum.text),w=[],F=I?Y:0,h=!1,k=!1,m=0,r,v,J,ba,ka,ua,fb,eb,Ca,Ka=0;Ka<ha;++Ka){r=E[Ka].x;J=E[Ka].y;v=void 0===E[Ka].x2?r:E[Ka].x2;ba=void 0===E[Ka].y2?J:E[Ka].y2;
for(w.push([A((r+v)/2),A((J+ba)/2)]);w.length;)if(ka=$jscomp.makeIterator(w.pop()),fb=ka.next().value,eb=ka.next().value,!(O.get(fb,eb)||ma.get(fb,eb)||Ia.get(fb,eb))){Ia.set(fb,eb);for(Ca=0;4>Ca;++Ca)ka=fb+ja[Ca],ua=eb+wa[Ca],Ia.outOfBounds(ka,ua,ka,ua)||w.push([ka,ua]);ka=A.invert(fb);ua=A.invert(eb);fb=F;eb=H;if(!db(ka,ua,V,Y,z,H)&&!Ja(A,ka,ua,Y,V,fb,O,ma)&&!Ja(A,ka,ua,Y,V,Y,O,null)){for(;1<=eb-fb;)Ca=(fb+eb)/2,Ja(A,ka,ua,Y,V,Ca,O,ma)?eb=Ca:fb=Ca;fb>F&&(Sa.x=ka,Sa.y=ua,F=fb,h=!0)}}h||I||(fb=Math.abs(v-
r+ba-J),ka=(r+v)/2,ua=(J+ba)/2,fb>=m&&!db(ka,ua,V,Y,z,H)&&!Ja(A,ka,ua,Y,V,Y,O,null)&&(m=fb,Sa.x=ka,Sa.y=ua,k=!0))}return h||k?(ka=V/2,ua=Y/2,O.setRange(A(Sa.x-ka),A(Sa.y-ua),A(Sa.x+ka),A(Sa.y+ua)),Sa.align="center",Sa.baseline="middle",!0):!1}}},Za=["x","y","opacity","align","baseline"],jb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Qa.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},
{name:"anchor",type:"string",array:!0,default:jb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Za.length,default:Za}]};Hb.inherits(Qa,S.Transform,{transform:function(A,
y){function I(H){H=A[H];return Hb.isFunction(H)&&y.modified(H.fields)}var L=A.modified();if(L||y.changed(y.ADD_REM)||I("sort")){A.size&&2===A.size.length||Hb.error("Size parameter should be specified as a [width, height] array.");var z=A.as||Za;pa(y.materialize(y.SOURCE).source,A.size,A.sort,Hb.array(A.offset||1),Hb.array(A.anchor||jb),A.avoidMarks||[],!1===A.avoidBaseMark?!1:!0,A.lineAnchor||"end",A.markIndex||0,A.padding||0,A.method||"naive").forEach(function(H){var O=H.datum;O[z[0]]=H.x;O[z[1]]=
H.y;O[z[2]]=H.opacity;O[z[3]]=H.align;O[z[4]]=H.baseline});return y.reflow(L).modifies(z)}}});n.label=Qa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[37]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(13),sb(12),sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Hb(qb,Ea){var $a=[],db=function(aa){return aa(Ga)},Ja;if(null==Ea)$a.push(qb);else{var ea={};var pa=0;for(Ja=qb.length;pa<Ja;++pa){var Ga=qb[pa];
var Wa=Ea.map(db);var la=ea[Wa];la||(ea[Wa]=la=[],la.dims=Wa,$a.push(la));la.push(Ga)}}return $a}function Ma(qb){S.Transform.call(this,null,qb)}function cb(qb){S.Transform.call(this,null,qb)}Ma.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Pa.inherits(Ma,S.Transform,{transform:function(qb,Ea){var $a=
Ea.fork(Ea.NO_SOURCE|Ea.NO_FIELDS);if(!this.value||Ea.changed()||qb.modified()){Ea=Ea.materialize(Ea.SOURCE).source;Ea=Hb(Ea,qb.groupby);var db=(qb.groupby||[]).map(Pa.accessorName),Ja=db.length,ea=qb.as||[Pa.accessorName(qb.x),Pa.accessorName(qb.y)],pa=[];Ea.forEach(function(Ga){q.regressionLoess(Ga,qb.x,qb.y,qb.bandwidth||.3).forEach(function(Wa){for(var la={},aa=0;aa<Ja;++aa)la[db[aa]]=Ga.dims[aa];la[ea[0]]=Wa[0];la[ea[1]]=Wa[1];pa.push(S.ingest(la))})});this.value&&($a.rem=this.value);this.value=
$a.add=$a.source=pa}return $a}});var Eb={linear:q.regressionLinear,log:q.regressionLog,exp:q.regressionExp,pow:q.regressionPow,quad:q.regressionQuad,poly:q.regressionPoly};cb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Eb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Pa.inherits(cb,S.Transform,{transform:function(qb,Ea){var $a=Ea.fork(Ea.NO_SOURCE|Ea.NO_FIELDS);if(!this.value||Ea.changed()||qb.modified()){var db=Ea.materialize(Ea.SOURCE).source;db=Hb(db,qb.groupby);var Ja=(qb.groupby||[]).map(Pa.accessorName),ea=qb.method||"linear",pa=qb.order||3,Ga="poly"===ea?pa:"quad"===ea?2:1,Wa=qb.as||[Pa.accessorName(qb.x),Pa.accessorName(qb.y)],la=Eb[ea],aa=[],Qa=qb.extent;Pa.hasOwnProperty(Eb,
ea)||Pa.error("Invalid regression method: "+ea);null!=Qa&&"log"===ea&&0>=Qa[0]&&(Ea.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Qa=null);db.forEach(function(xa){if(xa.length<=Ga)Ea.dataflow.warn("Skipping regression with more parameters than data points.");else{var Oa=la(xa,qb.x,qb.y,pa);if(qb.params)aa.push(S.ingest({keys:xa.dims,coef:Oa.coef,rSquared:Oa.rSquared}));else{var ya=Qa||Pa.extent(xa,qb.x),ja=function(wa){for(var sa={},qa=0;qa<Ja.length;++qa)sa[Ja[qa]]=
xa.dims[qa];sa[Wa[0]]=wa[0];sa[Wa[1]]=wa[1];aa.push(S.ingest(sa))};"linear"===ea?ya.forEach(function(wa){return ja([wa,Oa.predict(wa)])}):q.sampleCurve(Oa.predict,ya,25,200).forEach(ja)}}});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=aa}return $a}});n.loess=Ma;n.regression=cb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[38]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(ja,wa){ja/=Math.abs(ja)+Math.abs(wa);return(0<wa?3-ja:1+ja)/4}function S(ja,wa,sa,qa){ja-=sa;wa-=qa;return ja*ja+wa*wa}function Pa(ja,wa,sa,qa,Fa,Ba){qa=(qa-wa)*(Fa-ja);ja=(sa-ja)*(Ba-wa);return Math.abs(qa-ja)>=3.3306690738754716E-16*Math.abs(qa+ja)?qa-ja:0}function Hb(ja,
wa,sa,qa,Fa,Ba){return 0>(Pa(Fa,Ba,ja,wa,sa,qa)||Pa(ja,wa,sa,qa,Fa,Ba)||Pa(sa,qa,Fa,Ba,ja,wa))}function Ma(ja,wa,sa,qa){if(20>=qa-sa)for(var Fa=sa+1;Fa<=qa;Fa++){for(var Ba=ja[Fa],Za=wa[Ba],jb=Fa-1;jb>=sa&&wa[ja[jb]]>Za;)ja[jb+1]=ja[jb--];ja[jb+1]=Ba}else{Fa=sa+1;Ba=qa;cb(ja,sa+qa>>1,Fa);wa[ja[sa]]>wa[ja[qa]]&&cb(ja,sa,qa);wa[ja[Fa]]>wa[ja[qa]]&&cb(ja,Fa,qa);wa[ja[sa]]>wa[ja[Fa]]&&cb(ja,sa,Fa);Za=ja[Fa];for(jb=wa[Za];;){do Fa++;while(wa[ja[Fa]]<jb);do Ba--;while(wa[ja[Ba]]>jb);if(Ba<Fa)break;cb(ja,
Fa,Ba)}ja[sa+1]=ja[Ba];ja[Ba]=Za;qa-Fa+1>=Ba-sa?(Ma(ja,wa,Fa,qa),Ma(ja,wa,sa,Ba-1)):(Ma(ja,wa,sa,Ba-1),Ma(ja,wa,Fa,qa))}}function cb(ja,wa,sa){var qa=ja[wa];ja[wa]=ja[sa];ja[sa]=qa}function Eb(ja){return ja[0]}function qb(ja){return ja[1]}function Ea(ja){return ja[0]}function $a(ja){return ja[1]}function db(ja){var wa=ja.triangles;ja=ja.coords;for(var sa=0;sa<wa.length;sa+=3){var qa=2*wa[sa],Fa=2*wa[sa+1],Ba=2*wa[sa+2];if(1E-10<(ja[Ba]-ja[qa])*(ja[Fa+1]-ja[qa+1])-(ja[Fa]-ja[qa])*(ja[Ba+1]-ja[qa+1]))return!1}return!0}
function Ja(ja,wa,sa){return[ja+Math.sin(ja+wa)*sa,wa+Math.cos(ja-wa)*sa]}function ea(ja,wa,sa,qa){var Fa,Ba,Za,jb;return $jscomp.generator.createGenerator(ea,function(A){switch(A.nextAddress){case 1:Fa=0,Ba=$jscomp.makeIterator(ja),Za=Ba.next();case 2:if(Za.done){A.jumpTo(0);break}jb=Za.value;return A.yield(wa.call(qa,jb,Fa,ja),5);case 5:return A.yield(sa.call(qa,jb,Fa,ja),6);case 6:++Fa,Za=Ba.next(),A.jumpTo(2)}})}var pa=Math.pow(2,-52),Ga=new Uint32Array(512),Wa=function(ja){var wa=ja.length>>
1;if(0<wa&&"number"!==typeof ja[0])throw Error("Expected coords to contain numbers.");this.coords=ja;ja=Math.max(2*wa-5,0);this._triangles=new Uint32Array(3*ja);this._halfedges=new Int32Array(3*ja);this._hashSize=Math.ceil(Math.sqrt(wa));this._hullPrev=new Uint32Array(wa);this._hullNext=new Uint32Array(wa);this._hullTri=new Uint32Array(wa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(wa);this._dists=new Float64Array(wa);this.update()};Wa.from=function(ja,wa,sa){wa=
void 0===wa?Eb:wa;sa=void 0===sa?qb:sa;for(var qa=ja.length,Fa=new Float64Array(2*qa),Ba=0;Ba<qa;Ba++){var Za=ja[Ba];Fa[2*Ba]=wa(Za);Fa[2*Ba+1]=sa(Za)}return new Wa(Fa)};Wa.prototype.update=function(){for(var ja,wa,sa=this.coords,qa=this._hullPrev,Fa=this._hullNext,Ba=this._hullTri,Za=this._hullHash,jb=sa.length>>1,A=Infinity,y=Infinity,I=-Infinity,L=-Infinity,z=0;z<jb;z++){var H=sa[2*z];ja=sa[2*z+1];H<A&&(A=H);ja<y&&(y=ja);H>I&&(I=H);ja>L&&(L=ja);this._ids[z]=z}I=(A+I)/2;y=(y+L)/2;A=Infinity;for(L=
0;L<jb;L++)if(z=S(I,y,sa[2*L],sa[2*L+1]),z<A){var O=L;A=z}y=sa[2*O];L=sa[2*O+1];A=Infinity;for(I=0;I<jb;I++)if(I!==O&&(z=S(y,L,sa[2*I],sa[2*I+1]),z<A&&0<z)){var ma=I;A=z}A=sa[2*ma];I=sa[2*ma+1];ja=Infinity;for(z=0;z<jb;z++)if(z!==O&&z!==ma){H=A-y;var Ia=I-L;wa=sa[2*z]-y;var Sa=sa[2*z+1]-L,E=H*H+Ia*Ia,ha=wa*wa+Sa*Sa,Y=.5/(H*Sa-Ia*wa);Ia=(Sa*E-Ia*ha)*Y;H=(H*ha-wa*E)*Y;H=Ia*Ia+H*H;if(H<ja){var V=z;ja=H}}z=sa[2*V];H=sa[2*V+1];if(Infinity===ja){for(Fa=0;Fa<jb;Fa++)this._dists[Fa]=sa[2*Fa]-sa[0]||sa[2*
Fa+1]-sa[1];Ma(this._ids,this._dists,0,jb-1);Fa=new Uint32Array(jb);qa=sa=0;for(Ba=-Infinity;qa<jb;qa++)Za=this._ids[qa],this._dists[Za]>Ba&&(Fa[sa++]=Za,Ba=this._dists[Za]);this.hull=Fa.subarray(0,sa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Hb(y,L,A,I,z,H)&&(ja=ma,wa=A,E=I,ma=V,A=z,I=H,V=ja,z=wa,H=E);wa=A-y;ja=I-L;E=z-y;Sa=H-L;ha=wa*wa+ja*ja;Y=E*E+Sa*Sa;Ia=.5/(wa*Sa-ja*E);ja=y+(Sa*ha-ja*Y)*Ia;wa=L+(wa*Y-E*ha)*Ia;this._cx=ja;this._cy=wa;for(E=0;E<jb;E++)this._dists[E]=
S(sa[2*E],sa[2*E+1],ja,wa);Ma(this._ids,this._dists,0,jb-1);this._hullStart=O;jb=3;Fa[O]=qa[V]=ma;Fa[ma]=qa[O]=V;Fa[V]=qa[ma]=O;Ba[O]=0;Ba[ma]=1;Ba[V]=2;Za.fill(-1);Za[this._hashKey(y,L)]=O;Za[this._hashKey(A,I)]=ma;Za[this._hashKey(z,H)]=V;this.trianglesLen=0;this._addTriangle(O,ma,V,-1,-1,-1);y=0;for(A=L=void 0;y<this._ids.length;y++)if(I=this._ids[y],z=sa[2*I],H=sa[2*I+1],!(0<y&&Math.abs(z-L)<=pa&&Math.abs(H-A)<=pa)&&(L=z,A=H,I!==O&&I!==ma&&I!==V)){wa=ja=0;for(E=this._hashKey(z,H);wa<this._hashSize&&
(ja=Za[(E+wa)%this._hashSize],-1===ja||ja===Fa[ja]);wa++);wa=ja=qa[ja];for(E=void 0;E=Fa[wa],!Hb(z,H,sa[2*wa],sa[2*wa+1],sa[2*E],sa[2*E+1]);)if(wa=E,wa===ja){wa=-1;break}if(-1!==wa){ha=this._addTriangle(wa,I,Fa[wa],-1,-1,Ba[wa]);Ba[I]=this._legalize(ha+2);Ba[wa]=ha;jb++;for(Y=Fa[wa];E=Fa[Y],Hb(z,H,sa[2*Y],sa[2*Y+1],sa[2*E],sa[2*E+1]);)ha=this._addTriangle(Y,I,E,Ba[I],-1,Ba[Y]),Ba[I]=this._legalize(ha+2),Fa[Y]=Y,jb--,Y=E;if(wa===ja)for(;E=qa[wa],Hb(z,H,sa[2*E],sa[2*E+1],sa[2*wa],sa[2*wa+1]);)ha=this._addTriangle(E,
I,wa,-1,Ba[wa],Ba[E]),this._legalize(ha+2),Ba[E]=ha,Fa[wa]=wa,jb--,wa=E;this._hullStart=qa[I]=wa;Fa[wa]=qa[Y]=I;Fa[I]=Y;Za[this._hashKey(z,H)]=I;Za[this._hashKey(sa[2*wa],sa[2*wa+1])]=wa}}this.hull=new Uint32Array(jb);sa=0;for(qa=this._hullStart;sa<jb;sa++)this.hull[sa]=qa,qa=Fa[qa];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};Wa.prototype._hashKey=function(ja,wa){return Math.floor(q(ja-this._cx,wa-this._cy)*this._hashSize)%
this._hashSize};Wa.prototype._legalize=function(ja){for(var wa=this._triangles,sa=this._halfedges,qa=this.coords,Fa=0,Ba;;){var Za=sa[ja],jb=ja-ja%3;Ba=jb+(ja+2)%3;if(-1===Za){if(0===Fa)break;ja=Ga[--Fa]}else{var A=Za-Za%3,y=A+(Za+2)%3,I=wa[Ba],L=wa[ja],z=wa[jb+(ja+1)%3];jb=wa[y];var H=qa[2*jb],O=qa[2*jb+1],ma=qa[2*I]-H,Ia=qa[2*I+1]-O,Sa=qa[2*L]-H;L=qa[2*L+1]-O;H=qa[2*z]-H;z=qa[2*z+1]-O;O=Sa*Sa+L*L;var E=H*H+z*z;if(0>ma*(L*E-O*z)-Ia*(Sa*E-O*H)+(ma*ma+Ia*Ia)*(Sa*z-L*H)){wa[ja]=jb;wa[Za]=I;I=sa[y];
if(-1===I){jb=this._hullStart;do{if(this._hullTri[jb]===y){this._hullTri[jb]=ja;break}jb=this._hullPrev[jb]}while(jb!==this._hullStart)}this._link(ja,I);this._link(Za,sa[Ba]);this._link(Ba,y);Ba=A+(Za+1)%3;Fa<Ga.length&&(Ga[Fa++]=Ba)}else{if(0===Fa)break;ja=Ga[--Fa]}}}return Ba};Wa.prototype._link=function(ja,wa){this._halfedges[ja]=wa;-1!==wa&&(this._halfedges[wa]=ja)};Wa.prototype._addTriangle=function(ja,wa,sa,qa,Fa,Ba){var Za=this.trianglesLen;this._triangles[Za]=ja;this._triangles[Za+1]=wa;this._triangles[Za+
2]=sa;this._link(Za,qa);this._link(Za+1,Fa);this._link(Za+2,Ba);this.trianglesLen+=3;return Za};var la=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};la.prototype.moveTo=function(ja,wa){this._+="M"+(this._x0=this._x1=+ja)+","+(this._y0=this._y1=+wa)};la.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};la.prototype.lineTo=function(ja,wa){this._+="L"+(this._x1=+ja)+","+(this._y1=+wa)};la.prototype.arc=function(ja,wa,sa){ja=+ja;wa=+wa;
sa=+sa;var qa=ja+sa,Fa=wa;if(0>sa)throw Error("negative radius");if(null===this._x1)this._+="M"+qa+","+Fa;else if(1E-6<Math.abs(this._x1-qa)||1E-6<Math.abs(this._y1-Fa))this._+="L"+qa+","+Fa;sa&&(this._+="A"+sa+","+sa+",0,1,1,"+(ja-sa)+","+wa+"A"+sa+","+sa+",0,1,1,"+(this._x1=qa)+","+(this._y1=Fa))};la.prototype.rect=function(ja,wa,sa,qa){this._+="M"+(this._x0=this._x1=+ja)+","+(this._y0=this._y1=+wa)+"h"+ +sa+"v"+ +qa+"h"+-sa+"Z"};la.prototype.value=function(){return this._||null};var aa=function(){this._=
[]};aa.prototype.moveTo=function(ja,wa){this._.push([ja,wa])};aa.prototype.closePath=function(){this._.push(this._[0].slice())};aa.prototype.lineTo=function(ja,wa){this._.push([ja,wa])};aa.prototype.value=function(){return this._.length?this._:null};var Qa=function(ja,wa){var sa=$jscomp.makeIterator(void 0===wa?[0,0,960,500]:wa);wa=sa.next().value;var qa=sa.next().value,Fa=sa.next().value;sa=sa.next().value;if(!((Fa=+Fa)>=(wa=+wa)&&(sa=+sa)>=(qa=+qa)))throw Error("invalid bounds");this.delaunay=ja;
this._circumcenters=new Float64Array(2*ja.points.length);this.vectors=new Float64Array(2*ja.points.length);this.xmax=Fa;this.xmin=wa;this.ymax=sa;this.ymin=qa;this._init()};Qa.prototype.update=function(){this.delaunay.update();this._init();return this};Qa.prototype._init=function(){var ja=this.delaunay,wa=ja.points,sa=ja.hull,qa=ja.triangles;ja=this.vectors;for(var Fa=this.circumcenters=this._circumcenters.subarray(0,qa.length/3*2),Ba=0,Za=0,jb=qa.length,A,y;Ba<jb;Ba+=3,Za+=2){y=2*qa[Ba];var I=2*
qa[Ba+1],L=2*qa[Ba+2];A=wa[y];y=wa[y+1];var z=wa[L],H=wa[L+1];L=wa[I]-A;var O=wa[I+1]-y;I=z-A;var ma=H-y,Ia=L*L+O*O,Sa=I*I+ma*ma,E=2*(L*ma-O*I);E?1E-8>Math.abs(E)?(A=(A+z)/2,y=(y+H)/2):(z=1/E,A+=(ma*Ia-O*Sa)*z,y+=(L*Sa-I*Ia)*z):(A=(A+z)/2-1E8*ma,y=(y+H)/2+1E8*I);Fa[Za]=A;Fa[Za+1]=y}qa=sa[sa.length-1];Ba=4*qa;jb=wa[2*qa];y=wa[2*qa+1];ja.fill(0);for(L=0;L<sa.length;++L)qa=sa[L],Fa=Ba,Za=jb,A=y,Ba=4*qa,jb=wa[2*qa],y=wa[2*qa+1],ja[Fa+2]=ja[Ba]=A-y,ja[Fa+3]=ja[Ba+1]=jb-Za};Qa.prototype.render=function(ja){var wa=
null==ja?ja=new la:void 0,sa=this.delaunay,qa=sa.halfedges,Fa=sa.inedges;sa=sa.hull;var Ba=this.circumcenters,Za=this.vectors;if(1>=sa.length)return null;for(var jb=0,A=qa.length;jb<A;++jb){var y=qa[jb];if(!(y<jb)){var I=2*Math.floor(jb/3);y=2*Math.floor(y/3);this._renderSegment(Ba[I],Ba[I+1],Ba[y],Ba[y+1],ja)}}qa=sa[sa.length-1];for(jb=0;jb<sa.length;++jb)y=qa,qa=sa[jb],I=2*Math.floor(Fa[qa]/3),A=Ba[I],I=Ba[I+1],y*=4,(y=this._project(A,I,Za[y+2],Za[y+3]))&&this._renderSegment(A,I,y[0],y[1],ja);return wa&&
wa.value()};Qa.prototype.renderBounds=function(ja){var wa=null==ja?ja=new la:void 0;ja.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return wa&&wa.value()};Qa.prototype.renderCell=function(ja,wa){var sa=null==wa?wa=new la:void 0;ja=this._clip(ja);if(null!==ja&&ja.length){wa.moveTo(ja[0],ja[1]);for(var qa=ja.length;ja[0]===ja[qa-2]&&ja[1]===ja[qa-1]&&1<qa;)qa-=2;for(var Fa=2;Fa<qa;Fa+=2)ja[Fa]===ja[Fa-2]&&ja[Fa+1]===ja[Fa-1]||wa.lineTo(ja[Fa],ja[Fa+1]);wa.closePath();return sa&&
sa.value()}};Qa.prototype.cellPolygons=function wa(){var sa=this,qa,Fa,Ba,Za,jb,A;return $jscomp.generator.createGenerator(wa,function(y){switch(y.nextAddress){case 1:qa=sa,Fa=qa.delaunay,Ba=Fa.points,Za=0,jb=Ba.length/2;case 2:if(!(Za<jb)){y.jumpTo(0);break}A=sa.cellPolygon(Za);if(!A){y.jumpTo(3);break}A.index=Za;return y.yield(A,6);case 6:case 3:++Za,y.jumpTo(2)}})};Qa.prototype.cellPolygon=function(wa){var sa=new aa;this.renderCell(wa,sa);return sa.value()};Qa.prototype._renderSegment=function(wa,
sa,qa,Fa,Ba){var Za=this._regioncode(wa,sa),jb=this._regioncode(qa,Fa);if(0===Za&&0===jb)Ba.moveTo(wa,sa),Ba.lineTo(qa,Fa);else if(wa=this._clipSegment(wa,sa,qa,Fa,Za,jb))Ba.moveTo(wa[0],wa[1]),Ba.lineTo(wa[2],wa[3])};Qa.prototype.contains=function(wa,sa,qa){return(sa=+sa,sa!==sa)||(qa=+qa,qa!==qa)?!1:this.delaunay._step(wa,sa,qa)===wa};Qa.prototype.neighbors=function qa(sa){var Fa=this,Ba,Za,jb,A,y,I,L,z,H;return $jscomp.generator.createGenerator(qa,function(O){switch(O.nextAddress){case 1:Ba=Fa._clip(sa);
if(!Ba){O.jumpTo(0);break}Za=$jscomp.makeIterator(Fa.delaunay.neighbors(sa));jb=Za.next();case 3:if(jb.done){O.jumpTo(0);break}A=jb.value;y=Fa._clip(A);if(!y){O.jumpTo(4);break}I=0;L=Ba.length;case 9:if(!(I<L)){O.jumpTo(4);break}z=0;H=y.length;case 10:if(!(z<H)){I+=2;O.jumpTo(9);break}if(Ba[I]!=y[z]||Ba[I+1]!=y[z+1]||Ba[(I+2)%L]!=y[(z+H-2)%H]||Ba[(I+3)%L]!=y[(z+H-1)%H]){O.jumpTo(11);break}return O.yield(A,14);case 14:O.jumpTo(4);break;case 11:z+=2;O.jumpTo(10);break;case 4:jb=Za.next(),O.jumpTo(3)}})};
Qa.prototype._cell=function(sa){var qa=this.circumcenters,Fa=this.delaunay,Ba=Fa.halfedges,Za=Fa.triangles;Fa=Fa.inedges[sa];if(-1===Fa)return null;var jb=[],A=Fa;do{var y=Math.floor(A/3);jb.push(qa[2*y],qa[2*y+1]);A=2===A%3?A-2:A+1;if(Za[A]!==sa)break;A=Ba[A]}while(A!==Fa&&-1!==A);return jb};Qa.prototype._clip=function(sa){if(0===sa&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var qa=this._cell(sa);if(null===qa)return null;
var Fa=this.vectors,Ba=4*sa;return Fa[Ba]||Fa[Ba+1]?this._clipInfinite(sa,qa,Fa[Ba],Fa[Ba+1],Fa[Ba+2],Fa[Ba+3]):this._clipFinite(sa,qa)};Qa.prototype._clipFinite=function(sa,qa){for(var Fa=qa.length,Ba=null,Za,jb,A=qa[Fa-2],y=qa[Fa-1],I,L=this._regioncode(A,y),z,H,O=0;O<Fa;O+=2)if(Za=A,jb=y,A=qa[O],y=qa[O+1],I=L,L=this._regioncode(A,y),0===I&&0===L)H=0,Ba?Ba.push(A,y):Ba=[A,y];else{if(0===I){if(null===(Za=this._clipSegment(Za,jb,A,y,I,L)))continue;jb=$jscomp.makeIterator(Za);jb.next();jb.next();Za=
jb.next().value;I=jb.next().value}else{if(null===(Za=this._clipSegment(A,y,Za,jb,L,I)))continue;z=$jscomp.makeIterator(Za);Za=z.next().value;I=z.next().value;jb=z.next().value;var ma=z.next().value;z=H;H=this._edgecode(jb,ma);z&&H&&this._edge(sa,z,H,Ba,Ba.length);Ba?Ba.push(jb,ma):Ba=[jb,ma]}z=H;H=this._edgecode(Za,I);z&&H&&this._edge(sa,z,H,Ba,Ba.length);Ba?Ba.push(Za,I):Ba=[Za,I]}if(Ba)z=H,H=this._edgecode(Ba[0],Ba[1]),z&&H&&this._edge(sa,z,H,Ba,Ba.length);else if(this.contains(sa,(this.xmin+this.xmax)/
2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ba};Qa.prototype._clipSegment=function(sa,qa,Fa,Ba,Za,jb){for(;;){if(0===Za&&0===jb)return[sa,qa,Fa,Ba];if(Za&jb)return null;var A=Za||jb;if(A&8){A=sa+(Fa-sa)*(this.ymax-qa)/(Ba-qa);var y=this.ymax}else A&4?(A=sa+(Fa-sa)*(this.ymin-qa)/(Ba-qa),y=this.ymin):A&2?(y=qa+(Ba-qa)*(this.xmax-sa)/(Fa-sa),A=this.xmax):(y=qa+(Ba-qa)*(this.xmin-sa)/(Fa-sa),A=this.xmin);Za?(sa=A,qa=y,Za=this._regioncode(sa,
qa)):(Fa=A,Ba=y,jb=this._regioncode(Fa,Ba))}};Qa.prototype._clipInfinite=function(sa,qa,Fa,Ba,Za,jb){qa=Array.from(qa);var A;(A=this._project(qa[0],qa[1],Fa,Ba))&&qa.unshift(A[0],A[1]);(A=this._project(qa[qa.length-2],qa[qa.length-1],Za,jb))&&qa.push(A[0],A[1]);if(qa=this._clipFinite(sa,qa))for(Fa=0,Ba=qa.length,jb=this._edgecode(qa[Ba-2],qa[Ba-1]);Fa<Ba;Fa+=2)Za=jb,jb=this._edgecode(qa[Fa],qa[Fa+1]),Za&&jb&&(Fa=this._edge(sa,Za,jb,qa,Fa),Ba=qa.length);else this.contains(sa,(this.xmin+this.xmax)/
2,(this.ymin+this.ymax)/2)&&(qa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return qa};Qa.prototype._edge=function(sa,qa,Fa,Ba,Za){for(;qa!==Fa;){var jb=void 0,A=void 0;switch(qa){case 5:qa=4;continue;case 4:qa=6;jb=this.xmax;A=this.ymin;break;case 6:qa=2;continue;case 2:qa=10;jb=this.xmax;A=this.ymax;break;case 10:qa=8;continue;case 8:qa=9;jb=this.xmin;A=this.ymax;break;case 9:qa=1;continue;case 1:qa=5,jb=this.xmin,A=this.ymin}Ba[Za]===jb&&Ba[Za+1]===A||!this.contains(sa,
jb,A)||(Ba.splice(Za,0,jb,A),Za+=2)}if(4<Ba.length)for(sa=0;sa<Ba.length;sa+=2)if(qa=(sa+2)%Ba.length,Fa=(sa+4)%Ba.length,Ba[sa]===Ba[qa]&&Ba[qa]===Ba[Fa]||Ba[sa+1]===Ba[qa+1]&&Ba[qa+1]===Ba[Fa+1])Ba.splice(qa,2),sa-=2;return Za};Qa.prototype._project=function(sa,qa,Fa,Ba){var Za=Infinity,jb;if(0>Ba){if(qa<=this.ymin)return null;if((jb=(this.ymin-qa)/Ba)<Za){var A=this.ymin;var y=sa+(Za=jb)*Fa}}else if(0<Ba){if(qa>=this.ymax)return null;(jb=(this.ymax-qa)/Ba)<Za&&(A=this.ymax,y=sa+(Za=jb)*Fa)}if(0<
Fa){if(sa>=this.xmax)return null;(jb=(this.xmax-sa)/Fa)<Za&&(y=this.xmax,A=qa+jb*Ba)}else if(0>Fa){if(sa<=this.xmin)return null;(jb=(this.xmin-sa)/Fa)<Za&&(y=this.xmin,A=qa+jb*Ba)}return[y,A]};Qa.prototype._edgecode=function(sa,qa){return(sa===this.xmin?1:sa===this.xmax?2:0)|(qa===this.ymin?4:qa===this.ymax?8:0)};Qa.prototype._regioncode=function(sa,qa){return(sa<this.xmin?1:sa>this.xmax?2:0)|(qa<this.ymin?4:qa>this.ymax?8:0)};var xa=2*Math.PI,Oa=Math.pow,ya=function(sa){this._delaunator=new Wa(sa);
this.inedges=new Int32Array(sa.length/2);this._hullIndex=new Int32Array(sa.length/2);this.points=this._delaunator.coords;this._init()};ya.from=function(sa,qa,Fa,Ba){qa=void 0===qa?Ea:qa;Fa=void 0===Fa?$a:Fa;if("length"in sa){for(var Za=sa.length,jb=new Float64Array(2*Za),A=0;A<Za;++A){var y=sa[A];jb[2*A]=qa.call(Ba,y,A,sa);jb[2*A+1]=Fa.call(Ba,y,A,sa)}sa=jb}else sa=Float64Array.from(ea(sa,qa,Fa,Ba));return new ya(sa)};ya.prototype.update=function(){this._delaunator.update();this._init();return this};
ya.prototype._init=function(){var sa=this._delaunator,qa=this.points;if(sa.hull&&2<sa.hull.length&&db(sa)){this.collinear=Int32Array.from({length:qa.length/2},function(L,z){return z}).sort(function(L,z){return qa[2*L]-qa[2*z]||qa[2*L+1]-qa[2*z+1]});sa=this.collinear[0];var Fa=this.collinear[this.collinear.length-1];sa=[qa[2*sa],qa[2*sa+1],qa[2*Fa],qa[2*Fa+1]];sa=1E-8*Math.hypot(sa[3]-sa[1],sa[2]-sa[0]);Fa=0;for(var Ba=qa.length/2;Fa<Ba;++Fa){var Za=Ja(qa[2*Fa],qa[2*Fa+1],sa);qa[2*Fa]=Za[0];qa[2*Fa+
1]=Za[1]}this._delaunator=new Wa(qa)}else delete this.collinear;Za=this.halfedges=this._delaunator.halfedges;sa=this.hull=this._delaunator.hull;var jb=this.triangles=this._delaunator.triangles;Fa=this.inedges.fill(-1);Ba=this._hullIndex.fill(-1);for(var A=0,y=Za.length;A<y;++A){var I=jb[2===A%3?A-2:A+1];if(-1===Za[A]||-1===Fa[I])Fa[I]=A}Za=0;for(jb=sa.length;Za<jb;++Za)Ba[sa[Za]]=Za;2>=sa.length&&0<sa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=sa[0],this.triangles[1]=sa[1],this.triangles[2]=sa[1],Fa[sa[0]]=1,2===sa.length&&(Fa[sa[1]]=0))};ya.prototype.voronoi=function(sa){return new Qa(this,sa)};ya.prototype.neighbors=function Fa(qa){var Ba=this,Za,jb,A,y,I,L,z,H,O,ma,Ia,Sa;return $jscomp.generator.createGenerator(Fa,function(E){switch(E.nextAddress){case 1:Za=Ba;jb=Za.inedges;A=Za.hull;y=Za._hullIndex;I=Za.halfedges;L=Za.triangles;z=Za.collinear;if(!z){E.jumpTo(2);break}H=z.indexOf(qa);if(!(0<H)){E.jumpTo(3);break}return E.yield(z[H-
1],3);case 3:if(!(H<z.length-1)){E.jumpTo(5);break}return E.yield(z[H+1],5);case 5:return E.return();case 2:O=jb[qa];if(-1===O)return E.return();ma=O;Ia=-1;case 7:return E.yield(Ia=L[ma],10);case 10:ma=2===ma%3?ma-2:ma+1;if(L[ma]!==qa)return E.return();ma=I[ma];if(-1!==ma){E.jumpTo(9);break}Sa=A[(y[qa]+1)%A.length];if(Sa===Ia){E.jumpTo(12);break}return E.yield(Sa,12);case 12:return E.return();case 9:ma!==O?E.jumpTo(7):E.jumpToEnd()}})};ya.prototype.find=function(qa,Fa,Ba){Ba=void 0===Ba?0:Ba;if((qa=
+qa,qa!==qa)||(Fa=+Fa,Fa!==Fa))return-1;for(var Za=Ba,jb;0<=(jb=this._step(Ba,qa,Fa))&&jb!==Ba&&jb!==Za;)Ba=jb;return jb};ya.prototype._step=function(qa,Fa,Ba){var Za=this.inedges,jb=this.hull,A=this._hullIndex,y=this.halfedges,I=this.triangles,L=this.points;if(-1===Za[qa]||!L.length)return(qa+1)%(L.length>>1);var z=qa,H=Oa(Fa-L[2*qa],2)+Oa(Ba-L[2*qa+1],2),O=Za=Za[qa];do{var ma=I[O],Ia=Oa(Fa-L[2*ma],2)+Oa(Ba-L[2*ma+1],2);Ia<H&&(H=Ia,z=ma);O=2===O%3?O-2:O+1;if(I[O]!==qa)break;O=y[O];if(-1===O){O=jb[(A[qa]+
1)%jb.length];if(O!==ma&&Oa(Fa-L[2*O],2)+Oa(Ba-L[2*O+1],2)<H)return O;break}}while(O!==Za);return z};ya.prototype.render=function(qa){for(var Fa=null==qa?qa=new la:void 0,Ba=this.points,Za=this.halfedges,jb=this.triangles,A=0,y=Za.length;A<y;++A){var I=Za[A];if(!(I<A)){var L=2*jb[A];I=2*jb[I];qa.moveTo(Ba[L],Ba[L+1]);qa.lineTo(Ba[I],Ba[I+1])}}this.renderHull(qa);return Fa&&Fa.value()};ya.prototype.renderPoints=function(qa,Fa){Fa=void 0===Fa?2:Fa;for(var Ba=null==qa?qa=new la:void 0,Za=this.points,
jb=0,A=Za.length;jb<A;jb+=2){var y=Za[jb],I=Za[jb+1];qa.moveTo(y+Fa,I);qa.arc(y,I,Fa,0,xa)}return Ba&&Ba.value()};ya.prototype.renderHull=function(qa){var Fa=null==qa?qa=new la:void 0,Ba=this.hull,Za=this.points,jb=2*Ba[0],A=Ba.length;qa.moveTo(Za[jb],Za[jb+1]);for(jb=1;jb<A;++jb){var y=2*Ba[jb];qa.lineTo(Za[y],Za[y+1])}qa.closePath();return Fa&&Fa.value()};ya.prototype.hullPolygon=function(){var qa=new aa;this.renderHull(qa);return qa.value()};ya.prototype.renderTriangle=function(qa,Fa){var Ba=null==
Fa?Fa=new la:void 0,Za=this.points,jb=this.triangles,A=2*jb[qa*=3],y=2*jb[qa+1];qa=2*jb[qa+2];Fa.moveTo(Za[A],Za[A+1]);Fa.lineTo(Za[y],Za[y+1]);Fa.lineTo(Za[qa],Za[qa+1]);Fa.closePath();return Ba&&Ba.value()};ya.prototype.trianglePolygons=function Fa(){var Ba=this,Za,jb,A,y;return $jscomp.generator.createGenerator(Fa,function(I){1==I.nextAddress&&(Za=Ba,jb=Za.triangles,A=0,y=jb.length/3);if(3!=I.nextAddress)return A<y?I.yield(Ba.trianglePolygon(A),3):I.jumpTo(0);++A;return I.jumpTo(2)})};ya.prototype.trianglePolygon=
function(Fa){var Ba=new aa;this.renderTriangle(Fa,Ba);return Ba.value()};n.Delaunay=ya;n.Voronoi=Qa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[39]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(12),sb(0),sb(38)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Hb(cb){q.Transform.call(this,null,cb)}Hb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};var Ma=[-1E5,-1E5,1E5,1E5];S.inherits(Hb,q.Transform,{transform:function(cb,Eb){var qb=cb.as||"path",Ea=Eb.source;if(!Ea||!Ea.length)return Eb;var $a=cb.size;$a=$a?[0,0,$a[0],$a[1]]:($a=cb.extent)?[$a[0][0],$a[0][1],$a[1][0],$a[1][1]]:Ma;
$a=this.value=Pa.Delaunay.from(Ea,cb.x,cb.y).voronoi($a);for(var db=0,Ja=Ea.length;db<Ja;++db){var ea=$a.cellPolygon(db),pa=Ea[db];if(ea){for(var Ga=ea[0][0],Wa=ea[0][1],la=ea.length-1;ea[la][0]===Ga&&ea[la][1]===Wa;--la);ea="M"+ea.slice(0,la+1).join("L")+"Z"}else ea=null;pa[qb]=ea}return Eb.reflow(cb.modified()).modifies(qb)}});n.voronoi=Hb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[40]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(17),sb(12),sb(0),sb(21),sb(13)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa,Hb,Ma){function cb(){function la(A){A.width=A.height=1;var y=Math.sqrt(A.getContext("2d").getImageData(0,
0,1,1).data.length>>2);A.width=2048/y;A.height=2048/y;A=A.getContext("2d");A.fillStyle=A.strokeStyle="red";A.textAlign="center";return{context:A,ratio:y}}function aa(A,y,I){for(var L=y.x,z=y.y,H=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]),O=Fa(Qa),ma=.5>Za()?1:-1,Ia=-ma,Sa,E;Sa=O(Ia+=ma);){E=~~Sa[0];Sa=~~Sa[1];if(Math.min(Math.abs(E),Math.abs(Sa))>=H)break;y.x=L+E;y.y=z+Sa;if(!(0>y.x+y.x0||0>y.y+y.y0||y.x+y.x1>Qa[0]||y.y+y.y1>Qa[1])){if(!(E=!I)){a:{E=Qa[0];E>>=5;Sa=y.sprite;var ha=y.width>>5;var Y=y.x-(ha<<
4);for(var V=Y&127,w=32-V,F=y.y1-y.y0,h=(y.y+y.y0)*E+(Y>>5),k=0;k<F;k++){for(var m=Y=0;m<=ha;m++)if((Y<<w|(m<ha?(Y=Sa[k*ha+m])>>>V:0))&A[h+m]){E=!0;break a}h+=E}E=!1}E=!E}if(E&&(!I||y.x+y.x1>I[0].x&&y.x+y.x0<I[1].x&&y.y+y.y1>I[0].y&&y.y+y.y0<I[1].y)){I=y.sprite;L=y.width>>5;z=Qa[0]>>5;Ia=y.x-(L<<4);H=Ia&127;O=32-H;ma=y.y1-y.y0;Ia=(y.y+y.y0)*z+(Ia>>5);for(Sa=0;Sa<ma;Sa++){for(ha=E=0;ha<=L;ha++)A[Ia+ha]=A[Ia+ha]|E<<O|(ha<L?(E=I[Sa*L+ha])>>>H:0);Ia+=z}y.sprite=null;return!0}}}return!1}var Qa=[256,256],
xa,Oa,ya,ja,wa,sa,qa,Fa=Ea,Ba=[],Za=Math.random,jb={layout:function(){for(var A=la(q.canvas()),y=$a((Qa[0]>>5)*Qa[1]),I=null,L=Ba.length,z=-1,H=[],O=Ba.map(function(Ia){return{text:xa(Ia),font:Oa(Ia),style:ja(Ia),weight:wa(Ia),rotate:sa(Ia),size:~~(ya(Ia)+1E-14),padding:qa(Ia),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Ia}}).sort(function(Ia,Sa){return Sa.size-Ia.size});++z<L;){var ma=O[z];ma.x=Qa[0]*(Za()+.5)>>1;ma.y=Qa[1]*(Za()+.5)>>1;Eb(A,ma,O,z);ma.hasText&&aa(y,ma,I)&&(H.push(ma),
I?qb(I,ma):I=[{x:ma.x+ma.x0,y:ma.y+ma.y0},{x:ma.x+ma.x1,y:ma.y+ma.y1}],ma.x-=Qa[0]>>1,ma.y-=Qa[1]>>1)}return H},words:function(A){return arguments.length?(Ba=A,jb):Ba},size:function(A){return arguments.length?(Qa=[+A[0],+A[1]],jb):Qa},font:function(A){return arguments.length?(Oa=db(A),jb):Oa},fontStyle:function(A){return arguments.length?(ja=db(A),jb):ja},fontWeight:function(A){return arguments.length?(wa=db(A),jb):wa},rotate:function(A){return arguments.length?(sa=db(A),jb):sa},text:function(A){return arguments.length?
(xa=db(A),jb):xa},spiral:function(A){return arguments.length?(Fa=pa[A]||A,jb):Fa},fontSize:function(A){return arguments.length?(ya=db(A),jb):ya},padding:function(A){return arguments.length?(qa=db(A),jb):qa},random:function(A){return arguments.length?(Za=A,jb):Za}};return jb}function Eb(la,aa,Qa,xa){if(!aa.sprite){var Oa=la.context,ya=la.ratio;Oa.clearRect(0,0,2048/ya,2048/ya);var ja=la=0,wa=0,sa=Qa.length;for(--xa;++xa<sa;){aa=Qa[xa];Oa.save();Oa.font=aa.style+" "+aa.weight+" "+~~((aa.size+1)/ya)+
"px "+aa.font;var qa=Oa.measureText(aa.text+"m").width*ya;var Fa=aa.size<<1;if(aa.rotate){var Ba=Math.sin(aa.rotate*ea),Za=Math.cos(aa.rotate*ea),jb=qa*Za,A=qa*Ba;Za*=Fa;qa=Fa*Ba;qa=Math.max(Math.abs(jb+qa),Math.abs(jb-qa))+31>>5<<5;Fa=~~Math.max(Math.abs(A+Za),Math.abs(A-Za))}else qa=qa+31>>5<<5;Fa>wa&&(wa=Fa);2048<=la+qa&&(la=0,ja+=wa,wa=0);if(2048<=ja+Fa)break;Oa.translate((la+(qa>>1))/ya,(ja+(Fa>>1))/ya);aa.rotate&&Oa.rotate(aa.rotate*ea);Oa.fillText(aa.text,0,0);aa.padding&&(Oa.lineWidth=2*aa.padding,
Oa.strokeText(aa.text,0,0));Oa.restore();aa.width=qa;aa.height=Fa;aa.xoff=la;aa.yoff=ja;aa.x1=qa>>1;aa.y1=Fa>>1;aa.x0=-aa.x1;aa.y0=-aa.y1;aa.hasText=!0;la+=qa}sa=Oa.getImageData(0,0,2048/ya,2048/ya).data;for(jb=[];0<=--xa;)if(aa=Qa[xa],aa.hasText){qa=aa.width;Oa=qa>>5;Fa=aa.y1-aa.y0;for(ya=0;ya<Fa*Oa;ya++)jb[ya]=0;la=aa.xoff;if(null==la)break;ja=aa.yoff;A=0;Ba=-1;for(wa=0;wa<Fa;wa++){for(ya=0;ya<qa;ya++)Za=sa[2048*(ja+wa)+(la+ya)<<2]?1<<31-ya%32:0,jb[Oa*wa+(ya>>5)]|=Za,A|=Za;A?Ba=wa:(aa.y0++,Fa--,
wa--,ja++)}aa.y1=aa.y0+Ba;aa.sprite=jb.slice(0,(aa.y1-aa.y0)*Oa)}}}function qb(la,aa){var Qa=la[0];la=la[1];aa.x+aa.x0<Qa.x&&(Qa.x=aa.x+aa.x0);aa.y+aa.y0<Qa.y&&(Qa.y=aa.y+aa.y0);aa.x+aa.x1>la.x&&(la.x=aa.x+aa.x1);aa.y+aa.y1>la.y&&(la.y=aa.y+aa.y1)}function Ea(la){var aa=la[0]/la[1];return function(Qa){return[aa*(Qa*=.1)*Math.cos(Qa),Qa*Math.sin(Qa)]}}function $a(la){for(var aa=[],Qa=-1;++Qa<la;)aa[Qa]=0;return aa}function db(la){return"function"===typeof la?la:function(){return la}}function Ja(la){S.Transform.call(this,
cb(),la)}var ea=Math.PI/180,pa={archimedean:Ea,rectangular:function(la){var aa=4*la[0]/la[1],Qa=0,xa=0;return function(Oa){var ya=0>Oa?-1:1;switch(Math.sqrt(1+4*ya*Oa)-ya&3){case 0:Qa+=aa;break;case 1:xa+=4;break;case 2:Qa-=aa;break;default:xa-=4}return[Qa,xa]}}},Ga="x y font fontSize fontStyle fontWeight angle".split(" "),Wa="text font rotate fontSize fontStyle fontWeight".split(" ");Ja.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",
type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,
length:7,"default":Ga}]};Pa.inherits(Ja,S.Transform,{transform:function(la,aa){function Qa(A){A=la[A];return Pa.isFunction(A)&&aa.modified(A.fields)}!la.size||la.size[0]&&la.size[1]||Pa.error("Wordcloud size dimensions must be non-zero.");var xa=la.modified();if(xa||aa.changed(aa.ADD_REM)||Wa.some(Qa)){var Oa=aa.materialize(aa.SOURCE).source,ya=this.value,ja=la.as||Ga,wa=la.fontSize||14,sa;Pa.isFunction(wa)?sa=la.fontSizeRange:wa=Pa.constant(wa);if(sa){var qa=wa,Fa=Hb.scale("sqrt")().domain(Pa.extent(Oa,
qa)).range(sa);wa=function(A){return Fa(qa(A))}}Oa.forEach(function(A){A[ja[0]]=NaN;A[ja[1]]=NaN;A[ja[3]]=0});Oa=ya.words(Oa).text(la.text).size(la.size||[500,500]).padding(la.padding||1).spiral(la.spiral||"archimedean").rotate(la.rotate||0).font(la.font||"sans-serif").fontStyle(la.fontStyle||"normal").fontWeight(la.fontWeight||"normal").fontSize(wa).random(Ma.random).layout();wa=ya.size();ya=wa[0]>>1;wa=wa[1]>>1;sa=Oa.length;for(var Ba=0,Za=void 0,jb=void 0;Ba<sa;++Ba)Za=Oa[Ba],jb=Za.datum,jb[ja[0]]=
Za.x+ya,jb[ja[1]]=Za.y+wa,jb[ja[2]]=Za.font,jb[ja[3]]=Za.size,jb[ja[4]]=Za.style,jb[ja[5]]=Za.weight,jb[ja[6]]=Za.rotate;return aa.reflow(xa).modifies(ja)}}});n.wordcloud=Ja;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[41]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(1),sb(12),sb(0)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.d3,n.vega,n.vega))})(this,function(n,q,S,Pa){function Hb(){var pa=8,Ga=[],Wa=ea(0),la=Ma(0,pa),aa=Ma(0,pa);return{data:function(){return Ga},seen:function(){var Qa=Wa;var xa=Ga.length;
Qa.length>=xa||(xa=new Qa.constructor(xa),xa.set(Qa),Qa=xa);return Wa=Qa},add:function(Qa){for(var xa=0,Oa=Ga.length,ya=Qa.length,ja;xa<ya;++xa)ja=Qa[xa],ja._index=Oa++,Ga.push(ja)},remove:function(Qa,xa){var Oa=Ga.length;Qa=Array(Oa-Qa);var ya=Ga,ja,wa;for(ja=0;!xa[ja]&&ja<Oa;++ja)Qa[ja]=Ga[ja],ya[ja]=ja;for(wa=ja;ja<Oa;++ja){var sa=Ga[ja];xa[ja]?ya[ja]=-1:(ya[ja]=wa,la[wa]=la[ja],aa[wa]=aa[ja],Qa[wa]=sa,sa._index=wa++);la[ja]=0}Ga=Qa;return ya},size:function(){return Ga.length},curr:function(){return la},
prev:function(){return aa},reset:function(Qa){return aa[Qa]=la[Qa]},all:function(){return 257>pa?255:65537>pa?65535:4294967295},set:function(Qa,xa){la[Qa]|=xa},clear:function(Qa,xa){la[Qa]&=~xa},resize:function(Qa,xa){if(Qa>la.length||xa>pa)pa=Math.max(xa,pa),la=Ma(Qa,pa,la),aa=Ma(Qa,pa)}}}function Ma(pa,Ga,Wa){pa=(257>Ga?db:65537>Ga?Ja:ea)(pa);Wa&&pa.set(Wa);return pa}function cb(pa,Ga,Wa){var la=1<<Ga;return{one:la,zero:~la,range:Wa.slice(),bisect:pa.bisect,index:pa.index,size:pa.size,onAdd:function(aa,
Qa){var xa=this.bisect(this.range,aa.value);aa=aa.index;var Oa=xa[0];xa=xa[1];var ya=aa.length,ja;for(ja=0;ja<Oa;++ja)Qa[aa[ja]]|=la;for(ja=xa;ja<ya;++ja)Qa[aa[ja]]|=la;return this}}}function Eb(){var pa=ea(0),Ga=[],Wa=0;return{insert:function(la,aa,Qa){if(!aa.length)return[];var xa=Wa,Oa=aa.length,ya=ea(Oa),ja=Array(Oa),wa;for(wa=0;wa<Oa;++wa)ja[wa]=la(aa[wa]),ya[wa]=wa;ja=qb(ja,ya);if(xa){la=Ga;aa=pa;Ga=Array(xa+Oa);pa=ea(xa+Oa);wa=ja;var sa=Ga,qa=pa,Fa=0,Ba=0,Za;for(Za=0;Fa<xa&&Ba<Oa;++Za)la[Fa]<
wa[Ba]?(sa[Za]=la[Fa],qa[Za]=aa[Fa++]):(sa[Za]=wa[Ba],qa[Za]=ya[Ba++]+Qa);for(;Fa<xa;++Fa,++Za)sa[Za]=la[Fa],qa[Za]=aa[Fa];for(;Ba<Oa;++Ba,++Za)sa[Za]=wa[Ba],qa[Za]=ya[Ba]+Qa}else{if(0<Qa)for(wa=0;wa<Oa;++wa)ya[wa]+=Qa;Ga=ja;pa=ya}Wa=xa+Oa;return{index:ya,value:ja}},remove:function(la,aa){var Qa=Wa,xa,Oa,ya;for(Oa=0;!aa[pa[Oa]]&&Oa<Qa;++Oa);for(ya=Oa;Oa<Qa;++Oa)aa[xa=pa[Oa]]||(pa[ya]=xa,Ga[ya]=Ga[Oa],++ya);Wa=Qa-la},bisect:function(la,aa){if(aa)var Qa=aa.length;else aa=Ga,Qa=Wa;return[q.bisectLeft(aa,
la[0],0,Qa),q.bisectRight(aa,la[1],0,Qa)]},reindex:function(la){for(var aa=0,Qa=Wa;aa<Qa;++aa)pa[aa]=la[pa[aa]]},index:function(){return pa},size:function(){return Wa}}}function qb(pa,Ga){pa.sort.call(Ga,function(Wa,la){Wa=pa[Wa];la=pa[la];return Wa<la?-1:Wa>la?1:0});return q.permute(pa,Ga)}function Ea(pa){S.Transform.call(this,Hb(),pa);this._dims=this._indices=null}function $a(pa){S.Transform.call(this,null,pa)}var db=function(pa){return new Uint8Array(pa)},Ja=function(pa){return new Uint16Array(pa)},
ea=function(pa){return new Uint32Array(pa)};Ea.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Pa.inherits(Ea,S.Transform,{transform:function(pa,Ga){return this._dims?pa.modified("fields")||pa.fields.some(function(Wa){return Ga.modified(Wa.fields)})?this.reinit(pa,Ga):this.eval(pa,Ga):this.init(pa,Ga)},init:function(pa,Ga){for(var Wa=pa.fields,la=pa.query,
aa=this._indices={},Qa=this._dims=[],xa=la.length,Oa=0,ya;Oa<xa;++Oa)ya=Wa[Oa].fname,ya=aa[ya]||(aa[ya]=Eb()),Qa.push(cb(ya,Oa,la[Oa]));return this.eval(pa,Ga)},reinit:function(pa,Ga){var Wa=Ga.materialize().fork(),la=pa.fields,aa=pa.query,Qa=this._indices,xa=this._dims,Oa=this.value,ya=Oa.curr(),ja=Oa.prev(),wa=Oa.all(),sa=Wa.rem=Wa.add,qa=Wa.mod,Fa=aa.length,Ba={},Za,jb,A;ja.set(ya);Ga.rem.length&&(A=this.remove(pa,Ga,Wa));Ga.add.length&&Oa.add(Ga.add);if(Ga.mod.length){var y={};var I=Ga.mod;var L=
0;for(jb=I.length;L<jb;++L)y[I[L]._index]=1}for(L=0;L<Fa;++L){var z=la[L];if(!xa[L]||pa.modified("fields",L)||Ga.modified(z.fields))jb=z.fname,(I=Ba[jb])||(Qa[jb]=Za=Eb(),Ba[jb]=I=Za.insert(z,Ga.source,0)),xa[L]=cb(Za,L,aa[L]).onAdd(I,ya)}L=0;for(jb=Oa.data().length;L<jb;++L)A[L]||(ja[L]!==ya[L]?sa.push(L):y[L]&&ya[L]!==wa&&qa.push(L));Oa.mask=(1<<Fa)-1;return Wa},eval:function(pa,Ga){var Wa=Ga.materialize().fork(),la=this._dims.length,aa=0;Ga.rem.length&&(this.remove(pa,Ga,Wa),aa|=(1<<la)-1);pa.modified("query")&&
!pa.modified("fields")&&(aa|=this.update(pa,Ga,Wa));Ga.add.length&&(this.insert(pa,Ga,Wa),aa|=(1<<la)-1);Ga.mod.length&&(this.modify(Ga,Wa),aa|=(1<<la)-1);this.value.mask=aa;return Wa},insert:function(pa,Ga,Wa){Ga=Ga.add;var la=this.value,aa=this._dims,Qa=this._indices;pa=pa.fields;var xa={};Wa=Wa.add;var Oa=la.size()+Ga.length,ya=aa.length,ja=la.size();la.resize(Oa,ya);la.add(Ga);var wa=la.curr(),sa=la.prev(),qa=la.all();for(la=0;la<ya;++la){var Fa=pa[la].fname;Fa=xa[Fa]||(xa[Fa]=Qa[Fa].insert(pa[la],
Ga,ja));aa[la].onAdd(Fa,wa)}for(;ja<Oa;++ja)sa[ja]=qa,wa[ja]!==qa&&Wa.push(ja)},modify:function(pa,Ga){Ga=Ga.mod;var Wa=this.value,la=Wa.curr();Wa=Wa.all();pa=pa.mod;var aa;var Qa=0;for(aa=pa.length;Qa<aa;++Qa){var xa=pa[Qa]._index;la[xa]!==Wa&&Ga.push(xa)}},remove:function(pa,Ga,Wa){pa=this._indices;var la=this.value,aa=la.curr(),Qa=la.prev();la=la.all();var xa={};Wa=Wa.rem;var Oa=Ga.rem,ya,ja;var wa=0;for(ya=Oa.length;wa<ya;++wa){var sa=Oa[wa]._index;xa[sa]=1;Qa[sa]=ja=aa[sa];aa[sa]=la;ja!==la&&
Wa.push(sa)}for(sa in pa)pa[sa].remove(ya,xa);this.reindex(Ga,ya,xa);return xa},reindex:function(pa,Ga,Wa){var la=this._indices,aa=this.value;pa.runAfter(function(){var Qa=aa.remove(Ga,Wa),xa;for(xa in la)la[xa].reindex(Qa)})},update:function(pa,Ga,Wa){var la=this._dims,aa=pa.query;Ga=Ga.stamp;var Qa=la.length,xa=0,Oa;for(Oa=Wa.filters=0;Oa<Qa;++Oa)if(pa.modified("query",Oa)){var ya=Oa;++xa}if(1===xa)xa=la[ya].one,this.incrementOne(la[ya],aa[ya],Wa.add,Wa.rem);else for(xa=Oa=0;Oa<Qa;++Oa)pa.modified("query",
Oa)&&(xa|=la[Oa].one,this.incrementAll(la[Oa],aa[Oa],Ga,Wa.add),Wa.rem=Wa.add);return xa},incrementAll:function(pa,Ga,Wa,la){var aa=this.value,Qa=aa.seen(),xa=aa.curr();aa=aa.prev();var Oa=pa.index(),ya=pa.bisect(pa.range),ja=pa.bisect(Ga),wa=ja[0];ja=ja[1];var sa=ya[0];ya=ya[1];var qa=pa.one,Fa;if(wa<sa){var Ba=wa;for(Fa=Math.min(sa,ja);Ba<Fa;++Ba){var Za=Oa[Ba];Qa[Za]!==Wa&&(aa[Za]=xa[Za],Qa[Za]=Wa,la.push(Za));xa[Za]^=qa}}else if(wa>sa)for(Ba=sa,Fa=Math.min(wa,ya);Ba<Fa;++Ba)Za=Oa[Ba],Qa[Za]!==
Wa&&(aa[Za]=xa[Za],Qa[Za]=Wa,la.push(Za)),xa[Za]^=qa;if(ja>ya)for(Ba=Math.max(wa,ya),Fa=ja;Ba<Fa;++Ba)Za=Oa[Ba],Qa[Za]!==Wa&&(aa[Za]=xa[Za],Qa[Za]=Wa,la.push(Za)),xa[Za]^=qa;else if(ja<ya)for(Ba=Math.max(sa,ja),Fa=ya;Ba<Fa;++Ba)Za=Oa[Ba],Qa[Za]!==Wa&&(aa[Za]=xa[Za],Qa[Za]=Wa,la.push(Za)),xa[Za]^=qa;pa.range=Ga.slice()},incrementOne:function(pa,Ga,Wa,la){var aa=this.value.curr(),Qa=pa.index(),xa=pa.bisect(pa.range),Oa=pa.bisect(Ga),ya=Oa[0];Oa=Oa[1];var ja=xa[0];xa=xa[1];var wa=pa.one,sa;if(ya<ja){var qa=
ya;for(sa=Math.min(ja,Oa);qa<sa;++qa){var Fa=Qa[qa];aa[Fa]^=wa;Wa.push(Fa)}}else if(ya>ja)for(qa=ja,sa=Math.min(ya,xa);qa<sa;++qa)Fa=Qa[qa],aa[Fa]^=wa,la.push(Fa);if(Oa>xa)for(qa=Math.max(ya,xa),sa=Oa;qa<sa;++qa)Fa=Qa[qa],aa[Fa]^=wa,Wa.push(Fa);else if(Oa<xa)for(qa=Math.max(ja,Oa),sa=xa;qa<sa;++qa)Fa=Qa[qa],aa[Fa]^=wa,la.push(Fa);pa.range=Ga.slice()}});$a.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},
{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Pa.inherits($a,S.Transform,{transform:function(pa,Ga){var Wa=~(pa.ignore||0);pa=pa.filter;var la=pa.mask;if(0===(la&Wa))return Ga.StopPropagation;Ga=Ga.fork(Ga.ALL);var aa=pa.data(),Qa=pa.curr(),xa=pa.prev(),Oa=function(ya){return Qa[ya]&Wa?null:aa[ya]};Ga.filter(Ga.MOD,Oa);la&la-1?(Ga.filter(Ga.ADD,function(ya){var ja=Qa[ya]&Wa;return!ja&&ja^xa[ya]&Wa?aa[ya]:null}),Ga.filter(Ga.REM,function(ya){var ja=
Qa[ya]&Wa;return!ja||ja^ja^xa[ya]&Wa?null:aa[ya]})):(Ga.filter(Ga.ADD,Oa),Ga.filter(Ga.REM,function(ya){return(Qa[ya]&Wa)===la?aa[ya]:null}));return Ga.filter(Ga.SOURCE,function(ya){return Oa(ya._index)})}});n.crossfilter=Ea;n.resolvefilter=$a;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[42]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega))})(this,function(n,q){function S(w){this.type=w}function Pa(w){switch(w.type){case "ArrayExpression":return w.elements;case "BinaryExpression":case "LogicalExpression":return[w.left,w.right];case "CallExpression":return[w.callee].concat(w.arguments);
case "ConditionalExpression":return[w.test,w.consequent,w.alternate];case "MemberExpression":return[w.object,w.property];case "ObjectExpression":return w.properties;case "Property":return[w.key,w.value];case "UnaryExpression":return[w.argument];default:return[]}}function Hb(w,F){if(!w)throw Error("ASSERT: "+F);}function Ma(w){return 48<=w&&57>=w}function cb(w){return 0<="0123456789abcdefABCDEF".indexOf(w)}function Eb(w){return 0<="01234567".indexOf(w)}function qb(w){return 10===w||13===w||8232===
w||8233===w}function Ea(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||92===w||128<=w&&Sa.test(String.fromCharCode(w))}function $a(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||48<=w&&57>=w||92===w||128<=w&&E.test(String.fromCharCode(w))}function db(){for(;O<ma;){var w=H.charCodeAt(O);if(32===w||9===w||11===w||12===w||160===w||5760<=w&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)||qb(w))++O;else break}}function Ja(w){var F=
0;var h="u"===w?4:2;for(w=0;w<h;++w)if(O<ma&&cb(H[O])){var k=H[O++];F=16*F+"0123456789abcdef".indexOf(k.toLowerCase())}else wa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(F)}function ea(){var w=H.charCodeAt(O++);var F=String.fromCharCode(w);92===w&&(117!==H.charCodeAt(O)&&wa({},"Unexpected token %0","ILLEGAL"),++O,(w=Ja("u"))&&"\\"!==w&&Ea(w.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),F=w);for(;O<ma;){w=H.charCodeAt(O);if(!$a(w))break;++O;F+=String.fromCharCode(w);92===
w&&(F=F.substr(0,F.length-1),117!==H.charCodeAt(O)&&wa({},"Unexpected token %0","ILLEGAL"),++O,(w=Ja("u"))&&"\\"!==w&&$a(w.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),F+=w)}return F}function pa(){var w=O,F=H.charCodeAt(O),h=H[O];switch(F){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++O,{type:7,value:String.fromCharCode(F),start:w,end:O};default:var k=H.charCodeAt(O+1);if(61===k)switch(F){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return O+=
2,{type:7,value:String.fromCharCode(F)+String.fromCharCode(k),start:w,end:O};case 33:case 61:return O+=2,61===H.charCodeAt(O)&&++O,{type:7,value:H.slice(w,O),start:w,end:O}}}F=H.substr(O,4);if("\x3e\x3e\x3e\x3d"===F)return O+=4,{type:7,value:F,start:w,end:O};F=F.substr(0,3);if("\x3e\x3e\x3e"===F||"\x3c\x3c\x3d"===F||"\x3e\x3e\x3d"===F)return O+=3,{type:7,value:F,start:w,end:O};F=F.substr(0,2);if(h===F[1]&&0<="+-\x3c\x3e\x26|".indexOf(h)||"\x3d\x3e"===F)return O+=2,{type:7,value:F,start:w,end:O};if(0<=
"\x3c\x3e\x3d!+-*%\x26|^/".indexOf(h))return++O,{type:7,value:h,start:w,end:O};wa({},"Unexpected token %0","ILLEGAL")}function Ga(){var w=H[O];Hb(Ma(w.charCodeAt(0))||"."===w,"Numeric literal must start with a decimal digit or a decimal point");var F=O;var h="";if("."!==w){h=H[O++];w=H[O];if("0"===h){if("x"===w||"X"===w){++O;for(h="";O<ma&&cb(H[O]);)h+=H[O++];0===h.length&&wa({},"Unexpected token %0","ILLEGAL");Ea(H.charCodeAt(O))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+
h,16),start:F,end:O}}if(Eb(w)){for(h="0"+H[O++];O<ma&&Eb(H[O]);)h+=H[O++];(Ea(H.charCodeAt(O))||Ma(H.charCodeAt(O)))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(h,8),octal:!0,start:F,end:O}}w&&Ma(w.charCodeAt(0))&&wa({},"Unexpected token %0","ILLEGAL")}for(;Ma(H.charCodeAt(O));)h+=H[O++];w=H[O]}if("."===w){for(h+=H[O++];Ma(H.charCodeAt(O));)h+=H[O++];w=H[O]}if("e"===w||"E"===w){h+=H[O++];w=H[O];if("+"===w||"-"===w)h+=H[O++];if(Ma(H.charCodeAt(O)))for(;Ma(H.charCodeAt(O));)h+=
H[O++];else wa({},"Unexpected token %0","ILLEGAL")}Ea(H.charCodeAt(O))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(h),start:F,end:O}}function Wa(w,F){var h=w;0<=F.indexOf("u")&&(h=h.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(k,m){if(1114111>=parseInt(m,16))return"x";wa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(h)}catch(k){wa({},"Invalid regular expression")}try{return new RegExp(w,F)}catch(k){return null}}function la(){db();
if(O>=ma)return{type:2,start:O,end:O};var w=H.charCodeAt(O);if(Ea(w)){w=O;if(92===H.charCodeAt(O))var F=ea();else a:{for(F=O++;O<ma;){var h=H.charCodeAt(O);if(92===h){O=F;F=ea();break a}if($a(h))++O;else break}F=H.slice(F,O)}return{type:1===F.length?3:ha.hasOwnProperty(F)?4:"null"===F?5:"true"===F||"false"===F?1:3,value:F,start:w,end:O}}if(40===w||41===w||59===w)return pa();if(39===w||34===w){var k="";h=!1;w=H[O];Hb("'"===w||'"'===w,"String literal must starts with a quote");F=O;for(++O;O<ma;){var m=
H[O++];if(m===w){w="";break}else if("\\"===m)if((m=H[O++])&&qb(m.charCodeAt(0)))"\r"===m&&"\n"===H[O]&&++O;else switch(m){case "u":case "x":if("{"===H[O]){++O;var r=H[O];m=0;for("}"===r&&wa({},"Unexpected token %0","ILLEGAL");O<ma;){r=H[O++];if(!cb(r))break;m=16*m+"0123456789abcdef".indexOf(r.toLowerCase())}(1114111<m||"}"!==r)&&wa({},"Unexpected token %0","ILLEGAL");m=65535>=m?String.fromCharCode(m):String.fromCharCode((m-65536>>10)+55296,(m-65536&1023)+56320);k+=m}else k+=Ja(m);break;case "n":k+=
"\n";break;case "r":k+="\r";break;case "t":k+="\t";break;case "b":k+="\b";break;case "f":k+="\f";break;case "v":k+="\x0B";break;default:Eb(m)?(r="01234567".indexOf(m),0!==r&&(h=!0),O<ma&&Eb(H[O])&&(h=!0,r=8*r+"01234567".indexOf(H[O++]),0<="0123".indexOf(m)&&O<ma&&Eb(H[O])&&(r=8*r+"01234567".indexOf(H[O++]))),k+=String.fromCharCode(r)):k+=m}else if(qb(m.charCodeAt(0)))break;else k+=m}""!==w&&wa({},"Unexpected token %0","ILLEGAL");return{type:8,value:k,octal:h,start:F,end:O}}return 46===w?Ma(H.charCodeAt(O+
1))?Ga():pa():Ma(w)?Ga():pa()}function aa(){var w=Ia;O=w.end;Ia=la();O=w.end;return w}function Qa(w,F,h){var k=new S("||"===w||"\x26\x26"===w?"LogicalExpression":"BinaryExpression");k.operator=w;k.left=F;k.right=h;return k}function xa(w){var F=new S("Identifier");F.name=w;return F}function Oa(w){var F=new S("Literal");F.value=w.value;F.raw=H.slice(w.start,w.end);w.regex&&("//"===F.raw&&(F.raw="/(?:)/"),F.regex=w.regex);return F}function ya(w,F,h){var k=new S("MemberExpression");k.computed="["===w;
k.object=F;k.property=h;k.computed||(h.member=!0);return k}function ja(w,F,h){var k=new S("Property");k.key=F;k.value=h;k.kind=w;return k}function wa(w,F){var h=Array.prototype.slice.call(arguments,2),k=F.replace(/%(\d)/g,function(r,v){Hb(v<h.length,"Message reference must be in range");return h[v]});var m=Error(k);m.index=O;m.description=k;throw m;}function sa(w){2===w.type&&wa(w,"Unexpected end of input");6===w.type&&wa(w,"Unexpected number");8===w.type&&wa(w,"Unexpected string");3===w.type&&wa(w,
"Unexpected identifier");4===w.type&&wa(w,"Unexpected reserved word");wa(w,"Unexpected token %0",w.value)}function qa(w){var F=aa();7===F.type&&F.value===w||sa(F)}function Fa(w){return 7===Ia.type&&Ia.value===w}function Ba(){O=Ia.start;var w=aa();return 8===w.type||6===w.type?(w.octal&&wa(w,"Octal literals are not allowed in strict mode."),Oa(w)):xa(w.value)}function Za(){if(Fa("(")){qa("(");var w=L();qa(")");return w}if(Fa("[")){w=[];O=Ia.start;for(qa("[");!Fa("]");)Fa(",")?(aa(),w.push(null)):(w.push(I()),
Fa("]")||qa(","));aa();var F=new S("ArrayExpression");F.elements=w;return F}if(Fa("{")){w=[];F={};var h=String;O=Ia.start;for(qa("{");!Fa("}");){O=Ia.start;var k=Ia;if(3===k.type){var m=Ba();qa(":");k=I();k=ja("init",m,k)}else 2===k.type||7===k.type?(sa(k),k=void 0):(m=Ba(),qa(":"),k=I(),k=ja("init",m,k));m="Identifier"===k.key.type?k.key.name:h(k.key.value);m="$"+m;Object.prototype.hasOwnProperty.call(F,m)?wa({},"Duplicate data property in object literal not allowed in strict mode"):F[m]=!0;w.push(k);
Fa("}")||qa(",")}qa("}");F=new S("ObjectExpression");F.properties=w;return F}F=Ia.type;O=Ia.start;if(3===F||Y[Ia.value])w=xa(aa().value);else if(8===F||6===F)Ia.octal&&wa(Ia,"Octal literals are not allowed in strict mode."),w=Oa(aa());else{if(4===F)throw Error("Disabled.");if(1===F)w=aa(),w.value="true"===w.value,w=Oa(w);else if(5===F)w=aa(),w.value=null,w=Oa(w);else if(Fa("/")||Fa("/\x3d")){var r;Ia=null;db();w=O;F=H[O];Hb("/"===F,"Regular expression literal must start with a slash");h=H[O++];for(m=
k=!1;O<ma;)if(F=H[O++],h+=F,"\\"===F)F=H[O++],qb(F.charCodeAt(0))&&wa({},"Invalid regular expression: missing /"),h+=F;else if(qb(F.charCodeAt(0)))wa({},"Invalid regular expression: missing /");else if(k)"]"===F&&(k=!1);else if("/"===F){m=!0;break}else"["===F&&(k=!0);m||wa({},"Invalid regular expression: missing /");F=h.substr(1,h.length-2);for(r=m="";O<ma;){k=H[O];if(!$a(k.charCodeAt(0)))break;++O;"\\"===k&&O<ma?wa({},"Unexpected token %0","ILLEGAL"):(r+=k,m+=k)}0<=r.search(/[^gimuy]/g)&&wa({},"Invalid regular expression",
r);k=r;r=Wa(F,k);w=Oa({literal:h+m,value:r,regex:{pattern:F,flags:k},start:w,end:O});F=O;Ia=la();O=F}else sa(aa())}return w}function jb(){var w;for(w=Za();;)if(Fa(".")){qa(".");O=Ia.start;var F=aa();3===F.type||4===F.type||1===F.type||5===F.type||sa(F);F=xa(F.value);w=ya(".",w,F)}else if(Fa("(")){F=[];qa("(");if(!Fa(")"))for(;O<ma;){F.push(I());if(Fa(")"))break;qa(",")}qa(")");var h=new S("CallExpression");h.callee=w;h.arguments=F;w=h}else if(Fa("["))qa("["),F=L(),qa("]"),w=ya("[",w,F);else break;
if(7===Ia.type&&(Fa("++")||Fa("--")))throw Error("Disabled.");return w}function A(){if(7!==Ia.type&&4!==Ia.type)var w=jb();else{if(Fa("++")||Fa("--"))throw Error("Disabled.");if(Fa("+")||Fa("-")||Fa("~")||Fa("!")){var F=aa();w=A();F=F.value;var h=new S("UnaryExpression");h.operator=F;h.argument=w;h.prefix=!0;w=h}else{if(4===Ia.type&&"delete"===Ia.value||4===Ia.type&&"void"===Ia.value||4===Ia.type&&"typeof"===Ia.value)throw Error("Disabled.");w=jb()}}return w}function y(w){var F=0;if(7!==w.type&&4!==
w.type)return 0;switch(w.value){case "||":F=1;break;case "\x26\x26":F=2;break;case "|":F=3;break;case "^":F=4;break;case "\x26":F=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":F=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":F=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":F=8;break;case "+":case "-":F=9;break;case "*":case "/":case "%":F=11}return F}function I(){var w=Ia;var F=A();var h=Ia;var k=y(h);if(0===k)var m=
F;else{h.prec=k;aa();w=[w,Ia];var r=A();for(m=[F,h,r];0<(k=y(Ia));){for(;2<m.length&&k<=m[m.length-2].prec;)r=m.pop(),h=m.pop().value,F=m.pop(),w.pop(),F=Qa(h,F,r),m.push(F);h=aa();h.prec=k;m.push(h);w.push(Ia);F=A();m.push(F)}k=m.length-1;F=m[k];for(w.pop();1<k;)w.pop(),F=Qa(m[k-1].value,m[k-2],F),k-=2;m=F}Fa("?")&&(aa(),w=I(),qa(":"),k=I(),F=new S("ConditionalExpression"),F.test=m,F.consequent=w,F.alternate=k,m=F);return m}function L(){var w=I();if(Fa(","))throw Error("Disabled.");return w}function z(w){function F(h,
k,m){return function(r){var v=w(r[0]);k&&(v=k+"("+v+")",0===k.lastIndexOf("new ",0)&&(v="("+v+")"));return v+"."+h+(0>m?"":0===m?"()":"("+r.slice(1).map(w).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",
tan:"Math.tan",clamp:function(h){3>h.length&&q.error("Missing arguments to clamp function.");3<h.length&&q.error("Too many arguments to clamp function.");h=h.map(w);return"Math.max("+h[1]+", Math.min("+h[2]+","+h[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:F("getDate","new Date",0),day:F("getDay","new Date",0),year:F("getFullYear","new Date",0),month:F("getMonth","new Date",0),hours:F("getHours","new Date",0),minutes:F("getMinutes","new Date",0),seconds:F("getSeconds","new Date",
0),milliseconds:F("getMilliseconds","new Date",0),time:F("getTime","new Date",0),timezoneoffset:F("getTimezoneOffset","new Date",0),utcdate:F("getUTCDate","new Date",0),utcday:F("getUTCDay","new Date",0),utcyear:F("getUTCFullYear","new Date",0),utcmonth:F("getUTCMonth","new Date",0),utchours:F("getUTCHours","new Date",0),utcminutes:F("getUTCMinutes","new Date",0),utcseconds:F("getUTCSeconds","new Date",0),utcmilliseconds:F("getUTCMilliseconds","new Date",0),length:F("length",null,-1),join:F("join",
null),indexof:F("indexOf",null),lastindexof:F("lastIndexOf",null),slice:F("slice",null),reverse:function(h){return"("+w(h[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:F("toUpperCase","String",0),lower:F("toLowerCase","String",0),substring:F("substring","String"),split:F("split","String"),replace:F("replace","String"),trim:F("trim","String",0),regexp:"RegExp",test:F("test","RegExp"),if:function(h){3>h.length&&q.error("Missing arguments to if function.");3<h.length&&
q.error("Too many arguments to if function.");h=h.map(w);return"("+h[0]+"?"+h[1]+":"+h[2]+")"}}}S.prototype.visit=function(w){var F;if(w(this))return 1;var h=Pa(this);var k=0;for(F=h.length;k<F;++k)if(h[k].visit(w))return 1};var H,O,ma,Ia,Sa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
E=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
ha={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Y={"if":1},V={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};n.ASTNode=S;n.ArrayExpression="ArrayExpression";n.BinaryExpression="BinaryExpression";n.CallExpression="CallExpression";n.ConditionalExpression="ConditionalExpression";n.Identifier="Identifier";n.Literal="Literal";n.LogicalExpression="LogicalExpression";n.MemberExpression="MemberExpression";n.ObjectExpression="ObjectExpression";n.Property="Property";
n.RawCode="RawCode";n.UnaryExpression="UnaryExpression";n.codegen=function(w){function F(Ka){if(q.isString(Ka))return Ka;var Z=Ca[Ka.type];null==Z&&q.error("Unsupported type: "+Ka.type);return Z(Ka)}function h(Ka){Ka={code:F(Ka),globals:Object.keys(ua),fields:Object.keys(fb)};ua={};fb={};return Ka}w=w||{};var k=w.allowed?q.toSet(w.allowed):{},m=w.forbidden?q.toSet(w.forbidden):{},r=w.constants||V,v=(w.functions||z)(F),J=w.globalvar,ba=w.fieldvar,ka=q.isFunction(J)?J:function(Ka){return J+'["'+Ka+
'"]'},ua={},fb={},eb=0,Ca={Literal:function(Ka){return Ka.raw},Identifier:function(Ka){Ka=Ka.name;if(0<eb)return Ka;if(q.hasOwnProperty(m,Ka))return q.error("Illegal identifier: "+Ka);if(q.hasOwnProperty(r,Ka))return r[Ka];if(q.hasOwnProperty(k,Ka))return Ka;ua[Ka]=1;return ka(Ka)},MemberExpression:function(Ka){var Z=!Ka.computed,ra=F(Ka.object);Z&&(eb+=1);Ka=F(Ka.property);if(ra===ba){var hb=fb;var mb=(mb=Ka&&Ka.length-1)&&('"'===Ka[0]&&'"'===Ka[mb]||"'"===Ka[0]&&"'"===Ka[mb])?Ka.slice(1,-1):Ka;
hb[mb]=1}Z&&--eb;return ra+(Z?"."+Ka:"["+Ka+"]")},CallExpression:function(Ka){"Identifier"!==Ka.callee.type&&q.error("Illegal callee type: "+Ka.callee.type);var Z=Ka.callee.name;Ka=Ka.arguments;var ra=q.hasOwnProperty(v,Z)&&v[Z];ra||q.error("Unrecognized function: "+Z);return q.isFunction(ra)?ra(Ka):ra+"("+Ka.map(F).join(",")+")"},ArrayExpression:function(Ka){return"["+Ka.elements.map(F).join(",")+"]"},BinaryExpression:function(Ka){return"("+F(Ka.left)+Ka.operator+F(Ka.right)+")"},UnaryExpression:function(Ka){return"("+
Ka.operator+F(Ka.argument)+")"},ConditionalExpression:function(Ka){return"("+F(Ka.test)+"?"+F(Ka.consequent)+":"+F(Ka.alternate)+")"},LogicalExpression:function(Ka){return"("+F(Ka.left)+Ka.operator+F(Ka.right)+")"},ObjectExpression:function(Ka){return"{"+Ka.properties.map(F).join(",")+"}"},Property:function(Ka){eb+=1;var Z=F(Ka.key);--eb;return Z+":"+F(Ka.value)}};h.functions=v;h.constants=r;return h};n.constants=V;n.functions=z;n.parse=function(w){H=w;O=0;ma=H.length;Ia=null;w=O;Ia=la();O=w;w=L();
if(2!==Ia.type)throw Error("Unexpect token after expression.");return w};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[43]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega))})(this,function(n,q,S){function Pa(Ma,cb){var Eb=cb.fields;cb=cb.values;for(var qb=Eb.length,Ea=0,$a,db;Ea<qb;++Ea)if(db=Eb[Ea],db.getter=q.field.getter||q.field(db.field),$a=db.getter(Ma),q.isDate($a)&&($a=
q.toNumber($a)),q.isDate(cb[Ea])&&(cb[Ea]=q.toNumber(cb[Ea])),q.isDate(cb[Ea][0])&&(cb[Ea]=cb[Ea].map(q.toNumber)),"E"===db.type){if(q.isArray(cb[Ea])?0>cb[Ea].indexOf($a):$a!==cb[Ea])return!1}else if("R"===db.type){if(!q.inrange($a,cb[Ea]))return!1}else if("R-RE"===db.type){if(!q.inrange($a,cb[Ea],!0,!1))return!1}else if("R-E"===db.type){if(!q.inrange($a,cb[Ea],!1,!1))return!1}else if("R-LE"===db.type&&!q.inrange($a,cb[Ea],!1,!0))return!1;return!0}var Hb={E_union:function(Ma,cb){if(!Ma.length)return cb;
for(var Eb=0,qb=cb.length;Eb<qb;++Eb)0>Ma.indexOf(cb[Eb])&&Ma.push(cb[Eb]);return Ma},E_intersect:function(Ma,cb){return Ma.length?Ma.filter(function(Eb){return 0<=cb.indexOf(Eb)}):cb},R_union:function(Ma,cb){var Eb=q.toNumber(cb[0]),qb=q.toNumber(cb[1]);Eb>qb&&(Eb=cb[1],qb=cb[0]);if(!Ma.length)return[Eb,qb];Ma[0]>Eb&&(Ma[0]=Eb);Ma[1]<qb&&(Ma[1]=qb);return Ma},R_intersect:function(Ma,cb){var Eb=q.toNumber(cb[0]),qb=q.toNumber(cb[1]);Eb>qb&&(Eb=cb[1],qb=cb[0]);if(!Ma.length)return[Eb,qb];if(qb<Ma[0]||
Ma[1]<Eb)return[];Ma[0]<Eb&&(Ma[0]=Eb);Ma[1]>qb&&(Ma[1]=qb);return Ma}};n.selectionResolve=function(Ma,cb,Eb){Ma=(Ma=this.context.data[Ma])?Ma.values.value:[];for(var qb={},Ea={},$a={},db,Ja,ea,pa,Ga,Wa,la=Ma.length,aa=0,Qa,xa;aa<la;++aa){db=Ma[aa];ea=db.unit;Ja=db.fields;db=db.values;Qa=0;for(xa=Ja.length;Qa<xa;++Qa)pa=Ja[Qa],Ga=qb[pa.field]||(qb[pa.field]={}),Wa=Ga[ea]||(Ga[ea]=[]),$a[pa.field]=pa=pa.type.charAt(0),pa=Hb[pa+"_union"],Ga[ea]=pa(Wa,q.array(db[Qa]));Eb&&(Wa=Ea[ea]||(Ea[ea]=[]),Wa.push(q.array(db).reduce(function(Oa,
ya,ja){return Oa[Ja[ja].field]=ya,Oa},{})))}cb=cb||"union";Object.keys(qb).forEach(function(Oa){qb[Oa]=Object.keys(qb[Oa]).map(function(ya){return qb[Oa][ya]}).reduce(function(ya,ja){return void 0===ya?ja:Hb[$a[Oa]+"_"+cb](ya,ja)})});Ma=Object.keys(Ea);Eb&&Ma.length&&(Eb={},ea={},qb.vlMulti="union"===cb?(Eb.or=Ma.reduce(function(Oa,ya){return Oa.push.apply(Oa,$jscomp.arrayFromIterable(Ea[ya])),Oa},[]),Eb):(ea.and=Ma.map(function(Oa){var ya={};return ya.or=Ea[Oa],ya}),ea));return qb};n.selectionTest=
function(Ma,cb,Eb){var qb=this.context.data[Ma];Ma=qb?qb.values.value:[];qb=qb?qb["index:unit"]&&qb["index:unit"].value:void 0;Eb="intersect"===Eb;for(var Ea=Ma.length,$a=0,db,Ja,ea,pa;$a<Ea;++$a)if(db=Ma[$a],qb&&Eb){if(Ja=Ja||{},ea=Ja[pa=db.unit]||0,-1!==ea){db=Pa(cb,db);Ja[pa]=db?-1:++ea;if(db&&1===qb.size)return!0;if(!db&&ea===qb.get(pa).count)return!1}}else if(db=Pa(cb,db),Eb^db)return db;return Ea&&Eb};n.selectionVisitor=function(Ma,cb,Eb,qb){cb[0].type!==S.Literal&&q.error("First argument to selection functions must be a string literal.");
Ma=cb[0].value;cb=2<=cb.length&&q.peek(cb).value;var Ea=":"+Ma;"intersect"!==cb||q.hasOwnProperty(qb,"@unit")||(qb["@unit"]=Eb.getData(Ma).indataRef(Eb,"unit"));q.hasOwnProperty(qb,Ea)||(qb[Ea]=Eb.getData(Ma).tuplesRef())};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[44]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(42),sb(25),sb(18),sb(12),sb(21),sb(22),sb(43),sb(13),sb(4),sb(1)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.d3,n.d3,n.vega,n.vega,n.vega,n.vega,
n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa,Hb,Ma,cb,Eb,qb,Ea,$a,db){function Ja(tb){return(tb=this.context.data[tb])?tb.values.value:[]}function ea(tb,bc,Mb){return(Mb=(tb=this.context.data[tb]["index:"+bc])?tb.value.get(Mb):void 0)?Mb.count:Mb}function pa(tb,bc){var Mb=this.context.dataflow;Mb.pulse(this.context.data[tb].input,Mb.changeset().remove(q.truthy).insert(bc));return 1}function Ga(tb,bc,Mb){if(tb){var xc=this.context.dataflow;xc.pulse(tb.mark.source,xc.changeset().encode(tb,bc))}return void 0!==
Mb?Mb:tb}function Wa(tb,bc,Mb){if(!Number.isInteger(tb)||!Number.isInteger(bc))return"";za.setYear(2E3);za.setMonth(tb);za.setDate(bc);return mb.call(this,za,Mb)}function la(tb){return Wa.call(this,tb,1,"%B")}function aa(tb){return Wa.call(this,tb,1,"%b")}function Qa(tb){return Wa.call(this,0,2+tb,"%A")}function xa(tb){return Wa.call(this,0,2+tb,"%a")}function Oa(tb,bc,Mb,xc){bc[0].type!==S.Literal&&q.error("First argument to data functions must be a string literal.");tb=bc[0].value;bc=":"+tb;if(!q.hasOwnProperty(bc,
xc))try{xc[bc]=Mb.getData(tb).tuplesRef()}catch(Xc){}}function ya(tb,bc,Mb,xc){bc[0].type!==S.Literal&&q.error("First argument to indata must be a string literal.");bc[1].type!==S.Literal&&q.error("Second argument to indata must be a string literal.");tb=bc[0].value;bc=bc[1].value;var Xc="@"+bc;q.hasOwnProperty(Xc,xc)||(xc[Xc]=Mb.getData(tb).indataRef(Mb,bc))}function ja(tb,bc,Mb,xc){if(bc[0].type===S.Literal)wa(Mb,xc,bc[0].value);else for(tb in Mb.scales)wa(Mb,xc,tb)}function wa(tb,bc,Mb){var xc=
"%"+Mb;if(!q.hasOwnProperty(bc,xc))try{bc[xc]=tb.scaleRef(Mb)}catch(Xc){}}function sa(tb,bc){var Mb;return q.isFunction(tb)?tb:q.isString(tb)?(Mb=bc.scales[tb])&&Mb.value:void 0}function qa(tb,bc,Mb){bc.__bandwidth=function(Xc){return Xc&&Xc.bandwidth?Xc.bandwidth():0};Mb._bandwidth=ja;Mb._range=ja;Mb._scale=ja;var xc=function(Xc){return"_["+(Xc.type===S.Literal?q.stringValue("%"+Xc.value):q.stringValue("%")+"+"+tb(Xc))+"]"};return{_bandwidth:function(Xc){return"this.__bandwidth("+xc(Xc[0])+")"},
_range:function(Xc){return xc(Xc[0])+".range()"},_scale:function(Xc){return xc(Xc[0])+"("+tb(Xc[1])+")"}}}function Fa(tb,bc){return function(Mb,xc,Xc){return Mb?(Mb=sa(Mb,(Xc||this).context))&&Mb.path[tb](xc):bc(xc)}}function Ba(tb){var bc=this.context.group,Mb=!1;if(bc)for(;tb;){if(tb===bc){Mb=!0;break}tb=tb.mark.group}return Mb}function Za(tb,bc,Mb){try{tb[bc].apply(tb,["EXPRESSION"].concat([].slice.call(Mb)))}catch(xc){tb.warn(xc)}return Mb[Mb.length-1]}function jb(){return Za(this.context.dataflow,
"warn",arguments)}function A(){return Za(this.context.dataflow,"info",arguments)}function y(){return Za(this.context.dataflow,"debug",arguments)}function I(tb){tb/=255;return.03928>=tb?tb/12.92:Math.pow((tb+.055)/1.055,2.4)}function L(tb){var bc=Hb.rgb(tb);tb=I(bc.r);var Mb=I(bc.g);bc=I(bc.b);return.2126*tb+.7152*Mb+.0722*bc}function z(tb,bc){tb=L(tb);bc=L(bc);return(Math.max(tb,bc)+.05)/(Math.min(tb,bc)+.05)}function H(){var tb=[].slice.call(arguments);tb.unshift({});return q.extend.apply(q,$jscomp.arrayFromIterable(tb))}
function O(tb,bc){if(tb===bc||tb!==tb&&bc!==bc)tb=!0;else if(q.isArray(tb))if(q.isArray(bc)&&tb.length===bc.length)a:{for(var Mb=0,xc=tb.length;Mb<xc;++Mb)if(!O(tb[Mb],bc[Mb])){tb=!1;break a}tb=!0}else tb=!1;else tb=q.isObject(tb)&&q.isObject(bc)?ma(tb,bc):!1;return tb}function ma(tb,bc){for(var Mb in tb)if(!O(tb[Mb],bc[Mb]))return!1;return!0}function Ia(tb){return function(bc){return ma(tb,bc)}}function Sa(tb,bc,Mb,xc,Xc,ud){var xd=this.context.dataflow,ae=this.context.data[tb],Cb=ae.input;tb=xd.stamp();
var Rb=ae.changes,Rc;if(!1===xd._trigger||!(Cb.value.length||bc||xc))return 0;if(!Rb||Rb.stamp<tb)ae.changes=Rb=xd.changeset(),Rb.stamp=tb,xd.runAfter(function(){ae.modified=!0;xd.pulse(Cb,Rb).run()},!0,1);Mb&&(Mb=!0===Mb?q.truthy:q.isArray(Mb)||Ma.isTuple(Mb)?Mb:Ia(Mb),Rb.remove(Mb));bc&&Rb.insert(bc);xc&&(Mb=Ia(xc),Cb.value.some(Mb)?Rb.remove(Mb):Rb.insert(xc));if(Xc)for(Rc in ud)Rb.modify(Xc,Rc,ud[Rc]);return 1}function E(tb){var bc=tb.touches;tb=bc[0].clientX-bc[1].clientX;bc=bc[0].clientY-bc[1].clientY;
return Math.sqrt(tb*tb+bc*bc)}function ha(tb){tb=tb.touches;return Math.atan2(tb[0].clientY-tb[1].clientY,tb[0].clientX-tb[1].clientX)}function Y(tb,bc,Mb){return cb.bandSpace(tb||0,bc||0,Mb||0)}function V(tb,bc){return(tb=sa(tb,(bc||this).context))&&tb.bandwidth?tb.bandwidth():0}function w(tb,bc){return(tb=sa(tb,(bc||this).context))?tb.copy():void 0}function F(tb,bc){return(tb=sa(tb,(bc||this).context))?tb.domain():[]}function h(tb,bc,Mb){return(tb=sa(tb,(Mb||this).context))?q.isArray(bc)?(tb.invertRange||
tb.invert)(bc):(tb.invert||tb.invertExtent)(bc):void 0}function k(tb,bc){return(tb=sa(tb,(bc||this).context))&&tb.range?tb.range():[]}function m(tb,bc,Mb){return(tb=sa(tb,(Mb||this).context))?tb(bc):void 0}function r(tb,bc,Mb,xc,Xc){tb=sa(tb,(Xc||this).context);var ud=Eb.Gradient(bc,Mb);bc=tb.domain();Mb=bc[0];Xc=q.peek(bc);var xd=q.identity;Xc-Mb?xd=cb.scaleFraction(tb,Mb,Xc):tb=(tb.interpolator?cb.scale("sequential")().interpolator(tb.interpolator()):cb.scale("linear")().interpolate(tb.interpolate()).range(tb.range())).domain([Mb=
0,Xc=1]);tb.ticks&&(bc=tb.ticks(+xc||15),Mb!==bc[0]&&bc.unshift(Mb),Xc!==q.peek(bc)&&bc.push(Xc));bc.forEach(function(ae){return ud.stop(xd(ae),tb(ae))});return ud}function v(tb,bc,Mb){var xc=sa(tb,(Mb||this).context);return function(Xc){return xc?xc.path.context(Xc)(bc):""}}function J(tb){var bc=null;return function(Mb){return Mb?Eb.pathRender(Mb,bc=bc||Eb.pathParse(tb)):tb}}function ba(tb,bc){tb=Ja.call(bc,tb);return tb.root&&tb.root.lookup||{}}function ka(tb,bc,Mb){tb=ba(tb,this);bc=tb[bc];Mb=
tb[Mb];return bc&&Mb?bc.path(Mb).map(rb):void 0}function ua(tb,bc){return(tb=ba(tb,this)[bc])?tb.ancestors().map(rb):void 0}function fb(){var tb="undefined"!==typeof window&&window||null;return tb?tb.screen:{}}function eb(){var tb="undefined"!==typeof window&&window||null;return tb?[tb.innerWidth,tb.innerHeight]:[void 0,void 0]}function Ca(){var tb=this.context.dataflow;return(tb=tb.container&&tb.container())?[tb.clientWidth,tb.clientHeight]:[void 0,void 0]}function Ka(tb){var bc=null;if(tb){var Mb=
q.array(tb.marktype),xc=q.array(tb.markname);bc=function(Xc){return(!Mb.length||Mb.some(function(ud){return Xc.marktype===ud}))&&(!xc.length||xc.some(function(ud){return Xc.name===ud}))}}return bc}function Z(tb,bc,Mb){if(1===arguments.length)return Sb[tb];Sb[tb]=bc;Mb&&(rc[tb]=Mb);pc&&(pc.functions[tb]="this."+tb);return this}var ra=function(tb){return function(bc,Mb){return this.context.dataflow.locale()[tb](Mb)(bc)}},hb=ra("format"),mb=ra("timeFormat"),Ib=ra("utcFormat"),Xb=ra("timeParse");ra=ra("utcParse");
var za=new Date(2E3,0,1),wb=Fa("area",Pa.geoArea),Tb=Fa("bounds",Pa.geoBounds);Pa=Fa("centroid",Pa.geoCentroid);var rb=function(tb){return tb.data},Sb={random:function(){return Ea.random()},cumulativeNormal:Ea.cumulativeNormal,cumulativeLogNormal:Ea.cumulativeLogNormal,cumulativeUniform:Ea.cumulativeUniform,densityNormal:Ea.densityNormal,densityLogNormal:Ea.densityLogNormal,densityUniform:Ea.densityUniform,quantileNormal:Ea.quantileNormal,quantileLogNormal:Ea.quantileLogNormal,quantileUniform:Ea.quantileUniform,
sampleNormal:Ea.sampleNormal,sampleLogNormal:Ea.sampleLogNormal,sampleUniform:Ea.sampleUniform,isArray:q.isArray,isBoolean:q.isBoolean,isDate:q.isDate,isDefined:function(tb){return void 0!==tb},isNumber:q.isNumber,isObject:q.isObject,isRegExp:q.isRegExp,isString:q.isString,isTuple:Ma.isTuple,isValid:function(tb){return null!=tb&&tb===tb},toBoolean:q.toBoolean,toDate:q.toDate,toNumber:q.toNumber,toString:q.toString,flush:q.flush,lerp:q.lerp,merge:H,pad:q.pad,peek:q.peek,span:q.span,inrange:q.inrange,
truncate:q.truncate,rgb:Hb.rgb,lab:Hb.lab,hcl:Hb.hcl,hsl:Hb.hsl,luminance:L,contrast:z,sequence:db.range,format:hb,utcFormat:Ib,utcParse:ra,utcOffset:$a.utcOffset,utcSequence:$a.utcSequence,timeFormat:mb,timeParse:Xb,timeOffset:$a.timeOffset,timeSequence:$a.timeSequence,timeUnitSpecifier:$a.timeUnitSpecifier,monthFormat:la,monthAbbrevFormat:aa,dayFormat:Qa,dayAbbrevFormat:xa,quarter:q.quarter,utcquarter:q.utcquarter,week:$a.week,utcweek:$a.utcweek,dayofyear:$a.dayofyear,utcdayofyear:$a.utcdayofyear,
warn:jb,info:A,debug:y,extent:q.extent,inScope:Ba,intersect:function(tb,bc,Mb){if(!tb)return[];var xc=$jscomp.makeIterator(tb);tb=xc.next().value;xc=xc.next().value;tb=(new Eb.Bounds).set(tb[0],tb[1],xc[0],xc[1]);Mb=Mb||this.context.dataflow.scenegraph().root;return Eb.intersect(Mb,tb,Ka(bc))},clampRange:q.clampRange,pinchDistance:E,pinchAngle:ha,screen:fb,containerSize:Ca,windowSize:eb,bandspace:Y,setdata:pa,pathShape:J,panLinear:q.panLinear,panLog:q.panLog,panPow:q.panPow,panSymlog:q.panSymlog,
zoomLinear:q.zoomLinear,zoomLog:q.zoomLog,zoomPow:q.zoomPow,zoomSymlog:q.zoomSymlog,encode:Ga,modify:Sa},ic="view item group xy x y".split(" "),rc={},Tc={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(tb){return"_["+q.stringValue("$"+tb)+"]"},functions:function(tb){var bc=S.functions(tb);ic.forEach(function(xc){return bc[xc]="event.vega."+xc});for(var Mb in Sb)bc[Mb]="this."+Mb;q.extend(bc,qa(tb,Sb,rc));return bc},constants:S.constants,visitors:rc},pc=S.codegen(Tc);
Z("bandwidth",V,ja);Z("copy",w,ja);Z("domain",F,ja);Z("range",k,ja);Z("invert",h,ja);Z("scale",m,ja);Z("gradient",r,ja);Z("geoArea",wb,ja);Z("geoBounds",Tb,ja);Z("geoCentroid",Pa,ja);Z("geoShape",v,ja);Z("indata",ea,ya);Z("data",Ja,Oa);Z("treePath",ka,Oa);Z("treeAncestors",ua,Oa);Z("vlSelectionTest",qb.selectionTest,qb.selectionVisitor);Z("vlSelectionResolve",qb.selectionResolve,qb.selectionVisitor);n.DataPrefix=":";n.IndexPrefix="@";n.ScalePrefix="%";n.SignalPrefix="$";n.bandspace=Y;n.bandwidth=
V;n.codeGenerator=pc;n.codegenParams=Tc;n.containerSize=Ca;n.contrast=z;n.copy=w;n.data=Ja;n.dataVisitor=Oa;n.dayAbbrevFormat=xa;n.dayFormat=Qa;n.debug=y;n.domain=F;n.encode=Ga;n.expressionFunction=Z;n.format=hb;n.functionContext=Sb;n.geoArea=wb;n.geoBounds=Tb;n.geoCentroid=Pa;n.geoShape=v;n.inScope=Ba;n.indata=ea;n.indataVisitor=ya;n.info=A;n.invert=h;n.luminance=L;n.merge=H;n.modify=Sa;n.monthAbbrevFormat=aa;n.monthFormat=la;n.parseExpression=function(tb,bc){var Mb={};try{tb=q.isString(tb)?tb:q.stringValue(tb)+
"";var xc=S.parse(tb)}catch(Xc){q.error("Expression parse error: "+tb)}xc.visit(function(Xc){if(Xc.type===S.CallExpression){var ud=Xc.callee.name,xd=Tc.visitors[ud];xd&&xd(ud,Xc.arguments,bc,Mb)}});tb=pc(xc);tb.globals.forEach(function(Xc){var ud="$"+Xc;!q.hasOwnProperty(Mb,ud)&&bc.getSignal(Xc)&&(Mb[ud]=bc.signalRef(Xc))});return{$expr:q.extend({code:tb.code},bc.options.ast?{ast:xc}:null),$fields:tb.fields,$params:Mb}};n.pathShape=J;n.pinchAngle=ha;n.pinchDistance=E;n.range=k;n.scale=m;n.scaleGradient=
r;n.scaleVisitor=ja;n.screen=fb;n.setdata=pa;n.timeFormat=mb;n.timeParse=Xb;n.treeAncestors=ua;n.treePath=ka;n.utcFormat=Ib;n.utcParse=ra;n.warn=jb;n.windowSize=eb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[45]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(12)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega))})(this,function(n,q,S){function Pa(Ja,ea,pa){";"!==pa[pa.length-1]&&(pa="return("+pa+");");ea=Function.apply(null,$jscomp.arrayFromIterable(ea.concat(pa)));return Ja&&Ja.functions?ea.bind(Ja.functions):ea}function Hb(Ja,
ea,pa){if(!Ja||!q.isObject(Ja))return Ja;for(var Ga=0,Wa=$a.length,la;Ga<Wa;++Ga)if(la=$a[Ga],q.hasOwnProperty(Ja,la.key))return la.parse(Ja,ea,pa);return Ja}function Ma(Ja,ea,pa,Ga){this.dataflow=Ja;this.transforms=ea;this.events=Ja.events.bind(Ja);this.expr=Ga||Ea;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};pa&&(this.functions=Object.create(pa),this.functions.context=this)}function cb(Ja){this.dataflow=Ja.dataflow;this.transforms=Ja.transforms;this.events=Ja.events;this.expr=
Ja.expr;this.signals=Object.create(Ja.signals);this.scales=Object.create(Ja.scales);this.nodes=Object.create(Ja.nodes);this.data=Object.create(Ja.data);this.fn=Object.create(Ja.fn);Ja.functions&&(this.functions=Object.create(Ja.functions),this.functions.context=this)}var Eb=q.toSet(["rule"]),qb=q.toSet(["group","image","rect"]),Ea={operator:function(Ja,ea){return Pa(Ja,["_"],ea.code)},parameter:function(Ja,ea){return Pa(Ja,["datum","_"],ea.code)},event:function(Ja,ea){return Pa(Ja,["event"],ea.code)},
handler:function(Ja,ea){return Pa(Ja,["_","event"],"var datum\x3devent.item\x26\x26event.item.datum;return "+ea.code+";")},encode:function(Ja,ea){var pa=ea.marktype;ea=ea.channels;var Ga="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(la in ea){var Wa="o["+q.stringValue(la)+"]";Ga+="$\x3d"+ea[la].code+";if("+Wa+"!\x3d\x3d$)"+Wa+"\x3d$,m\x3d1;"}var la="";Eb[pa]||(ea.x2&&(ea.x?(qb[pa]&&(la+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),la+="o.width\x3do.x2-o.x;"):la+="o.x\x3do.x2-(o.width||0);"),
ea.xc&&(la+="o.x\x3do.xc-(o.width||0)/2;"),ea.y2&&(ea.y?(qb[pa]&&(la+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),la+="o.height\x3do.y2-o.y;"):la+="o.y\x3do.y2-(o.height||0);"),ea.yc&&(la+="o.y\x3do.yc-(o.height||0)/2;"));Ga+=la;return Pa(Ja,["item","_"],Ga+"return m;")},codegen:{get:function(Ja){Ja="["+Ja.map(q.stringValue).join("][")+"]";var ea=Function("_","return _"+Ja+";");ea.path=Ja;return ea},comparator:function(Ja,ea){var pa;Ja=Function("a","b","var u, v; return "+Ja.map(function(Ga,
Wa){var la=ea[Wa];if(Ga.path){var aa="a"+Ga.path;Ga="b"+Ga.path}else(pa=pa||{})["f"+Wa]=Ga,aa="this.f"+Wa+"(a)",Ga="this.f"+Wa+"(b)";Wa=-la;return"((u \x3d "+aa+") \x3c (v \x3d "+Ga+") || u \x3d\x3d null) \x26\x26 v !\x3d null ? "+Wa+"\n  : (u \x3e v || v \x3d\x3d null) \x26\x26 u !\x3d null ? "+la+"\n  : ((v \x3d v instanceof Date ? +v : v), (u \x3d u instanceof Date ? +u : u)) !\x3d\x3d u \x26\x26 v \x3d\x3d\x3d v ? "+Wa+"\n  : v !\x3d\x3d v \x26\x26 u \x3d\x3d\x3d u ? "+la+" : "}).join("")+"0;");
return pa?Ja.bind(pa):Ja}}},$a=[{key:"$ref",parse:function(Ja,ea){return ea.get(Ja.$ref)||q.error("Operator not defined: "+Ja.$ref)}},{key:"$key",parse:function(Ja,ea){var pa="k:"+Ja.$key+"_"+!!Ja.$flat;return ea.fn[pa]||(ea.fn[pa]=q.key(Ja.$key,Ja.$flat,ea.expr.codegen))}},{key:"$expr",parse:function(Ja,ea,pa){Ja.$params&&ea.parseParameters(Ja.$params,pa);pa="e:"+Ja.$expr.code+"_"+Ja.$name;return ea.fn[pa]||(ea.fn[pa]=q.accessor(ea.parameterExpression(Ja.$expr),Ja.$fields,Ja.$name))}},{key:"$field",
parse:function(Ja,ea){if(!Ja.$field)return null;var pa="f:"+Ja.$field+"_"+Ja.$name;return ea.fn[pa]||(ea.fn[pa]=q.field(Ja.$field,Ja.$name,ea.expr.codegen))}},{key:"$encode",parse:function(Ja,ea){Ja=Ja.$encode;var pa={},Ga;for(Ga in Ja){var Wa=Ja[Ga];pa[Ga]=q.accessor(ea.encodeExpression(Wa.$expr),Wa.$fields);pa[Ga].output=Wa.$output}return pa}},{key:"$compare",parse:function(Ja,ea){var pa="c:"+Ja.$compare+"_"+Ja.$order,Ga=q.array(Ja.$compare).map(function(Wa){return Wa&&Wa.$tupleid?S.tupleid:Wa});
return ea.fn[pa]||(ea.fn[pa]=q.compare(Ga,Ja.$order,ea.expr.codegen))}},{key:"$context",parse:function(Ja,ea){return ea}},{key:"$subflow",parse:function(Ja,ea){var pa=Ja.$subflow;return function(Ga,Wa,la){var aa=ea.fork().parse(pa);Ga=aa.get(pa.operators[0].id);(Wa=aa.signals.parent)&&Wa.set(la);Ga.detachSubflow=function(){return ea.detach(aa)};return Ga}}},{key:"$tupleid",parse:function(){return S.tupleid}}],db={skip:!0};Ma.prototype=cb.prototype={fork:function(){var Ja=new cb(this);(this.subcontext||
(this.subcontext=[])).push(Ja);return Ja},detach:function(Ja){this.subcontext=this.subcontext.filter(function(Wa){return Wa!==Ja});for(var ea=Object.keys(Ja.nodes),pa=$jscomp.makeIterator(ea),Ga=pa.next();!Ga.done;Ga=pa.next())Ja.nodes[Ga.value]._targets=null;ea=$jscomp.makeIterator(ea);for(Ga=ea.next();!Ga.done;Ga=ea.next())Ja.nodes[Ga.value].detach();Ja.nodes=null},get:function(Ja){return this.nodes[Ja]},set:function(Ja,ea){return this.nodes[Ja]=ea},add:function(Ja,ea){var pa=this,Ga=pa.dataflow,
Wa=Ja.value;pa.set(Ja.id,ea);"collect"===(Ja.type+"").toLowerCase()&&Wa&&(Wa.$ingest?Ga.ingest(ea,Wa.$ingest,Wa.$format):Wa.$request?Ga.preload(ea,Wa.$request,Wa.$format):Ga.pulse(ea,Ga.changeset().insert(Wa)));Ja.root&&(pa.root=ea);if(Ja.parent){var la=pa.get(Ja.parent.$ref);la?(Ga.connect(la,[ea]),ea.targets().add(la)):(pa.unresolved=pa.unresolved||[]).push(function(){la=pa.get(Ja.parent.$ref);Ga.connect(la,[ea]);ea.targets().add(la)})}Ja.signal&&(pa.signals[Ja.signal]=ea);Ja.scale&&(pa.scales[Ja.scale]=
ea);if(Ja.data){Wa={};for(var aa in Ja.data)Wa.$jscomp$loop$prop$data$500$688=pa.data[aa]||(pa.data[aa]={}),Ja.data[aa].forEach(function(Qa){return function(xa){return Qa.$jscomp$loop$prop$data$500$688[xa]=ea}}(Wa)),Wa={$jscomp$loop$prop$data$500$688:Wa.$jscomp$loop$prop$data$500$688}}},resolve:function(){(this.unresolved||[]).forEach(function(Ja){return Ja()});delete this.unresolved;return this},operator:function(Ja,ea){this.add(Ja,this.dataflow.add(Ja.value,ea))},transform:function(Ja,ea){this.add(Ja,
this.dataflow.add(this.transforms[(ea+"").toLowerCase()]))},stream:function(Ja,ea){this.set(Ja.id,ea)},update:function(Ja,ea,pa,Ga,Wa){this.dataflow.on(ea,pa,Ga,Wa,Ja.options)},operatorExpression:function(Ja){return this.expr.operator(this,Ja)},parameterExpression:function(Ja){return this.expr.parameter(this,Ja)},eventExpression:function(Ja){return this.expr.event(this,Ja)},handlerExpression:function(Ja){return this.expr.handler(this,Ja)},encodeExpression:function(Ja){return this.expr.encode(this,
Ja)},parse:function(Ja){var ea=this,pa=Ja.operators||[];Ja.background&&(ea.background=Ja.background);Ja.eventConfig&&(ea.eventConfig=Ja.eventConfig);Ja.locale&&(ea.locale=Ja.locale);pa.forEach(function(Ga){return ea.parseOperator(Ga)});pa.forEach(function(Ga){return ea.parseOperatorParameters(Ga)});(Ja.streams||[]).forEach(function(Ga){return ea.parseStream(Ga)});(Ja.updates||[]).forEach(function(Ga){return ea.parseUpdate(Ga)});return ea.resolve()},parseOperator:function(Ja){"operator"!==(Ja.type+
"").toLowerCase()&&Ja.type?this.transform(Ja,Ja.type):this.operator(Ja,Ja.update?this.operatorExpression(Ja.update):null)},parseOperatorParameters:function(Ja){if(Ja.params){var ea=this.get(Ja.id);ea||q.error("Invalid operator id: "+Ja.id);this.dataflow.connect(ea,ea.parameters(this.parseParameters(Ja.params),Ja.react,Ja.initonly))}},parseParameters:function(Ja,ea){ea=ea||{};var pa=this,Ga;for(Ga in Ja){var Wa=Ja[Ga];ea[Ga]=q.isArray(Wa)?Wa.map(function(la){return Hb(la,pa,ea)}):Hb(Wa,pa,ea)}return ea},
parseStream:function(Ja){var ea=this,pa=null!=Ja.filter?ea.eventExpression(Ja.filter):void 0,Ga=null!=Ja.stream?ea.get(Ja.stream):void 0;if(Ja.source)Ga=ea.events(Ja.source,Ja.type,pa);else if(Ja.merge){var Wa=Ja.merge.map(function(la){return ea.get(la)});Ga=Wa[0].merge.apply(Wa[0],Wa.slice(1))}Ja.between&&(Wa=Ja.between.map(function(la){return ea.get(la)}),Ga=Ga.between(Wa[0],Wa[1]));Ja.filter&&(Ga=Ga.filter(pa));null!=Ja.throttle&&(Ga=Ga.throttle(+Ja.throttle));null!=Ja.debounce&&(Ga=Ga.debounce(+Ja.debounce));
null==Ga&&q.error("Invalid stream definition: "+JSON.stringify(Ja));Ja.consume&&Ga.consume(!0);ea.stream(Ja,Ga)},parseUpdate:function(Ja){var ea=q.isObject(ea=Ja.source)?ea.$ref:ea;ea=this.get(ea);var pa=Ja.update,Ga=void 0;ea||q.error("Source not defined: "+Ja.source);var Wa=Ja.target&&Ja.target.$expr?this.eventExpression(Ja.target.$expr):this.get(Ja.target);pa&&pa.$expr&&(pa.$params&&(Ga=this.parseParameters(pa.$params)),pa=this.handlerExpression(pa.$expr));this.update(Ja,ea,Wa,pa,Ga)},getState:function(Ja){var ea=
this,pa={};if(Ja.signals){var Ga=pa.signals={};Object.keys(ea.signals).forEach(function(la){var aa=ea.signals[la];Ja.signals(la,aa)&&(Ga[la]=aa.value)})}if(Ja.data){var Wa=pa.data={};Object.keys(ea.data).forEach(function(la){var aa=ea.data[la];Ja.data(la,aa)&&(Wa[la]=aa.input.value)})}ea.subcontext&&!1!==Ja.recurse&&(pa.subcontext=ea.subcontext.map(function(la){return la.getState(Ja)}));return pa},setState:function(Ja){var ea=this,pa=ea.dataflow,Ga=Ja.data,Wa=Ja.signals;Object.keys(Wa||{}).forEach(function(la){pa.update(ea.signals[la],
Wa[la],db)});Object.keys(Ga||{}).forEach(function(la){pa.pulse(ea.data[la].input,pa.changeset().remove(q.truthy).insert(Ga[la]))});(Ja.subcontext||[]).forEach(function(la,aa){(aa=ea.subcontext[aa])&&aa.setState(la)})}};n.context=function(Ja,ea,pa,Ga){return new Ma(Ja,ea,pa,Ga)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[46]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(12),sb(22),sb(1),sb(44),sb(45),sb(31),sb(6)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.vega))})(this,function(n,q,S,Pa,Hb,Ma,cb,Eb,qb){function Ea(Z){var ra=
Z.container();ra&&(ra.setAttribute("role","graphics-document"),ra.setAttribute("aria-roleDescription","visualization"),$a(ra,Z.description()))}function $a(Z,ra){Z&&(null==ra?Z.removeAttribute("aria-label"):Z.setAttribute("aria-label",ra))}function db(Z){Z.add(null,function(ra){Z._background=ra.bg;Z._resize=1;return ra.bg},{bg:Z._signals.background})}function Ja(Z){var ra=Z._signals.cursor||(Z._signals.cursor=Z.add({user:"default",item:null}));Z.on(Z.events("view","mousemove"),ra,function(hb,mb){var Ib=
(hb=ra.value)?q.isString(hb)?hb:hb.user:"default";mb=mb.item&&mb.item.cursor||null;return hb&&Ib===hb.user&&mb==hb.item?hb:{user:Ib,item:mb}});Z.add(null,function(hb){hb=hb.cursor;var mb=this.value;q.isString(hb)||(mb=hb.item,hb=hb.user);ea(Z,hb&&"default"!==hb?hb:mb||hb);return mb},{cursor:ra})}function ea(Z,ra){if(Z=Z.globalCursor()?"undefined"!==typeof document&&document.body:Z.container())return null==ra?Z.style.removeProperty("cursor"):Z.style.cursor=ra}function pa(Z,ra){Z=Z._runtime.data;q.hasOwnProperty(Z,
ra)||q.error("Unrecognized data set: "+ra);return Z[ra]}function Ga(Z,ra){S.isChangeSet(ra)||q.error("Second argument to changes must be a changeset.");Z=pa(this,Z);Z.modified=!0;return this.pulse(Z.input,ra)}function Wa(Z){var ra=Z.padding();return Math.max(0,Z._viewWidth+ra.left+ra.right)}function la(Z){var ra=Z.padding();return Math.max(0,Z._viewHeight+ra.top+ra.bottom)}function aa(Z){var ra=Z.padding();Z=Z._origin;return[ra.left+Z[0],ra.top+Z[1]]}function Qa(Z){var ra=aa(Z),hb=Wa(Z),mb=la(Z);
Z._renderer.background(Z.background());Z._renderer.resize(hb,mb,ra);Z._handler.origin(ra);Z._resizeListeners.forEach(function(Ib){try{Ib(hb,mb)}catch(Xb){Z.error(Xb)}})}function xa(Z,ra,hb){var mb=Z._renderer;mb=mb&&mb.canvas();if(mb){var Ib=aa(Z);var Xb=ra.changedTouches?ra.changedTouches[0]:ra;Xb=Pa.point(Xb,mb);Xb[0]-=Ib[0];Xb[1]-=Ib[1]}ra.dataflow=Z;ra.item=hb;ra.vega=Oa(Z,hb,Xb);return ra}function Oa(Z,ra,hb){function mb(za){var wb=Xb,Tb;if(za)for(Tb=ra;Tb;Tb=Tb.mark.group)if(Tb.mark.name===
za){wb=Tb;break}return wb&&wb.mark&&wb.mark.interactive?wb:{}}function Ib(za){if(!za)return hb;q.isString(za)&&(za=mb(za));for(var wb=hb.slice();za;)wb[0]-=za.x||0,wb[1]-=za.y||0,za=za.mark&&za.mark.group;return wb}var Xb=ra?"group"===ra.mark.marktype?ra:ra.mark.group:null;return{view:q.constant(Z),item:q.constant(ra||{}),group:mb,xy:Ib,x:function(za){return Ib(za)[0]},y:function(za){return Ib(za)[1]}}}function ya(Z){Z=q.extend({defaults:{}},Z);var ra=function(hb,mb){mb.forEach(function(Ib){q.isArray(hb[Ib])&&
(hb[Ib]=q.toSet(hb[Ib]))})};ra(Z.defaults,["prevent","allow"]);ra(Z,["view","window","selector"]);return Z}function ja(Z,ra,hb){var mb=Z._eventConfig&&Z._eventConfig[ra];return!1===mb||q.isObject(mb)&&!mb[hb]?(Z.warn("Blocked "+ra+" "+hb+" event listener."),!1):!0}function wa(Z){return Z.item}function sa(Z){return Z.item.mark.source}function qa(Z){return function(ra,hb){return hb.vega.view().changeset().encode(hb.item,Z)}}function Fa(Z,ra,hb){Z=document.createElement(Z);for(var mb in ra)Z.setAttribute(mb,
ra[mb]);null!=hb&&(Z.textContent=hb);return Z}function Ba(Z,ra,hb){if(ra){var mb=hb.param,Ib=hb.state;Ib||(Ib=hb.state={elements:null,active:!1,set:null,update:function(Xb){Xb!==Z.signal(mb.signal)&&Z.runAsync(null,function(){Ib.source=!0;Z.signal(mb.signal,Xb)})}},mb.debounce&&(Ib.update=q.debounce(mb.debounce,Ib.update)));Za(Ib,ra,mb,Z.signal(mb.signal));Ib.active||(Z.on(Z._signals[mb.signal],null,function(){Ib.source?Ib.source=!1:Ib.set(Z.signal(mb.signal))}),Ib.active=!0);return Ib}}function Za(Z,
ra,hb,mb){var Ib=Fa("div",{"class":"vega-bind"}),Xb="radio"===hb.input?Ib:Ib.appendChild(Fa("label"));Xb.appendChild(Fa("span",{"class":"vega-bind-name"},hb.name||hb.signal));ra.appendChild(Ib);ra=jb;switch(hb.input){case "checkbox":ra=A;break;case "select":ra=y;break;case "radio":ra=I;break;case "range":ra=L}ra(Z,Xb,hb,mb)}function jb(Z,ra,hb,mb){var Ib=Fa("input"),Xb;for(Xb in hb)"signal"!==Xb&&"element"!==Xb&&Ib.setAttribute("input"===Xb?"type":Xb,hb[Xb]);Ib.setAttribute("name",hb.signal);Ib.value=
mb;ra.appendChild(Ib);Ib.addEventListener("input",function(){return Z.update(Ib.value)});Z.elements=[Ib];Z.set=function(za){return Ib.value=za}}function A(Z,ra,hb,mb){hb={type:"checkbox",name:hb.signal};mb&&(hb.checked=!0);var Ib=Fa("input",hb);ra.appendChild(Ib);Ib.addEventListener("change",function(){return Z.update(Ib.checked)});Z.elements=[Ib];Z.set=function(Xb){return Ib.checked=!!Xb||null}}function y(Z,ra,hb,mb){var Ib=Fa("select",{name:hb.signal}),Xb=hb.labels||[];hb.options.forEach(function(za,
wb){var Tb={value:za};z(za,mb)&&(Tb.selected=!0);Ib.appendChild(Fa("option",Tb,(Xb[wb]||za)+""))});ra.appendChild(Ib);Ib.addEventListener("change",function(){Z.update(hb.options[Ib.selectedIndex])});Z.elements=[Ib];Z.set=function(za){for(var wb=0,Tb=hb.options.length;wb<Tb;++wb)if(z(hb.options[wb],za)){Ib.selectedIndex=wb;break}}}function I(Z,ra,hb,mb){var Ib=Fa("span",{"class":"vega-bind-radio"}),Xb=hb.labels||[];ra.appendChild(Ib);Z.elements=hb.options.map(function(za,wb){var Tb={type:"radio",name:hb.signal,
value:za};z(za,mb)&&(Tb.checked=!0);Tb=Fa("input",Tb);Tb.addEventListener("change",function(){return Z.update(za)});wb=Fa("label",{},(Xb[wb]||za)+"");wb.prepend(Tb);Ib.appendChild(wb);return Tb});Z.set=function(za){for(var wb=Z.elements,Tb=wb.length,rb=0;rb<Tb;++rb)z(wb[rb].value,za)&&(wb[rb].checked=!0)}}function L(Z,ra,hb,mb){mb=void 0!==mb?mb:(+hb.max+ +hb.min)/2;var Ib=null!=hb.max?hb.max:Math.max(100,+mb)||100,Xb=hb.min||Math.min(0,Ib,+mb)||0,za=hb.step||Hb.tickStep(Xb,Ib,100),wb=Fa("input",
{type:"range",name:hb.signal,min:Xb,max:Ib,step:za});wb.value=mb;var Tb=Fa("span",{},+mb);ra.appendChild(wb);ra.appendChild(Tb);ra=function(){Tb.textContent=wb.value;Z.update(+wb.value)};wb.addEventListener("input",ra);wb.addEventListener("change",ra);Z.elements=[wb];Z.set=function(rb){wb.value=rb;Tb.textContent=rb}}function z(Z,ra){return Z===ra||Z+""===ra+""}function H(Z,ra,hb,mb,Ib,Xb){ra=ra||new mb(Z.loader());return ra.initialize(hb,Wa(Z),la(Z),aa(Z),Ib,Xb).background(Z.background())}function O(Z,
ra){return ra?function(){try{ra.apply(this,arguments)}catch(hb){Z.error(hb)}}:null}function ma(Z,ra,hb,mb){var Ib=(new mb(Z.loader(),O(Z,Z.tooltip()))).scene(Z.scenegraph().root).initialize(hb,aa(Z),Z);ra&&ra.handlers().forEach(function(Xb){Ib.on(Xb.type,Xb.handler)});return Ib}function Ia(Z,ra){if("string"===typeof ra)if("undefined"!==typeof document){if(ra=document.querySelector(ra),!ra)return Z.error("Signal bind element not found: "+ra),null}else return Z.error("DOM document instance not found."),
null;if(ra)try{ra.innerHTML=""}catch(hb){ra=null,Z.error(hb)}return ra}function Sa(Z){q.isObject(Z)?Z={top:+Z.top||0,bottom:+Z.bottom||0,left:+Z.left||0,right:+Z.right||0}:(Z=+Z||0,Z={top:Z,bottom:Z,left:Z,right:Z});return Z}function E(Z,ra,hb,mb){var Ib,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(za){return 1==za.nextAddress?((Xb=(Ib=Pa.renderModule(ra))&&Ib.headless)||q.error("Unrecognized renderer type: "+ra),za.yield(Z.runAsync(),2)):za.return(H(Z,null,null,Xb,hb,mb).renderAsync(Z._scenegraph.root))})}
function ha(Z,ra){Z=new Blob([Z],{type:ra});return window.URL.createObjectURL(Z)}function Y(Z,ra,hb){return cb.context(Z,S.transforms,Ma.functionContext,hb).parse(ra)}function V(Z,ra){var hb=Z.autosize();Z=Z.padding();return ra-(hb&&"padding"===hb.contains?Z.left+Z.right:0)}function w(Z,ra){var hb=Z.autosize();Z=Z.padding();return ra-(hb&&"padding"===hb.contains?Z.top+Z.bottom:0)}function F(Z){function ra(){Z._autosize=Z._resize=1}var hb=Z._signals,mb=hb.width,Ib=hb.height;hb=hb.padding;Z._resizeWidth=
Z.add(null,function(za){Z._width=za.size;Z._viewWidth=V(Z,za.size);ra()},{size:mb});Z._resizeHeight=Z.add(null,function(za){Z._height=za.size;Z._viewHeight=w(Z,za.size);ra()},{size:Ib});var Xb=Z.add(null,ra,{pad:hb});Z._resizeWidth.rank=mb.rank+1;Z._resizeHeight.rank=Ib.rank+1;Xb.rank=hb.rank+1}function h(Z,ra){return ra.modified&&q.isArray(ra.input.value)&&Z.indexOf("_:vega:_")}function k(Z,ra){return!("parent"===Z||ra instanceof S.transforms.proxy)}function m(Z,ra,hb,mb){(Z=Z.element())&&Z.setAttribute("title",
r(mb))}function r(Z){return null==Z?"":q.isArray(Z)?"["+Z.map(J).join(", ")+"]":q.isObject(Z)&&!q.isDate(Z)?v(Z):Z+""}function v(Z){return Object.keys(Z).map(function(ra){var hb=Z[ra];return ra+": "+(q.isArray(hb)?"["+hb.map(J).join(", ")+"]":J(hb))}).join("\n")}function J(Z){return q.isArray(Z)?"[…]":q.isObject(Z)&&!q.isDate(Z)?"{…}":Z}function ba(Z,ra){ra=ra||{};S.Dataflow.call(this);ra.loader&&this.loader(ra.loader);ra.logger&&this.logger(ra.logger);null!=ra.logLevel&&this.logLevel(ra.logLevel);
if(ra.locale||Z.locale){var hb=q.extend({},Z.locale,ra.locale);this.locale(qb.locale(hb.number,hb.time))}this._elBind=this._el=null;this._renderType=ra.renderer||Pa.RenderType.Canvas;this._scenegraph=new Pa.Scenegraph;hb=this._scenegraph.root;this._renderer=null;this._tooltip=ra.tooltip||m;this._redraw=!0;this._handler=(new Pa.CanvasHandler).scene(hb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=ya(Z.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
var mb=Y(this,Z,ra.expr);this._runtime=mb;this._signals=mb.signals;this._bind=(Z.bindings||[]).map(function(Ib){return{state:null,param:q.extend({},Ib)}});mb.root&&mb.root.set(hb);hb.source=mb.data.root.input;this.pulse(mb.data.root.input,this.changeset().insert(hb.items));this._width=this.width();this._height=this.height();this._viewWidth=V(this,this._width);this._viewHeight=w(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;F(this);db(this);Ja(this);this.description(Z.description);
ra.hover&&this.hover();ra.container&&this.initialize(ra.container,ra.bind)}function ka(Z,ra){return q.hasOwnProperty(Z._signals,ra)?Z._signals[ra]:q.error("Unrecognized signal name: "+q.stringValue(ra))}function ua(Z,ra){Z=(Z._targets||[]).filter(function(hb){return hb._update&&hb._update.handler===ra});return Z.length?Z[0]:null}function fb(Z,ra,hb,mb){var Ib=ua(hb,mb);Ib||(Ib=O(Z,function(){return mb(ra,hb.value)}),Ib.handler=mb,Z.on(hb,null,Ib));return Z}function eb(Z,ra,hb){(hb=ua(ra,hb))&&ra._targets.remove(hb);
return Z}var Ca={trap:!1},Ka={skip:!0};q.inherits(ba,S.Dataflow,{evaluate:function(Z,ra,hb){var mb=this,Ib;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xb){switch(Xb.nextAddress){case 1:return Xb.yield(S.Dataflow.prototype.evaluate.call(mb,Z,ra),2);case 2:if(!mb._redraw&&!mb._resize){Xb.jumpTo(3);break}Xb.setCatchFinallyBlocks(4);if(!mb._renderer){Xb.jumpTo(6);break}mb._resize&&(mb._resize=0,Qa(mb));return Xb.yield(mb._renderer.renderAsync(mb._scenegraph.root),6);case 6:mb._redraw=
!1;Xb.leaveTryBlock(3);break;case 4:Ib=Xb.enterCatchBlock(),mb.error(Ib);case 3:return hb&&S.asyncCallback(mb,hb),Xb.return(mb)}})},dirty:function(Z){this._redraw=!0;this._renderer&&this._renderer.dirty(Z)},description:function(Z){if(arguments.length){var ra=null!=Z?Z+"":null;ra!==this._desc&&$a(this._el,this._desc=ra);return this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(Z,
ra,hb){var mb=ka(this,Z);return 1===arguments.length?mb.value:this.update(mb,ra,hb)},width:function(Z){return arguments.length?this.signal("width",Z):this.signal("width")},height:function(Z){return arguments.length?this.signal("height",Z):this.signal("height")},padding:function(Z){return arguments.length?this.signal("padding",Sa(Z)):Sa(this.signal("padding"))},autosize:function(Z){return arguments.length?this.signal("autosize",Z):this.signal("autosize")},background:function(Z){return arguments.length?
this.signal("background",Z):this.signal("background")},renderer:function(Z){if(!arguments.length)return this._renderType;Pa.renderModule(Z)||q.error("Unrecognized renderer type: "+Z);Z!==this._renderType&&(this._renderType=Z,this._resetRenderer());return this},tooltip:function(Z){if(!arguments.length)return this._tooltip;Z!==this._tooltip&&(this._tooltip=Z,this._resetRenderer());return this},loader:function(Z){if(!arguments.length)return this._loader;Z!==this._loader&&(S.Dataflow.prototype.loader.call(this,
Z),this._resetRenderer());return this},resize:function(){this._autosize=1;return this.touch(ka(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Z,ra,hb,mb,Ib,Xb){this.runAfter(function(za){var wb=0;za._autosize=0;za.width()!==hb&&(wb=1,za.signal("width",hb,Ka),za._resizeWidth.skip(!0));za.height()!==mb&&(wb=1,za.signal("height",mb,Ka),za._resizeHeight.skip(!0));za._viewWidth!==Z&&(za._resize=1,za._viewWidth=
Z);za._viewHeight!==ra&&(za._resize=1,za._viewHeight=ra);if(za._origin[0]!==Ib[0]||za._origin[1]!==Ib[1])za._resize=1,za._origin=Ib;wb&&za.run("enter");Xb&&za.runAfter(function(Tb){return Tb.resize()})},!1,1)},addEventListener:function(Z,ra,hb){var mb=ra;hb&&!1===hb.trap||(mb=O(this,ra),mb.raw=ra);this._handler.on(Z,mb);return this},removeEventListener:function(Z,ra){for(var hb=this._handler.handlers(Z),mb=hb.length,Ib,Xb;0<=--mb;)if(Xb=hb[mb].type,Ib=hb[mb].handler,Z===Xb&&(ra===Ib||ra===Ib.raw)){this._handler.off(Xb,
Ib);break}return this},addResizeListener:function(Z){var ra=this._resizeListeners;0>ra.indexOf(Z)&&ra.push(Z);return this},removeResizeListener:function(Z){var ra=this._resizeListeners;Z=ra.indexOf(Z);0<=Z&&ra.splice(Z,1);return this},addSignalListener:function(Z,ra){return fb(this,Z,ka(this,Z),ra)},removeSignalListener:function(Z,ra){return eb(this,ka(this,Z),ra)},addDataListener:function(Z,ra){return fb(this,Z,pa(this,Z).values,ra)},removeDataListener:function(Z,ra){return eb(this,pa(this,Z).values,
ra)},globalCursor:function(Z){if(arguments.length){if(this._globalCursor!==!!Z){var ra=ea(this,null);this._globalCursor=!!Z;ra&&ea(this,ra)}return this}return this._globalCursor},preventDefault:function(Z){return arguments.length?(this._preventDefault=Z,this):this._preventDefault},timer:function(Z,ra){this._timers.push(Eb.interval(function(hb){Z({timestamp:Date.now(),elapsed:hb})},ra))},events:function(Z,ra,hb){var mb=this,Ib=new S.EventStream(hb);hb=function(Tb,rb){mb.runAsync(null,function(){var Sb;
if(Sb="view"===Z){var ic=mb._eventConfig.defaults;Sb=ic.prevent;ic=ic.allow;Sb=!1===Sb||!0===ic?!1:!0===Sb||!1===ic?!0:Sb?Sb[ra]:ic?!ic[ra]:mb.preventDefault()}Sb&&Tb.preventDefault();Ib.receive(xa(mb,Tb,rb))})};var Xb;if("timer"===Z)ja(mb,"timer",ra)&&mb.timer(hb,ra);else if("view"===Z)ja(mb,"view",ra)&&mb.addEventListener(ra,hb,Ca);else if("window"===Z?ja(mb,"window",ra)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&ja(mb,"selector",ra)&&(Xb=document.querySelectorAll(Z)),
Xb){for(var za=0,wb=Xb.length;za<wb;++za)Xb[za].addEventListener(ra,hb);mb._eventListeners.push({type:ra,sources:Xb,handler:hb})}else mb.warn("Can not resolve event source: "+Z);return Ib},finalize:function(){var Z=this._tooltip,ra=this._timers,hb=this._eventListeners,mb;for(mb=ra.length;0<=--mb;)ra[mb].stop();for(mb=hb.length;0<=--mb;){var Ib=hb[mb];for(ra=Ib.sources.length;0<=--ra;)Ib.sources[ra].removeEventListener(Ib.type,Ib.handler)}Z&&Z.call(this,this._handler,null,null,null);return this},hover:function(Z,
ra){Z=[Z||"hover"];ra=[ra||"update",Z[0]];this.on(this.events("view","mouseover",wa),sa,qa(Z));this.on(this.events("view","mouseout",wa),sa,qa(ra));return this},data:function(Z,ra){return 2>arguments.length?pa(this,Z).values.value:Ga.call(this,Z,S.changeset().remove(q.truthy).insert(ra))},change:Ga,insert:function(Z,ra){return Ga.call(this,Z,S.changeset().insert(ra))},remove:function(Z,ra){return Ga.call(this,Z,S.changeset().remove(ra))},scale:function(Z){var ra=this._runtime.scales;q.hasOwnProperty(ra,
Z)||q.error("Unrecognized scale or projection: "+Z);return ra[Z].value},initialize:function(Z,ra){var hb=this,mb=hb._renderType,Ib=hb._eventConfig.bind,Xb=Pa.renderModule(mb);Z=hb._el=Z?Ia(hb,Z):null;Ea(hb);Xb||hb.error("Unrecognized renderer type: "+mb);mb=Xb.handler||Pa.CanvasHandler;Xb=Z?Xb.renderer:Xb.headless;hb._renderer=Xb?H(hb,hb._renderer,Z,Xb):null;hb._handler=ma(hb,hb._handler,Z,mb);hb._redraw=!0;Z&&"none"!==Ib&&(ra=ra?hb._elBind=Ia(hb,ra):Z.appendChild(Fa("form",{"class":"vega-bindings"})),
hb._bind.forEach(function(za){za.param.element&&"container"!==Ib&&(za.element=Ia(hb,za.param.element))}),hb._bind.forEach(function(za){Ba(hb,za.element||ra,za)}));return hb},toImageURL:function(Z,ra){var hb=this,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){if(1==Ib.nextAddress)return Z!==Pa.RenderType.Canvas&&Z!==Pa.RenderType.SVG&&Z!==Pa.RenderType.PNG&&q.error("Unrecognized image type: "+Z),Ib.yield(E(hb,Z,ra),2);mb=Ib.yieldResult;return Ib.return(Z===Pa.RenderType.SVG?ha(mb.svg(),
"image/svg+xml"):mb.canvas().toDataURL("image/png"))})},toCanvas:function(Z,ra){var hb=this,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ib){if(1==Ib.nextAddress)return Ib.yield(E(hb,Pa.RenderType.Canvas,Z,ra),2);mb=Ib.yieldResult;return Ib.return(mb.canvas())})},toSVG:function(Z){var ra=this,hb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress)return mb.yield(E(ra,Pa.RenderType.SVG,Z),2);hb=mb.yieldResult;return mb.return(hb.svg())})},getState:function(Z){return this._runtime.getState(Z||
{data:h,signals:k,recurse:!0})},setState:function(Z){this.runAsync(null,function(ra){ra._trigger=!1;ra._runtime.setState(Z)},function(ra){ra._trigger=!0});return this}});n.View=ba;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[47]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={}))})(this,function(n){function q(Ea,$a,db,Ja,ea){for(var pa=Ea.length,Ga=0,Wa;$a<pa;++$a)if(Wa=Ea[$a],Ga||Wa!==db)ea&&0<=ea.indexOf(Wa)?--Ga:Ja&&0<=Ja.indexOf(Wa)&&++Ga;else break;return $a}function S(Ea){for(var $a=[],db=Ea.length,Ja=0,ea=0;ea<db;)ea=q(Ea,ea,",","[{",
"]}"),$a.push(Ea.substring(Ja,ea).trim()),Ja=++ea;if(0===$a.length)throw"Empty event selector: "+Ea;return $a}function Pa(Ea){if("["===Ea[0]){var $a=Ea;var db=$a.length;Ea=q($a,1,"]","[","]");if(Ea===db)throw"Empty between selector: "+$a;db=S($a.substring(1,Ea));if(2!==db.length)throw"Between selector must have two elements: "+$a;$a=$a.slice(Ea+1).trim();if("\x3e"!==$a[0])throw"Expected '\x3e' after between selector: "+$a;db=db.map(Pa);$a=Pa($a.slice(1).trim());$a.between?$a={between:db,stream:$a}:
$a.between=db}else{db={source:Eb};var Ja=[],ea=[0,0],pa=0,Ga=0,Wa=Ea.length,la=0;if("}"===Ea[Wa-1]){la=Ea.lastIndexOf("{");if(0<=la){try{ea=Hb(Ea.substring(la+1,Wa-1))}catch(Qa){throw"Invalid throttle specification: "+Ea;}Ea=Ea.slice(0,la).trim();Wa=Ea.length}else throw"Unmatched right brace: "+Ea;la=0}if(!Wa)throw Ea;"@"===Ea[0]&&(pa=++la);var aa=q(Ea,la,":");aa<Wa&&(Ja.push(Ea.substring(Ga,aa).trim()),Ga=la=++aa);la=q(Ea,la,"[");if(la===Wa)Ja.push(Ea.substring(Ga,Wa).trim());else if(Ja.push(Ea.substring(Ga,
la).trim()),$a=[],Ga=++la,Ga===Wa)throw"Unmatched left bracket: "+Ea;for(;la<Wa;){la=q(Ea,la,"]");if(la===Wa)throw"Unmatched left bracket: "+Ea;$a.push(Ea.substring(Ga,la).trim());if(la<Wa-1&&"["!==Ea[++la])throw"Expected left bracket: "+Ea;Ga=++la}if(!(Wa=Ja.length)||Ma.test(Ja[Wa-1]))throw"Invalid event selector: "+Ea;1<Wa?(db.type=Ja[1],pa?db.markname=Ja[0].slice(1):qb[Ja[0]]?db.marktype=Ja[0]:db.source=Ja[0]):db.type=Ja[0];"!"===db.type.slice(-1)&&(db.consume=!0,db.type=db.type.slice(0,-1));null!=
$a&&(db.filter=$a);ea[0]&&(db.throttle=ea[0]);ea[1]&&(db.debounce=ea[1]);$a=db}return $a}function Hb(Ea){var $a=Ea.split(",");if(!Ea.length||2<$a.length)throw Ea;return $a.map(function(db){db=+db;if(db!==db)throw Ea;return db})}var Ma=/[[\]{}]/,cb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Eb,qb;n.selector=function(Ea,$a,db){Eb=$a||"view";qb=db||cb;return S(Ea.trim()).map(Pa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[48]=function(Kb,sb,hc,ub){(function(n,q){"object"===typeof ub&&"undefined"!==typeof hc?q(ub,sb(0),sb(44),sb(47),sb(21),sb(12)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa,Hb,Ma){function cb(D){return q.isObject(D)?D:{type:D||"pad"}}function Eb(D){q.isObject(D)?D=
D.signal?D:{top:+D.top||0,bottom:+D.bottom||0,left:+D.left||0,right:+D.right||0}:(D=+D||0,D={top:D,bottom:D,left:D,right:D});return D}function qb(D,R,Na,Ab){return null!=Na?(q.isObject(Na)&&!q.isArray(Na)||q.isArray(Na)&&Na.length&&q.isObject(Na[0])?D.update[R]=Na:D[Ab||"enter"][R]={value:Na},1):0}function Ea(D,R,Na){for(var Ab in R)qb(D,Ab,R[Ab]);for(var zb in Na)qb(D,zb,Na[zb],"update")}function $a(D,R,Na){for(var Ab in R)Na&&q.hasOwnProperty(Na,Ab)||(D[Ab]=q.extend(D[Ab]||{},R[Ab]));return D}function db(D,
R){return R&&(R.enter&&R.enter[D]||R.update&&R.update[D])}function Ja(D,R,Na,Ab,zb){var Jb={},ac={},Oc;var Fc="lineBreak";"text"!==R||null==zb[Fc]||db(Fc,D)||ea(Jb,Fc,zb[Fc]);if("legend"==Na||String(Na).startsWith("axis"))Na=null;Na="frame"===Na?zb.group:"mark"===Na?q.extend({},zb.mark,zb[R]):null;for(Fc in Na)(R=db(Fc,D)||("fill"===Fc||"stroke"===Fc)&&(db("fill",D)||db("stroke",D)))||ea(Jb,Fc,Na[Fc]);q.array(Ab).forEach(function(bd){bd=zb.style&&zb.style[bd];for(var cd in bd)db(cd,D)||ea(Jb,cd,bd[cd])});
D=q.extend({},D);for(Fc in Jb)Na=Jb[Fc],Na.signal?(Oc=Oc||{})[Fc]=Na:ac[Fc]=Na;D.enter=q.extend(ac,D.enter);Oc&&(D.update=q.extend(Oc,D.update));return D}function ea(D,R,Na){D[R]=Na&&Na.signal?{signal:Na.signal}:{value:Na}}function pa(D){if(null!=D.gradient)return Ga(D);if(D.signal)var R="("+D.signal+")";else D.color?(R=D.color,R=R.c?Ta("hcl",R.h,R.c,R.l):R.h||R.s?Ta("hsl",R.h,R.s,R.l):R.l||R.a?Ta("lab",R.l,R.a,R.b):R.r||R.g||R.b?Ta("rgb",R.r,R.g,R.b):null):R=null!=D.field?la(D.field):void 0!==D.value?
q.stringValue(D.value):void 0;if(null!=D.scale){var Na=gb(D.scale);null!=D.range?R="lerp(_range("+Na+"), "+ +D.range+")":(void 0!==R&&(R="_scale("+Na+", "+R+")"),D.band&&(R=(R?R+"+":"")+("_bandwidth("+Na+")")+(1===+D.band?"":"*"+Wa(D.band)),D.extra&&(R="(datum.extra ? _scale("+Na+", datum.extra.value) : "+R+")")),null==R&&(R="0"))}void 0===R&&(R=null);null!=D.exponent&&(R="pow("+R+","+Wa(D.exponent)+")");null!=D.mult&&(R+="*"+Wa(D.mult));null!=D.offset&&(R+="+"+Wa(D.offset));D.round&&(R="round("+
R+")");return R}function Ga(D){for(var R=[D.start,D.stop,D.count].map(function(Na){return null==Na?null:q.stringValue(Na)});R.length&&null==q.peek(R);)R.pop();R.unshift(gb(D.gradient));return"gradient("+R.join(",")+")"}function Wa(D){return q.isObject(D)?"("+pa(D)+")":D}function la(D){return aa(q.isObject(D)?D:{datum:D})}function aa(D){if(D.signal){var R="datum";var Na=D.signal}else if(D.group||D.parent){Na=Math.max(1,D.level||1);for(R="item";0<Na--;)R+=".mark.group";D.parent?(Na=D.parent,R+=".datum"):
Na=D.group}else D.datum?(R="datum",Na=D.datum):q.error("Invalid field reference: "+q.stringValue(D));D.signal||(Na=q.isString(Na)?q.splitAccessPath(Na).map(q.stringValue).join("]["):aa(Na));return R+"["+Na+"]"}function Qa(D){var R="";D.forEach(function(Na){var Ab=pa(Na);R+=Na.test?"("+Na.test+")?"+Ab+":":Ab});":"===q.peek(R)&&(R+="null");return R}function xa(D,R,Na,Ab,zb,Jb){var ac={};Jb=Jb||{};Jb.encoders={$encode:ac};D=Ja(D,R,Na,Ab,zb.config);for(var Oc in D){Na=void 0;Ab=D[Oc];var Fc=R,bd=Jb,cd=
zb,jd={},wd={};for(Na in Ab)if(null!=Ab[Na]){var Hd=Ab[Na];Hd=q.isArray(Hd)?Qa(Hd):pa(Hd);jd[Na]=Oa(Hd,cd,bd,wd)}Na={$expr:{marktype:Fc,channels:jd},$fields:Object.keys(wd),$output:Object.keys(Ab)};ac[Oc]=Na}return Jb}function Oa(D,R,Na,Ab){D=S.parseExpression(D,R);D.$fields.forEach(function(zb){return Ab[zb]=1});q.extend(Na,D.$params);return D.$expr}function ya(D,R){q.error(D+' for "outer" push: '+q.stringValue(R))}function ja(D,R){var Na=D.name;if("outer"===D.push)R.signals[Na]||ya("No prior signal definition",
Na),Pb.forEach(function(zb){void 0!==D[zb]&&ya("Invalid property ",zb)});else{var Ab=R.addSignal(Na,D.value);!1===D.react&&(Ab.react=!1);D.bind&&R.addBinding(Na,D.bind)}}function wa(D,R,Na,Ab){this.id=-1;this.type=D;this.value=R;this.params=Na;Ab&&(this.parent=Ab)}function sa(D){var R={$ref:D.id};0>D.id&&(D.refs=D.refs||[]).push(R);return R}function qa(D,R){return R?{$field:D,$name:R}:{$field:D}}function Fa(D,R){D={$key:D};R&&(D.$flat=!0);return D}function Ba(D,R){return(D&&D.signal?"$"+D.signal:
D||"")+(D&&R?"_":"")+(R&&R.signal?"$"+R.signal:R||"")}function Za(D){return D&&D.signal}function jb(D){if(Za(D))return!0;if(q.isObject(D))for(var R in D)if(jb(D[R]))return!0;return!1}function A(D,R){return null!=D?D:R}function y(D){return D&&D.signal||D}function I(D,R){return(D.merge?z:D.stream?H:D.type?O:q.error("Invalid stream specification: "+q.stringValue(D)))(D,R)}function L(D){return"scope"===D?"view":D||"view"}function z(D,R){var Na=D.merge.map(function(Ab){return I(Ab,R)});D=ma({merge:Na},
D,R);return R.addStream(D).id}function H(D,R){var Na=I(D.stream,R);D=ma({stream:Na},D,R);return R.addStream(D).id}function O(D,R){if("timer"===D.type){var Na=R.event("timer",D.throttle);D={between:D.between,filter:D.filter}}else Na=R.event(L(D.source),D.type);D=ma({stream:Na},D,R);return 1===Object.keys(D).length?Na:R.addStream(D).id}function ma(D,R,Na){var Ab=R.between;Ab&&(2!==Ab.length&&q.error('Stream "between" parameter must have 2 entries: '+q.stringValue(R)),D.between=[I(Ab[0],Na),I(Ab[1],
Na)]);Ab=R.filter?[].concat(R.filter):[];(R.marktype||R.markname||R.markrole)&&Ab.push(Ia(R.marktype,R.markname,R.markrole));"scope"===R.source&&Ab.push("inScope(event.item)");Ab.length&&(D.filter=S.parseExpression("("+Ab.join(")\x26\x26(")+")",Na).$expr);null!=(Ab=R.throttle)&&(D.throttle=+Ab);null!=(Ab=R.debounce)&&(D.debounce=+Ab);R.consume&&(D.consume=!0);return D}function Ia(D,R,Na){return"event.item"+(D&&"*"!==D?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+D+"'":"")+(Na?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+
Na+"'":"")+(R?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+R+"'":"")}function Sa(D,R,Na){var Ab=D.encode,zb={target:Na};Na=D.events;var Jb=D.update,ac=[];Na||q.error("Signal update missing events specification.");q.isString(Na)&&(Na=Pa.selector(Na,R.isSubscope()?"scope":"view"));Na=q.array(Na).filter(function(Oc){return Oc.signal||Oc.scale?(ac.push(Oc),0):1});1<ac.length&&(ac=[ha(ac)]);Na.length&&ac.push(1<Na.length?{merge:Na}:Na[0]);null!=Ab&&(Jb&&q.error("Signal encode and update are mutually exclusive."),
Jb="encode(item(),"+q.stringValue(Ab)+")");zb.update=q.isString(Jb)?S.parseExpression(Jb,R):null!=Jb.expr?S.parseExpression(Jb.expr,R):null!=Jb.value?Jb.value:null!=Jb.signal?{$expr:oc,$params:{$value:R.signalRef(Jb.signal)}}:q.error("Invalid signal update specification.");D.force&&(zb.options={force:!0});ac.forEach(function(Oc){return R.addUpdate(q.extend(E(Oc,R),zb))})}function E(D,R){return{source:D.signal?R.signalRef(D.signal):D.scale?R.scaleRef(D.scale):I(D,R)}}function ha(D){return{signal:"["+
D.map(function(R){return R.scale?'scale("'+R.scale+'")':R.signal})+"]"}}function Y(D,R){var Na=R.getSignal(D.name),Ab=D.update;D.init&&(Ab?q.error("Signals can not include both init and update expressions."):(Ab=D.init,Na.initonly=!0));Ab&&(Ab=S.parseExpression(Ab,R),Na.update=Ab.$expr,Na.params=Ab.$params);D.on&&D.on.forEach(function(zb){return Sa(zb,R,Na.id)})}function V(D,R){return q.isObject(D)?D.signal?R.signalRef(D.signal):q.error("Unsupported object: "+q.stringValue(D)):D}function w(D,R){return D.signal?
R.signalRef(D.signal):D.map(function(Na){return V(Na,R)})}function F(D){q.error("Can not find data set: "+q.stringValue(D))}function h(D,R,Na){if(D)return D.signal?Na.signalRef(D.signal):(q.isArray(D)?k:D.fields?r:m)(D,R,Na);null==R.domainMin&&null==R.domainMax||q.error("No scale domain defined for domainMin/domainMax to override.")}function k(D,R,Na){return D.map(function(Ab){return V(Ab,Na)})}function m(D,R,Na){var Ab=Na.getData(D.data);Ab||F(D.data);return Hb.isDiscrete(R.type)?Ab.valuesRef(Na,
D.field,J(D.sort,!1)):Hb.isQuantile(R.type)?Ab.domainRef(Na,D.field):Ab.extentRef(Na,D.field)}function r(D,R,Na){var Ab=D.data,zb=D.fields.reduce(function(Jb,ac){if(q.isString(ac))ac={data:Ab,field:ac};else if(q.isArray(ac)||ac.signal){var Oc=ac;ac="_:vega:_"+Ld++;var Fc=yd({});q.isArray(Oc)?Fc.value={$ingest:Oc}:Oc.signal&&(Oc="setdata("+q.stringValue(ac)+","+Oc.signal+")",Fc.params.input=Na.signalRef(Oc));Na.addDataPipeline(ac,[Fc,ee({})]);ac={data:ac,field:"data"}}Jb.push(ac);return Jb},[]);return(Hb.isDiscrete(R.type)?
v:Hb.isQuantile(R.type)?ba:ka)(D,Na,zb)}function v(D,R,Na){var Ab=J(D.sort,!0);D=Na.map(function(Jb){var ac=R.getData(Jb.data);ac||F(Jb.data);return ac.countsRef(R,Jb.field,Ab)});var zb={groupby:kc,pulse:D};Ab&&(D=Ab.op||"count",Na=Ab.field?Ba(D,Ab.field):"count",zb.ops=[Qd[D]],zb.fields=[R.fieldRef(Na)],zb.as=[Na]);D=R.add(uc(zb));D=R.add(yd({pulse:sa(D)}));Na=R.add(Sd({field:kc,sort:R.sortRef(Ab),pulse:sa(D)}));return sa(Na)}function J(D,R){D&&(D.field||D.op?D.field||"count"===D.op?R&&D.field&&
D.op&&!Qd[D.op]&&q.error("Multiple domain scales can not be sorted using "+D.op):q.error("No field provided for sort aggregate op: "+D.op):q.isObject(D)?D.field="key":D={field:"key"});return D}function ba(D,R,Na){D=Na.map(function(Ab){var zb=R.getData(Ab.data);zb||F(Ab.data);return zb.domainRef(R,Ab.field)});return sa(R.add(Oe({values:D})))}function ka(D,R,Na){D=Na.map(function(Ab){var zb=R.getData(Ab.data);zb||F(Ab.data);return zb.extentRef(R,Ab.field)});return sa(R.add(Ye({extents:D})))}function ua(D,
R,Na){var Ab=R.config.range,zb=D.range;if(zb.signal)return R.signalRef(zb.signal);if(q.isString(zb)){if(Ab&&q.hasOwnProperty(Ab,zb))return D=q.extend({},D,{range:Ab[zb]}),ua(D,R,Na);"width"===zb?zb=[0,{signal:"width"}]:"height"===zb?zb=Hb.isDiscrete(D.type)?[0,{signal:"height"}]:[{signal:"height"},0]:q.error("Unrecognized scale range value: "+q.stringValue(zb))}else{if(zb.scheme){Na.scheme=q.isArray(zb.scheme)?w(zb.scheme,R):V(zb.scheme,R);zb.extent&&(Na.schemeExtent=w(zb.extent,R));zb.count&&(Na.schemeCount=
V(zb.count,R));return}if(zb.step){Na.rangeStep=V(zb.step,R);return}if(Hb.isDiscrete(D.type)&&!q.isArray(zb))return h(zb,D,R);q.isArray(zb)||q.error("Unsupported range type: "+q.stringValue(zb))}return zb.map(function(Jb){return(q.isArray(Jb)?w:V)(Jb,R)})}function fb(D,R,Na){return q.isArray(D)?D.map(function(Ab){return fb(Ab,R,Na)}):q.isObject(D)?D.signal?Na.signalRef(D.signal):"fit"===R?D:q.error("Unsupported parameter object: "+q.stringValue(D)):D}function eb(D){D.type="group";D.interactive=D.interactive||
!1;return D}function Ca(D,R){var Na=function(Ab,zb){return A(D[Ab],A(R[Ab],zb))};Na.isVertical=function(Ab){return"vertical"===A(D.direction,R.direction||(Ab?R.symbolDirection:R.gradientDirection))};Na.gradientLength=function(){return A(D.gradientLength,R.gradientLength||R.gradientWidth)};Na.gradientThickness=function(){return A(D.gradientThickness,R.gradientThickness||R.gradientHeight)};Na.entryColumns=function(){return A(D.columns,A(R.columns,+Na.isVertical(!0)))};return Na}function Ka(D,R){return(D=
R&&(R.update&&R.update[D]||R.enter&&R.enter[D]))&&D.signal?D:D?D.value:null}function Z(D,R,Na){return"item.anchor \x3d\x3d\x3d 'start' ? "+D+" : item.anchor \x3d\x3d\x3d 'end' ? "+R+" : "+Na}function ra(D,R){return R?D?q.isObject(D)?Object.assign({},D,{offset:ra(D.offset,R)}):{value:D,offset:R}:R:D}function hb(D,R){R?(D.name=R.name,D.style=R.style||D.style,D.interactive=!!R.interactive,D.encode=$a(D.encode,R,ke)):D.interactive=!1;return D}function mb(D,R,Na,Ab){D=Ca(D,Na);var zb=D.isVertical();Na=
D.gradientThickness();var Jb=D.gradientLength(),ac;if(zb){zb=[0,1];var Oc=[0,0];var Fc=Na;Na=Jb}else zb=[0,0],Oc=[1,0],Fc=Jb;R={enter:ac={opacity:Gd,x:Gd,y:Gd,width:Da(Fc),height:Da(Na)},update:q.extend({},ac,{opacity:pe,fill:{gradient:R,start:zb,stop:Oc}}),exit:{opacity:Gd}};Ea(R,{stroke:D("gradientStrokeColor"),strokeWidth:D("gradientStrokeWidth")},{opacity:D("gradientOpacity")});return hb({type:"rect",role:"legend-gradient",encode:R},Ab)}function Ib(D,R,Na,Ab,zb){D=Ca(D,Na);var Jb=D.isVertical();
Na=D.gradientThickness();var ac=D.gradientLength(),Oc,Fc,bd,cd,jd="";Jb?(Oc="y",bd="y2",Fc="x",cd="width",jd="1-"):(Oc="x",bd="x2",Fc="y",cd="height");R={opacity:Gd,fill:{scale:R,field:"value"}};R[Oc]={signal:jd+"datum.perc",mult:ac};R[Fc]=Gd;R[bd]={signal:jd+"datum.perc2",mult:ac};R[cd]=Da(Na);Oc={enter:R,update:q.extend({},R,{opacity:pe}),exit:{opacity:Gd}};Ea(Oc,{stroke:D("gradientStrokeColor"),strokeWidth:D("gradientStrokeWidth")},{opacity:D("gradientOpacity")});return hb({type:"rect",role:"legend-band",
key:"value",from:zb,encode:Oc},Ab)}function Xb(D,R,Na,Ab){var zb=Ca(D,R),Jb=zb.isVertical(),ac=Da(zb.gradientThickness()),Oc=zb.gradientLength(),Fc=zb("labelOverlap"),bd,cd,jd="",wd={enter:bd={opacity:Gd},update:cd={opacity:pe,text:{field:"label"}},exit:{opacity:Gd}};Ea(wd,{fill:zb("labelColor"),fillOpacity:zb("labelOpacity"),font:zb("labelFont"),fontSize:zb("labelFontSize"),fontStyle:zb("labelFontStyle"),fontWeight:zb("labelFontWeight"),limit:A(D.labelLimit,R.gradientLabelLimit)});if(Jb){bd.align=
{value:"left"};bd.baseline=cd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'};Jb="y";var Hd="x";jd="1-"}else bd.align=cd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},bd.baseline={value:"top"},Jb="x",Hd="y";bd[Jb]=cd[Jb]={signal:jd+"datum.perc",mult:Oc};bd[Hd]=cd[Hd]=ac;ac.offset=A(D.labelOffset,R.gradientLabelOffset)||0;Fc=Fc?{separation:zb("labelSeparation"),method:Fc,order:"datum.index"}:void 0;return hb({type:"text",role:"legend-label",
style:"guide-label",key:"value",from:Ab,encode:wd,overlap:Fc},Na)}function za(D,R,Na,Ab,zb){var Jb=Ca(D,R),ac=Na.entries,Oc=!(!ac||!ac.interactive),Fc=ac?ac.name:void 0,bd=Jb("clipHeight"),cd=Jb("symbolOffset"),jd={data:"value"},wd="("+zb+") ? datum.offset : datum.size",Hd=bd?Da(bd):{field:"size"},ge="max(1, "+zb+")",me,qe;Hd.mult=.5;var he={enter:me={opacity:Gd,x:{signal:wd,mult:.5,offset:cd},y:Hd},update:qe={opacity:pe,x:me.x,y:me.y},exit:{opacity:Gd}};var Fd=null,ef=null;D.fill||(Fd=R.symbolBaseFillColor,
ef=R.symbolBaseStrokeColor);Ea(he,{fill:Jb("symbolFillColor",Fd),shape:Jb("symbolType"),size:Jb("symbolSize"),stroke:Jb("symbolStrokeColor",ef),strokeDash:Jb("symbolDash"),strokeDashOffset:Jb("symbolDashOffset"),strokeWidth:Jb("symbolStrokeWidth")},{opacity:Jb("symbolOpacity")});Ed.forEach(function(xf){D[xf]&&(qe[xf]=me[xf]={scale:D[xf],field:"value"})});R=hb({type:"symbol",role:"legend-symbol",key:"value",from:jd,clip:bd?!0:void 0,encode:he},Na.symbols);he=Da(cd);he.offset=Jb("labelOffset");he={enter:me=
{opacity:Gd,x:{signal:wd,offset:he},y:Hd},update:qe={opacity:pe,text:{field:"label"},x:me.x,y:me.y},exit:{opacity:Gd}};Ea(he,{align:Jb("labelAlign"),baseline:Jb("labelBaseline"),fill:Jb("labelColor"),fillOpacity:Jb("labelOpacity"),font:Jb("labelFont"),fontSize:Jb("labelFontSize"),fontStyle:Jb("labelFontStyle"),fontWeight:Jb("labelFontWeight"),limit:Jb("labelLimit")});Na=hb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:jd,encode:he},Na.labels);he={enter:{noBound:{value:!bd},
width:Gd,height:bd?Da(bd):Gd,opacity:Gd},exit:{opacity:Gd},update:qe={opacity:pe,row:{signal:null},column:{signal:null}}};Jb.isVertical(!0)?(Jb="ceil(item.mark.items.length / "+ge+")",qe.row.signal="datum.index%"+Jb,qe.column.signal="floor(datum.index / "+Jb+")",Jb={field:["row","datum.index"]}):(qe.row.signal="floor(datum.index / "+ge+")",qe.column.signal="datum.index % "+ge,Jb={field:"datum.index"});qe.column.signal="("+zb+")?"+qe.column.signal+":datum.index";Ab={facet:{data:Ab,name:"value",groupby:"index"}};
return eb({role:"scope",from:Ab,encode:$a(he,ac,ke),marks:[R,Na],name:Fc,interactive:Oc,sort:Jb})}function wb(D,R){D=Ca(D,R);return{align:D("gridAlign"),columns:D.entryColumns(),center:{row:!0,column:!1},padding:{row:D("rowPadding"),column:D("columnPadding")}}}function Tb(D,R,Na,Ab){R=Ca(D,R);var zb={enter:{opacity:Gd},update:{opacity:pe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Gd}};Ea(zb,{orient:R("titleOrient"),_anchor:R("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:qf},baseline:{signal:gd},text:D.title,fill:R("titleColor"),fillOpacity:R("titleOpacity"),font:R("titleFont"),fontSize:R("titleFontSize"),fontStyle:R("titleFontStyle"),fontWeight:R("titleFontWeight"),limit:R("titleLimit"),lineHeight:R("titleLineHeight")},{align:R("titleAlign"),baseline:R("titleBaseline")});return hb({type:"text",
role:"legend-title",style:"guide-title",from:Ab,encode:zb},Na)}function rb(D,R){var Na;q.isObject(D)&&(D.signal?Na=D.signal:D.path?Na="pathShape("+Sb(D.path)+")":D.sphere&&(Na="geoShape("+Sb(D.sphere)+', {type: "Sphere"})'));return Na?R.signalRef(Na):!!D}function Sb(D){return q.isObject(D)&&D.signal?D.signal:q.stringValue(D)}function ic(D){var R=D.role||"";return R.indexOf("axis")&&R.indexOf("legend")&&R.indexOf("title")?"group"===D.type?"scope":R||"mark":R}function rc(D){return{marktype:D.type,name:D.name||
void 0,role:D.role||ic(D),zindex:+D.zindex||void 0,aria:D.aria,description:D.description}}function Tc(D,R){return D&&D.signal?R.signalRef(D.signal):!1===D?!1:!0}function pc(D,R){var Na=Ma.definition(D.type);Na||q.error("Unrecognized transform type: "+q.stringValue(D.type));var Ab=Na.type.toLowerCase();var zb=tb(Na,D,R);Ab=new wa(Ab,null,zb,void 0);D.signal&&R.addSignal(D.signal,R.proxy(Ab));Ab.metadata=Na.metadata||{};return Ab}function tb(D,R,Na){for(var Ab={},zb=D.params.length,Jb=0;Jb<zb;++Jb){var ac=
D.params[Jb];Ab[ac.name]=bc(ac,R,Na)}return Ab}function bc(D,R,Na){var Ab=D.type,zb=R[D.name];if("index"===Ab)return xc(D,R,Na);if(void 0===zb)D.required&&q.error("Missing required "+q.stringValue(R.type)+" parameter: "+q.stringValue(D.name));else return"param"===Ab?Xc(D,R,Na):"projection"===Ab?Na.projectionRef(R[D.name]):D.array&&!Za(zb)?zb.map(function(Jb){return Mb(D,Jb,Na)}):Mb(D,zb,Na)}function Mb(D,R,Na){var Ab=D.type;return Za(R)?"expr"===Ab?q.error("Expression references can not be signals."):
"field"===Ab?Na.fieldRef(R):"compare"===Ab?Na.compareRef(R):Na.signalRef(R.signal):(D=D.expr||"field"===Ab)&&R&&R.expr?Na.exprRef(R.expr,R.as):D&&R&&R.field?qa(R.field,R.as):"expr"===Ab?S.parseExpression(R,Na):"data"===Ab?sa(Na.getData(R).values):"field"===Ab?qa(R):"compare"===Ab?Na.compareRef(R):R}function xc(D,R,Na){q.isString(R.from)||q.error('Lookup "from" parameter must be a string literal.');return Na.getData(R.from).lookupRef(Na,R.key)}function Xc(D,R,Na){R=R[D.name];return D.array?(q.isArray(R)||
q.error("Expected an array of sub-parameters. Instead: "+q.stringValue(R)),R.map(function(Ab){return ud(D,Ab,Na)})):ud(D,R,Na)}function ud(D,R,Na){for(var Ab=D.params.length,zb,Jb=0;Jb<Ab;++Jb){zb=D.params[Jb];for(var ac in zb.key)if(zb.key[ac]!==R[ac]){zb=null;break}if(zb)break}zb||q.error("Unsupported parameter: "+q.stringValue(R));D=q.extend(tb(zb,R,Na),zb.key);return sa(Na.add(He(D)))}function xd(D,R,Na){var Ab,zb;if(!D)var Jb=sa(Na.add(yd(null,[{}])));else if(Ab=D.facet)if(R||q.error("Only group marks can be faceted."),
null!=Ab.field)Jb=zb=ae(Ab,Na);else{D.data?zb=sa(Na.getData(D.data).aggregate):(R=pc(q.extend({type:"aggregate",groupby:q.array(Ab.groupby)},Ab.aggregate),Na),R.params.key=Na.keyRef(Ab.groupby),R.params.pulse=ae(Ab,Na),Jb=zb=sa(Na.add(R)));var ac=Na.keyRef(Ab.groupby,!0)}Jb||(Jb=ae(D,Na));return{key:ac,pulse:Jb,parent:zb}}function ae(D,R){return D.$ref?D:D.data&&D.data.$ref?D.data:sa(R.getData(D.data).output)}function Cb(D,R,Na,Ab,zb){this.scope=D;this.input=R;this.output=Na;this.values=Ab;this.aggregate=
zb;this.index={}}function Rb(D){return q.isString(D)?D:null}function Rc(D,R,Na){var Ab=Ba(Na.op,Na.field),zb;if(R.ops)for(var Jb=0,ac=R.as.length;Jb<ac;++Jb){if(R.as[Jb]===Ab)return}else R.ops=["count"],R.fields=[null],R.as=["count"];Na.op&&(R.ops.push((zb=Na.op.signal)?D.signalRef(zb):Na.op),R.fields.push(D.fieldRef(Na.field)),R.as.push(Ab))}function se(D,R,Na,Ab,zb,Jb,ac){Na=R[Na]||(R[Na]={});var Oc=q.isObject(Jb)?("descending"===Jb.order?"-":"+")+Ba(Jb.op,Jb.field):"";var Fc=Rb(zb);if(null!=Fc){D=
R.scope;Fc+=Oc?"|"+Oc:"";var bd=Na[Fc]}bd||(bd=Jb?{field:kc,pulse:R.countsRef(D,zb,Jb)}:{field:D.fieldRef(zb),pulse:sa(R.output)},Oc&&(bd.sort=D.sortRef(Jb)),D=D.add(new wa(Ab,void 0,bd,void 0)),ac&&(R.index[zb]=D),bd=sa(D),null!=Fc&&(Na[Fc]=bd));return bd}function De(D,R,Na){var Ab=D.from.facet,zb=Ab.name,Jb=ae(Ab,R),ac;Ab.name||q.error("Facet must have a name: "+q.stringValue(Ab));Ab.data||q.error("Facet must reference a data set: "+q.stringValue(Ab));Ab.field?ac=R.add(be({field:R.fieldRef(Ab.field),
pulse:Jb})):Ab.groupby?ac=R.add(Wd({key:R.keyRef(Ab.groupby),group:sa(R.proxy(Na.parent)),pulse:Jb})):q.error("Facet must specify groupby or field: "+q.stringValue(Ab));R=R.fork();Na=R.add(yd());Ab=R.add(ee({pulse:sa(Na)}));R.addData(zb,new Cb(R,Na,Na,Ab));R.addSignal("parent",null);ac.params.subflow={$subflow:R.parse(D).toRuntime()}}function Ne(D,R,Na){Na=R.add(be({pulse:Na.pulse}));R=R.fork();R.add(ee());R.addSignal("parent",null);Na.params.subflow={$subflow:R.parse(D).toRuntime()}}function Md(D,
R,Na){var Ab=D.remove,zb=D.insert,Jb=D.toggle,ac=D.modify,Oc=D.values,Fc=R.add(new wa("operator",void 0,void 0,void 0));D="if("+D.trigger+',modify("'+Na+'",'+[zb,Ab,Jb,ac,Oc].map(function(bd){return null==bd?"null":bd}).join(",")+"),0)";R=S.parseExpression(D,R);Fc.update=R.$expr;Fc.params=R.$params}function K(D,R){var Na=ic(D),Ab="group"===D.type,zb=D.from&&D.from.facet,Jb=D.overlap,ac=D.layout||"scope"===Na||"frame"===Na,Oc,Fc,bd="mark"===Na||ac||zb,cd=xd(D.from,Ab,R);var jd=R.add(Od({key:cd.key||
(D.key?qa(D.key):void 0),pulse:cd.pulse,clean:!Ab}));var wd=sa(jd);jd=Oc=R.add(yd({pulse:wd}));jd=R.add(re({markdef:rc(D),interactive:Tc(D.interactive,R),clip:rb(D.clip,R),context:{$context:!0},groups:R.lookup(),parent:R.signals.parent?R.signalRef("parent"):null,index:R.markpath(),pulse:sa(jd)}));var Hd=sa(jd);jd=Fc=R.add(de(xa(D.encode,D.type,Na,D.style,R,{mod:!1,pulse:Hd})));jd.params.parent=R.encode();D.transform&&D.transform.forEach(function(Fd){Fd=pc(Fd,R);var ef=Fd.metadata;(ef.generates||ef.changes)&&
q.error("Mark transforms should not generate new data.");ef.nomod||(Fc.params.mod=!0);Fd.params.pulse=sa(jd);R.add(jd=Fd)});D.sort&&(jd=R.add(Pc({sort:R.compareRef(D.sort),pulse:sa(jd)})));Na=sa(jd);if(zb||ac){ac=R.add(fe({layout:R.objectProperty(D.layout),legends:R.legends,mark:Hd,pulse:Na}));var ge=sa(ac)}var me=R.add(pd({mark:Hd,pulse:ge||Na}));Hd=sa(me);if(Ab){if(bd){var qe=R.operators;qe.pop();ac&&qe.pop()}R.pushState(Na,ge||Hd,wd);zb?De(D,R,cd):bd?Ne(D,R,cd):R.parse(D);R.popState();bd&&(ac&&
qe.push(ac),qe.push(me))}Jb&&(Hd=fa(Jb,Hd,R));Ab=R.add(Yc({pulse:Hd}));zb=R.add(ee({pulse:sa(Ab)},void 0,R.parent()));if(null!=D.name){var he=D.name;R.addData(he,new Cb(R,Oc,Ab,zb));D.on&&D.on.forEach(function(Fd){(Fd.insert||Fd.remove||Fd.toggle)&&q.error("Marks only support modify triggers.");Md(Fd,R,he)})}}function fa(D,R,Na){var Ab=D.method,zb=D.bound,Jb=D.separation;R={separation:Za(Jb)?Na.signalRef(Jb.signal):Jb,method:Za(Ab)?Na.signalRef(Ab.signal):Ab,pulse:R};D.order&&(R.sort=Na.compareRef({field:D.order}));
zb&&(D=zb.tolerance,R.boundTolerance=Za(D)?Na.signalRef(D.signal):+D,R.boundScale=Na.scaleRef(zb.scale),R.boundOrient=zb.orient);return sa(Na.add(ff(R)))}function bb(D,R){var Na=R.config.legend,Ab=D.encode||{},zb=Ca(D,Na),Jb=Ab.legend||{},ac=Jb.name||void 0,Oc=Jb.interactive,Fc=Jb.style,bd={},cd=0,jd;Ed.forEach(function(he){return D[he]?(bd[he]=D[he],cd=cd||D[he]):0});cd||q.error("Missing valid scale for legend.");var wd=La(D,R.scaleType(cd));var Hd={title:null!=D.title,scales:bd,type:wd,vgrad:"symbol"!==
wd&&zb.isVertical()},ge=sa(R.add(yd(null,[Hd]))),me=sa(R.add(Ke(jd={type:wd,scale:R.scaleRef(cd),count:R.objectProperty(zb("tickCount")),limit:R.property(zb("symbolLimit")),values:R.objectProperty(D.values),minstep:R.property(D.tickMinStep),formatType:R.property(D.formatType),formatSpecifier:R.property(D.format)})));if("gradient"===wd)wd=[mb(D,cd,Na,Ab.gradient),Xb(D,Na,Ab.labels,me)],jd.count=jd.count||R.signalRef("max(2,2*floor(("+y(zb.gradientLength())+")/100))");else if("discrete"===wd)wd=[Ib(D,
cd,Na,Ab.gradient,me),Xb(D,Na,Ab.labels,me)];else{var qe=wb(D,Na);wd=[za(D,Na,Ab,me,y(qe.columns))];jd.size=Yb(D,R,wd[0].marks)}wd=[eb({role:"legend-entry",from:ge,encode:{enter:{x:{value:0},y:{value:0}}},marks:wd,layout:qe,interactive:Oc})];Hd.title&&wd.push(Tb(D,Na,Ab.title,ge));return K(eb({role:"legend",from:ge,encode:$a(Vb(zb,D,Na),Jb,ke),marks:wd,aria:zb("aria"),description:zb("description"),zindex:zb("zindex"),name:ac,interactive:Oc,style:Fc}),R)}function La(D,R){var Na=D.type||"symbol";D.type||
1!==Fb(D)||!D.fill&&!D.stroke||(Na=Hb.isContinuous(R)?"gradient":Hb.isDiscretizing(R)?"discrete":"symbol");return"gradient"!==Na?Na:Hb.isDiscretizing(R)?"discrete":"gradient"}function Fb(D){return Ed.reduce(function(R,Na){return R+(D[Na]?1:0)},0)}function Vb(D,R,Na){var Ab={enter:{},update:{}};Ea(Ab,{orient:D("orient"),offset:D("offset"),padding:D("padding"),titlePadding:D("titlePadding"),cornerRadius:D("cornerRadius"),fill:D("fillColor"),stroke:D("strokeColor"),strokeWidth:Na.strokeWidth,strokeDash:Na.strokeDash,
x:D("legendX"),y:D("legendY"),format:R.format,formatType:R.formatType});return Ab}function Yb(D,R,Na){var Ab=y(cc("size",D,Na));D=y(cc("strokeWidth",D,Na));(Na=Ka("fontSize",Na[1].encode))||(Na=(Na=R.config.style["guide-label"])&&Na.fontSize);Na=y(Na);return S.parseExpression("max(ceil(sqrt("+Ab+")+"+D+"),"+Na+")",R)}function cc(D,R,Na){return R[D]?'scale("'+R[D]+'",datum)':Ka(D,Na[0].encode)}function va(D,R){D=q.isString(D)?{text:D}:D;var Na=Ca(D,R.config.title),Ab=D.encode||{},zb=Ab.group||{},Jb=
zb.name||void 0,ac=zb.interactive,Oc=zb.style,Fc=[],bd=sa(R.add(yd(null,[{}])));Fc.push(yb(D,Na,Ra(D),bd));D.subtitle&&Fc.push(Nb(D,Na,Ab.subtitle,bd));D={enter:{},update:{}};Ea(D,{orient:Na("orient"),anchor:Na("anchor"),align:{signal:Le},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Na("limit"),frame:Na("frame"),offset:Na("offset")||0,padding:Na("subtitlePadding")});zb=$a(D,zb,ke);return K(eb({role:"title",from:bd,encode:zb,marks:Fc,aria:Na("aria"),
description:Na("description"),zindex:Na("zindex"),name:Jb,interactive:ac,style:Oc}),R)}function Ra(D){var R=D.encode;return R&&R.title||q.extend({name:D.name,interactive:D.interactive,style:D.style},R)}function yb(D,R,Na,Ab){var zb={value:0};zb={enter:{opacity:zb},update:{opacity:{value:1}},exit:{opacity:zb}};Ea(zb,{text:D.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:R("dx"),dy:R("dy"),fill:R("color"),font:R("font"),
fontSize:R("fontSize"),fontStyle:R("fontStyle"),fontWeight:R("fontWeight"),lineHeight:R("lineHeight")},{align:R("align"),angle:R("angle"),baseline:R("baseline")});return hb({type:"text",role:"title-text",style:"group-title",from:Ab,encode:zb},Na)}function Nb(D,R,Na,Ab){var zb={value:0};zb={enter:{opacity:zb},update:{opacity:{value:1}},exit:{opacity:zb}};Ea(zb,{text:D.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",
dx:R("dx"),dy:R("dy"),fill:R("subtitleColor"),font:R("subtitleFont"),fontSize:R("subtitleFontSize"),fontStyle:R("subtitleFontStyle"),fontWeight:R("subtitleFontWeight"),lineHeight:R("subtitleLineHeight")},{align:R("align"),angle:R("angle"),baseline:R("baseline")});return hb({type:"text",role:"title-subtitle",style:"group-subtitle",from:Ab,encode:zb},Na)}function gc(D,R){var Na=[];D.transform&&D.transform.forEach(function(Ab){Na.push(pc(Ab,R))});D.on&&D.on.forEach(function(Ab){Md(Ab,R,D.name)});R.addDataPipeline(D.name,
tc(D,R,Na))}function tc(D,R,Na){var Ab=[],zb=null,Jb=!1,ac=!1,Oc,Fc;D.values?jb(D.values)||jb(D.format)?(Ab.push(xb(R,D)),Ab.push(zb=lc())):Ab.push(zb=lc({$ingest:D.values,$format:D.format})):D.url?jb(D.url)||jb(D.format)?(Ab.push(xb(R,D)),Ab.push(zb=lc())):Ab.push(zb=lc({$request:D.url,$format:D.format})):D.source&&(zb=Oc=q.array(D.source).map(function(jd){return sa(R.getData(jd).output)}),Ab.push(null));D=0;for(Fc=Na.length;D<Fc;++D){var bd=Na[D];var cd=bd.metadata;zb||cd.source||Ab.push(zb=lc());
Ab.push(bd);cd.generates&&(ac=!0);cd.modifies&&!ac&&(Jb=!0);cd.source?zb=bd:cd.changes&&(zb=null)}Oc&&(Fc=Oc.length-1,Ab[0]=dc({derive:Jb,pulse:Fc?Oc:Oc[0]}),(Jb||Fc)&&Ab.splice(1,0,lc()));zb||Ab.push(lc());Ab.push(ee({}));return Ab}function lc(D){D=yd({},D);D.metadata={source:!0};return D}function xb(D,R){return oe({url:R.url?D.property(R.url):void 0,async:R.async?D.property(R.async):void 0,values:R.values?D.property(R.values):void 0,format:D.objectProperty(R.format)})}function Qb(D,R,Na,Ab){if(R&&
q.hasOwnProperty(R,D))return R[D];if(q.hasOwnProperty(Na,D))return Na[D];if(D.startsWith("title")){switch(D){case "titleColor":var zb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":zb=D[5].toLowerCase()+D.slice(6)}return Ab["guide-title"][zb]}if(D.startsWith("label")){switch(D){case "labelColor":zb="fill";break;case "labelFont":case "labelFontSize":zb=D[5].toLowerCase()+D.slice(6)}return Ab["guide-label"][zb]}return null}function Gc(D){var R={};D=$jscomp.makeIterator(D);
for(var Na=D.next();!Na.done;Na=D.next())if(Na=Na.value)for(var Ab in Na)R[Ab]=1;return Object.keys(R)}function $b(D,R,Na,Ab){var zb=Ca(D,R);R=D.orient;var Jb,ac,Oc={enter:Jb={opacity:Gd},update:ac={opacity:pe},exit:{opacity:Gd}};Ea(Oc,{stroke:zb("domainColor"),strokeCap:zb("domainCap"),strokeDash:zb("domainDash"),strokeDashOffset:zb("domainDashOffset"),strokeWidth:zb("domainWidth"),strokeOpacity:zb("domainOpacity")});zb={scale:D.scale,range:0};D={scale:D.scale,range:1};Jb.x=ac.x=Fe(R,zb,Gd);Jb.x2=
ac.x2=Fe(R,D);Jb.y=ac.y=Pe(R,zb,Gd);Jb.y2=ac.y2=Pe(R,D);return hb({type:"rule",role:"axis-domain",from:Ab,encode:Oc},Na)}function Ac(D,R,Na,Ab,zb){var Jb=Ca(D,R);R=D.orient;var ac=D.gridScale,Oc=rf(R,1,-1);a:{var Fc=D.offset;if(1!==Oc)if(q.isObject(Fc)){for(var bd=Fc=q.extend({},Fc);null!=bd.mult;)if(q.isObject(bd.mult))bd=bd.mult=q.extend({},bd.mult);else{bd.mult=Za(Oc)?{signal:"("+bd.mult+") * ("+Oc.signal+")"}:bd.mult*Oc;break a}bd.mult=Oc}else Fc=Za(Oc)?{signal:"("+Oc.signal+") * ("+(Fc||0)+")"}:
Oc*(Fc||0)}var cd=Fc,jd,wd={enter:Fc={opacity:Gd},update:jd={opacity:pe},exit:bd={opacity:Gd}};Ea(wd,{stroke:Jb("gridColor"),strokeCap:Jb("gridCap"),strokeDash:Jb("gridDash"),strokeDashOffset:Jb("gridDashOffset"),strokeOpacity:Jb("gridOpacity"),strokeWidth:Jb("gridWidth")});D={scale:D.scale,field:"value",band:zb.band,extra:zb.extra,offset:zb.offset,round:Jb("tickRound")};Jb=Fe(R,{signal:"height"},{signal:"width"});zb=ac?{scale:ac,range:0,mult:Oc,offset:cd}:{value:0,offset:cd};ac=ac?{scale:ac,range:1,
mult:Oc,offset:cd}:q.extend(Jb,{mult:Oc,offset:cd});Fc.x=jd.x=Fe(R,D,zb);Fc.y=jd.y=Pe(R,D,zb);Fc.x2=jd.x2=Pe(R,ac);Fc.y2=jd.y2=Fe(R,ac);bd.x=Fe(R,D);bd.y=Pe(R,D);return hb({type:"rule",role:"axis-grid",key:"value",from:Ab,encode:wd},Na)}function Jc(D,R,Na,Ab,zb,Jb){var ac=Ca(D,R);R=D.orient;var Oc=rf(R,-1,1),Fc,bd,cd,jd={enter:Fc={opacity:Gd},update:cd={opacity:pe},exit:bd={opacity:Gd}};Ea(jd,{stroke:ac("tickColor"),strokeCap:ac("tickCap"),strokeDash:ac("tickDash"),strokeDashOffset:ac("tickDashOffset"),
strokeOpacity:ac("tickOpacity"),strokeWidth:ac("tickWidth")});zb=Da(zb);zb.mult=Oc;D={scale:D.scale,field:"value",band:Jb.band,extra:Jb.extra,offset:Jb.offset,round:ac("tickRound")};cd.y=Fc.y=Fe(R,Gd,D);cd.y2=Fc.y2=Fe(R,zb);bd.x=Fe(R,D);cd.x=Fc.x=Pe(R,Gd,D);cd.x2=Fc.x2=Pe(R,zb);bd.y=Pe(R,D);return hb({type:"rule",role:"axis-tick",key:"value",from:Ab,encode:jd},Na)}function Hc(D,R,Na,Ab,zb){return{signal:'flush(range("'+D+'"), scale("'+D+'", datum.value), '+R+","+Na+","+Ab+","+zb+")"}}function ad(D,
R,Na,Ab,zb,Jb){R=Ca(D,R);var ac=D.orient;D=D.scale;var Oc=rf(ac,-1,1),Fc=y(R("labelFlush")),bd=y(R("labelFlushOffset")),cd=R("labelAlign"),jd=R("labelBaseline"),wd=0===Fc||!!Fc,Hd=Da(zb);Hd.mult=Oc;Hd.offset=Da(R("labelPadding")||0);Hd.offset.mult=Oc;Oc={scale:D,field:"value",band:.5,offset:ra(Jb.offset,R("labelOffset"))};Jb=wd?Hc(D,Fc,'"left"','"right"','"center"'):{value:"center"};zb=Za(ac)?Qe(ac.signal+" \x3d\x3d\x3d 'right'","left","right"):"right"===ac?{value:"left"}:{value:"right"};Jb=Fe(ac,
Jb,zb);zb=Fe(ac,Ee(ac,"bottom","top"),wd?Hc(D,Fc,'"top"','"bottom"','"middle"'):{value:"middle"});Fc=Hc(D,Fc,"-("+bd+")",bd,0);wd=wd&&bd;Hd={opacity:Gd,x:Fe(ac,Oc,Hd),y:Pe(ac,Oc,Hd)};Hd={enter:Hd,update:bd={opacity:pe,text:{field:"label"},x:Hd.x,y:Hd.y,align:Jb,baseline:zb},exit:{opacity:Gd,x:Hd.x,y:Hd.y}};Ea(Hd,{dx:!cd&&wd?Fe(ac,Fc):null,dy:!jd&&wd?Pe(ac,Fc):null});Ea(Hd,{angle:R("labelAngle"),fill:R("labelColor"),fillOpacity:R("labelOpacity"),font:R("labelFont"),fontSize:R("labelFontSize"),fontWeight:R("labelFontWeight"),
fontStyle:R("labelFontStyle"),limit:R("labelLimit"),lineHeight:R("labelLineHeight")},{align:cd,baseline:jd});cd=R("labelBound");jd=(jd=R("labelOverlap"))||cd?{separation:R("labelSeparation"),method:jd,order:"datum.index",bound:cd?{scale:D,orient:ac,tolerance:cd}:null}:void 0;bd.align!==Jb&&(bd.align=Be(bd.align,Jb));bd.baseline!==zb&&(bd.baseline=Be(bd.baseline,zb));return hb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Ab,encode:Hd,overlap:jd},Na)}function md(D,R,Na,Ab){R=
Ca(D,R);var zb=D.orient,Jb=rf(zb,-1,1),ac,Oc,Fc={enter:ac={opacity:Gd,anchor:Da(R("titleAnchor",null)),align:{signal:Le}},update:Oc=q.extend({},ac,{opacity:pe,text:Da(D.title)}),exit:{opacity:Gd}};D={signal:'lerp(range("'+D.scale+'"), '+Z(0,1,.5)+")"};Oc.x=Fe(zb,D);Oc.y=Pe(zb,D);ac.angle=Fe(zb,Gd,Za(Jb)?{signal:"("+Jb.signal+") * 90"}:{value:90*Jb});ac.baseline=Fe(zb,Ee(zb,"bottom","top"),{value:"bottom"});Oc.angle=ac.angle;Oc.baseline=ac.baseline;Ea(Fc,{fill:R("titleColor"),fillOpacity:R("titleOpacity"),
font:R("titleFont"),fontSize:R("titleFontSize"),fontStyle:R("titleFontStyle"),fontWeight:R("titleFontWeight"),limit:R("titleLimit"),lineHeight:R("titleLineHeight")},{align:R("titleAlign"),angle:R("titleAngle"),baseline:R("titleBaseline")});od(R,zb,Fc,Na);Fc.update.align=Be(Fc.update.align,ac.align);Fc.update.angle=Be(Fc.update.angle,ac.angle);Fc.update.baseline=Be(Fc.update.baseline,ac.baseline);return hb({type:"text",role:"axis-title",style:"guide-title",from:Ab,encode:Fc},Na)}function od(D,R,Na,
Ab){var zb=function(ac,Oc){return null!=ac?(Na.update[Oc]=Be(Da(ac),Na.update[Oc]),!1):db(Oc,Ab)?!1:!0},Jb=zb(D("titleX"),"x");D=zb(D("titleY"),"y");Na.enter.auto=D===Jb?Da(D):Fe(R,Da(D),Da(Jb))}function rd(D,R,Na){var Ab=q.array(D.signals),zb=q.array(D.scales);Na||Ab.forEach(function(Jb){return ja(Jb,R)});q.array(D.projections).forEach(function(Jb){var ac=R.config.projection||{},Oc={},Fc;for(Fc in Jb)"name"!==Fc&&(Oc[Fc]=fb(Jb[Fc],Fc,R));for(var bd in ac)null==Oc[bd]&&(Oc[bd]=fb(ac[bd],bd,R));R.addProjection(Jb.name,
Oc)});zb.forEach(function(Jb){var ac=Jb.type||"linear";Hb.isValidScaleType(ac)||q.error("Unrecognized scale type: "+q.stringValue(ac));R.addScale(Jb.name,{type:ac,domain:void 0})});q.array(D.data).forEach(function(Jb){return gc(Jb,R)});zb.forEach(function(Jb){var ac=R.getScale(Jb.name).params,Oc;ac.domain=h(Jb.domain,Jb,R);null!=Jb.range&&(ac.range=ua(Jb,R,ac));if(null!=Jb.interpolate){var Fc=Jb.interpolate;ac.interpolate=V(Fc.type||Fc);null!=Fc.gamma&&(ac.interpolateGamma=V(Fc.gamma))}null!=Jb.nice&&
(Fc=Jb.nice,Fc=q.isObject(Fc)?{interval:V(Fc.interval),step:V(Fc.step)}:V(Fc),ac.nice=Fc);null!=Jb.bins&&(Fc=Jb.bins,Fc=Fc.signal||q.isArray(Fc)?w(Fc,R):R.objectProperty(Fc),ac.bins=Fc);for(Oc in Jb)q.hasOwnProperty(ac,Oc)||"name"===Oc||(ac[Oc]=V(Jb[Oc],R))});(Na||Ab).forEach(function(Jb){return Y(Jb,R)});q.array(D.axes).forEach(function(Jb){var ac=R.config,Oc=ac.style,Fc=ac.axis,bd="band"===R.scaleType(Jb.scale)&&ac.axisBand,cd=Jb.orient,jd;if(Za(cd)){var wd=Gc([ac.axisX,ac.axisY]);var Hd=Gc([ac.axisTop,
ac.axisBottom,ac.axisLeft,ac.axisRight]);var ge={};wd=$jscomp.makeIterator(wd);for(jd=wd.next();!jd.done;jd=wd.next())jd=jd.value,ge[jd]=Fe(cd,Qb(jd,ac.axisX,Fc,Oc),Qb(jd,ac.axisY,Fc,Oc));wd={};Hd=$jscomp.makeIterator(Hd);for(jd=Hd.next();!jd.done;jd=Hd.next()){jd=jd.value;var me=wd,qe=jd,he=cd.signal,Fd=Qb(jd,ac.axisTop,Fc,Oc),ef=Qb(jd,ac.axisBottom,Fc,Oc),xf=Qb(jd,ac.axisLeft,Fc,Oc);jd=Qb(jd,ac.axisRight,Fc,Oc);jd={signal:(null!=xf?he+" \x3d\x3d\x3d 'left' ? ("+df(xf)+") : ":"")+(null!=ef?he+" \x3d\x3d\x3d 'bottom' ? ("+
df(ef)+") : ":"")+(null!=jd?he+" \x3d\x3d\x3d 'right' ? ("+df(jd)+") : ":"")+(null!=Fd?he+" \x3d\x3d\x3d 'top' ? ("+df(Fd)+") : ":"")+"(null)"};me[qe]=jd}}else ge="top"===cd||"bottom"===cd?ac.axisX:ac.axisY,wd=ac["axis"+cd[0].toUpperCase()+cd.slice(1)];ge=ge||wd||bd?q.extend({},Fc,ge,wd,bd):Fc;wd=Jb.encode||{};ac=wd.axis||{};Oc=ac.name||void 0;Fc=ac.interactive;bd=ac.style;cd=Ca(Jb,ge);Hd=cd("tickBand");jd=cd("tickOffset");Hd?Hd.signal?(me={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent' ? 1 : 0.5"},
qe={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent'"},q.isObject(jd)||(jd={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent' ? 0 : "+jd})):"extent"===Hd?(me=1,qe=!0,jd=0):(me=.5,qe=!1):(me=cd("bandPosition"),qe=cd("tickExtra"));me={extra:qe,band:me,offset:jd};qe={scale:Jb.scale,ticks:!!cd("ticks"),labels:!!cd("labels"),grid:!!cd("grid"),domain:!!cd("domain"),title:null!=Jb.title};Hd=sa(R.add(yd({},[qe])));he=sa(R.add(kd({scale:R.scaleRef(Jb.scale),extra:R.property(me.extra),count:R.objectProperty(Jb.tickCount),
values:R.objectProperty(Jb.values),minstep:R.property(Jb.tickMinStep),formatType:R.property(Jb.formatType),formatSpecifier:R.property(Jb.format)})));jd=[];qe.grid&&jd.push(Ac(Jb,ge,wd.grid,he,me));if(qe.ticks){var Ff=cd("tickSize");jd.push(Jc(Jb,ge,wd.ticks,he,Ff,me))}qe.labels&&(Ff=qe.ticks?Ff:0,jd.push(ad(Jb,ge,wd.labels,he,Ff,me)));qe.domain&&jd.push($b(Jb,ge,wd.domain,Hd));qe.title&&jd.push(md(Jb,ge,wd.title,Hd));Ff={enter:{},update:{}};Ea(Ff,{orient:cd("orient"),offset:cd("offset")||0,position:A(Jb.position,
0),titlePadding:cd("titlePadding"),minExtent:cd("minExtent"),maxExtent:cd("maxExtent"),range:{signal:'abs(span(range("'+Jb.scale+'")))'},translate:cd("translate"),format:Jb.format,formatType:Jb.formatType});return K(eb({role:"axis",from:Hd,encode:$a(Ff,ac,ke),marks:jd,aria:cd("aria"),description:cd("description"),zindex:cd("zindex"),name:Oc,interactive:Fc,style:bd}),R)});q.array(D.marks).forEach(function(Jb){return K(Jb,R)});q.array(D.legends).forEach(function(Jb){return bb(Jb,R)});D.title&&va(D.title,
R);R.parseLambdas();return R}function Vd(D,R){var Na=R.config,Ab=sa(R.root=R.add(new wa("operator",void 0,void 0,void 0))),zb=ze(D,Na);zb.forEach(function(Oc){return ja(Oc,R)});R.description=D.description||Na.description;R.eventConfig=Na.events;R.legends=R.objectProperty(Na.legend&&Na.legend.layout);R.locale=Na.locale;Na=R.add(yd());var Jb=R.add(de(xa($a({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},D.encode),"group","frame",D.style,R,{pulse:sa(Na)}))),
ac=R.add(fe({layout:R.objectProperty(D.layout),legends:R.legends,autosize:R.signalRef("autosize"),mark:Ab,pulse:sa(Jb)}));R.operators.pop();R.pushState(sa(Jb),sa(ac),null);rd(D,R,zb);R.operators.push(ac);D=R.add(pd({mark:Ab,pulse:sa(ac)}));D=R.add(Yc({pulse:sa(D)}));D=R.add(ee({pulse:sa(D)}));R.addData("root",new Cb(R,Na,Na,D));return R}function Zd(D,R){return R&&R.signal?{name:D,update:R.signal}:{name:D,value:R}}function ze(D,R){var Na=function(ac){return A(D[ac],R[ac])},Ab=[Zd("background",Na("background")),
Zd("autosize",cb(Na("autosize"))),Zd("padding",Eb(Na("padding"))),Zd("width",Na("width")||0),Zd("height",Na("height")||0)],zb=Ab.reduce(function(ac,Oc){return ac[Oc.name]=Oc,ac},{}),Jb={};q.array(D.signals).forEach(function(ac){q.hasOwnProperty(zb,ac.name)?ac=q.extend(zb[ac.name],ac):Ab.push(ac);Jb[ac.name]=ac});q.array(R.signals).forEach(function(ac){q.hasOwnProperty(Jb,ac.name)||q.hasOwnProperty(zb,ac.name)||Ab.push(ac)});return Ab}function te(D,R){this.config=D||{};this.options=R||{};this.bindings=
[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function ue(D){this.config=D.config;this.options=D.options;this.legends=D.legends;this.field=Object.create(D.field);this.signals=Object.create(D.signals);this.lambdas=Object.create(D.lambdas);this.scales=Object.create(D.scales);
this.events=Object.create(D.events);this.data=Object.create(D.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++D._nextsub[0];this._nextsub=D._nextsub;this._parent=D._parent.slice();this._encode=D._encode.slice();this._lookup=D._lookup.slice();this._markpath=D._markpath}function bf(D){return(q.isArray(D)?vd:P)(D)}function vd(D){for(var R=D.length,Na="[",Ab=0;Ab<R;++Ab){var zb=D[Ab];Na+=(0<Ab?",":"")+(q.isObject(zb)?zb.signal||bf(zb):q.stringValue(zb))}return Na+"]"}
function P(D){var R="{",Na=0,Ab;for(Ab in D){var zb=D[Ab];R+=(1<++Na?",":"")+q.stringValue(Ab)+":"+(q.isObject(zb)?zb.signal||bf(zb):q.stringValue(zb))}return R+"}"}function na(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},
symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},
cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,
rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",
left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}var Da=function(D){return q.isObject(D)&&!q.isArray(D)?q.extend({},D):{value:D}},gb=function(D){return q.isString(D)?q.stringValue(D):D.signal?"("+D.signal+")":la(D)},Ta=function(D,
R,Na,Ab){return"("+D+"("+[R,Na,Ab].map(pa).join(",")+")+'')"},Pb=["value","update","init","react","bind"],kc=qa("key"),oc={code:"_.$value",ast:{type:"Identifier",value:"value"}},qc=function(D){return function(R,Na,Ab){return new wa(D,Na,R||void 0,Ab)}},uc=qc("aggregate"),kd=qc("axisticks"),pd=qc("bound"),yd=qc("collect"),ld=qc("compare"),Od=qc("datajoin"),de=qc("encode"),jc=qc("expression"),Wd=qc("facet"),Jd=qc("field"),Lb=qc("key"),Ke=qc("legendentries"),oe=qc("load"),re=qc("mark"),Ye=qc("multiextent"),
Oe=qc("multivalues"),ff=qc("overlap"),He=qc("params"),be=qc("prefacet"),fc=qc("projection"),Pd=qc("proxy"),dc=qc("relay"),Yc=qc("render"),ne=qc("scale"),ee=qc("sieve"),Pc=qc("sortitems"),fe=qc("viewlayout"),Sd=qc("values"),Ld=0,Qd={min:"min",max:"max",count:"sum"},Ed="size shape fill stroke strokeWidth strokeDash opacity".split(" "),ke={name:1,style:1,interactive:1},Gd={value:0},pe={value:1},Le=Z(q.stringValue("left"),q.stringValue("right"),q.stringValue("center")),cf=Z('"top"','"bottom"','"middle"'),
qf='datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "right" ? ('+Z('"right"','"left"','"center"')+') : ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") \x26\x26 !(datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "left")) ? "left" : '+Le,gd='(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (datum.vgrad ? (item.orient \x3d\x3d\x3d "right" ? "bottom" : "top") : '+cf+') : "top"';Cb.fromEntries=function(D,R){var Na=R.length,Ab=R[Na-1],zb=R[Na-2],Jb=R[0],ac=null,
Oc=1;Jb&&"load"===Jb.type&&(Jb=R[1]);for(D.add(R[0]);Oc<Na;++Oc)R[Oc].params.pulse=sa(R[Oc-1]),D.add(R[Oc]),"aggregate"===R[Oc].type&&(ac=R[Oc]);return new Cb(D,Jb,zb,Ab,ac)};Cb.prototype={countsRef:function(D,R,Na){var Ab=this.counts||(this.counts={}),zb=Rb(R);if(null!=zb){D=this.scope;var Jb=Ab[zb]}Jb?Na&&Na.field&&Rc(D,Jb.agg.params,Na):(Jb={groupby:D.fieldRef(R,"key"),pulse:sa(this.output)},Na&&Na.field&&Rc(D,Jb,Na),Na=D.add(uc(Jb)),Jb=D.add(yd({pulse:sa(Na)})),Jb={agg:Na,ref:sa(Jb)},null!=zb&&
(Ab[zb]=Jb));return Jb.ref},tuplesRef:function(){return sa(this.values)},extentRef:function(D,R){return se(D,this,"extent","extent",R,!1)},domainRef:function(D,R){return se(D,this,"domain","values",R,!1)},valuesRef:function(D,R,Na){return se(D,this,"vals","values",R,Na||!0)},lookupRef:function(D,R){return se(D,this,"lookup","tupleindex",R,!1)},indataRef:function(D,R){return se(D,this,"indata","tupleindex",R,!0,!0)}};var rf=function(D,R,Na){Za(D)?(D=D.signal,R=Qe(D+" \x3d\x3d\x3d 'left' || "+D+" \x3d\x3d\x3d 'top'",
R,Na)):R="left"===D||"top"===D?R:Na;return R},Fe=function(D,R,Na){Za(D)?(D=D.signal,R=$e(D+" \x3d\x3d\x3d 'top' || "+D+" \x3d\x3d\x3d 'bottom'",R,Na)):R="bottom"===D||"top"===D?R:Na;return R},Pe=function(D,R,Na){Za(D)?(D=D.signal,R=$e(D+" !\x3d\x3d 'top' \x26\x26 "+D+" !\x3d\x3d 'bottom'",R,Na)):R="bottom"===D||"top"===D?Na:R;return R},Ee=function(D,R,Na){return Za(D)?Qe(D.signal+" \x3d\x3d\x3d 'top'",R,Na):"top"===D?{value:R}:{value:Na}},$e=function(D,R,Na){R=null!=R?Da(R):R;Na=null!=Na?Da(Na):Na;
if(null!=R&&1!==Object.keys(R).length||null!=Na&&1!==Object.keys(Na).length)return[q.extend({test:D},R)].concat(Na||[]);R=R?R.signal||q.stringValue(R.value):null;Na=Na?Na.signal||q.stringValue(Na.value):null;return{signal:D+" ? ("+R+") : ("+Na+")"}},Qe=function(D,R,Na){return{signal:D+" ? ("+df(R)+") : ("+df(Na)+")"}},df=function(D){return Za(D)?D.signal:null==D?null:q.stringValue(D)},Be=function(D,R){var Na=D.signal;return Na&&Na.endsWith("(null)")?{signal:Na.slice(0,-6)+R.signal}:D};te.prototype=
ue.prototype={parse:function(D){return rd(D,this)},fork:function(){return new ue(this)},isSubscope:function(){return 0<this._subid},toRuntime:function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(D){this.operators.push(D);D.id=this.id();D.refs&&(D.refs.forEach(function(R){R.$ref=
D.id}),D.refs=null);return D},proxy:function(D){D=D instanceof wa?sa(D):D;return this.add(Pd({value:D}))},addStream:function(D){this.streams.push(D);D.id=this.id();return D},addUpdate:function(D){this.updates.push(D);return D},finish:function(){function D(zb,Jb,ac){zb&&(zb=zb.data||(zb.data={}),Jb=zb[Jb]||(zb[Jb]=[]),Jb.push(ac))}var R;this.root&&(this.root.root=!0);for(R in this.signals)this.signals[R].signal=R;for(R in this.scales)this.scales[R].scale=R;for(R in this.data){var Na=this.data[R];D(Na.input,
R,"input");D(Na.output,R,"output");D(Na.values,R,"values");for(var Ab in Na.index)D(Na.index[Ab],R,"index:"+Ab)}return this},pushState:function(D,R,Na){this._encode.push(sa(this.add(ee({pulse:D}))));this._parent.push(R);this._lookup.push(Na?sa(this.proxy(Na)):null);this._markpath.push(-1)},popState:function(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent:function(){return q.peek(this._parent)},encode:function(){return q.peek(this._encode)},lookup:function(){return q.peek(this._lookup)},
markpath:function(){var D=this._markpath;return++D[D.length-1]},fieldRef:function(D,R){if(q.isString(D))return qa(D,R);D.signal||q.error("Unsupported field reference: "+q.stringValue(D));D=D.signal;var Na=this.field[D];Na||(Na={name:this.signalRef(D)},R&&(Na.as=R),this.field[D]=Na=sa(this.add(Jd(Na))));return Na},compareRef:function(D){var R=this,Na=!1,Ab=function(Jb){return Za(Jb)?(Na=!0,R.signalRef(Jb.signal)):Jb&&Jb.expr?(Na=!0,R.exprRef(Jb.expr)):Jb},zb=q.array(D.field).map(Ab);D=q.array(D.order).map(Ab);
return Na?sa(this.add(ld({fields:zb,orders:D}))):{$compare:zb,$order:D}},keyRef:function(D,R){var Na=!1,Ab=this.signals;D=q.array(D).map(function(zb){return Za(zb)?(Na=!0,sa(Ab[zb.signal])):zb});return Na?sa(this.add(Lb({fields:D,flat:R}))):Fa(D,R)},sortRef:function(D){if(!D)return D;var R=Ba(D.op,D.field);D=D.order||"ascending";return D.signal?sa(this.add(ld({fields:R,orders:this.signalRef(D.signal)}))):{$compare:R,$order:D}},event:function(D,R){var Na=D+":"+R;if(!this.events[Na]){var Ab=this.id();
this.streams.push({id:Ab,source:D,type:R});this.events[Na]=Ab}return this.events[Na]},hasOwnSignal:function(D){return q.hasOwnProperty(this.signals,D)},addSignal:function(D,R){this.hasOwnSignal(D)&&q.error("Duplicate signal name: "+q.stringValue(D));R=R instanceof wa?R:this.add(new wa("operator",R,void 0,void 0));return this.signals[D]=R},getSignal:function(D){this.signals[D]||q.error("Unrecognized signal name: "+q.stringValue(D));return this.signals[D]},signalRef:function(D){if(this.signals[D])return sa(this.signals[D]);
q.hasOwnProperty(this.lambdas,D)||(this.lambdas[D]=this.add(new wa("operator",null,void 0,void 0)));return sa(this.lambdas[D])},parseLambdas:function(){for(var D=Object.keys(this.lambdas),R=0,Na=D.length;R<Na;++R){var Ab=D[R],zb=S.parseExpression(Ab,this);Ab=this.lambdas[Ab];Ab.params=zb.$params;Ab.update=zb.$expr}},property:function(D){return D&&D.signal?this.signalRef(D.signal):D},objectProperty:function(D){return D&&q.isObject(D)?this.signalRef(D.signal||bf(D)):D},exprRef:function(D,R){D={expr:S.parseExpression(D,
this)};R&&(D.expr.$name=R);return sa(this.add(jc(D)))},addBinding:function(D,R){this.bindings||q.error("Nested signals do not support binding: "+q.stringValue(D));this.bindings.push(q.extend({signal:D},R))},addScaleProj:function(D,R){q.hasOwnProperty(this.scales,D)&&q.error("Duplicate scale or projection name: "+q.stringValue(D));this.scales[D]=this.add(R)},addScale:function(D,R){this.addScaleProj(D,ne(R))},addProjection:function(D,R){this.addScaleProj(D,fc(R))},getScale:function(D){this.scales[D]||
q.error("Unrecognized scale name: "+q.stringValue(D));return this.scales[D]},scaleRef:function(D){return sa(this.getScale(D))},scaleType:function(D){return this.getScale(D).params.type},projectionRef:function(D){return this.scaleRef(D)},projectionType:function(D){return this.scaleType(D)},addData:function(D,R){q.hasOwnProperty(this.data,D)&&q.error("Duplicate data set name: "+q.stringValue(D));return this.data[D]=R},getData:function(D){this.data[D]||q.error("Undefined data set name: "+q.stringValue(D));
return this.data[D]},addDataPipeline:function(D,R){q.hasOwnProperty(this.data,D)&&q.error("Duplicate data set name: "+q.stringValue(D));return this.addData(D,Cb.fromEntries(this,R))}};n.AxisDomainRole="axis-domain";n.AxisGridRole="axis-grid";n.AxisLabelRole="axis-label";n.AxisRole="axis";n.AxisTickRole="axis-tick";n.AxisTitleRole="axis-title";n.DataScope=Cb;n.FrameRole="frame";n.LegendEntryRole="legend-entry";n.LegendLabelRole="legend-label";n.LegendRole="legend";n.LegendSymbolRole="legend-symbol";
n.LegendTitleRole="legend-title";n.MarkRole="mark";n.Scope=te;n.ScopeRole="scope";n.config=na;n.parse=function(D,R,Na){q.isObject(D)||q.error("Input Vega specification must be an object.");R=q.mergeConfig(na(),R,D.config);return Vd(D,new te(R,Na)).toRuntime()};n.signal=ja;n.signalUpdates=Y;n.stream=I;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[49]=function(Kb,sb,hc,ub){function n(ja){if(ja&&ja.__esModule)return ja;var wa=Object.create(null);ja&&Object.keys(ja).forEach(function(sa){if("default"!==sa){var qa=Object.getOwnPropertyDescriptor(ja,sa);Object.defineProperty(wa,sa,qa.get?qa:{enumerable:!0,get:function(){return ja[sa]}})}});wa["default"]=ja;return Object.freeze(wa)}Object.defineProperty(ub,"__esModule",{value:!0});var q=sb(0),S=sb(12),Pa=sb(14),Hb=sb(23),Ma=sb(24),cb=sb(28),Eb=sb(33),qb=sb(35),Ea=sb(36),$a=sb(37),
db=sb(39);hc=sb(40);Kb=sb(41);var Ja=sb(13),ea=sb(4),pa=sb(11),Ga=sb(22),Wa=sb(21),la=sb(27),aa=sb(46),Qa=sb(6),xa=sb(44),Oa=sb(48),ya=sb(45);sb=n(Pa);Hb=n(Hb);Ma=n(Ma);cb=n(cb);Eb=n(Eb);qb=n(qb);Ea=n(Ea);$a=n($a);db=n(db);hc=n(hc);Kb=n(Kb);q.extend(S.transforms,sb,Hb,Ma,cb,Eb,Ea,qb,$a,db,hc,Kb);Object.keys(q).forEach(function(ja){"default"!==ja&&Object.defineProperty(ub,ja,{enumerable:!0,get:function(){return q[ja]}})});Object.keys(Ja).forEach(function(ja){"default"!==ja&&Object.defineProperty(ub,
ja,{enumerable:!0,get:function(){return Ja[ja]}})});Object.keys(ea).forEach(function(ja){"default"!==ja&&Object.defineProperty(ub,ja,{enumerable:!0,get:function(){return ea[ja]}})});Object.keys(pa).forEach(function(ja){"default"!==ja&&Object.defineProperty(ub,ja,{enumerable:!0,get:function(){return pa[ja]}})});Object.keys(Ga).forEach(function(ja){"default"!==ja&&Object.defineProperty(ub,ja,{enumerable:!0,get:function(){return Ga[ja]}})});Object.defineProperty(ub,"Dataflow",{enumerable:!0,get:function(){return S.Dataflow}});
Object.defineProperty(ub,"EventStream",{enumerable:!0,get:function(){return S.EventStream}});Object.defineProperty(ub,"MultiPulse",{enumerable:!0,get:function(){return S.MultiPulse}});Object.defineProperty(ub,"Operator",{enumerable:!0,get:function(){return S.Operator}});Object.defineProperty(ub,"Parameters",{enumerable:!0,get:function(){return S.Parameters}});Object.defineProperty(ub,"Pulse",{enumerable:!0,get:function(){return S.Pulse}});Object.defineProperty(ub,"Transform",{enumerable:!0,get:function(){return S.Transform}});
Object.defineProperty(ub,"changeset",{enumerable:!0,get:function(){return S.changeset}});Object.defineProperty(ub,"definition",{enumerable:!0,get:function(){return S.definition}});Object.defineProperty(ub,"ingest",{enumerable:!0,get:function(){return S.ingest}});Object.defineProperty(ub,"isTuple",{enumerable:!0,get:function(){return S.isTuple}});Object.defineProperty(ub,"transform",{enumerable:!0,get:function(){return S.transform}});Object.defineProperty(ub,"transforms",{enumerable:!0,get:function(){return S.transforms}});
Object.defineProperty(ub,"tupleid",{enumerable:!0,get:function(){return S.tupleid}});Object.defineProperty(ub,"interpolate",{enumerable:!0,get:function(){return Wa.interpolate}});Object.defineProperty(ub,"interpolateColors",{enumerable:!0,get:function(){return Wa.interpolateColors}});Object.defineProperty(ub,"interpolateRange",{enumerable:!0,get:function(){return Wa.interpolateRange}});Object.defineProperty(ub,"quantizeInterpolator",{enumerable:!0,get:function(){return Wa.quantizeInterpolator}});
Object.defineProperty(ub,"scale",{enumerable:!0,get:function(){return Wa.scale}});Object.defineProperty(ub,"scheme",{enumerable:!0,get:function(){return Wa.scheme}});Object.defineProperty(ub,"projection",{enumerable:!0,get:function(){return la.projection}});Object.defineProperty(ub,"View",{enumerable:!0,get:function(){return aa.View}});Object.defineProperty(ub,"defaultLocale",{enumerable:!0,get:function(){return Qa.defaultLocale}});Object.defineProperty(ub,"formatLocale",{enumerable:!0,get:function(){return Qa.numberFormatDefaultLocale}});
Object.defineProperty(ub,"locale",{enumerable:!0,get:function(){return Qa.locale}});Object.defineProperty(ub,"resetDefaultLocale",{enumerable:!0,get:function(){return Qa.resetDefaultLocale}});Object.defineProperty(ub,"timeFormatLocale",{enumerable:!0,get:function(){return Qa.timeFormatDefaultLocale}});Object.defineProperty(ub,"expressionFunction",{enumerable:!0,get:function(){return xa.expressionFunction}});Object.defineProperty(ub,"parse",{enumerable:!0,get:function(){return Oa.parse}});Object.defineProperty(ub,
"runtimeContext",{enumerable:!0,get:function(){return ya.context}});ub.version="5.17.0"};
shadow$provide[50]=function(Kb,sb,hc,ub){var n=sb(10).Buffer;(function(q,S){"object"===typeof ub&&"undefined"!==typeof hc?S(ub):"function"===typeof define&&define.amd?define(["exports"],S):(q="undefined"!==typeof globalThis?globalThis:q||self,S(q.vegaLite={}))})(this,function(q){function S(b,f,a){b.fields=f||[];b.fname=a;return b}function Pa(b){return 1===b.length?kj(b[0]):qg(b)}function Hb(b){function f(){a.push(u+b.substring(G,T));u="";G=T+1}var a=[],c=b.length,e=null,l=0,u="",G,T;b+="";for(G=T=
0;T<c;++T){var oa=b[T];if("\\"===oa)u+=b.substring(G,T),u+=b.substring(++T,++T),G=T;else if(oa===e)f(),e=null,l=-1;else if(!e)if(G===l&&'"'===oa)G=T+1,e=oa;else if(G===l&&"'"===oa)G=T+1,e=oa;else if("."===oa&&!l)T>G?f():G=T+1;else if("["===oa)T>G&&f(),l=G=T+1;else if("]"===oa){if(!l)throw Error("Access path missing open bracket: "+b);0<l&&f();l=0;G=T+1}}if(l)throw Error("Access path missing closing bracket: "+b);if(e)throw Error("Access path missing closing quote: "+b);T>G&&(T++,f());return a}function Ma(b,
f,a){f=[f].concat([].slice.call(a));console[b].apply(console,f)}function cb(b){return b===Object(b)}function Eb(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];return f.reduce(function(c,e){for(var l in e)"signals"===l?c.signals=Ea(c.signals,e.signals):qb(c,l,e[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})}function qb(b,f,a,c){if("__proto__"!==f){var e;if(cb(a)&&!zd(a))for(e in b=cb(b[f])?b[f]:b[f]={},a)c&&(!0===c||c[e])?qb(b,e,a[e]):"__proto__"!==e&&(b[e]=a[e]);else b[f]=
a}}function Ea(b,f){function a(l){c[l.name]||(c[l.name]=1,e.push(l))}if(null==b)return f;var c={},e=[];f.forEach(a);b.forEach(a);return e}function $a(b){return null!=b?zd(b)?b:[b]:[]}function db(b){return"boolean"===typeof b}function Ja(b){return"number"===typeof b}function ea(b){return"string"===typeof b}function pa(b){return zd(b)?"["+b.map(pa)+"]":cb(b)||ea(b)?JSON.stringify(b).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):b}function Ga(b){for(var f={},a=b.length,c=0;c<a;++c)f[b[c]]=
!0;return f}function Wa(b,f){if(b.not)Wa(b.not,f);else if(b.and){var a=$jscomp.makeIterator(b.and);for(b=a.next();!b.done;b=a.next())Wa(b.value,f)}else if(b.or)for(a=$jscomp.makeIterator(b.or),b=a.next();!b.done;b=a.next())Wa(b.value,f);else f(b)}function la(b,f){return b.not?{not:la(b.not,f)}:b.and?{and:b.and.map(function(a){return la(a,f)})}:b.or?{or:b.or.map(function(a){return la(a,f)})}:f(b)}function aa(b,f){var a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())c=c.value,zf.call(b,
c)&&(a[c]=b[c]);return a}function Qa(b,f){b=Object.assign({},b);f=$jscomp.makeIterator(f);for(var a=f.next();!a.done;a=f.next())delete b[a.value];return b}function xa(b){if(Ja(b))return b;b=ea(b)?b:Gf(b);if(250>b.length)return b;for(var f=0,a=0;a<b.length;a++){var c=b.charCodeAt(a);f=(f<<5)-f+c;f&=f}return f}function Oa(b){return!1===b||null===b}function ya(b,f){return-1<b.indexOf(f)}function ja(b,f){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var e=$jscomp.makeIterator(c.value);
c=e.next().value;e=e.next().value;if(f(e,c,a++))return!0}return!1}function wa(b,f){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var e=$jscomp.makeIterator(c.value);c=e.next().value;e=e.next().value;if(!f(e,c,a++))return!1}return!0}function sa(b,f){for(var a=[],c=1;c<arguments.length;++c)a[c-1]=arguments[c];a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next()){var e=c.value;c=b;e=null!==e&&void 0!==e?e:{};for(var l=$jscomp.makeIterator(id(e)),u=l.next();!u.done;u=
l.next())u=u.value,qb(c,u,e[u],!0)}return b}function qa(b,f){var a=[],c={},e;b=$jscomp.makeIterator(b);for(e=b.next();!e.done;e=b.next()){var l=e.value;e=f(l);e in c||(c[e]=1,a.push(l))}return a}function Fa(b,f){if(b.size!==f.size)return!1;b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(!f.has(a.value))return!1;return!0}function Ba(b,f){b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(f.has(a.value))return!0;return!1}function Za(b){var f=new Set,a={};b=$jscomp.makeIterator(b);
for(var c=b.next();!c.done;a={$jscomp$loop$prop$wrappedWithAccessors$690:a.$jscomp$loop$prop$wrappedWithAccessors$690},c=b.next()){c=Hb(c.value);a.$jscomp$loop$prop$wrappedWithAccessors$690=c.map(function(l,u){return 0===u?l:"[".concat(l,"]")});c=a.$jscomp$loop$prop$wrappedWithAccessors$690.map(function(l){return function(u,G){return l.$jscomp$loop$prop$wrappedWithAccessors$690.slice(0,G+1).join("")}}(a));c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())f.add(e.value)}return f}function jb(b,
f){return void 0===b||void 0===f?!0:Ba(Za(b),Za(f))}function A(b){return 0===id(b).length}function y(b){return!0===b||!1===b}function I(b){var f=b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+f}function L(b,f){return b.not?"!("+L(b.not,f)+")":b.and?"("+b.and.map(function(a){return L(a,f)}).join(") \x26\x26 (")+")":b.or?"("+b.or.map(function(a){return L(a,f)}).join(") || (")+")":f(b)}function z(b,f){if(0===f.length)return!0;var a=f.shift();a in b&&z(b[a],f)&&delete b[a];return A(b)}function H(b){return b.charAt(0).toUpperCase()+
b.substr(1)}function O(b,f){f=void 0===f?"datum":f;b=Hb(b);for(var a=[],c=1;c<=b.length;c++){var e="[".concat(b.slice(0,c).map(pa).join("]["),"]");a.push("".concat(f).concat(e))}return a.join(" \x26\x26 ")}function ma(b,f){return"".concat(void 0===f?"datum":f,"[").concat(pa(Hb(b).join(".")),"]")}function Ia(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Sa(b){return"".concat(Hb(b).map(Ia).join("\\."))}function E(b,f,a){return b.replace(new RegExp(f.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),
"g"),a)}function ha(b){return"".concat(Hb(b).join("."))}function Y(b){return b?Hb(b).length:0}function V(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];f=$jscomp.makeIterator(f);for(a=f.next();!a.done;a=f.next())if(a=a.value,void 0!==a)return a}function w(b){var f=++yg;return b?String(b)+f:f}function F(b){return h(b)?b:"__".concat(b)}function h(b){return 0===b.indexOf("__")}function k(b){if(void 0!==b)return(b%360+360)%360}function m(b){return Ja(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}
function r(b){return b&&b.condition}function v(b){return!!b&&!!b.argmin}function J(b){return!!b&&!!b.argmax}function ba(b){return ea(b)&&!!Dl[b]}function ka(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function ua(b){return"color"===b||"fill"===b||"stroke"===b}function fb(b){return eb(b)!==b}function eb(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return b}function Ca(b){if(b in bi)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function Ka(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Z(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function ra(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function hb(b){return"width"===b?"x":"y"}function mb(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Xd;
case "x":case "y":case "latitude":case "longitude":return Wj;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function Ib(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Xb(b){db(b)&&(b=Ab(b,void 0));return"bin"+id(b).map(function(f){return Tb(b[f])?I("_".concat(f,"_").concat(Yf(b[f]))):I("_".concat(f,"_").concat(b[f]))}).join("")}function za(b){return!0===b||cb(b)&&!b.binned}function wb(b){return"binned"===b||cb(b)&&!0===b.binned}function Tb(b){return null===b||void 0===b?void 0:b.selection}function rb(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
case "strokeDash":return 4;default:return 10}}function Sb(b,f,a){f in b?Object.defineProperty(b,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[f]=a;return b}function ic(b,f,a){f=f.get(b);if(!f)throw new TypeError("attempted to set private field on non-instance");if(f.set)f.set.call(b,a);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=a}return a}function rc(b){return"Invalid specification ".concat(JSON.stringify(b),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function Tc(b){return"".concat("width"==b?"Width":"Height",' "container" only works for single views and layered views.')}function pc(b){var f="width"==b?"x":"y";return"".concat("width"==b?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(f,'".')}function tb(b){return b?'Dropping "fit-'.concat(b,'" because spec has discrete ').concat(Z(b),"."):'Dropping "fit" because spec has discrete size.'}function bc(b){return"Unknown field for ".concat(b,". Cannot calculate view size.")}
function Mb(b){return'Cannot project a selection on encoding channel "'.concat(b,'", which has no field.')}function xc(b,f){return'Cannot project a selection on encoding channel "'.concat(b,'" as it uses an aggregate function ("').concat(f,'").')}function Xc(b){return"Selection not supported for ".concat(b," yet.")}function ud(b){return'The "columns" property cannot be used when "'.concat(b,'" has nested row/column.')}function xd(b,f,a){return'An ancestor parsed field "'.concat(b,'" as ').concat(a,
" but a child wants to parse the field as ").concat(f,".")}function ae(b){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(b," are dropped.")}function Cb(b,f){var a=f.fill;f=f.stroke;return"Dropping color ".concat(b," as the plot also has ").concat(a&&f?"fill and stroke":a?"fill":"stroke",".")}function Rb(b,f){return"Dropping ".concat(mf(b),' from channel "').concat(f,'" since it does not contain any data field, datum, value, or signal.')}function Rc(b,
f,a){return"".concat(b,' dropped as it is incompatible with "').concat(f,'"').concat(a?" when ".concat(a):"",".")}function se(b){return"".concat(b,"-encoding is dropped as ").concat(b," is not a valid encoding channel.")}function De(b,f){return'Using discrete channel "'.concat(b,'" to encode "').concat(f,'" field can be misleading as it does not encode ').concat("ordinal"===f?"order":"magnitude",".")}function Ne(b,f,a){return"".concat(a,"-scale's \"").concat(f,'" is dropped as it does not work with ').concat(b,
" scale.")}function Md(b){return'The step for "'.concat(b,'" is dropped because the ').concat("width"===b?"x":"y"," is continuous.")}function K(b,f){return"Invalid ".concat(b,": ").concat(mf(f),".")}function fa(b){return"1D error band does not support ".concat(b,".")}function bb(b){return"Channel ".concat(b,' is required for "binned" bin.')}function La(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];Yg.warn.apply(Yg,$jscomp.arrayFromIterable(f))}function Fb(b){for(var f=[],a=0;a<arguments.length;++a)f[a-
0]=arguments[a];Yg.debug.apply(Yg,$jscomp.arrayFromIterable(f))}function Vb(b){if(b&&cb(b))for(var f=$jscomp.makeIterator(ci),a=f.next();!a.done;a=f.next())if(a.value in b)return!0;return!1}function Yb(b){m(b)&&(b=+b);if(Ja(b))return b-1;var f=b.toLowerCase(),a=di.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=Fi.indexOf(f);if(-1!==f)return f;throw Error(K("month",b));}function cc(b){m(b)&&(b=+b);if(Ja(b))return b%7;var f=b.toLowerCase(),a=nh.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=Gi.indexOf(f);
if(-1!==f)return f;throw Error(K("day",b));}function va(b,f){var a=[];f&&void 0!==b.day&&1<id(b).length&&(La("Dropping day from datetime ".concat(mf(b)," as day cannot be combined with other units.")),b=xe(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var c=f?Yb(b.month):b.month;a.push(c)}else if(void 0!==b.quarter){if(f)if(c=b.quarter,m(c)&&(c=+c),Ja(c))4<c&&La(K("quarter",c)),--c;else throw Error(K("quarter",c));else c=b.quarter;a.push(Ja(c)?3*c:c+"*3")}else a.push(0);
void 0!==b.date?a.push(b.date):void 0!==b.day?(f=f?cc(b.day):b.day,a.push(Ja(f)?f+1:f+"+1")):a.push(1);f=$jscomp.makeIterator(["hours","minutes","seconds","milliseconds"]);for(c=f.next();!c.done;c=f.next())c=b[c.value],a.push("undefined"===typeof c?0:c);return a}function Ra(b){var f=va(b,!0).join(", ");return b.utc?"utc(".concat(f,")"):"datetime(".concat(f,")")}function yb(b){var f=va(b,!0);return b.utc?+new Date(Date.UTC.apply(Date,$jscomp.arrayFromIterable(f))):+new (Function.prototype.bind.apply(Date,
[null].concat($jscomp.arrayFromIterable(f))))}function Nb(b){for(var f=[],a=$jscomp.makeIterator(ci),c=a.next();!c.done;c=a.next())c=c.value,gc(b,c)&&f.push(c);return f}function gc(b,f){var a=b.indexOf(f);return 0>a||0<a&&"seconds"===f&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===f&&"o"===b.charAt(a+3)||0<a&&"year"===f&&"f"===b.charAt(a-1)?!1:!0}function tc(b){if(b)return b=Nb(b),"timeUnitSpecifier(".concat(Gf(b),", ").concat(Gf(El),")")}function lc(b){if(b){var f;ea(b)?f={unit:b}:cb(b)&&(f=Object.assign({},
b,b.unit?{unit:b.unit}:{}));f.unit.startsWith("utc")&&(f.utc=!0,f.unit=f.unit.substr(3));return f}}function xb(b){var f=lc(b);b=Object.assign({},f);f=f.utc;var a=(delete b.utc,b);return a.unit?(f?"utc":"")+id(a).map(function(c){return I("".concat("unit"===c?"":"_".concat(c,"_")).concat(a[c]))}).join(""):(f?"utc":"")+"timeunit"+id(a).map(function(c){return I("_".concat(c,"_").concat(a[c]))}).join("")}function Qb(b){return b&&!!b.signal}function Gc(b){return!!b.step}function $b(b){return zd(b)?!1:"field"in
b&&"data"in b}function Ac(b){return b&&!!b.field&&void 0!==b.equal}function Jc(b){return b&&!!b.field&&void 0!==b.lt}function Hc(b){return b&&!!b.field&&void 0!==b.lte}function ad(b){return b&&!!b.field&&void 0!==b.gt}function md(b){return b&&!!b.field&&void 0!==b.gte}function od(b){return b&&b.field&&(zd(b.range)&&2===b.range.length||Qb(b.range))?!0:!1}function rd(b){return b&&!!b.field&&(zd(b.oneOf)||zd(b.in))}function Vd(b){return rd(b)||Ac(b)||od(b)||Jc(b)||ad(b)||Hc(b)||md(b)}function Zd(b,f){return ac(b,
{timeUnit:f,wrapTime:!0})}function ze(b,f){return b.map(function(a){return Zd(a,f)})}function te(b,f){f=void 0===f?!0:f;var a,c=b.field,e=null===(a=lc(b.timeUnit))||void 0===a?void 0:a.unit;if(e){c=O(c);var l=e.startsWith("utc")?"utc":"";a={};for(var u=$jscomp.makeIterator(ci),G=u.next();!G.done;G=u.next())if(G=G.value,gc(e,G)){var T="quarter"===G?"(".concat(l,"quarter(").concat(c,")-1)"):"".concat(l).concat(G,"(").concat(c,")");a[G]=T}c=va(a,!1).join(", ");a="time("+(a.utc?"utc(".concat(c,")"):"datetime(".concat(c,
")"))+")"}else a=gd(b,{expr:"datum"});if(Ac(b))return a+"\x3d\x3d\x3d"+Zd(b.equal,e);if(Jc(b))return f=b.lt,"".concat(a,"\x3c").concat(Zd(f,e));if(ad(b))return f=b.gt,"".concat(a,"\x3e").concat(Zd(f,e));if(Hc(b))return f=b.lte,"".concat(a,"\x3c\x3d").concat(Zd(f,e));if(md(b))return f=b.gte,"".concat(a,"\x3e\x3d").concat(Zd(f,e));if(rd(b))return"indexof([".concat(ze(b.oneOf,e).join(","),"], ").concat(a,") !\x3d\x3d -1");if(b&&b.field&&void 0!==b.valid)return ue(a,b.valid);if(od(b)){c=b.range;b=Qb(c)?
{signal:"".concat(c.signal,"[0]")}:c[0];c=Qb(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==b&&null!==c&&f)return"inrange("+a+", ["+Zd(b,e)+", "+Zd(c,e)+"])";f=[];null!==b&&f.push("".concat(a," \x3e\x3d ").concat(Zd(b,e)));null!==c&&f.push("".concat(a," \x3c\x3d ").concat(Zd(c,e)));return 0<f.length?f.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(b)));}function ue(b,f){return void 0===f||f?"isValid(".concat(b,") \x26\x26 isFinite(+").concat(b,")"):"!isValid(".concat(b,
") || !isFinite(+").concat(b,")")}function bf(b){if(Vd(b)&&b.timeUnit){var f;return Object.assign({},b,{timeUnit:null===(f=lc(b.timeUnit))||void 0===f?void 0:f.unit})}return b}function vd(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function P(b){return null===b||void 0===b?void 0:b.selection}function na(b,
f){switch(f){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!ya(["point","band","identity"],b);case "bins":return!ya(["point","band","identity","ordinal"],b);case "round":return b in g||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in g||ya(["point","band"],b);case "paddingOuter":case "align":return ya(["point","band"],b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in
g;case "nice":return b in g||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in ib&&!ya(["log","time","utc","threshold","quantile"],b)}}function Da(b,f){switch(f){case "interpolate":case "scheme":case "domainMid":if(!ua(b))return'Cannot use the scale property "'.concat(b,'" with non-color channel.')}}function gb(b,f){if(!zg[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return f in
g||ya(["band","point"],f);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return f in g||f in N||ya(["band","point","ordinal"],f);case "color":case "fill":case "stroke":return"band"!==f;case "strokeDash":return"ordinal"===f||f in N;case "shape":return"ordinal"===f}}function Ta(b){return b&&!!b.expr}function Pb(b){var f=id(b||{}),a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())c=c.value,a[c]=wd(b[c]);return a}function kc(b){return ya(["line",
"area","trail"],b)}function oc(b){return b.type}function qc(b){var f=b.channel,a=b.channelDef,c=b.markDef,e=b.scale,l=b.config;b=ld(b);var u;if(u=Pc(a))u=a.aggregate,u=!(ea(u)&&ya(Lk,u));return u&&e&&e.get("type")in g&&!1===e.get("zero")?uc({fieldDef:a,channel:f,markDef:c,ref:b,config:l}):b}function uc(b){var f=b.fieldDef,a=b.channel,c=b.markDef,e=b.ref;b=b.config;if(kc(c.type)||null===Fd("invalid",c,b))return e;f=kd(f,!0);a="y"===eb(a)?{field:{group:"height"}}:{value:0};return[Object.assign({},{test:f},
a),e]}function kd(b,f){f=void 0===f?!0:f;return ue(ea(b)?b:gd(b,{expr:"datum"}),!f)}function pd(b,f,a,c){var e={};f&&(e.scale=f);Sd(b)?(b=b.datum,Vb(b)?e.signal=Ra(b):Qb(b)?e.signal=b.signal:Ta(b)?e.signal=b.expr:e.value=b):e.field=gd(b,a);c&&(b=c.offset,c=c.band,b&&(e.offset=b),c&&(e.band=c));return e}function yd(b){var f=b.scaleName,a=b.fieldOrDatumDef,c=b.fieldOrDatumDef2,e=b.offset,l=void 0===b.band?.5:b.band,u=0<l&&1>l?"datum":void 0;b=gd(a,{expr:u,suffix:b.startSuffix});c=void 0!==c?gd(c,{expr:u}):
gd(a,{suffix:"end",expr:u});a={};0===l||1===l?(a.scale=f,a.field=0===l?b:c):(l="".concat(l," * ").concat(b," + ").concat(1-l," * ").concat(c),a.signal='scale("'.concat(f,'", ').concat(l,")"));e&&(a.offset=e);return a}function ld(b){var f=b.channel,a=b.channelDef,c=b.channel2Def,e=b.markDef,l=b.config,u=b.scaleName,G=b.scale,T=b.stack,oa=b.offset,ab=b.defaultRef;b=b.band;if(a){if(Ed(a)){var Ya,vb;if(ke(a)){var Zb;b=null!==(Zb=b)&&void 0!==Zb?Zb:dc({channel:f,fieldDef:a,fieldDef2:c,markDef:e,stack:T,
config:l,isMidPoint:!0});e=a.bin;l=a.timeUnit;ab=a.type;if(za(e)||b&&l&&"temporal"===ab)return T&&T.impute?pd(a,u,{binSuffix:"mid"},{offset:oa}):b?yd({scaleName:u,fieldOrDatumDef:a,band:b,offset:oa}):pd(a,u,Fc(a,f)?{binSuffix:"range"}:{},{offset:oa});if(wb(e)){if(Pc(c))return yd({scaleName:u,fieldOrDatumDef:a,fieldOrDatumDef2:c,band:b,offset:oa});La(bb("x"===f?"x2":"y2"))}}f=null===G||void 0===G?void 0:G.get("type");return pd(a,u,f in nb?{binSuffix:"range"}:{},{offset:oa,band:"band"===f?null!==(Ya=
null!==(vb=b)&&void 0!==vb?vb:a.band)&&void 0!==Ya?Ya:.5:void 0})}if(Gd(a))return u=oa?{offset:oa}:{},Object.assign({},Od(f,a.value),u)}"function"===typeof ab&&(ab=ab());return ab?Object.assign({},ab,oa?{offset:oa}:{}):ab}function Od(b,f){return ya(["x","x2"],b)&&"width"===f?{field:{group:"width"}}:ya(["y","y2"],b)&&"height"===f?{field:{group:"height"}}:ge(f)}function de(b){return b&&"number"!==b&&"time"!==b}function jc(b,f,a){return"".concat(b,"(").concat(f).concat(a?", ".concat(JSON.stringify(a)):
"",")")}function Wd(b){var f=b.fieldOrDatumDef,a=b.format,c=b.formatType,e=b.expr,l=b.normalizeStack;b=b.config;if(de(c))return Lb({fieldOrDatumDef:f,format:a,formatType:c,expr:e,config:b});l=Jd(f,e,l);if(Jb(f)){var u,G;c=Pc(f)?null===(u=lc(f.timeUnit))||void 0===u?void 0:u.unit:void 0;b=b.timeFormat;f=pe(f)&&(null===(G=f.scale)||void 0===G?void 0:G.type)===Af.UTC;!c||a?(a=ea(a)?a:b,l="".concat(f?"utc":"time","Format(").concat(l,", '").concat(a,"')")):c?(G=tc(c),f=f||c.startsWith("utc"),l="".concat(f?
"utc":"time","Format(").concat(l,", ").concat(G,")")):l=void 0;return l?{signal:l}:void 0}a=re(fe(f),a,b);return Pc(f)&&za(f.bin)?(G=gd(f,{expr:e,binSuffix:"end"}),{signal:ff(l,G,a,c,b)}):a||"quantitative"===fe(f)?{signal:"".concat(Ye(l,a))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function Jd(b,f,a){if(Pc(b))return a?"".concat(gd(b,{expr:f,suffix:"end"}),"-").concat(gd(b,{expr:f,suffix:"start"})):gd(b,{expr:f});b=b.datum;b=Vb(b)?Ra(b):"".concat(JSON.stringify(b));return b}
function Lb(b){var f=b.fieldOrDatumDef,a=b.format,c=b.formatType,e=b.expr,l=b.normalizeStack,u=b.config;b=b.field;var G;b=null!==(G=b)&&void 0!==G?G:Jd(f,e,l);return Pc(f)&&za(f.bin)?(f=gd(f,{expr:e,binSuffix:"end"}),{signal:ff(b,f,a,c,u)}):{signal:jc(c,b,a)}}function Ke(b,f,a,c,e,l){if(!de(c)){if(Jb(b)){var u;b=Pc(b)?null===(u=lc(b.timeUnit))||void 0===u?void 0:u.unit:void 0;a=a?a:b?{signal:tc(b)}:l?void 0:e.timeFormat;return a}return re(f,a,e)}}function oe(b,f,a){if(b&&(Qb(b)||"number"===b||"time"===
b))return b;if(Jb(f)&&"time"!==a&&"utc"!==a)return"time"}function re(b,f,a){if(ea(f))return f;if("quantitative"===b)return a.numberFormat}function Ye(b,f){return"format(".concat(b,', "').concat(f||"",'")')}function Oe(b,f,a,c){var e;return de(a)?jc(a,b,f):Ye(b,null!==(e=ea(f)?f:void 0)&&void 0!==e?e:c.numberFormat)}function ff(b,f,a,c,e){var l=Oe(b,a,c,e);f=Oe(f,a,c,e);return"".concat(ue(b,!1),' ? "null" : ').concat(l,' + "').concat(" – ",'" + ').concat(f)}function He(b){return!!b&&("count"===b.op||
!!b.field)}function be(b){return!!b&&zd(b)}function fc(b){return"row"in b||"column"in b}function Pd(b){var f=b.timeUnit,a=b.bin,c=b.aggregate;return Object.assign({},f?{timeUnit:f}:{},a?{bin:a}:{},c?{aggregate:c}:{},{field:b.field})}function dc(b){var f=b.channel,a=b.fieldDef,c=b.fieldDef2,e=b.markDef,l=b.stack,u=b.config;b=b.isMidPoint;if(Ed(a)&&void 0!==a.band)return a.band;if(Pc(a)){var G=a.bin;if(a.timeUnit&&!c)return b?ef("timeUnitBandPosition",e,u):ya(["rect","bar","image","arc"],e.type)?ef("timeUnitBand",
e,u):0;if(za(G))return ya(["rect","bar","image","arc"],e.type)&&!b?1:.5}if((null===l||void 0===l?void 0:l.fieldChannel)===f&&b)return.5}function Yc(b,f,a,c,e,l){return za(f.bin)||f.timeUnit&&ke(f)&&"temporal"===f.type?!!dc({channel:b,fieldDef:f,fieldDef2:a,stack:c,markDef:e,config:l}):!1}function ne(b){b=b&&b.condition;return!!b&&!zd(b)&&Pc(b)}function ee(b){b=b&&b.condition;return!!b&&!zd(b)&&Ed(b)}function Pc(b){return!!b&&(!!b.field||"count"===b.aggregate)}function fe(b){return b&&b.type}function Sd(b){return!!b&&
"datum"in b}function Ld(b){return ke(b)&&!rf(b)||Qd(b)}function Qd(b){return Sd(b)&&Ja(b.datum)}function Ed(b){return Pc(b)||Sd(b)}function ke(b){return!!b&&("field"in b||"count"===b.aggregate)&&"type"in b}function Gd(b){return b&&"value"in b&&"value"in b}function pe(b){return!!b&&("scale"in b||"sort"in b)}function Le(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function cf(b){return!!b&&("format"in b||"formatType"in b)}function qf(b){return Qa(b,["legend","axis","header","scale"])}function gd(b,
f){f=void 0===f?{}:f;var a=b.field,c=f.prefix,e=f.suffix,l="";if("count"===b.aggregate)a=F("count");else{if(!f.nofn)if("op"in b)var u=b.op;else{var G=b.bin,T=b.aggregate;b=b.timeUnit;if(za(G)){var oa,ab;u=Xb(G);e=(null!==(oa=f.binSuffix)&&void 0!==oa?oa:"")+(null!==(ab=f.suffix)&&void 0!==ab?ab:"")}else if(T)J(T)?(l='["'.concat(a,'"]'),a="argmax_".concat(T.argmax)):v(T)?(l='["'.concat(a,'"]'),a="argmin_".concat(T.argmin)):u=String(T);else if(b){var Ya;u=xb(b);e=(!ya(["range","mid"],f.binSuffix)&&
f.binSuffix||"")+(null!==(Ya=f.suffix)&&void 0!==Ya?Ya:"")}}u&&(a=a?"".concat(u,"_").concat(a):u)}e&&(a="".concat(a,"_").concat(e));c&&(a="".concat(c,"_").concat(a));return f.forAs?ha(a):f.expr?ma(a,f.expr)+l:Sa(a)+l}function rf(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Pc(b)&&!!b.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(b.type,'".'));}function Fe(b,f){var a=b.field,c=b.timeUnit,e=b.aggregate;if("count"===e)return f.countTitle;
if(za(b.bin))return"".concat(a," (binned)");if(c){var l;if(b=null===(l=lc(c))||void 0===l?void 0:l.unit)return"".concat(a," (").concat(Nb(b).join("-"),")")}else if(e)return J(e)?"".concat(a," for max ").concat(e.argmax):v(e)?"".concat(a," for min ").concat(e.argmin):"".concat(H(e)," of ").concat(a);return a}function Pe(b,f,a){var c=a.allowDisabling,e=void 0===a.includeDefault?!0:a.includeDefault,l;a=null===(l=Ee(b))||void 0===l?void 0:l.title;if(!Pc(b))return a;f=e?Xj(b,f):void 0;if(c)return V(a,
b.title,f);var u;return null!==(u=null!==a&&void 0!==a?a:b.title)&&void 0!==u?u:f}function Ee(b){if(Le(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function $e(b){if(cf(b))return{format:b.format,formatType:b.formatType};var f;b=null!==(f=Ee(b))&&void 0!==f?f:{};return{format:b.format,formatType:b.formatType}}function Qe(b,f){var a;switch(f){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in b&&zd(b.sort))return"ordinal";f=b.aggregate;if(b.timeUnit)return"temporal";if(b.bin||f&&!J(f)&&!v(f))return"quantitative";if(pe(b)&&(null===(a=b.scale)||void 0===a?0:a.type))switch(Yj[b.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function df(b){if(Pc(b))return b;if(ne(b))return b.condition}function Be(b){if(Ed(b))return b;if(ee(b))return b.condition}function D(b,f,a,c){c=void 0===c?{}:c;
return ea(b)||Ja(b)||db(b)?(a=ea(b)?"string":Ja(b)?"number":"boolean",f="Channel ".concat(f," is a ").concat(a,". Converted to {value: ").concat(mf(b),"}."),La(f),{value:b}):Ed(b)?R(b,f,a,c):ee(b)?Object.assign({},b,{condition:R(b.condition,f,a,c)}):b}function R(b,f,a,c){if(cf(b)){var e=Object.assign({},b),l=b.formatType;e=(delete e.format,delete e.formatType,e);if(de(l)&&!a.customFormatTypes)return La(ae(f)),R(e,f,a,c)}else if((l=Le(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":null)&&
b[l]){var u=b[l];e=Object.assign({},u);u=u.formatType;e=(delete e.format,delete e.formatType,e);if(de(u)&&!a.customFormatTypes)return La(ae(f)),u={},R(Object.assign({},b,(u[l]=e,u)),f,a,c)}if(Pc(b))return Na(b,f,c);f=b.type;f||(f=b.datum,f=Ja(f)?"quantitative":ea(f)?"nominal":Vb(f)?"temporal":void 0,b=Object.assign({},b,{type:f}));return b}function Na(b,f,a){a=void 0===a?{}:a;var c=void 0===a.compositeMark?!1:a.compositeMark;a=b.aggregate;var e=b.timeUnit,l=b.bin,u=b.field;b=Object.assign({},b);c||
!a||ba(a)||J(a)||v(a)||(La('Invalid aggregation operator "'.concat(a,'".')),delete b.aggregate);e&&(b.timeUnit=lc(e));u&&(b.field="".concat(u));za(l)&&(b.bin=Ab(l,f));!wb(l)||f in Ue||La("Channel ".concat(f,' should not be used with "binned" bin.'));ke(b)?(c=b.type,e=vd(c),c!==e&&(b.type=e),"quantitative"!==c&&ea(a)&&ya(Lk,a)&&(La('Invalid field type "'.concat(c,'" for aggregate: "').concat(a,'", using "quantitative" instead.')),b.type="quantitative")):fb(f)||(a=Qe(b,f),b.type=a);ke(b)&&(f=zb(b,f)||
{},a=f.warning,!1===f.compatible&&La(a));if("sort"in b&&ea(b.sort)){f=b.sort;if(f in lm)return Object.assign({},b,{sort:{encoding:f}});a=f.substr(1);if("-"===f.charAt(0)&&a in lm)return Object.assign({},b,{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&(f=b.header,c=Object.assign({},f),a=f.orient,c=(delete c.orient,c),a)?Object.assign({},b,{header:Object.assign({},c,{labelOrient:f.labelOrient||a,titleOrient:f.titleOrient||a})}):b}function Ab(b,f){return db(b)?{maxbins:rb(f)}:"binned"===
b?{binned:!0}:b.maxbins||b.step?b:Object.assign({},b,{maxbins:rb(f)})}function zb(b,f){var a=b.type;if("geojson"===a&&"shape"!==f)return{compatible:!1,warning:"Channel ".concat(f," should not be used with a geojson data.")};switch(f){case "row":case "column":case "facet":return rf(b)?Hi:{compatible:!1,warning:"".concat(f," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Hi;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:"Channel ".concat(f," should be used with a quantitative field only, not ").concat(b.type," field.")}:Hi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==a||b.sort?Hi:{compatible:!1,warning:"Channel ".concat(f," should not be used with an unsorted discrete field.")};case "strokeDash":return ya(["ordinal",
"nominal"],b.type)?Hi:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return ya(["ordinal","nominal","geojson"],b.type)?Hi:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==b.type||"sort"in b?Hi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Jb(b){var f=$e(b).formatType,a;if(!(a="time"===f)){if(f=!f)f=b&&
("temporal"===b.type||Pc(b)&&!!b.timeUnit);a=f}return a}function ac(b,f){var a=f.timeUnit,c=f.type,e=f.wrapTime;f=f.undefinedIfExprNotRequired;var l;c=(a=a&&(null===(l=lc(a))||void 0===l?void 0:l.unit))||"temporal"===c;if(Ta(b))var u=b.expr;else Qb(b)?u=b.signal:Vb(b)?(c=!0,u=Ra(b)):(ea(b)||Ja(b))&&c&&(u="datetime(".concat(JSON.stringify(b),")"),lj[a]&&(Ja(b)&&1E4>b||ea(b)&&isNaN(Date.parse(b)))&&(u={},u=Ra((u[a]=b,u))));return u?e&&c?"time(".concat(u,")"):u:f?void 0:JSON.stringify(b)}function Oc(b,
f){var a=b.type;return f.map(function(c){var e=ac(c,{timeUnit:Pc(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==e?{signal:e}:c})}function Fc(b,f){return za(b.bin)?!!zg[f]&&ya(["ordinal","nominal"],b.type):(console.warn("Only call this method for binned field defs."),!1)}function bd(b){var f=Object.assign({},b),a=b.anchor,c=b.frame,e=b.offset,l=b.orient,u=b.color,G=b.subtitleColor,T=b.subtitleFont,oa=b.subtitleFontSize,ab=b.subtitleFontStyle,Ya=b.subtitleFontWeight,vb=
b.subtitleLineHeight;b=b.subtitlePadding;f=(delete f.anchor,delete f.frame,delete f.offset,delete f.orient,delete f.color,delete f.subtitleColor,delete f.subtitleFont,delete f.subtitleFontSize,delete f.subtitleFontStyle,delete f.subtitleFontWeight,delete f.subtitleLineHeight,delete f.subtitlePadding,f);u=Object.assign({},f,u?{fill:u}:{});a=Object.assign({},a?{anchor:a}:{},c?{frame:c}:{},e?{offset:e}:{},l?{orient:l}:{});G=Object.assign({},G?{subtitleColor:G}:{},T?{subtitleFont:T}:{},oa?{subtitleFontSize:oa}:
{},ab?{subtitleFontStyle:ab}:{},Ya?{subtitleFontWeight:Ya}:{},vb?{subtitleLineHeight:vb}:{},b?{subtitlePadding:b}:{});T=aa(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:u,subtitleMarkConfig:T,nonMark:a,subtitle:G}}function cd(b){return ea(b)||zd(b)&&ea(b[0])}function jd(b){var f=zd(b.condition)?b.condition.map(Hd):Hd(b.condition);return Object.assign({},wd(b),{condition:f})}function wd(b){if(Ta(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},
f)}return b}function Hd(b){if(Ta(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return b}function ge(b){if(Ta(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return Qb(b)?b:void 0!==b?{value:b}:void 0}function me(b){return Qb(b)?b.signal:null==b?null:pa(b)}function qe(b,f,a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var e=ef(c,f.markDef,f.config);void 0!==e&&(b[c]=ge(e))}return b}
function he(b){var f;return[].concat(b.type,null!==(f=b.style)&&void 0!==f?f:[])}function Fd(b,f,a,c){var e=c=void 0===c?{}:c,l=e.vgChannel;if(l&&void 0!==f[l])return f[l];if(void 0!==f[b])return f[b];if(!e.ignoreVgConfig||l&&l!==b)return ef(b,f,a,c)}function ef(b,f,a,c){c=(void 0===c?{}:c).vgChannel;return V(c?xf(b,f,a.style):void 0,xf(b,f,a.style),c?a[f.type][c]:void 0,a[f.type][b],c?a.mark[c]:a.mark[b])}function xf(b,f,a){return Ff(b,he(f),a)}function Ff(b,f,a){f=$a(f);var c;f=$jscomp.makeIterator(f);
for(var e=f.next();!e.done;e=f.next())(e=a[e.value])&&void 0!==e[b]&&(c=e[b]);return c}function kf(b,f){return $a(b).reduce(function(a,c){var e;a.field.push(gd(c,f));a.order.push(null!==(e=c.sort)&&void 0!==e?e:"ascending");return a},{field:[],order:[]})}function cg(b,f){var a=[].concat($jscomp.arrayFromIterable(b));f.forEach(function(c){for(var e=$jscomp.makeIterator(a),l=e.next();!l.done;l=e.next())if(Zg(l.value,c))return;a.push(c)});return a}function yf(b,f){return Zg(b,f)||!f?b:b?[].concat($jscomp.arrayFromIterable($a(b)),
$jscomp.arrayFromIterable($a(f))).join(", "):f}function Xf(b,f){var a=b.value;f=f.value;if(null==a||null===f)return{explicit:b.explicit,value:null};if((cd(a)||Qb(a))&&(cd(f)||Qb(f)))return{explicit:b.explicit,value:yf(a,f)};if(cd(a)||Qb(a))return{explicit:b.explicit,value:a};if(cd(f)||Qb(f))return{explicit:b.explicit,value:f};if(!(cd(a)||Qb(a)||cd(f)||Qb(f)))return{explicit:b.explicit,value:cg(a,f)};throw Error("It should never reach here");}function B(b){return"mark"in b}function C(b,f){return(b=
b&&b[f])?zd(b)?ja(b,function(a){return!!a.field}):Pc(b)||ne(b):!1}function M(b){return ja(mj,function(f){return C(b,f)?(f=b[f],zd(f)?ja(f,function(a){return!!a.aggregate}):(f=df(f))&&!!f.aggregate):!1})}function U(b,f){var a=[],c=[],e=[],l=[],u={};Va(b,function(G,T){if(Pc(G)){var oa=Object.assign({},G),ab=G.field,Ya=G.aggregate,vb=G.bin,Zb=G.timeUnit;oa=(delete oa.field,delete oa.aggregate,delete oa.bin,delete oa.timeUnit,oa);if(Ya||Zb||vb){var sc=Ee(G),Ec=sc&&sc.title;sc=gd(G,{forAs:!0});oa=Object.assign({},
Ec?[]:{title:Pe(G,f,{allowDisabling:!0})},oa,{field:sc});if(Ya){if(J(Ya)){var Ic="argmax";sc=gd({op:"argmax",field:Ya.argmax},{forAs:!0});oa.field="".concat(sc,".").concat(ab)}else v(Ya)?(Ic="argmin",sc=gd({op:"argmin",field:Ya.argmin},{forAs:!0}),oa.field="".concat(sc,".").concat(ab)):"boxplot"!==Ya&&"errorbar"!==Ya&&"errorband"!==Ya&&(Ic=Ya);Ic&&(G={op:Ic,as:sc},ab&&(G.field=ab),l.push(G))}else a.push(sc),ke(G)&&za(vb)?(c.push({bin:vb,field:ab,as:sc}),a.push(gd(G,{binSuffix:"end"})),Fc(G,T)&&a.push(gd(G,
{binSuffix:"range"})),T in Ue&&(u[T+"2"]={field:sc+"_end"}),oa.bin="binned",fb(T)||(oa.type="quantitative")):Zb&&(e.push({timeUnit:Zb,field:ab,as:sc}),(ab=ke(G)&&"temporal"!==G.type&&"time")&&("text"===T||"tooltip"===T?oa.formatType=ab:ye[T]?oa.legend=Object.assign({},{formatType:ab},oa.legend):T in Ue&&(oa.axis=Object.assign({},{formatType:ab},oa.axis))));u[T]=oa}else a.push(ab),u[T]=b[T]}else u[T]=b[T]});return{bins:c,timeUnits:e,aggregate:l,groupby:a,encoding:u}}function ca(b,f,a){a=mb(f)[a];return a&&
("binned"!==a||(a=b["x2"===f?"x":"y"],Pc(a)&&Pc(b[f])&&wb(a.bin)))?!0:!1}function ia(b,f,a,c){return id(b).reduce(function(e,l){if(!Kg[l])return La(se(l)),e;var u=b[l];"angle"!==l||"arc"!==f||b.theta||(La("Arc marks uses theta channel rather than angle, replacing angle with theta."),l="theta");if(!ca(b,l,f))return La(Rc(l,f)),e;if("size"===l&&"line"===f){var G=df(b[l]);if(null===G||void 0===G?0:G.aggregate)return La("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),
e}if("color"===l&&(a?"fill"in b:"stroke"in b))return La(Cb("encoding",{fill:"fill"in b,stroke:"stroke"in b})),e;if("detail"===l||"order"===l&&!zd(u)&&!Gd(u)||"tooltip"===l&&zd(u))u&&(e[l]=$a(u).reduce(function(T,oa){Pc(oa)?T.push(Na(oa,l)):La(Rb(oa,l));return T},[]));else{if("tooltip"===l&&null===u)e[l]=null;else if(!(Pc(u)||Sd(u)||Gd(u)||u&&"condition"in u||Qb(u)))return La(Rb(u,l)),e;e[l]=D(u,l,c)}return e},{})}function Aa(b,f){for(var a={},c=$jscomp.makeIterator(id(b)),e=c.next();!e.done;e=c.next()){e=
e.value;var l=D(b[e],e,f,{compositeMark:!0});a[e]=l}return a}function Xa(b){for(var f=[],a=$jscomp.makeIterator(id(b)),c=a.next();!c.done;c=a.next())if(c=c.value,C(b,c)){c=$a(b[c]);c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())e=e.value,Pc(e)?f.push(e):ne(e)&&f.push(e.condition)}return f}function Va(b,f,a){if(b)for(var c=$jscomp.makeIterator(id(b)),e=c.next();!e.done;e=c.next()){e=e.value;var l=b[e];if(zd(l)){l=$jscomp.makeIterator(l);for(var u=l.next();!u.done;u=l.next())f.call(a,
u.value,e)}else f.call(a,l,e)}}function lb(b,f,a,c){return b?id(b).reduce(function(e,l){var u=b[l];return zd(u)?u.reduce(function(G,T){return f.call(c,G,T,l)},e):f.call(c,e,u,l)},a):a}function pb(b,f){return id(f).reduce(function(a,c){switch(c){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;
case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":c=f[c];if(zd(c)||Pc(c)){c=$jscomp.makeIterator($a(c));for(var e=c.next();!e.done;e=c.next())e=e.value,e.aggregate||a.push(gd(e,{}))}return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(c=df(f[c]))&&!c.aggregate&&a.push(gd(c,{})),a}},[])}function Gb(b,f,a,c){c=void 0===c?!0:c;if("tooltip"in a)return{tooltip:a.tooltip};
b=b.map(function(e){var l=e.fieldPrefix;e=e.titlePrefix;var u=c?" of ".concat(V(f.title,f.field)):"";return{field:l+f.field,type:f.type,title:Qb(e)?{signal:e+'"'.concat(escape(u),'"')}:e+u}});a=Xa(a).map(qf);return{tooltip:[].concat($jscomp.arrayFromIterable(b),$jscomp.arrayFromIterable(qa(a,xa)))}}function Wb(b,f,a,c,e){var l=a.scale,u=a.axis;return function(G){var T=G.partName,oa=G.mark,ab=G.positionPrefix,Ya=void 0===G.endPositionPrefix?void 0:G.endPositionPrefix;G=void 0===G.extraEncoding?{}:
G.extraEncoding;var vb=V(a.title,a.field),Zb={},sc={};return p(b,T,e,{mark:oa,encoding:Object.assign({},(Zb[f]=Object.assign({},{field:ab+"_"+a.field,type:a.type},void 0!==vb?{title:vb}:{},void 0!==l?{scale:l}:{},void 0!==u?{axis:u}:{}),Zb),ea(Ya)?(sc[f+"2"]={field:Ya+"_"+a.field},sc):{},c,G)})}}function p(b,f,a,c){var e=b.clip,l=b.color,u=b.opacity,G=b.type;return b[f]||void 0===b[f]&&a[f]?[Object.assign({},c,{mark:Object.assign({},a[f],e?{clip:e}:{},l?{color:l}:{},u?{opacity:u}:{},oc(c.mark)?c.mark:
{type:c.mark},{style:"".concat(G,"-").concat(f)},db(b[f])?{}:b[f])})]:[]}function x(b,f,a){b=b.encoding;f="vertical"===f?"y":"x";var c=b[f+"2"],e=b[f+"Error"],l=b[f+"Error2"];return{continuousAxisChannelDef:Q(b[f],a),continuousAxisChannelDef2:Q(c,a),continuousAxisChannelDefError:Q(e,a),continuousAxisChannelDefError2:Q(l,a),continuousAxis:f}}function Q(b,f){if(b&&b.aggregate){var a=Object.assign({},b);b=b.aggregate;a=(delete a.aggregate,a);b!==f&&(f="Continuous axis should not have customized aggregation function ".concat(b,
"; ").concat(f," already agregates the axis."),La(f));return a}return b}function W(b,f){var a=b.mark,c=b.encoding;b=c.x;c=c.y;if(oc(a)&&a.orient)return a.orient;if(Ld(b)){if(Ld(c)){a=Pc(b)&&b.aggregate;var e=Pc(c)&&c.aggregate;if(!a&&e===f)return"vertical";if(e||a!==f){if(a===f&&e===f)throw Error("Both x and y cannot have aggregate");return Jb(c)&&!Jb(b)?"horizontal":"vertical"}}return"horizontal"}if(Ld(c))return"vertical";throw Error("Need a valid continuous axis for ".concat(f,"s"));}function Ha(b,
f){var a=f.config,c,e=b=Object.assign({},b,{encoding:Aa(b.encoding,a)});f=Object.assign({},e);var l=e.mark;e=e.selection;f=(delete f.mark,delete f.encoding,delete f.selection,delete f.projection,f);l=oc(l)?l:{type:l};e&&La(Xc("boxplot"));e=null!==(c=l.extent)&&void 0!==c?c:a.boxplot.extent;var u=Fd("size",l,a),G=Ja(e)?"tukey":e,T=b,oa=W(T,"boxplot");c=x(T,oa,"boxplot");b=c.continuousAxisChannelDef;c=c.continuousAxis;var ab=b.field,Ya=Ja(e)?"tukey":e,vb=[].concat($jscomp.arrayFromIterable(ob(ab)),
[{op:"median",field:ab,as:"mid_box_"+ab},{op:"min",field:ab,as:("min-max"===Ya?"lower_whisker_":"min_")+ab},{op:"max",field:ab,as:("min-max"===Ya?"upper_whisker_":"max_")+ab}]);ab="min-max"===Ya||"tukey"===Ya?[]:[{calculate:'datum["upper_box_'.concat(ab,'"] - datum["lower_box_').concat(ab,'"]'),as:"iqr_"+ab},{calculate:'min(datum["upper_box_'.concat(ab,'"] + datum["iqr_').concat(ab,'"] * ').concat(e,', datum["max_').concat(ab,'"])'),as:"upper_whisker_"+ab},{calculate:'max(datum["lower_box_'.concat(ab,
'"] - datum["iqr_').concat(ab,'"] * ').concat(e,', datum["min_').concat(ab,'"])'),as:"lower_whisker_"+ab}];T=Object.assign({},T.encoding);var Zb;Ya=(delete T[c],T);T=Object.assign({},Ya);Ya=Ya.tooltip;T=(delete T.tooltip,T);if(Ya){var sc;if(zd(Ya)){Ya=$jscomp.makeIterator(Ya);for(var Ec=Ya.next();!Ec.done;Ec=Ya.next())Ec=Ec.value,Ec.aggregate?(Zb||(Zb=[]),Zb.push(Ec)):(sc||(sc=[]),sc.push(Ec));Zb&&(T.tooltip=Zb)}else Ya.aggregate?T.tooltip=Ya:sc=Ya;zd(sc)&&1===sc.length&&(sc=sc[0]);Zb={customTooltipWithoutAggregatedField:sc,
filteredEncoding:T}}else Zb={filteredEncoding:T};sc=Zb;Zb=sc.customTooltipWithoutAggregatedField;var Ic=U(sc.filteredEncoding,a);sc=Ic.bins;T=Ic.timeUnits;Ya=Ic.aggregate;Ec=Ic.groupby;var Uc=Ic.encoding,Zc="vertical"===oa?"horizontal":"vertical";vb=[].concat($jscomp.arrayFromIterable(sc),$jscomp.arrayFromIterable(T),[{aggregate:[].concat($jscomp.arrayFromIterable(Ya),$jscomp.arrayFromIterable(vb)),groupby:Ec}],$jscomp.arrayFromIterable(ab));Ic=Object.assign({},Uc);ab=Uc.color;var Yd=Uc.size;Ic=(delete Ic.color,
delete Ic.size,Ic);var Nd=Wb(l,c,b,Ic,a.boxplot),Bf=Wb(l,c,b,Uc,a.boxplot);Yd=Wb(l,c,b,Object.assign({},Ic,Yd?{size:Yd}:{}),a.boxplot);var Xe=Gb([{fieldPrefix:"min-max"===G?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===G?"lower_whisker_":"min_",titlePrefix:"Min"}],b,Uc),Hf={type:"tick",color:"black",opacity:1,orient:Zc,invalid:null,aria:!1};Uc=
"min-max"===G?Xe:Gb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],b,Uc);Uc=[].concat($jscomp.arrayFromIterable(Nd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Uc})),$jscomp.arrayFromIterable(Nd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Uc})),$jscomp.arrayFromIterable(Nd({partName:"ticks",
mark:Hf,positionPrefix:"lower_whisker",extraEncoding:Uc})),$jscomp.arrayFromIterable(Nd({partName:"ticks",mark:Hf,positionPrefix:"upper_whisker",extraEncoding:Uc})));u=[].concat($jscomp.arrayFromIterable("tukey"!==G?Uc:[]),$jscomp.arrayFromIterable(Bf({partName:"box",mark:Object.assign({},{type:"bar"},u?{size:u}:{},{orient:oa,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Xe})),$jscomp.arrayFromIterable(Yd({partName:"median",mark:Object.assign({},
{type:"tick",invalid:null},cb(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{},u?{size:u}:{},{orient:Zc,aria:!1}),positionPrefix:"mid_box",extraEncoding:Xe})));if("min-max"===G){var Se;return Object.assign({},f,{transform:(null!==(Se=f.transform)&&void 0!==Se?Se:[]).concat(vb),layer:u})}Se='datum["lower_box_'.concat(b.field,'"]');G='datum["upper_box_'.concat(b.field,'"]');oa="(".concat(G," - ").concat(Se,")");Se="".concat(Se," - ").concat(e," * ").concat(oa);G="".concat(G,
" + ").concat(e," * ").concat(oa);oa='datum["'.concat(b.field,'"]');e={joinaggregate:ob(b.field),groupby:Ec};Ya={transform:[{filter:"(".concat(Se," \x3c\x3d ").concat(oa,") \x26\x26 (").concat(oa," \x3c\x3d ").concat(G,")")},{aggregate:[{op:"min",field:b.field,as:"lower_whisker_"+b.field},{op:"max",field:b.field,as:"upper_whisker_"+b.field},{op:"min",field:"lower_box_"+b.field,as:"lower_box_"+b.field},{op:"max",field:"upper_box_"+b.field,as:"upper_box_"+b.field}].concat($jscomp.arrayFromIterable(Ya)),
groupby:Ec}],layer:Uc};Ec=Object.assign({},Ic);Ec=(delete Ec.tooltip,Ec);Ic=b.scale;Uc=b.axis;Zc=V(b.title,b.field);Uc=Qa(Uc,["title"]);Bf={};a=p(l,"outliers",a.boxplot,{transform:[{filter:"(".concat(oa," \x3c ").concat(Se,") || (").concat(oa," \x3e ").concat(G,")")}],mark:"point",encoding:Object.assign({},(Bf[c]=Object.assign({},{field:b.field,type:b.type},void 0!==Zc?{title:Zc}:{},void 0!==Ic?{scale:Ic}:{},A(Uc)?{}:{axis:Uc}),Bf),Ec,ab?{color:ab}:{},Zb?{tooltip:Zb}:{})})[0];l=[].concat($jscomp.arrayFromIterable(sc),
$jscomp.arrayFromIterable(T),[e]);a?a={transform:l,layer:[a,Ya]}:(a=Ya,a.transform.unshift.apply(a.transform,$jscomp.arrayFromIterable(l)));return Object.assign({},f,{layer:[a,{transform:vb,layer:u}]})}function ob(b){return[{op:"q1",field:b,as:"lower_box_"+b},{op:"q3",field:b,as:"upper_box_"+b}]}function Db(b,f){var a=f.config;b=Object.assign({},b,{encoding:Aa(b.encoding,a)});var c=ec(b,"errorbar",a);b=c.transform;var e=c.continuousAxisChannelDef,l=c.continuousAxis,u=c.encodingWithoutContinuousAxis,
G=c.ticksOrient,T=c.markDef;f=c.outerSpec;c=c.tooltipEncoding;delete u.size;a=Wb(T,l,e,u,a.errorbar);e=T.thickness;T=T.size;G=Object.assign({},{type:"tick",orient:G,aria:!1},void 0!==e?{thickness:e}:{},void 0!==T?{size:T}:{});G=[].concat($jscomp.arrayFromIterable(a({partName:"ticks",mark:G,positionPrefix:"lower",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"ticks",mark:G,positionPrefix:"upper",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==e?{size:e}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})));return Object.assign({},f,{transform:b},1<G.length?{layer:G}:Object.assign({},G[0]))}function Ub(b,f){var a=b.encoding;if(!(!Ed(a.x)&&!Ed(a.y)||Ed(a.x2)||Ed(a.y2)||Ed(a.xError)||Ed(a.xError2)||Ed(a.yError)||Ed(a.yError2)))return{orient:W(b,f),inputType:"raw"};var c=Ed(a.x2)||Ed(a.y2),e=Ed(a.xError)||Ed(a.xError2)||Ed(a.yError)||Ed(a.yError2);b=a.x;var l=a.y;if(c){if(e)throw Error("".concat(f,
" cannot be both type aggregated-upper-lower and aggregated-error"));c=a.x2;a=a.y2;if(Ed(c)&&Ed(a))throw Error("".concat(f," cannot have both x2 and y2"));if(Ed(c)){if(Ld(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(f));}if(Ed(a)){if(Ld(l))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(f));}}else{c=a.xError;e=a.yError;var u=a.yError2;if(Ed(a.xError2)&&
!Ed(c))throw Error("".concat(f," cannot have xError2 without xError"));if(Ed(u)&&!Ed(e))throw Error("".concat(f," cannot have yError2 without yError"));if(Ed(c)&&Ed(e))throw Error("".concat(f," cannot have both xError and yError with both are quantiative"));if(Ed(c)){if(Ld(b))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Ed(e)){if(Ld(l))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");
}}throw Error("No ranged axis");}function ec(b,f,a){var c,e=Object.assign({},b),l=b.mark,u=b.encoding,G=b.selection;e=(delete e.mark,delete e.encoding,delete e.selection,delete e.projection,e);l=oc(l)?l:{type:l};G&&La(Xc(f));var T=Ub(b,f);G=T.orient;T=T.inputType;var oa=x(b,G,f);b=oa.continuousAxisChannelDef;var ab=oa.continuousAxisChannelDef2,Ya=oa.continuousAxisChannelDefError,vb=oa.continuousAxisChannelDefError2;oa=oa.continuousAxis;var Zb=[];var sc=[];var Ec=b.field,Ic=!1;if("raw"===T){var Uc=
l.center?l.center:l.extent?"iqr"===l.extent?"median":"mean":a.errorbar.center;ab=l.extent?l.extent:"mean"===Uc?"stderr":"iqr";"median"===Uc!==("iqr"===ab)&&(Zb="".concat(Uc," is not usually used with ").concat(ab," for ").concat(f,"."),La(Zb));"stderr"===ab||"stdev"===ab?(Zb=[{op:ab,field:Ec,as:"extent_"+Ec},{op:Uc,field:Ec,as:"center_"+Ec}],sc=[{calculate:'datum["center_'.concat(Ec,'"] + datum["extent_').concat(Ec,'"]'),as:"upper_"+Ec},{calculate:'datum["center_'.concat(Ec,'"] - datum["extent_').concat(Ec,
'"]'),as:"lower_"+Ec}],Uc=[{fieldPrefix:"center_",titlePrefix:H(Uc)},{fieldPrefix:"upper_",titlePrefix:H(Uc)+" + "+ab},{fieldPrefix:"lower_",titlePrefix:H(Uc)+" - "+ab}],Ic=!0):("ci"===ab?(Uc="mean",f="ci0",ab="ci1"):(Uc="median",f="q1",ab="q3"),Zb=[{op:f,field:Ec,as:"lower_"+Ec},{op:ab,field:Ec,as:"upper_"+Ec},{op:Uc,field:Ec,as:"center_"+Ec}],Uc=[{fieldPrefix:"upper_",titlePrefix:Pe({field:Ec,aggregate:ab,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Pe({field:Ec,
aggregate:f,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Pe({field:Ec,aggregate:Uc,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(l.center||l.extent){f=l.center;var Zc=l.extent;f="".concat(Zc?"extent ":"").concat(Zc&&f?"and ":"").concat(f?"center ":"").concat(Zc&&f?"are ":"is ","not needed when data are aggregated.");La(f)}"aggregated-upper-lower"===T?(Uc=[],sc=[{calculate:'datum["'.concat(ab.field,'"]'),as:"upper_"+Ec},{calculate:'datum["'.concat(Ec,'"]'),
as:"lower_"+Ec}]):"aggregated-error"===T&&(Uc=[{fieldPrefix:"",titlePrefix:Ec}],sc=[{calculate:'datum["'.concat(Ec,'"] + datum["').concat(Ya.field,'"]'),as:"upper_"+Ec}],vb?sc.push({calculate:'datum["'.concat(Ec,'"] + datum["').concat(vb.field,'"]'),as:"lower_"+Ec}):sc.push({calculate:'datum["'.concat(Ec,'"] - datum["').concat(Ya.field,'"]'),as:"lower_"+Ec}));Ec=$jscomp.makeIterator(sc);for(f=Ec.next();!f.done;f=Ec.next())f=f.value,Uc.push({fieldPrefix:f.as.substring(0,6),titlePrefix:E(E(f.calculate,
'datum["',""),'"]',"")})}u=Object.assign({},u);Ec="x"===oa?"x2":"y2";f="x"===oa?"xError":"yError";ab="x"===oa?"xError2":"yError2";u=(delete u[oa],delete u[Ec],delete u[f],delete u[ab],u);ab=U(u,a);a=ab.bins;u=ab.timeUnits;f=ab.groupby;Ec=ab.encoding;Zb=[].concat($jscomp.arrayFromIterable(ab.aggregate),$jscomp.arrayFromIterable(Zb));T="raw"!==T?[]:f;Ic=Gb(Uc,b,Ec,Ic);return{transform:[].concat($jscomp.arrayFromIterable(null!==(c=e.transform)&&void 0!==c?c:[]),$jscomp.arrayFromIterable(a),$jscomp.arrayFromIterable(u),
$jscomp.arrayFromIterable(0===Zb.length?[]:[{aggregate:Zb,groupby:T}]),$jscomp.arrayFromIterable(sc)),groupby:T,continuousAxisChannelDef:b,continuousAxis:oa,encodingWithoutContinuousAxis:Ec,ticksOrient:"vertical"===G?"horizontal":"vertical",markDef:l,outerSpec:e,tooltipEncoding:Ic}}function zc(b,f){var a=f.config;b=Object.assign({},b,{encoding:Aa(b.encoding,a)});var c=ec(b,"errorband",a);f=c.transform;var e=c.outerSpec,l=c.tooltipEncoding,u=c.markDef;a=Wb(u,c.continuousAxis,c.continuousAxisChannelDef,
c.encodingWithoutContinuousAxis,a.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;c={type:b?"area":"rect"};var G={type:b?"line":"rule"},T=Object.assign({},u.interpolate?{interpolate:u.interpolate}:{},u.tension&&u.interpolate?{tension:u.tension}:{});b?(c=Object.assign({},c,T,{ariaRoleDescription:"errorband"}),G=Object.assign({},G,T,{aria:!1})):u.interpolate?La(fa("interpolate")):u.tension&&La(fa("tension"));return Object.assign({},e,{transform:f,layer:[].concat($jscomp.arrayFromIterable(a({partName:"band",
mark:c,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),$jscomp.arrayFromIterable(a({partName:"borders",mark:G,positionPrefix:"lower",extraEncoding:l})),$jscomp.arrayFromIterable(a({partName:"borders",mark:G,positionPrefix:"upper",extraEncoding:l})))})}function Cc(b,f,a){f=new Zj(b,f);mm[b]={normalizer:f,parts:a}}function $c(b){var f=[];b=$jscomp.makeIterator(b||[]);for(var a=b.next();!a.done;a=b.next()){var c=a.value,e=Object.assign({},c);a=c.expr;c=c.bind;e=(delete e.expr,delete e.bind,
e);c&&a?(a=Object.assign({},e,{bind:c,init:a}),f.push(a)):(a=Object.assign({},e,a?{update:a}:{},c?{bind:c}:{}),f.push(a))}return f}function qd(b){return!!b&&("legend"===b||!!b.legend)}function Mc(b){return qd(b)&&cb(b)}function Ad(b,f){for(var a={},c=$jscomp.makeIterator(Im),e=c.next();!e.done;e=c.next())e=e.value,b&&void 0!==b[e]&&(a[e]=wd(b[e]));f&&(a.params=b.params);return a}function Cd(b){return cb(b)&&void 0!==b.step}function we(b){return b.view||b.width||b.height}function X(b,f,a){var c={};
a=a[f];f=a.spacing;a=a.columns;void 0!==f&&(c.spacing=f);void 0!==a&&("facet"in b&&!fc(b.facet)||"concat"in b)&&(c.columns=a);"vconcat"in b&&(c.columns=1);a=$jscomp.makeIterator(Jm);for(var e=a.next();!e.done;e=a.next())if(e=e.value,void 0!==b[e])if("spacing"===e){var l,u,G=b[e];c[e]=Ja(G)?G:{row:null!==(l=G.row)&&void 0!==l?l:f,column:null!==(u=G.column)&&void 0!==u?u:f}}else c[e]=b[e];return c}function ta(b,f){var a;return null!==(a=b[f])&&void 0!==a?a:b["width"===f?"continuousWidth":"continuousHeight"]}
function Ua(b,f){b=kb(b,f);return Cd(b)?b.step:20}function kb(b,f){var a;f=null!==(a=b[f])&&void 0!==a?a:b["width"===f?"discreteWidth":"discreteHeight"];return V(f,{step:b.step})}function Bb(b){var f=id(b||{}),a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next()){c=c.value;var e=b[c];a[c]=r(e)?jd(e):wd(e)}return a}function mc(b){b=void 0===b?{}:b;var f=Object.assign({},b),a=b.color,c=b.font;b=b.fontSize;f=(delete f.color,delete f.font,delete f.fontSize,f);c=c?{text:{font:c},style:{"guide-label":{font:c},
"guide-title":{font:c},"group-title":{font:c},"group-subtitle":{font:c}}}:{};a?(a=void 0===a?{}:a,a={signals:[{name:"color",value:cb(a)?Object.assign({},nm,a):nm}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},
gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):a={};b=Eb({},Km,c,a,b?{signals:[{name:"fontSize",value:cb(b)?Object.assign({},om,b):om}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{},f||{});a=Qa(b,Lm);f=$jscomp.makeIterator(["background","lineBreak","padding"]);for(c=f.next();!c.done;c=f.next())c=c.value,b[c]&&(a[c]=wd(b[c]));f=$jscomp.makeIterator(pm);for(c=f.next();!c.done;c=f.next())c=c.value,b[c]&&(a[c]=Pb(b[c]));f=$jscomp.makeIterator(ak);for(c=f.next();!c.done;c=f.next())c=c.value,b[c]&&(a[c]=Bb(b[c]));
f=$jscomp.makeIterator(qm);for(c=f.next();!c.done;c=f.next())c=c.value,b[c]&&(a[c]=Pb(b[c]));b.legend&&(a.legend=Pb(b.legend));b.scale&&(a.scale=Pb(b.scale));if(b.style){f=b.style;var e=id(f);c={};e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next())l=l.value,c[l]=Bb(f[l]);a.style=c}b.title&&(a.title=Pb(b.title));b.view&&(a.view=Pb(b.view));return a}function wc(b){b=xe(b);for(var f=$jscomp.makeIterator(Mm),a=f.next();!a.done;a=f.next())delete b[a.value];if(b.axis)for(var c in b.axis)r(b.axis[c])&&
delete b.axis[c];if(b.legend)for(f=$jscomp.makeIterator(Nm),a=f.next();!a.done;a=f.next())delete b.legend[a.value];if(b.mark){f=$jscomp.makeIterator(Mk);for(a=f.next();!a.done;a=f.next())delete b.mark[a.value];b.mark.tooltip&&cb(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&(b.signals=(b.signals||[]).concat($c(b.params)),delete b.params);f=$jscomp.makeIterator(Om);for(c=f.next();!c.done;c=f.next()){c=c.value;var e=$jscomp.makeIterator(Mk);for(a=e.next();!a.done;a=e.next())delete b[c][a.value];
if(a=Pm[c])for(e=$jscomp.makeIterator(a),a=e.next();!a.done;a=e.next())delete b[c][a.value];e=a=void 0;var l=b,u=void 0,G=l[c];"view"===c&&(u="cell");G=Object.assign({},G,l.style[null!==(e=u)&&void 0!==e?e:c]);A(G)||(l.style[null!==(a=u)&&void 0!==a?a:c]=G);delete l[c]}f=$jscomp.makeIterator(id(mm));for(c=f.next();!c.done;c=f.next())delete b[c.value];f=b;e=bd(f.title);c=e.titleMarkConfig;a=e.subtitleMarkConfig;e=e.subtitle;A(c)||(f.style["group-title"]=Object.assign({},f.style["group-title"],c));
A(a)||(f.style["group-subtitle"]=Object.assign({},f.style["group-subtitle"],a));A(e)?delete f.title:f.title=e;for(var T in b)cb(b[T])&&A(b[T])&&delete b[T];return A(b)?void 0:b}function nc(b,f){var a="x"===f?"y":"radius",c=b[f];b=b[a];if(Pc(c)&&Pc(b))if("quantitative"===fe(c)&&"quantitative"===fe(b)){if(c.stack)return f;if(b.stack)return a;var e=Pc(c)&&!!c.aggregate,l=Pc(b)&&!!b.aggregate;if(e!==l)return e?f:a;var u,G;c=null===(u=c.scale)||void 0===u?void 0:u.type;u=null===(G=b.scale)||void 0===G?
void 0:G.type;if(c&&"linear"!==c)return a;if(u&&"linear"!==u)return f}else{if("quantitative"===fe(c))return f;if("quantitative"===fe(b))return a}else{if("quantitative"===fe(c))return f;if("quantitative"===fe(b))return a}}function yc(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Bc(b,f,a){a=void 0===a?{}:a;b=oc(b)?b.type:b;if(!Qm.has(b))return null;var c=nc(f,"x")||nc(f,"theta");if(!c)return null;var e=f[c],l=Pc(e)?gd(e,{}):void 0,
u=yc(c),G=f[u],T=Pc(G)?gd(G,{}):void 0;T===l&&(u=G=T=void 0);l=eg.reduce(function(ab,Ya){if("tooltip"!==Ya&&C(f,Ya))for(var vb=$jscomp.makeIterator($a(f[Ya])),Zb=vb.next();!Zb.done;Zb=vb.next())if(Zb=df(Zb.value),!Zb.aggregate){var sc=gd(Zb,{});sc&&sc===T||ab.push({channel:Ya,fieldDef:Zb})}return ab},[]);var oa;void 0!==e.stack?oa=db(e.stack)?e.stack?"zero":null:e.stack:0<l.length&&Rm.has(b)&&(oa="zero");if(!(oa&&oa in Sm)||M(f)&&0===l.length)return null;if(e.scale&&e.scale.type&&e.scale.type!==Af.LINEAR){if(a.disallowNonLinearStack)return null;
La("Cannot stack non-linear scale (".concat(e.scale.type,")."))}if(Ed(f[Ka(c)]))return void 0!==e.stack&&La('Cannot stack "'.concat(c,'" if there is already "').concat(c,'2".')),null;Pc(e)&&e.aggregate&&!ya(Fl,e.aggregate)&&La('Stacking is applied even though the aggregate function is non-summative ("'.concat(e.aggregate,'").'));return{groupbyChannel:G?u:void 0,groupbyField:T,fieldChannel:c,impute:null===e.impute?!1:kc(b),stackBy:l,offset:oa}}function dd(b){b=Object.assign({},b);b=(delete b.point,
delete b.line,b);return 1<id(b).length?b:b.type}function Qc(b){for(var f=$jscomp.makeIterator(["line","area","rule","trail"]),a=f.next();!a.done;a=f.next())if(a=a.value,b[a]){var c={};b=Object.assign({},b,(c[a]=Qa(b[a],["point","line"]),c))}return b}function Kc(b,f,a){f=void 0===f?{}:f;if("transparent"===b.point)return{opacity:0};if(b.point)return cb(b.point)?b.point:{};if(void 0!==b.point)return null;if(f.point||a.shape)return cb(f.point)?f.point:{}}function Wc(b,f){f=void 0===f?{}:f;if(b.line)return!0===
b.line?{}:b.line;if(void 0!==b.line)return null;if(f.line)return!0===f.line?{}:f.line}function fd(b,f){return f?sd(b,f):b}function hd(b,f,a){var c=f[b];if(c&&!ea(c)&&"repeat"in c){if(c.repeat in a){var e={};return Object.assign({},f,(e[b]=a[c.repeat],e))}La('Unknown repeated value "'.concat(c.repeat,'".'))}else return f}function ie(b,f){b=hd("field",b,f);if(void 0!==b){if(null===b)return null;"sort"in b&&He(b.sort)&&(f=hd("field",b.sort,f),b=Object.assign({},b,f?{sort:f}:{}));return b}}function Td(b,
f){if(Pc(b))return ie(b,f);f=hd("datum",b,f);f===b||f.type||(f.type="nominal");return f}function Id(b,f){if(Ed(b)){if(f=Td(b,f))return f;if(b&&"condition"in b)return{condition:b.condition}}else{if(ee(b)){if(f=Td(b.condition,f))return Object.assign({},b,{condition:f});b=Object.assign({},b);return delete b.condition,b}return b}}function sd(b,f){var a={},c;for(c in b)if(zf.call(b,c)){var e=b[c];zd(e)?a[c]=e.map(function(l){return Id(l,f)}).filter(function(l){return l}):(e=Id(e,f),void 0!==e&&(a[c]=e))}return a}
function ed(b){var f=b.parentEncoding,a=void 0===b.encoding?{}:b.encoding;b=b.layer;var c={};if(f){var e=new Set([].concat($jscomp.arrayFromIterable(id(f)),$jscomp.arrayFromIterable(id(a))));e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next()){l=l.value;var u=a[l],G=f[l];if(Ed(u))u=Object.assign({},G,u),c[l]=u;else if(ee(u))c[l]=Object.assign({},u,{condition:Object.assign({},G,u.condition)});else if(u||null===u)c[l]=u;else if(b||Gd(G)||Qb(G)||Ed(G)||zd(G))c[l]=G}}else c=a;return!c||A(c)?
void 0:c}function Rd(b){var f=b.parentProjection;b=b.projection;if(f&&b){var a="Layer's shared projection ".concat(mf(f)," is overridden by a child projection ").concat(mf(b),".");La(a)}return null!==b&&void 0!==b?b:f}function Ie(b,f){void 0===f&&(f=mc(b.config));var a=f;a=void 0===a?{}:a;a=Tm.map(b,{config:a});var c=f;f=b.width;b=b.height;var e=B(a)||"layer"in a,l={};e?"container"==f&&"container"==b?(l.type="fit",l.contains="padding"):"container"==f?(l.type="fit-x",l.contains="padding"):"container"==
b&&(l.type="fit-y",l.contains="padding"):("container"==f&&(La(Tc("width")),f=void 0),"container"==b&&(La(Tc("height")),b=void 0));c=Object.assign({},{type:"pad"},l,c?Re(c.autosize):{},Re(a.autosize));"fit"!==c.type||e||(La('Autosize "fit" only works for single views and layered views.'),c.type="pad");"container"==f&&"fit"!=c.type&&"fit-x"!=c.type&&La(pc("width"));"container"==b&&"fit"!=c.type&&"fit-y"!=c.type&&La(pc("height"));f=Zg(c,{type:"pad"})?void 0:c;return Object.assign({},a,f?{autosize:f}:
{})}function Re(b){return ea(b)?{type:b}:null!==b&&void 0!==b?b:{}}function Ae(b){return{explicit:!0,value:b}}function je(b){return{explicit:!1,value:b}}function Ce(b){return function(f,a,c,e){var l=b(f.value,a.value);return 0<l?f:0>l?a:lf(f,a,c,e)}}function lf(b,f,a,c){if(b.explicit&&f.explicit){var e=b.value;f=f.value;a="Conflicting ".concat(c.toString(),' property "').concat(a.toString(),'" (').concat(mf(e)," and ").concat(mf(f),"). Using ").concat(mf(e),".");La(a)}return b}function hf(b,f,a,c,
e){e=void 0===e?lf:e;return void 0===b||void 0===b.value?f:b.explicit&&!f.explicit?b:f.explicit&&!b.explicit?f:Zg(b.value,f.value)?b:e(b,f,a,c)}function Kf(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!dg(b)}function dg(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function Bd(b){return b.map(function(f){return"filter"in f?{filter:la(f.filter,bf)}:f})}function af(b,f,a){rm=f||"view";sm=a||Um;return mh(b.trim()).map(oh)}function lg(b,f,a,c,e){for(var l=b.length,u=0,G;f<l;++f)if(G=
b[f],u||G!==a)e&&0<=e.indexOf(G)?--u:c&&0<=c.indexOf(G)&&++u;else break;return f}function mh(b){for(var f=[],a=b.length,c=0,e=0;e<a;)e=lg(b,e,",","[{","]}"),f.push(b.substring(c,e).trim()),c=++e;if(0===f.length)throw"Empty event selector: "+b;return f}function oh(b){if("["===b[0]){var f=b;var a=f.length;b=lg(f,1,"]","[","]");if(b===a)throw"Empty between selector: "+f;a=mh(f.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+f;f=f.slice(b+1).trim();if("\x3e"!==f[0])throw"Expected '\x3e' after between selector: "+
f;a=a.map(oh);f=oh(f.slice(1).trim());f.between?f={between:a,stream:f}:f.between=a}else{a={source:rm};var c=[],e=[0,0],l=0,u=0,G=b.length,T=0;if("}"===b[G-1]){T=b.lastIndexOf("{");if(0<=T){try{e=Gl(b.substring(T+1,G-1))}catch(ab){throw"Invalid throttle specification: "+b;}b=b.slice(0,T).trim();G=b.length}else throw"Unmatched right brace: "+b;T=0}if(!G)throw b;"@"===b[0]&&(l=++T);var oa=lg(b,T,":");oa<G&&(c.push(b.substring(u,oa).trim()),u=T=++oa);T=lg(b,T,"[");if(T===G)c.push(b.substring(u,G).trim());
else if(c.push(b.substring(u,T).trim()),f=[],u=++T,u===G)throw"Unmatched left bracket: "+b;for(;T<G;){T=lg(b,T,"]");if(T===G)throw"Unmatched left bracket: "+b;f.push(b.substring(u,T).trim());if(T<G-1&&"["!==b[++T])throw"Expected left bracket: "+b;u=++T}if(!(G=c.length)||Vm.test(c[G-1]))throw"Invalid event selector: "+b;1<G?(a.type=c[1],l?a.markname=c[0].slice(1):sm[c[0]]?a.marktype=c[0]:a.source=c[0]):a.type=c[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=f&&(a.filter=
f);e[0]&&(a.throttle=e[0]);e[1]&&(a.debounce=e[1]);f=a}return f}function Gl(b){var f=b.split(",");if(!b.length||2<f.length)throw b;return f.map(function(a){a=+a;if(a!==a)throw b;return a})}function Ch(b,f,a,c){var e=!!f&&"condition"in f&&f.condition;f=c(f);if(e){e=$a(e).map(function(u){var G=c(u);u=u.selection?bk(b,u.selection):ei(b,u.test);return Object.assign({},{test:u},G)});var l={};return l[a]=[].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(void 0!==f?[f]:[])),l}e={};return void 0!==
f?(e[a]=f,e):{}}function $g(b,f){f=void 0===f?"text":f;return Ch(b,b.encoding[f],f,function(a){return nj(a,b.config)})}function nj(b,f,a){a=void 0===a?"datum":a;if(b){if(Gd(b))return ge(b.value);if(Ed(b)){var c=$e(b);return Wd({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:a,config:f})}}}function Nk(b,f){f=void 0===f?{}:f;var a=b.encoding,c=b.markDef,e=b.config,l=b.stack,u=a.tooltip;if(zd(u))return{tooltip:Ok({tooltip:u},l,e,f)};var G=f.reactiveGeom?"datum.datum":"datum";return Ch(b,
u,"tooltip",function(T){var oa=nj(T,e,G);if(oa)return oa;if(null!==T){T=Fd("tooltip",c,e);!0===T&&(T={content:"encoding"});if(ea(T))return{value:T};if(cb(T))return Qb(T)?T:"encoding"===T.content?Ok(a,l,e,f):{signal:G}}})}function Pk(b,f,a,c){function e(vb,Zb){var sc,Ec=eb(Zb);vb=ke(vb)?vb:Object.assign({},vb,{type:b[Ec].type});Ec=vb.title||Xj(vb,a);Ec=$a(Ec).join(", ");if(Zb in Ue){var Ic="x"===Zb?"x2":"y2",Uc=df(b[Ic]);if(wb(vb.bin)&&Uc){var Zc=gd(vb,{expr:u});Uc=gd(Uc,{expr:u});var Yd=$e(vb);Zc=
ff(Zc,Uc,Yd.format,Yd.formatType,a);l[Ic]=!0}else f&&f.fieldChannel===Zb&&"normalize"===f.offset&&(Zc=$e(vb),Zc=Wd({fieldOrDatumDef:vb,format:Zc.format,formatType:Zc.formatType,expr:u,config:a,normalizeStack:!0}).signal)}Zc=null!==(sc=Zc)&&void 0!==sc?sc:nj(vb,a,u).signal;G.push({channel:Zb,key:Ec,value:Zc})}var l={},u=(void 0===c?{}:c).reactiveGeom?"datum.datum":"datum",G=[];Va(b,function(vb,Zb){Pc(vb)?e(vb,Zb):ne(vb)&&e(vb.condition,Zb)});c={};for(var T=$jscomp.makeIterator(G),oa=T.next();!oa.done;oa=
T.next()){oa=oa.value;var ab=oa.key,Ya=oa.value;l[oa.channel]||c[ab]||(c[ab]=Ya)}return c}function Ok(b,f,a,c){b=Pk(b,f,a,{reactiveGeom:(void 0===c?{}:c).reactiveGeom});b=Yf(b).map(function(e){var l=$jscomp.makeIterator(e);e=l.next().value;l=l.next().value;return'"'.concat(e,'": ').concat(l)});return 0<b.length?{signal:"{".concat(b.join(", "),"}")}:void 0}function Lg(b){var f=Fd("aria",b.markDef,b.config);return!1===f?{}:Object.assign({},f?{aria:f}:{},ck(b),Hl(b))}function ck(b){var f=b.mark,a=b.config;
if(!1===a.aria)return{};b=Fd("ariaRoleDescription",b.markDef,a);return null!=b?{ariaRoleDescription:{value:b}}:f in dk?{}:{ariaRoleDescription:{value:f}}}function Hl(b){var f=b.encoding,a=b.markDef,c=b.config,e=b.stack,l=f.description;if(l)return Ch(b,l,"description",function(u){return nj(u,b.config)});a=Fd("description",a,c);if(null!=a)return{description:ge(a)};if(!1===c.aria)return{};f=Pk(f,e,c);if(!A(f))return{description:{signal:Yf(f).map(function(u,G){var T=$jscomp.makeIterator(u);u=T.next().value;
T=T.next().value;return'"'.concat(0<G?"; ":"").concat(u,': " + (').concat(T,")")}).join(" + ")}}}function sf(b,f,a){a=void 0===a?{}:a;var c=f.markDef,e=f.encoding,l=f.config,u=a.vgChannel,G=a.defaultRef;a=a.defaultValue;if(void 0===G){var T;a=null!==(T=a)&&void 0!==T?T:Fd(b,c,l,{vgChannel:u,ignoreVgConfig:!0});void 0!==a&&(G=ge(a))}return Ch(f,e[b],null!==u&&void 0!==u?u:b,function(oa){return ld({channel:b,channelDef:oa,markDef:c,config:l,scaleName:f.scaleName(b),scale:f.getScaleComponent(b),stack:null,
defaultRef:G})})}function Ii(b,f){f=void 0===f?{filled:void 0}:f;var a,c,e,l,u=b.markDef,G=b.encoding,T=b.config,oa=u.type;f=null!==(a=f.filled)&&void 0!==a?a:Fd("filled",u,T);a=ya(["bar","point","circle","square","geoshape"],oa)?"transparent":void 0;a=null!==(c=null!==(e=Fd(!0===f?"color":void 0,u,T,{vgChannel:"fill"}))&&void 0!==e?e:T.mark[!0===f&&"color"])&&void 0!==c?c:a;c=null!==(l=Fd(!1===f?"color":void 0,u,T,{vgChannel:"stroke"}))&&void 0!==l?l:T.mark[!1===f&&"color"];l=f?"fill":"stroke";e=
Object.assign({},a?{fill:ge(a)}:{},c?{stroke:ge(c)}:{});u.color&&(f?u.fill:u.stroke)&&La(Cb("property",{fill:"fill"in u,stroke:"stroke"in u}));return Object.assign({},e,sf("color",b,{vgChannel:l,defaultValue:f?a:c}),sf("fill",b,{defaultValue:G.fill?a:void 0}),sf("stroke",b,{defaultValue:G.stroke?c:void 0}))}function ph(b){var f=b.encoding.order;return!kc(b.mark)&&Gd(f)?Ch(b,f,"zindex",function(a){return ge(a.value)}):{}}function Dh(b,f){b=ra(b);if(f=f[b])return f}function Mf(b,f,a){var c=a.defaultPos,
e=a.vgChannel;a=a.isMidPoint;var l=f.encoding,u=f.markDef,G=f.config,T=f.stack,oa=l[b],ab=l[Ka(b)],Ya=f.scaleName(b),vb=f.getScaleComponent(b),Zb=Dh(b,u);c=ek({model:f,defaultPos:c,channel:b,scaleName:Ya,scale:vb});if(!oa&&b in Ue&&(l.latitude||l.longitude))f={field:f.getName(b)};else a:if(l={channel:b,channelDef:oa,channel2Def:ab,markDef:u,config:G,isMidPoint:a,scaleName:Ya,scale:vb,stack:T,offset:Zb,defaultRef:c},u=l.channel,f=l.channelDef,G=l.isMidPoint,c=l.scaleName,T=l.stack,a=l.offset,oa=l.markDef,
ab=l.config,Ed(f)&&T&&u===T.fieldChannel){if(Pc(f)&&(l=dc({channel:u,fieldDef:f,isMidPoint:G,markDef:oa,stack:T,config:ab}),void 0!==l)){f=yd({scaleName:c,fieldOrDatumDef:f,startSuffix:"start",band:l,offset:a});break a}f=pd(f,c,{suffix:"end"},{offset:a})}else f=qc(l);c={};return f?(c[e||b]=f,c):void 0}function ek(b){var f=b.model,a=b.defaultPos,c=b.channel,e=b.scaleName,l=b.scale,u=f.markDef,G=f.config;return function(){var T=eb(c),oa=Ca(c);oa=Fd(c,u,G,{vgChannel:oa});if(void 0!==oa)return Od(c,oa);
switch(a){case "zeroOrMin":case "zeroOrMax":if(e&&(oa=l.get("type"),!ya([Af.LOG,Af.TIME,Af.UTC],oa)&&l.domainDefinitelyIncludesZero()))return{scale:e,value:0};if("zeroOrMin"===a)return"y"===T?{field:{group:"height"}}:{value:0};switch(T){case "radius":return{signal:"min(".concat(f.width.signal,",").concat(f.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return T=f[Z(c)],Object.assign({},T,{mult:.5})}}}function fk(b,
f,a,c){c=void 0===c?"middle":c;if("radius"===b||"theta"===b)return Ca(b);var e="x"===b?"align":"baseline";f=Fd(e,f,a);Qb(f)?(La("The ".concat(e," for range marks cannot be an expression")),e=void 0):e=f;return"x"===b?Wm[e||("top"===c?"left":"center")]:Xm[e||c]}function Mg(b,f,a){var c=a.defaultPos,e=a.defaultPos2;return a.range?gk(b,f,{defaultPos:c,defaultPos2:e}):Mf(b,f,{defaultPos:c})}function gk(b,f,a){var c=a.defaultPos,e=a.defaultPos2;a=f.markDef;var l=f.config,u=Ka(b),G=Z(b);var T=f.encoding,
oa=f.mark,ab=f.markDef,Ya=f.stack,vb=f.config,Zb=eb(u),sc=Z(u);var Ec=Ca(u);var Ic=T[Zb],Uc=f.scaleName(Zb),Zc=f.getScaleComponent(Zb);Zb=u in T||u in ab?Dh(u,f.markDef):Dh(Zb,f.markDef);Ic||"x2"!==u&&"y2"!==u||!T.latitude&&!T.longitude?(T=T[u],Ya=Ed(Ic)&&Ya&&u.charAt(0)===Ya.fieldChannel.charAt(0)?pd(Ic,Uc,{suffix:"start"},{offset:Zb}):qc({channel:u,channelDef:T,scaleName:Uc,scale:Zc,stack:Ya,markDef:ab,config:vb,offset:Zb,defaultRef:void 0}),void 0!==Ya?(u={},Ec=(u[Ec]=Ya,u)):(Ya={},Ic={},Ec=fi(u,
ab)||fi(u,(Ya[u]=xf(u,ab,vb.style),Ya[sc]=xf(sc,ab,vb.style),Ya))||fi(u,vb[oa])||fi(u,vb.mark)||(Ic[Ec]=ek({model:f,defaultPos:e,channel:u,scaleName:Uc,scale:Zc})(),Ic))):(e={},Ec=(e[Ec]={field:f.getName(u)},e));a=Ec[G]?fk(b,a,l):Ca(b);return Object.assign({},Mf(b,f,{defaultPos:c,vgChannel:a}),Ec)}function fi(b,f){var a=Z(b),c=Ca(b);if(void 0!==f[c])return a={},a[c]=Od(b,f[c]),a;if(void 0!==f[b])return a={},a[c]=Od(b,f[b]),a;if(f[a])return c={},c[a]=Od(b,f[a]),c}function Ag(b,f,a){var c,e,l=b.config,
u=b.encoding,G=b.markDef,T=b.stack,oa=Ka(f),ab=Z(f),Ya=u[f],vb=u[oa],Zb=b.getScaleComponent(f),sc=Zb?Zb.get("type"):void 0;oa=b.scaleName(f);var Ec=G.orient;u=null!==(c=null!==(e=u[ab])&&void 0!==e?e:u.size)&&void 0!==c?c:Fd("size",G,l,{vgChannel:ab});c="bar"===a&&("x"===f?"vertical"===Ec:"horizontal"===Ec);if(Pc(Ya)&&(za(Ya.bin)||wb(Ya.bin)||Ya.timeUnit&&!vb)&&!u&&!(sc in nb)){var Ic,Uc,Zc=dc({channel:f,fieldDef:Ya,stack:T,markDef:G,config:l});b=null===(Ic=b.component.axes[f])||void 0===Ic?void 0:
Ic[0];b=null!==(Uc=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==Uc?Uc:.5;a:{var Yd=f in Ue?Fd("binSpacing",G,l):void 0;a=Zb.get("reverse");Yd=void 0===Yd?0:Yd;T=Ka(f);Zb=Ca(f);Uc=Ca(T);Ic=Dh(f,G);if(za(Ya.bin)||Ya.timeUnit)vb={},f=(vb[Uc]=hk({channel:f,fieldDef:Ya,scaleName:oa,markDef:G,band:(1-Zc)/2,offset:Eh(T,Yd,a,b,Ic),config:l}),vb[Zb]=hk({channel:f,fieldDef:Ya,scaleName:oa,markDef:G,band:1-(1-Zc)/2,offset:Eh(f,Yd,a,b,Ic),config:l}),vb);else{if(wb(Ya.bin)){Zc=pd(Ya,oa,{},{offset:Eh(T,
Yd,a,b,Ic)});if(Pc(vb)){Ya={};f=(Ya[Uc]=Zc,Ya[Zb]=pd(vb,oa,{},{offset:Eh(f,Yd,a,b,Ic)}),Ya);break a}if(cb(Ya.bin)&&Ya.bin.step){l={};f=(l[Uc]=Zc,l[Zb]={signal:'scale("'.concat(oa,'", ').concat(gd(Ya,{expr:"datum"})," + ").concat(Ya.bin.step,")"),offset:Eh(f,Yd,a,b,Ic)},l);break a}}La(bb(T));f=void 0}}return f}if((Ed(Ya)&&sc in nb||c)&&!vb){G=b.markDef;T=b.encoding;vb=b.config;Zb=b.stack;c=G.orient;Uc=b.scaleName(f);Ic=b.getScaleComponent(f);oa=Z(f);l=Ka(f);c="horizontal"===c&&"y"===f||"vertical"===
c&&"x"===f;e=Fd(c?"size":oa,G,vb,{vgChannel:oa});if(T.size||void 0!==e)c?Zc=sf("size",b,{vgChannel:oa,defaultValue:e}):La('Cannot apply size to non-oriented mark "'.concat(G.type,'".'));T=null!==(Yd=Ed(Ya)?dc({channel:f,fieldDef:Ya,markDef:G,stack:Zb,config:vb}):void 0)&&void 0!==Yd?Yd:1;Yd={};Zc||(Ic?(Zc=Ic.get("type"),"point"===Zc||"band"===Zc?void 0!==vb[a].discreteBandSize?Zc={value:vb[a].discreteBandSize}:Zc===Af.POINT?(Zc=Ic.get("range"),Zc=Gc(Zc)&&Ja(Zc.step)?{value:Zc.step-2}:{value:18}):
Zc={scale:Uc,band:T}:Zc={value:vb[a].continuousBandSize}):(Zc=Ua(vb.view,oa),Zc=V(vb[a].discreteBandSize,Zc-2),Zc=void 0!==Zc?{value:Zc}:void 0),Zc=(Yd[oa]=Zc,Yd));c="band"!==(null===Ic||void 0===Ic?void 0:Ic.get("type"))||!("band"in Zc[oa]);a=fk(f,G,vb,c?"middle":"top");Yd=Dh(f,G);f=qc({channel:f,channelDef:Ya,markDef:G,config:vb,scaleName:Uc,scale:Ic,stack:Zb,offset:Yd,defaultRef:ek({model:b,defaultPos:"mid",channel:f,scaleName:Uc,scale:Ic}),band:c?.5:(1-T)/2});oa?(Ya={},f=Object.assign({},(Ya[a]=
f,Ya),Zc)):(Ya=Ca(l),b=Zc[oa],b=Yd?Object.assign({},b,{offset:Yd}):b,Zc={},f=(Zc[a]=f,Zc[Ya]=zd(f)?[f[0],Object.assign({},f[1],{offset:b})]:Object.assign({},f,{offset:b}),Zc));return f}return gk(f,b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Eh(b,f,a,c,e){if(b in bi)return 0;b="x"===b||"y2"===b?-f/2:f/2;if(Qb(a)||Qb(e)||Qb(c))return a=me(a),e=me(e),c=(c=me(c))?"".concat(c," + "):"",a=a?"(".concat(a," ? -1 : 1) * "):"",b=e?"(".concat(e," + ").concat(b,")"):b,{signal:c+a+b};e=e||0;return c+
(a?-e-b:+e+b)}function hk(b){var f=b.channel,a=b.fieldDef,c=b.markDef,e=b.config;b=yd({scaleName:b.scaleName,fieldOrDatumDef:a,band:b.band,offset:b.offset});return uc({fieldDef:a,channel:f,markDef:c,ref:b,config:e})}function fg(b,f){var a="include"===f.color?Ii(b):{},c=void 0===a.fill?void 0:a.fill;a=void 0===a.stroke?void 0:a.stroke;return Object.assign({},Ji(b.markDef,f),oj(b,"fill",c),oj(b,"stroke",a),sf("opacity",b),sf("fillOpacity",b),sf("strokeOpacity",b),sf("strokeWidth",b),sf("strokeDash",
b),ph(b),Nk(b),$g(b,"href"),Lg(b))}function oj(b,f,a){var c=b.mark;if("hide"===Fd("invalid",b.markDef,b.config)&&a&&!kc(c)&&(b=Il(b,{invalid:!0,channels:Ki})))return c={},c[f]=[{test:b,value:null}].concat($jscomp.arrayFromIterable($a(a))),c;b={};return a?(b[f]=a,b):{}}function Ji(b,f){return ik.reduce(function(a,c){Ym.has(c)||void 0===b[c]||"ignore"===f[c]||(a[c]=ge(b[c]));return a},{})}function Il(b,f){var a=void 0===f.invalid?!1:f.invalid;f=f.channels.reduce(function(e,l){var u=b.getScaleComponent(l);
u&&(u=u.get("type"),(l=b.vgField(l,{expr:"datum"}))&&u in ib&&(e[l]=!0));return e},{});f=id(f);if(0<f.length){var c=a?"||":"\x26\x26";return f.map(function(e){return kd(e,a)}).join(" ".concat(c," "))}}function gi(b){return Fd("invalid",b.markDef,b.config)&&(b=Jl(b,{channels:Zf}))?{defined:{signal:b}}:{}}function Jl(b,f){var a=void 0===f.invalid?!1:f.invalid;f=f.channels.reduce(function(e,l){var u=b.getScaleComponent(l);u&&(u=u.get("type"),(l=b.vgField(l,{expr:"datum"}))&&u in ib&&(e[l]=!0));return e},
{});f=id(f);if(0<f.length){var c=a?"||":"\x26\x26";return f.map(function(e){return kd(e,a)}).join(" ".concat(c," "))}}function jk(b,f){if(void 0!==f){var a={};return a[b]=ge(f),a}}function hi(b,f){b=pa(b.scaleName(f));return"domain(".concat(b,")")}function Pf(b){var f;return b.parent&&ii(b.parent)&&(null!==(f=!b.parent.parent)&&void 0!==f?f:Pf(b.parent.parent))}function Qf(b,f,a){var c,e=null===(c=b.fieldDef(f))||void 0===c?void 0:c.field;gg(b,function(l){var u,G=null!==(u=l.project.hasField[e])&&
void 0!==u?u:l.project.hasChannel[f];if(G&&tm.has(l)){var T;u=null!==(T=a.get("selections"))&&void 0!==T?T:[];u.push(l.name);a.set("selections",u,!1);G.hasLegend=!0}})}function ji(b,f,a,c,e){var l,u=f.name,G=u+"_translate_anchor";u+="_translate_delta";var T=a.channel,oa=ki.has(f);f=e.filter(function(Ya){return Ya.name===a.signals[oa?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;b=b.getScaleComponent(T);e=b.get("type");var ab=oa&&"x"===T?"-":"";G="".concat(G,".extent_").concat(T);T="".concat(ab).concat(u,
".").concat(T," / ")+(oa?"".concat(c):"span(".concat(G,")"));G="".concat(oa?"log"===e?"panLog":"pow"===e?"panPow":"panLinear":"panLinear","(").concat(G,", ").concat(T)+(oa&&"pow"===e?", ".concat(null!==(l=b.get("exponent"))&&void 0!==l?l:1):"")+")";f.on.push({events:{signal:u},update:oa?G:"clampRange(".concat(G,", 0, ").concat(c,")")})}function Li(b,f,a,c,e){var l,u=f.name,G=a.channel,T=ki.has(f);f=e.filter(function(Ya){return Ya.name===a.signals[T?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;
e=b.getScaleComponent(G);var oa=e.get("type"),ab=T?hi(b,G):f.name;b=u+"_zoom_delta";u="".concat(u).concat("_zoom_anchor",".").concat(G);u="".concat(T?"log"===oa?"zoomLog":"pow"===oa?"zoomPow":"zoomLinear":"zoomLinear","(").concat(ab,", ").concat(u,", ").concat(b)+(T&&"pow"===oa?", ".concat(null!==(l=e.get("exponent"))&&void 0!==l?l:1):"")+")";f.on.push({events:{signal:b},update:T?u:"clampRange(".concat(u,", 0, ").concat(c,")")})}function Fh(b,f){for(var a=$jscomp.makeIterator(Zm),c=a.next();!c.done;c=
a.next())c=c.value,c.has(b)&&f(c)}function qh(b,f,a){f=void 0===f?!0:f;a=void 0===a?rh:a;return zd(b)?(b=b.map(function(c){return qh(c,f,a)}),f?"[".concat(b.join(", "),"]"):b):Vb(b)?f?a(Ra(b)):a(yb(b)):f?a(JSON.stringify(b)):b}function Kl(b,f){gg(b,function(a,c){var e=a.name,l=c.modifyExpr(b,a);f.push.apply(f,$jscomp.arrayFromIterable(c.signals(b,a)));Fh(a,function(u){u.signals&&(f=u.signals(b,a,f));u.modifyExpr&&(l=u.modifyExpr(b,a,l))});f.push({name:e+"_modify",on:[{events:{signal:a.name+"_tuple"},
update:"modify(".concat(pa(a.name+"_store"),", ").concat(l,")")}]})});return li(f)}function kk(b,f){b.component.selection&&id(b.component.selection).length&&(b=pa(b.getName("cell")),f.unshift({name:"facet",value:{},on:[{events:af("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(b,").datum")}]}));return li(f)}function Qk(b,f){var a=!1;gg(b,function(c,e){var l=c.name,u=pa(l+"_store");if(0===f.filter(function(oa){return oa.name===l}).length){var G="global"===c.resolve?"union":c.resolve,
T="multi"===c.type?", true)":")";f.push({name:c.name,update:"".concat("vlSelectionResolve","(").concat(u,", ").concat(pa(G)).concat(T)})}a=!0;e.topLevelSignals&&(f=e.topLevelSignals(b,c,f));Fh(c,function(oa){oa.topLevelSignals&&(f=oa.topLevelSignals(b,c,f))})});a&&0===f.filter(function(c){return"unit"===c.name}).length&&f.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return li(f)}function Rk(b,f){var a=[].concat($jscomp.arrayFromIterable(f));
gg(b,function(c){var e={name:c.name+"_store"};if(c.init){var l=c.project.items.map(function(G){G=Object.assign({},G);return delete G.signals,G}),u=c.init.map(function(G){return qh(G,!1)});e.values="interval"===c.type?[{unit:Bg(b,{escape:!1}),fields:l,values:u}]:u.map(function(G){return{unit:Bg(b,{escape:!1}),fields:l,values:G}})}a.filter(function(G){return G.name===c.name+"_store"}).length||a.push(e)});return a}function Mi(b,f){gg(b,function(a,c){f=c.marks?c.marks(b,a,f):f;Fh(a,function(e){e.marks&&
(f=e.marks(b,a,f))})});return f}function mi(b,f){b=$jscomp.makeIterator(b.children);for(var a=b.next();!a.done;a=b.next())a=a.value,nf(a)&&(f=Mi(a,f));return f}function li(b){return b.map(function(f){f.on&&!f.on.length&&delete f.on;return f})}function lk(b,f,a,c){var e=a.channel,l=a.signals.visual;a=a.signals.data;var u=ki.has(f),G=pa(b.scaleName(e)),T=b.getScaleComponent(e);T=T?T.get("type"):void 0;var oa=function(vb){return"scale(".concat(G,", ").concat(vb,")")},ab=b.getSizeSignalRef("x"===e?"width":
"height").signal,Ya="".concat(e,"(unit)");b=Gh(f,function(vb,Zb){return[].concat($jscomp.arrayFromIterable(vb),[{events:Zb.between[0],update:"[".concat(Ya,", ").concat(Ya,"]")},{events:Zb,update:"[".concat(l,"[0], clamp(").concat(Ya,", 0, ").concat(ab,")]")}])});b.push({events:{signal:f.name+"_scale_trigger"},update:T in ib?"[".concat(oa("".concat(a,"[0]")),", ").concat(oa("".concat(a,"[1]")),"]"):"[0, 0]"});return u?[{name:a,on:[]}]:[Object.assign({},{name:l},c?{init:qh(c,!0,oa)}:{value:[]},{on:b}),
Object.assign({},{name:a},c?{init:qh(c)}:{},{on:[{events:{signal:l},update:"".concat(l,"[0] \x3d\x3d\x3d ").concat(l,"[1] ? null : invert(").concat(G,", ").concat(l,")")}]})]}function Gh(b,f){return b.events.reduce(function(a,c){return c.between?f(a,c):(La("".concat(c," is not an ordered event stream for interval selections.")),a)},[])}function pj(b,f){var a=f.name,c=a+"_tuple_fields",e=f.project.items.map(function(l){var u=b.fieldDef(l.channel);return u&&u.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)",
"[").concat(pa(b.vgField(l.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(pa(b.vgField(l.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(pa(l.field),"]")}).join(", ");c="unit: ".concat(Bg(b),", fields: ").concat(c,", values");f=f.events;return[{name:a+"_tuple",on:f?[{events:f,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(c,": [").concat(e,"]} : null"),force:!0}]:[]}]}function gg(b,
f){if(b=b.component.selection){b=$jscomp.makeIterator(ah(b));for(var a=b.next();!a.done&&(a=a.value,!0!==f(a,$m[a.type]));a=b.next());}}function Bg(b,f){f=(void 0===f?{escape:!0}:f).escape?pa(b.name):b.name;for(b=b.parent;b&&!rg(b);)b=b.parent;if(b)for(var a=b.facet,c=$jscomp.makeIterator(Cf),e=c.next();!e.done;e=c.next())e=e.value,a[e]&&(f+=" + '__facet_".concat(e,"_' + (facet[").concat(pa(b.vgField(e)),"])"));return f}function sh(b){var f=!1;gg(b,function(a){f=f||a.project.items.some(function(c){return"_vgsid_"===
c.field})});return f}function Uf(b){this.type=b}function Sk(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];case "UnaryExpression":return[b.argument];default:return[]}}
function Ng(b,f){if(!b)throw Error("ASSERT: "+f);}function Cg(b){return 48<=b&&57>=b}function mk(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function ni(b){return 0<="01234567".indexOf(b)}function oi(b){return 10===b||13===b||8232===b||8233===b}function pi(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&an.test(String.fromCharCode(b))}function If(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&bn.test(String.fromCharCode(b))}function qj(){for(;Vc<
hg;){var b=ce.charCodeAt(Vc);if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||oi(b))++Vc;else break}}function mg(b){var f=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(Vc<hg&&mk(ce[Vc])){var c=ce[Vc++];f=16*f+"0123456789abcdef".indexOf(c.toLowerCase())}else Ve({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(f)}function Tk(){var b=ce.charCodeAt(Vc++);var f=String.fromCharCode(b);92===
b&&(117!==ce.charCodeAt(Vc)&&Ve({},"Unexpected token %0","ILLEGAL"),++Vc,(b=mg("u"))&&"\\"!==b&&pi(b.charCodeAt(0))||Ve({},"Unexpected token %0","ILLEGAL"),f=b);for(;Vc<hg;){b=ce.charCodeAt(Vc);if(!If(b))break;++Vc;f+=String.fromCharCode(b);92===b&&(f=f.substr(0,f.length-1),117!==ce.charCodeAt(Vc)&&Ve({},"Unexpected token %0","ILLEGAL"),++Vc,(b=mg("u"))&&"\\"!==b&&If(b.charCodeAt(0))||Ve({},"Unexpected token %0","ILLEGAL"),f+=b)}return f}function Vf(){var b=Vc,f=ce.charCodeAt(Vc),a=ce[Vc];switch(f){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Vc,
{type:7,value:String.fromCharCode(f),start:b,end:Vc};default:var c=ce.charCodeAt(Vc+1);if(61===c)switch(f){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Vc+=2,{type:7,value:String.fromCharCode(f)+String.fromCharCode(c),start:b,end:Vc};case 33:case 61:return Vc+=2,61===ce.charCodeAt(Vc)&&++Vc,{type:7,value:ce.slice(b,Vc),start:b,end:Vc}}}f=ce.substr(Vc,4);if("\x3e\x3e\x3e\x3d"===f)return Vc+=4,{type:7,value:f,start:b,end:Vc};f=f.substr(0,3);if("\x3e\x3e\x3e"===
f||"\x3c\x3c\x3d"===f||"\x3e\x3e\x3d"===f)return Vc+=3,{type:7,value:f,start:b,end:Vc};f=f.substr(0,2);if(a===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===f)return Vc+=2,{type:7,value:f,start:b,end:Vc};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++Vc,{type:7,value:a,start:b,end:Vc};Ve({},"Unexpected token %0","ILLEGAL")}function Ni(){var b=ce[Vc];Ng(Cg(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");var f=Vc;var a="";if("."!==b){a=ce[Vc++];
b=ce[Vc];if("0"===a){if("x"===b||"X"===b){++Vc;for(a="";Vc<hg&&mk(ce[Vc]);)a+=ce[Vc++];0===a.length&&Ve({},"Unexpected token %0","ILLEGAL");pi(ce.charCodeAt(Vc))&&Ve({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+a,16),start:f,end:Vc}}if(ni(b)){for(a="0"+ce[Vc++];Vc<hg&&ni(ce[Vc]);)a+=ce[Vc++];(pi(ce.charCodeAt(Vc))||Cg(ce.charCodeAt(Vc)))&&Ve({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:f,end:Vc}}b&&Cg(b.charCodeAt(0))&&Ve({},"Unexpected token %0",
"ILLEGAL")}for(;Cg(ce.charCodeAt(Vc));)a+=ce[Vc++];b=ce[Vc]}if("."===b){for(a+=ce[Vc++];Cg(ce.charCodeAt(Vc));)a+=ce[Vc++];b=ce[Vc]}if("e"===b||"E"===b){a+=ce[Vc++];b=ce[Vc];if("+"===b||"-"===b)a+=ce[Vc++];if(Cg(ce.charCodeAt(Vc)))for(;Cg(ce.charCodeAt(Vc));)a+=ce[Vc++];else Ve({},"Unexpected token %0","ILLEGAL")}pi(ce.charCodeAt(Vc))&&Ve({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:f,end:Vc}}function qi(b,f){var a=b;0<=f.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,
function(c,e){if(1114111>=parseInt(e,16))return"x";Ve({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(c){Ve({},"Invalid regular expression")}try{return new RegExp(b,f)}catch(c){return null}}function bh(){qj();if(Vc>=hg)return{type:2,start:Vc,end:Vc};var b=ce.charCodeAt(Vc);if(pi(b)){b=Vc;if(92===ce.charCodeAt(Vc))var f=Tk();else a:{for(f=Vc++;Vc<hg;){var a=ce.charCodeAt(Vc);if(92===a){Vc=f;f=Tk();break a}if(If(a))++Vc;else break}f=ce.slice(f,
Vc)}return{type:1===f.length?3:cn.hasOwnProperty(f)?4:"null"===f?5:"true"===f||"false"===f?1:3,value:f,start:b,end:Vc}}if(40===b||41===b||59===b)return Vf();if(39===b||34===b){var c="";a=!1;b=ce[Vc];Ng("'"===b||'"'===b,"String literal must starts with a quote");f=Vc;for(++Vc;Vc<hg;){var e=ce[Vc++];if(e===b){b="";break}else if("\\"===e)if((e=ce[Vc++])&&oi(e.charCodeAt(0)))"\r"===e&&"\n"===ce[Vc]&&++Vc;else switch(e){case "u":case "x":if("{"===ce[Vc]){++Vc;var l=ce[Vc];e=0;for("}"===l&&Ve({},"Unexpected token %0",
"ILLEGAL");Vc<hg;){l=ce[Vc++];if(!mk(l))break;e=16*e+"0123456789abcdef".indexOf(l.toLowerCase())}(1114111<e||"}"!==l)&&Ve({},"Unexpected token %0","ILLEGAL");e=65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320);c+=e}else c+=mg(e);break;case "n":c+="\n";break;case "r":c+="\r";break;case "t":c+="\t";break;case "b":c+="\b";break;case "f":c+="\f";break;case "v":c+="\x0B";break;default:ni(e)?(l="01234567".indexOf(e),0!==l&&(a=!0),Vc<hg&&ni(ce[Vc])&&(a=!0,l=8*
l+"01234567".indexOf(ce[Vc++]),0<="0123".indexOf(e)&&Vc<hg&&ni(ce[Vc])&&(l=8*l+"01234567".indexOf(ce[Vc++]))),c+=String.fromCharCode(l)):c+=e}else if(oi(e.charCodeAt(0)))break;else c+=e}""!==b&&Ve({},"Unexpected token %0","ILLEGAL");return{type:8,value:c,octal:a,start:f,end:Vc}}return 46===b?Cg(ce.charCodeAt(Vc+1))?Ni():Vf():Cg(b)?Ni():Vf()}function $f(){var b=Ze;Vc=b.end;Ze=bh();Vc=b.end;return b}function Oi(b,f,a){var c=new Uf("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");c.operator=
b;c.left=f;c.right=a;return c}function rj(b){var f=new Uf("Identifier");f.name=b;return f}function ri(b){var f=new Uf("Literal");f.value=b.value;f.raw=ce.slice(b.start,b.end);b.regex&&("//"===f.raw&&(f.raw="/(?:)/"),f.regex=b.regex);return f}function Uk(b,f,a){var c=new Uf("MemberExpression");c.computed="["===b;c.object=f;c.property=a;c.computed||(a.member=!0);return c}function sj(b,f,a){var c=new Uf("Property");c.key=f;c.value=a;c.kind=b;return c}function Ve(b,f){var a=Array.prototype.slice.call(arguments,
2),c=f.replace(/%(\d)/g,function(l,u){Ng(u<a.length,"Message reference must be in range");return a[u]});var e=Error(c);e.index=Vc;e.description=c;throw e;}function si(b){2===b.type&&Ve(b,"Unexpected end of input");6===b.type&&Ve(b,"Unexpected number");8===b.type&&Ve(b,"Unexpected string");3===b.type&&Ve(b,"Unexpected identifier");4===b.type&&Ve(b,"Unexpected reserved word");Ve(b,"Unexpected token %0",b.value)}function Nf(b){var f=$f();7===f.type&&f.value===b||si(f)}function jf(b){return 7===Ze.type&&
Ze.value===b}function nk(){Vc=Ze.start;var b=$f();return 8===b.type||6===b.type?(b.octal&&Ve(b,"Octal literals are not allowed in strict mode."),ri(b)):rj(b.value)}function Vk(){if(jf("(")){Nf("(");var b=tj();Nf(")");return b}if(jf("[")){b=[];Vc=Ze.start;for(Nf("[");!jf("]");)jf(",")?($f(),b.push(null)):(b.push(ch()),jf("]")||Nf(","));$f();var f=new Uf("ArrayExpression");f.elements=b;return f}if(jf("{")){b=[];f={};var a=String;Vc=Ze.start;for(Nf("{");!jf("}");){Vc=Ze.start;var c=Ze;if(3===c.type){var e=
nk();Nf(":");c=ch();c=sj("init",e,c)}else 2===c.type||7===c.type?(si(c),c=void 0):(e=nk(),Nf(":"),c=ch(),c=sj("init",e,c));e="Identifier"===c.key.type?c.key.name:a(c.key.value);e="$"+e;Object.prototype.hasOwnProperty.call(f,e)?Ve({},"Duplicate data property in object literal not allowed in strict mode"):f[e]=!0;b.push(c);jf("}")||Nf(",")}Nf("}");f=new Uf("ObjectExpression");f.properties=b;return f}f=Ze.type;Vc=Ze.start;if(3===f||dn[Ze.value])b=rj($f().value);else if(8===f||6===f)Ze.octal&&Ve(Ze,"Octal literals are not allowed in strict mode."),
b=ri($f());else{if(4===f)throw Error("Disabled.");if(1===f)b=$f(),b.value="true"===b.value,b=ri(b);else if(5===f)b=$f(),b.value=null,b=ri(b);else if(jf("/")||jf("/\x3d")){var l;Ze=null;qj();b=Vc;f=ce[Vc];Ng("/"===f,"Regular expression literal must start with a slash");a=ce[Vc++];for(e=c=!1;Vc<hg;)if(f=ce[Vc++],a+=f,"\\"===f)f=ce[Vc++],oi(f.charCodeAt(0))&&Ve({},"Invalid regular expression: missing /"),a+=f;else if(oi(f.charCodeAt(0)))Ve({},"Invalid regular expression: missing /");else if(c)"]"===
f&&(c=!1);else if("/"===f){e=!0;break}else"["===f&&(c=!0);e||Ve({},"Invalid regular expression: missing /");f=a.substr(1,a.length-2);for(l=e="";Vc<hg;){c=ce[Vc];if(!If(c.charCodeAt(0)))break;++Vc;"\\"===c&&Vc<hg?Ve({},"Unexpected token %0","ILLEGAL"):(l+=c,e+=c)}0<=l.search(/[^gimuy]/g)&&Ve({},"Invalid regular expression",l);c=l;l=qi(f,c);b=ri({literal:a+e,value:l,regex:{pattern:f,flags:c},start:b,end:Vc});f=Vc;Ze=bh();Vc=f}else si($f())}return b}function Pi(){var b;for(b=Vk();;)if(jf(".")){Nf(".");
Vc=Ze.start;var f=$f();3===f.type||4===f.type||1===f.type||5===f.type||si(f);f=rj(f.value);b=Uk(".",b,f)}else if(jf("(")){f=[];Nf("(");if(!jf(")"))for(;Vc<hg;){f.push(ch());if(jf(")"))break;Nf(",")}Nf(")");var a=new Uf("CallExpression");a.callee=b;a.arguments=f;b=a}else if(jf("["))Nf("["),f=tj(),Nf("]"),b=Uk("[",b,f);else break;if(7===Ze.type&&(jf("++")||jf("--")))throw Error("Disabled.");return b}function Qi(){if(7!==Ze.type&&4!==Ze.type)var b=Pi();else{if(jf("++")||jf("--"))throw Error("Disabled.");
if(jf("+")||jf("-")||jf("~")||jf("!")){var f=$f();b=Qi();f=f.value;var a=new Uf("UnaryExpression");a.operator=f;a.argument=b;a.prefix=!0;b=a}else{if(4===Ze.type&&"delete"===Ze.value||4===Ze.type&&"void"===Ze.value||4===Ze.type&&"typeof"===Ze.value)throw Error("Disabled.");b=Pi()}}return b}function Hh(b){var f=0;if(7!==b.type&&4!==b.type)return 0;switch(b.value){case "||":f=1;break;case "\x26\x26":f=2;break;case "|":f=3;break;case "^":f=4;break;case "\x26":f=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":f=
6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":f=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":f=8;break;case "+":case "-":f=9;break;case "*":case "/":case "%":f=11}return f}function ch(){var b=Ze;var f=Qi();var a=Ze;var c=Hh(a);if(0===c)var e=f;else{a.prec=c;$f();b=[b,Ze];var l=Qi();for(e=[f,a,l];0<(c=Hh(Ze));){for(;2<e.length&&c<=e[e.length-2].prec;)l=e.pop(),a=e.pop().value,f=e.pop(),b.pop(),f=Oi(a,f,l),e.push(f);a=$f();a.prec=c;e.push(a);
b.push(Ze);f=Qi();e.push(f)}c=e.length-1;f=e[c];for(b.pop();1<c;)b.pop(),f=Oi(e[c-1].value,e[c-2],f),c-=2;e=f}jf("?")&&($f(),b=ch(),Nf(":"),c=ch(),f=new Uf("ConditionalExpression"),f.test=e,f.consequent=b,f.alternate=c,e=f);return e}function tj(){var b=ch();if(jf(","))throw Error("Disabled.");return b}function Wk(b){ce=b;Vc=0;hg=ce.length;Ze=null;b=Vc;Ze=bh();Vc=b;b=tj();if(2!==Ze.type)throw Error("Unexpect token after expression.");return b}function uj(b){var f=[];if("Identifier"===b.type)return[b.name];
if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(f.push.apply(f,$jscomp.arrayFromIterable(uj(b.object))),f.push.apply(f,$jscomp.arrayFromIterable(uj(b.property))));return f}function ok(b){return"MemberExpression"===b.object.type?ok(b.object):"datum"===b.object.name}function pk(b){b=Wk(b);var f=new Set;b.visit(function(a){"MemberExpression"===a.type&&ok(a)&&f.add(uj(a).slice(1).join("."))});return f}function Ri(b,f){for(var a={},c=b.config.selection,e={},l=$jscomp.makeIterator(id(null!==
f&&void 0!==f?f:{})),u=l.next();!u.done;e={$jscomp$loop$prop$selCmpt$701:e.$jscomp$loop$prop$selCmpt$701,$jscomp$loop$prop$selDef$702:e.$jscomp$loop$prop$selDef$702,$jscomp$loop$prop$name$703:e.$jscomp$loop$prop$name$703},u=l.next()){e.$jscomp$loop$prop$name$703=u.value;e.$jscomp$loop$prop$selDef$702=xe(f[e.$jscomp$loop$prop$name$703]);u=Object.assign({},c[e.$jscomp$loop$prop$selDef$702.type]);u=(delete u.fields,delete u.encodings,u);for(var G in u)if(!("encodings"===G&&e.$jscomp$loop$prop$selDef$702.fields||
"fields"===G&&e.$jscomp$loop$prop$selDef$702.encodings)&&("mark"===G&&(e.$jscomp$loop$prop$selDef$702[G]=Object.assign({},u[G],e.$jscomp$loop$prop$selDef$702[G])),void 0===e.$jscomp$loop$prop$selDef$702[G]||!0===e.$jscomp$loop$prop$selDef$702[G])){var T;e.$jscomp$loop$prop$selDef$702[G]=null!==(T=u[G])&&void 0!==T?T:e.$jscomp$loop$prop$selDef$702[G]}u=I(e.$jscomp$loop$prop$name$703);e.$jscomp$loop$prop$selCmpt$701=a[u]=Object.assign({},e.$jscomp$loop$prop$selDef$702,{name:u,events:ea(e.$jscomp$loop$prop$selDef$702.on)?
af(e.$jscomp$loop$prop$selDef$702.on,"scope"):xe(e.$jscomp$loop$prop$selDef$702.on)});Fh(e.$jscomp$loop$prop$selCmpt$701,function(oa){return function(ab){ab.has(oa.$jscomp$loop$prop$selCmpt$701)&&ab.parse&&ab.parse(b,oa.$jscomp$loop$prop$selCmpt$701,oa.$jscomp$loop$prop$selDef$702,f[oa.$jscomp$loop$prop$name$703])}}(e))}return a}function bk(b,f,a,c){c=void 0===c?"datum":c;var e=[];f=L(f,function(l){var u=I(l);l=b.getSelectionComponent(u,l);u=pa(u+"_store");if(l.project.timeUnit){var G=null!==a&&void 0!==
a?a:b.component.data.raw,T=l.project.timeUnit.clone();G.parent?T.insertAsParentOf(G):G.parent=T}"none"!==l.empty&&e.push(u);return"vlSelectionTest(".concat(u,", ").concat(c)+("global"===l.resolve?")":", ".concat(pa(l.resolve),")"))});return(e.length?"!("+e.map(function(l){return"length(data(".concat(l,"))")}).join(" || ")+") || ":"")+"(".concat(f,")")}function ti(b,f){var a=f.encoding,c=f.field;if(!a&&!c)c=b.project.items[0].field,1<b.project.items.length&&La('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
'Using "field": '.concat(pa(c),"."));else if(a&&!c){var e=b.project.items.filter(function(l){return l.channel===a});!e.length||1<e.length?(c=b.project.items[0].field,La((e.length?"Multiple ":"No ")+"matching ".concat(pa(a)," encoding found for selection ").concat(pa(f.selection),". ")+'Using "field": '.concat(pa(c),"."))):c=e[0].field}return"".concat(b.name,"[").concat(pa(c),"]")}function vj(b,f){gg(b,function(a){var c=a.name,e=b.getName("lookup_".concat(c));b.component.data.outputNodes[e]=a.materialized=
new Df(new dh(f,b,{selection:c}),e,tf.Lookup,b.component.data.outputNodeRefCounts)})}function ei(b,f,a){return L(f,function(c){return ea(c)?c:(null===c||void 0===c?0:c.selection)?bk(b,c.selection,a):te(c)})}function Og(b,f){if(b)return zd(b)&&!cd(b)?b.map(function(a){return Xj(a,f)}).join(", "):b}function Pg(b,f,a,c){var e,l,u;b.encode=null!==(e=b.encode)&&void 0!==e?e:{};b.encode[f]=null!==(l=b.encode[f])&&void 0!==l?l:{};b.encode[f].update=null!==(u=b.encode[f].update)&&void 0!==u?u:{};b.encode[f].update[a]=
c}function sg(b,f,a,c){c=void 0===c?{header:!1}:c;var e=b.combine(),l=Object.assign({},e),u=e.disable,G=e.orient,T=e.scale,oa=e.labelExpr,ab=e.title;e=e.zindex;l=(delete l.disable,delete l.orient,delete l.scale,delete l.labelExpr,delete l.title,delete l.zindex,l);if(!u){for(var Ya in l){var vb=Qg[Ya];u=l[Ya];if(vb&&vb!==f&&"both"!==vb)delete l[Ya];else if(r(u)){vb=u;u=Object.assign({},vb);vb=vb.condition;u=(delete u.condition,u);vb=$a(vb);var Zb=Rg[Ya];if(Zb){var sc=Zb;Zb=sc.vgProp;sc=sc.part;u=[].concat($jscomp.arrayFromIterable(vb.map(function(Uc){var Zc=
Object.assign({},Uc);Uc=Uc.test;Zc=(delete Zc.test,Zc);return Object.assign({},{test:ei(null,Uc)},Zc)})),[u]);Pg(l,sc,Zb,u);delete l[Ya]}else null===Zb&&(u={signal:vb.map(function(Uc){var Zc=Object.assign({},Uc);Uc=Uc.test;Zc=(delete Zc.test,Zc);return"".concat(ei(null,Uc)," ? ").concat(Qb(Zc)?Zc.signal:pa(Zc.value)," : ")}).join("")+(Qb(u)?u.signal:pa(u.value))},l[Ya]=u)}else Qb(u)&&(vb=Rg[Ya])&&(Pg(l,vb.part,vb.vgProp,u),delete l[Ya])}if("grid"===f){if(l.grid)return l.encode&&(a=l.encode.grid,l.encode=
Object.assign({},a?{grid:a}:{}),A(l.encode)&&delete l.encode),Object.assign({},{scale:T,orient:G},l,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:V(e,0)})}else if(c.header||!b.mainExtracted){if(void 0!==oa){var Ec,Ic;f=oa;(null===(Ec=l.encode)||void 0===Ec?0:null===(Ic=Ec.labels)||void 0===Ic?0:Ic.update)&&Qb(l.encode.labels.update.text)&&(f=E(oa,"datum.label",l.encode.labels.update.text.signal));Pg(l,"labels","text",{signal:f})}null===l.labelAlign&&delete l.labelAlign;if(l.encode){oa=
$jscomp.makeIterator(Xk);for(Ec=oa.next();!Ec.done;Ec=oa.next())Ec=Ec.value,b.hasAxisPart(Ec)||delete l.encode[Ec];A(l.encode)&&delete l.encode}b=Og(ab,a);return Object.assign({},{scale:T,orient:G,grid:!1},b?{title:b}:{},l,!1===a.aria?{aria:!1}:{},{zindex:V(e,0)})}}}function eh(b){for(var f=b.component.axes,a=[],c=$jscomp.makeIterator(Zf),e=c.next();!e.done;e=c.next())if(e=e.value,f[e])for(var l=$jscomp.makeIterator(f[e]),u=l.next();!u.done;u=l.next())if(u=u.value,!u.get("disable")&&!u.get("gridScale")){u=
"x"===e?"height":"width";var G=b.getSizeSignalRef(u).signal;u!==G&&a.push({name:u,update:G})}return a}function Si(b,f){var a=void 0===b.x?[]:b.x;b=void 0===b.y?[]:b.y;return[].concat($jscomp.arrayFromIterable(a.map(function(c){return sg(c,"grid",f)})),$jscomp.arrayFromIterable(b.map(function(c){return sg(c,"grid",f)})),$jscomp.arrayFromIterable(a.map(function(c){return sg(c,"main",f)})),$jscomp.arrayFromIterable(b.map(function(c){return sg(c,"main",f)}))).filter(function(c){return c})}function ui(b,
f,a,c){return Object.assign.apply(null,[{}].concat($jscomp.arrayFromIterable(b.map(function(e){if("axisOrient"===e){e="x"===a?"bottom":"left";var l=f["x"===a?"axisBottom":"axisLeft"]||{},u=f["x"===a?"axisTop":"axisRight"]||{},G=new Set([].concat($jscomp.arrayFromIterable(id(l)),$jscomp.arrayFromIterable(id(u)))),T={};G=$jscomp.makeIterator(G.values());for(var oa=G.next();!oa.done;oa=G.next())oa=oa.value,T[oa]={signal:"".concat(c.signal,' \x3d\x3d\x3d "').concat(e,'" ? ').concat(me(l[oa])," : ").concat(me(u[oa]))};
return T}return f[e]}))))}function Ti(b,f,a,c){var e="band"===f?["axisDiscrete","axisBand"]:"point"===f?["axisDiscrete","axisPoint"]:f in t?["axisQuantitative"]:"time"===f||"utc"===f?["axisTemporal"]:[],l="x"===b?"axisX":"axisY";f=Qb(a)?"axisOrient":"axis"+H(a);e=[].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(e.map(function(u){return l+u.substr(4)})));f=["axis",f,l];return{vlOnlyAxisConfig:ui(e,c,b,a),vgAxisConfig:ui(f,c,b,a),axisConfigStyle:qk([].concat($jscomp.arrayFromIterable(f),
$jscomp.arrayFromIterable(e)),c)}}function qk(b,f){var a=[{}];b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){var e;if(c=null===(e=f[c.value])||void 0===e?void 0:e.style){c=$a(c);c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next())a.push(f.style[l.value])}}return Object.assign.apply(null,a)}function rk(b,f,a,c){c=void 0===c?{}:c;f=Ff(b,a,f);if(void 0!==f)return{configFrom:"style",configValue:f};f=$jscomp.makeIterator(["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]);
for(a=f.next();!a.done;a=f.next()){a=a.value;var e;if(void 0!==(null===(e=c[a])||void 0===e?void 0:e[b]))return{configFrom:a,configValue:c[a][b]}}return{}}function Yk(b,f,a,c,e){var l=null===f||void 0===f?void 0:f.labelAngle;if(void 0!==l)return Qb(l)?l:k(l);f=rk("labelAngle",c,null===f||void 0===f?void 0:f.style,e).configValue;if(void 0!==f)return k(f);if("x"===a&&ya(["nominal","ordinal"],b.type)&&(!Pc(b)||!b.timeUnit))return 270}function wj(b){return"(((".concat(b.signal," % 360) + 360) % 360)")}
function xj(b,f,a,c){if(void 0!==b)return"x"===a?Qb(b)?(c=wj(b),f=Qb(f)?"(".concat(f.signal,' \x3d\x3d\x3d "top")'):"top"===f,{signal:"(45 \x3c ".concat(c," \x26\x26 ").concat(c," \x3c 135) || (225 \x3c ").concat(c," \x26\x26 ").concat(c,' \x3c 315) ? "middle" :')+"(".concat(c," \x3c\x3d 45 || 315 \x3c\x3d ").concat(c,") \x3d\x3d\x3d ").concat(f,' ? "bottom" : "top"')}):45<b&&135>b||225<b&&315>b?"middle":Qb(f)?(c=45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(f.signal," ").concat(c,' "top" ? "bottom" : "top"')}):
(45>=b||315<=b)===("top"===f)?"bottom":"top":Qb(b)?(b=wj(b),f=Qb(f)?"(".concat(f.signal,' \x3d\x3d\x3d "left")'):"left"===f,c=c?'"middle"':"null",{signal:"".concat(b," \x3c\x3d 45 || 315 \x3c\x3d ").concat(b," || (135 \x3c\x3d ").concat(b," \x26\x26 ").concat(b," \x3c\x3d 225) ? ").concat(c," : (45 \x3c\x3d ").concat(b," \x26\x26 ").concat(b," \x3c\x3d 135) \x3d\x3d\x3d ").concat(f,' ? "top" : "bottom"')}):45>=b||315<=b||135<=b&&225>=b?c?"middle":null:Qb(f)?(c=45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d",
{signal:"".concat(f.signal," ").concat(c,' "left" ? "top" : "bottom"')}):(45<=b&&135>=b)===("left"===f)?"top":"bottom"}function Zk(b,f,a){if(void 0!==b){var c=(a="x"===a)?0:90,e=a?"bottom":"left";return Qb(b)?(b=wj(b),f=Qb(f)?"(".concat(f.signal,' \x3d\x3d\x3d "').concat(e,'")'):f===e,{signal:"(".concat(c?"("+b+" + 90)":b," % 180 \x3d\x3d\x3d 0) ? ").concat(a?null:'"center"'," :")+"(".concat(c," \x3c ").concat(b," \x26\x26 ").concat(b," \x3c ").concat(180+c,") \x3d\x3d\x3d ").concat(f,' ? "left" : "right"')}):
0===(b+c)%180?a?null:"center":Qb(f)?(a=c<b&&b<180+c?"\x3d\x3d\x3d":"!\x3d\x3d",f="".concat(f.signal," ").concat(a,' "').concat(e,'"'),{signal:"".concat(f,' ? "left" : "right"')}):(c<b&&b<180+c)===(f===e)?"left":"right"}}function sk(b,f){var a="x"===f?"x2":"y2";f=b.fieldDef(f);b=b.fieldDef(a);a=f?f.title:void 0;b=b?b.title:void 0;if(a&&b)return yf(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function th(b,f,a){return gd(b,Object.assign({},{prefix:f,suffix:"sort_index"},
null!==a&&void 0!==a?a:{}))}function yj(b,f){return ya(["top","bottom"],f)?"column":ya(["left","right"],f)?"row":"row"===b?"row":"column"}function vi(b,f,a,c){return V((f||{})[b],("row"===c?a.headerRow:"column"===c?a.headerColumn:a.headerFacet)[b],a.header[b])}function Ih(b,f,a,c){var e={};b=$jscomp.makeIterator(b);for(var l=b.next();!l.done;l=b.next()){l=l.value;var u=vi(l,f||{},a,c);void 0!==u&&(e[l]=u)}return e}function Ui(b,f){var a=b.component.layoutHeaders[f].title,c=b.config?b.config:void 0;
b=b.component.layoutHeaders[f].facetFieldDef?b.component.layoutHeaders[f].facetFieldDef:void 0;var e=Ih(["titleAnchor","titleAngle","titleOrient"],b.header,c,f),l=e.titleAnchor,u=e.titleAngle;e=yj(f,e.titleOrient);u=k(u);return{name:"".concat(f,"-title"),type:"group",role:"".concat(e,"-title"),title:Object.assign({},{text:a},"row"===f?{orient:"left"}:{},{style:"guide-title"},$k(u,e),al(e,u,l),zj(c,b,f,en,um))}}function al(b,f,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=
Zk(f,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function $k(b,f){return(b=xj(b,"row"===f?"left":"top","row"===f?"y":"x",!0))?{baseline:b}:{}}function bl(b,f){for(var a=b.component.layoutHeaders[f],c=[],e=$jscomp.makeIterator(Ll),l=e.next();!l.done;l=e.next())if(l=l.value,a[l])for(var u=$jscomp.makeIterator(a[l]),G=u.next();!G.done;G=u.next()){G=G.value;a:{var T=b,oa=f;if(G){var ab=null,Ya=a.facetFieldDef,vb=T.config?T.config:void 0;if(Ya&&G.labels){var Zb=Ih(["labelOrient"],Ya.header,
vb,oa).labelOrient;if("row"===oa&&!ya(["top","bottom"],Zb)||"column"===oa&&!ya(["left","right"],Zb))ab=Vi(Ya,oa,vb)}vb=rg(T)&&!fc(T.facet);Zb=G.axes;var sc=0<(null===Zb||void 0===Zb?void 0:Zb.length);if(ab||sc){var Ec="row"===oa?"height":"width",Ic={};G=Object.assign({},{name:T.getName("".concat(oa,"_").concat(l)),type:"group",role:"".concat(oa,"-").concat(l)},a.facetFieldDef?{from:{data:T.getName(oa+"_domain")},sort:cl(Ya,oa)}:{},sc&&vb?{from:{data:T.getName("facet_domain_".concat(oa))}}:{},ab?{title:ab}:
{},G.sizeSignal?{encode:{update:(Ic[Ec]=G.sizeSignal,Ic)}}:{},sc?{axes:Zb}:{});break a}}G=null}null!=G&&c.push(G)}return c}function cl(b,f){var a=b.sort;if(He(a)){var c;return{field:gd(a,{expr:"datum"}),order:null!==(c=a.order)&&void 0!==c?c:"ascending"}}return zd(a)?{field:th(b,f,{expr:"datum"}),order:"ascending"}:{field:gd(b,{expr:"datum"}),order:null!==a&&void 0!==a?a:"ascending"}}function Vi(b,f,a){var c=Ih("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b.header,a,
f),e=c.labelAngle,l=c.labelAnchor,u=c.labelOrient,G=c.labelExpr;c=Wd({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:"parent",config:a}).signal;u=yj(f,u);return Object.assign({},{text:{signal:G?E(E(G,"datum.label",c),"datum.value",gd(b,{expr:"parent"})):c}},"row"===f?{orient:"left"}:{},{style:"guide-label",frame:"group"},$k(e,u),al(u,e,l),zj(a,b,f,fn,vm))}function zj(b,f,a,c,e){var l={};c=$jscomp.makeIterator(c);for(var u=c.next();!u.done;u=c.next())if(u=u.value,e[u]){var G=vi(u,null===
f||void 0===f?void 0:f.header,b,a);void 0!==G&&(l[e[u]]=G)}return l}function Wi(b){return[].concat($jscomp.arrayFromIterable(wi(b,"width")),$jscomp.arrayFromIterable(wi(b,"height")),$jscomp.arrayFromIterable(wi(b,"childWidth")),$jscomp.arrayFromIterable(wi(b,"childHeight")))}function wi(b,f){var a="width"===f?"x":"y",c=b.component.layoutSize.get(f);if(!c||"merged"===c)return[];f=b.getSizeSignalRef(f).signal;if("step"===c){if(c=b.getScaleComponent(a)){var e=c.get("type"),l=c.get("range");if(e in nb&&
Gc(l))return e=b.scaleName(a),rg(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:e+"_step",value:l.step}]:[{name:e+"_step",value:l.step},{name:f,update:Aj(e,c,"domain('".concat(e,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==c?(a=(c=f.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",b=ta(b.config.view,c?"width":"height"),b="isFinite(".concat(a,") ? ").concat(a," : ").concat(b),[{name:f,init:b,on:[{update:b,
events:"window:resize"}]}]):[{name:f,value:c}]}function Aj(b,f,a){var c=f.get("type"),e=f.get("padding"),l=V(f.get("paddingOuter"),e);f=f.get("paddingInner");f="band"===c?void 0!==f?f:e:1;return"bandspace(".concat(a,", ").concat(me(f),", ").concat(me(l),") * ").concat(b,"_step")}function dl(b){return"childWidth"===b?"width":"childHeight"===b?"height":b}function Bj(b,f){return id(b).reduce(function(a,c){return Object.assign({},a,Ch(f,b[c],c,function(e){return ge(e.value)}))},{})}function Sg(b,f){var a=
f in Ue?"axis":"legend";return"independent"===b.scale[f]?("shared"===b[a][f]&&La('Setting the scale to be independent for "'.concat(f,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):b[a][f]||"shared"}function Xi(b){return fh(b,function(f,a){return Math.max(f,a.value)})}function Jh(b){return fh(b,function(f,a){return V(f,a.value)})}function fh(b,f){var a=b&&b.condition;if(a&&(zd(a)||Gd(a)))return $a(b.condition).reduce(f,b.value);if(Gd(b))return b.value}
function Cj(b,f,a){b=f.get("selections");if(null!==b&&void 0!==b&&b.length){var c=pa(a.field);return b.map(function(e){var l=pa(I(e)+"_store");return"(!length(data(".concat(l,")) || (").concat(e,"[").concat(c,"] \x26\x26 indexof(").concat(e,"[").concat(c,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Yi(b,f,a,c){b=b.getSizeSignalRef(f).signal;return{signal:"clamp(".concat(b,", ").concat(a,", ").concat(c,")")}}function el(b){if(nf(b)){var f=b.encoding;for(var a={},c=$jscomp.makeIterator(["color"].concat($jscomp.arrayFromIterable(wm))),
e=c.next();!e.done;e=c.next()){e=e.value;var l=Be(f[e]);if(l&&b.getScaleComponent(e)&&("shape"!==e||!Pc(l)||"geojson"!==l.type)){var u=l=void 0,G=void 0,T=void 0,oa=void 0;var ab=void 0;var Ya=b,vb=Ya.legend(e),Zb=Ya.markDef,sc=Ya.encoding,Ec=Ya.config,Ic=Ec.legend,Uc=new xm({},Ml(Ya,e));Qf(Ya,e,Uc);var Zc=void 0!==vb?!vb:Ic.disable;Uc.set("disable",Zc,void 0!==vb);if(!Zc){vb=vb||{};var Yd=Ya.getScaleComponent(e).get("type");Zc=Be(sc[e]);var Nd=Pc(Zc)?null===(ab=lc(Zc.timeUnit))||void 0===ab?void 0:
ab.unit:void 0,Bf=vb.orient||Ec.legend.orient||"right";ab=vb.type;b:{var Xe=Yd;if(ua(e)){if(ya(["quarter","month","day"],Nd)){Nd="symbol";break b}if(Xe in g){Nd="gradient";break b}}Nd="symbol"}ab=V(ab,Nd);Nd=Ic;Xe=ab;var Hf=Bf;if(null!==(G=null!==(u=vb.direction)&&void 0!==u?u:Nd[Xe?"gradientDirection":"symbolDirection"])&&void 0!==G)u=G;else b:{switch(Hf){case "top":case "bottom":u="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:u="gradient"===Xe?"horizontal":
void 0;break b}u=void 0}Zb={legend:vb,channel:e,model:Ya,markDef:Zb,encoding:sc,fieldOrDatumDef:Zc,legendConfig:Ic,config:Ec,scaleType:Yd,orient:Bf,legendType:ab,direction:u};sc=$jscomp.makeIterator(ym);for(Ic=sc.next();!Ic.done;Ic=sc.next())if(Ic=Ic.value,!("gradient"===ab&&Ic.startsWith("symbol")||"symbol"===ab&&Ic.startsWith("gradient"))&&(Yd=Ic in zm?zm[Ic](Zb):vb[Ic],void 0!==Yd)){b:{u=Ya.fieldDef(e);switch(Ic){case "disable":u=void 0!==vb;break b;case "values":u=!(null===vb||void 0===vb||!vb.values);
break b;case "title":if("title"===Ic&&Yd===(null===u||void 0===u?void 0:u.title)){u=!0;break b}}u=Yd===(vb||{})[Ic]}(u||void 0===Ec.legend[Ic])&&Uc.set(Ic,Yd,u)}Ec=null!==(oa=null===(T=vb)||void 0===T?void 0:T.encoding)&&void 0!==oa?oa:{};T=Uc.get("selections");oa={};ab={fieldOrDatumDef:Zc,model:Ya,channel:e,legendCmpt:Uc,legendType:ab};Zb=$jscomp.makeIterator("labels legend title symbols gradient entries".split(" "));for(sc=Zb.next();!sc.done;sc=Zb.next()){sc=sc.value;var Se;Ic=Bj(null!==(Se=Ec[sc])&&
void 0!==Se?Se:{},Ya);Ic=sc in Am?Am[sc](Ic,ab):Ic;void 0===Ic||A(Ic)||(oa[sc]=Object.assign({},(null===T||void 0===T?0:T.length)&&Pc(Zc)?{name:"".concat(I(Zc.field),"_legend_").concat(sc)}:{},(null===T||void 0===T?0:T.length)?{interactive:!!T}:{},{update:Ic}))}A(oa)||Uc.set("encode",oa,!(null===(l=vb)||void 0===l||!l.encoding))}l=Uc;a[e]=l}}f=a}else{a=b.component;f=a.legends;a=a.resolve;c=$jscomp.makeIterator(b.children);for(Se=c.next();!Se.done;Se=c.next())for(Se=Se.value,el(Se),e=$jscomp.makeIterator(id(Se.component.legends)),
l=e.next();!l.done;l=e.next())l=l.value,a.legend[l]=Sg(b.component.resolve,l),"shared"===a.legend[l]&&(f[l]=fl(f[l],Se.component.legends[l]),f[l]||(a.legend[l]="independent",delete f[l]));c=$jscomp.makeIterator(id(f));for(l=c.next();!l.done;l=c.next())for(e=l.value,l=$jscomp.makeIterator(b.children),Se=l.next();!Se.done;Se=l.next())Se=Se.value,Se.component.legends[e]&&"shared"===a.legend[e]&&delete Se.component.legends[e]}return b.component.legends=f}function Ml(b,f){var a=b.scaleName(f);if("trail"===
b.mark){if("color"===f)return{stroke:a};if("size"===f)return{strokeWidth:a}}if("color"===f)return b.markDef.filled?{fill:a}:{stroke:a};b={};return b[f]=a,b}function fl(b,f){if(!b)return f.clone();var a=b.getWithExplicit("orient"),c=f.getWithExplicit("orient");if(!a.explicit||!c.explicit||a.value===c.value){var e=!1;a={};c=$jscomp.makeIterator(ym);for(var l=c.next();!l.done;a={$jscomp$loop$prop$prop$705:a.$jscomp$loop$prop$prop$705},l=c.next())a.$jscomp$loop$prop$prop$705=l.value,l=hf(b.getWithExplicit(a.$jscomp$loop$prop$prop$705),
f.getWithExplicit(a.$jscomp$loop$prop$prop$705),a.$jscomp$loop$prop$prop$705,"legend",function(ab){return function(Ya,vb){switch(ab.$jscomp$loop$prop$prop$705){case "symbolType":return Ya="circle"===vb.value?vb:Ya,Ya;case "title":return Xf(Ya,vb);case "type":return e=!0,je("symbol")}return lf(Ya,vb,ab.$jscomp$loop$prop$prop$705,"legend")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$705,l);if(e){var u,G,T,oa;(null===(u=b.implicit)||void 0===u?0:null===(G=u.encode)||void 0===G?0:G.gradient)&&z(b.implicit,
["encode","gradient"]);(null===(T=b.explicit)||void 0===T?0:null===(oa=T.encode)||void 0===oa?0:oa.gradient)&&z(b.explicit,["encode","gradient"])}return b}}function Dj(b){for(var f=b.component.legends,a={},c=$jscomp.makeIterator(id(f)),e=c.next();!e.done;e=c.next()){e=e.value;var l=b.getScaleComponent(e);l=mf(l.get("domains"));if(a[l])for(var u=$jscomp.makeIterator(a[l]),G=u.next();!G.done;G=u.next())fl(G.value,f[e])||a[l].push(f[e]);else a[l]=[f[e].clone()]}return ah(a).flat().map(function(T){var oa=
b.config,ab;T=T.combine();var Ya=Object.assign({},T),vb=T.disable;T=T.labelExpr;Ya=(delete Ya.disable,delete Ya.labelExpr,delete Ya.selections,Ya);if(vb)var Zb=void 0;else{!1===oa.aria&&void 0==Ya.aria&&(Ya.aria=!1);if(null===(ab=Ya.encode)||void 0===ab?0:ab.symbols)for(oa=Ya.encode.symbols.update,!oa.fill||"transparent"===oa.fill.value||oa.stroke||Ya.stroke||(oa.stroke={value:"transparent"}),ab=$jscomp.makeIterator(wm),vb=ab.next();!vb.done;vb=ab.next())vb=vb.value,Ya[vb]&&delete oa[vb];Ya.title||
delete Ya.title;if(void 0!==T){var sc,Ec;oa=T;(null===(sc=Ya.encode)||void 0===sc?0:null===(Ec=sc.labels)||void 0===Ec?0:Ec.update)&&Qb(Ya.encode.labels.update.text)&&(oa=E(T,"datum.label",Ya.encode.labels.update.text.signal));sc={signal:oa};var Ic,Uc;Ya.encode=null!==(Zb=Ya.encode)&&void 0!==Zb?Zb:{};Ya.encode.labels=null!==(Ic=Ya.encode.labels)&&void 0!==Ic?Ic:{};Ya.encode.labels.update=null!==(Uc=Ya.encode.labels.update)&&void 0!==Uc?Uc:{};Ya.encode.labels.update.text=sc}Zb=Ya}return Zb}).filter(function(T){return void 0!==
T})}function Zi(b){return b.children.reduce(function(f,a){return f.concat(a.assembleProjections())},gl(b))}function gl(b){var f=b.component.projection;if(!f||f.merged)return[];var a=f.combine(),c=a.name;if(f.data){var e={signal:"[".concat(f.size.map(function(l){return l.signal}).join(", "),"]")};f=f.data.reduce(function(l,u){u=Qb(u)?u.signal:"data('".concat(b.lookupDataSource(u),"')");ya(l,u)||l.push(u);return l},[]);if(0>=f.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},
{name:c,size:e,fit:{signal:1<f.length?"[".concat(f.join(", "),"]"):f[0]}},a)]}return[Object.assign({},{name:c},{translate:{signal:"[width / 2, height / 2]"}},a)]}function tk(b){if(b.hasProjection){var f,a=b.specifiedProjection,c=!(a&&(null!=a.scale||null!=a.translate)),e=c?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(c){c=[];for(var l=b.encoding,u=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),G=u.next();!G.done;G=u.next())G=G.value,(Be(l[G[0]])||
Be(l[G[1]]))&&c.push({signal:b.getName("geojson_".concat(c.length))});b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&c.push({signal:b.getName("geojson_".concat(c.length))});0===c.length&&c.push(b.requestDataName(tf.Main))}else c=void 0;return new hl(b.projectionName(!0),Object.assign({},null!==(f=b.config.projection)&&void 0!==f?f:{},null!==a&&void 0!==a?a:{}),e,c)}}function il(b,f){var a=wa(gn,function(c){return!zf.call(b.explicit,c)&&!zf.call(f.explicit,c)||zf.call(b.explicit,
c)&&zf.call(f.explicit,c)&&mf(b.get(c))===mf(f.get(c))?!0:!1});if(mf(b.size)===mf(f.size)){if(a)return b;if(mf(b.explicit)===mf({}))return f;if(mf(f.explicit)===mf({}))return b}return null}function Tg(b){if(0!==b.children.length){for(var f,a=$jscomp.makeIterator(b.children),c=a.next();!c.done;c=a.next()){var e=c.value;e.component.projection=nf(e)?tk(e):Tg(e)}a=wa(b.children,function(u){if(u=u.component.projection){if(f)return(u=il(f,u))&&(f=u),!!u;f=u}return!0});if(f&&a){a=b.projectionName(!0);e=
new hl(a,f.specifiedProjection,f.size,xe(f.data));b=$jscomp.makeIterator(b.children);for(c=b.next();!c.done;c=b.next()){c=c.value;var l=c.component.projection;l&&(l.isFit&&e.data.push.apply(e.data,$jscomp.arrayFromIterable(c.component.projection.data)),c.renameProjection(l.get("name"),a),l.merged=!0)}return e}}}function jl(b,f,a,c){if(Fc(f,a)){var e,l;b=nf(b)?null!==(e=null!==(l=b.axis(a))&&void 0!==l?l:b.legend(a))&&void 0!==e?e:{}:{};e=gd(f,{expr:"datum"});l=gd(f,{expr:"datum",binSuffix:"end"});
return{formulaAs:gd(f,{binSuffix:"range",forAs:!0}),formula:ff(e,l,b.format,b.formatType,c)}}return{}}function Kh(b,f){return"".concat(Xb(b),"_").concat(f)}function uk(b,f,a){var c;a=null!==(c=Ab(a,void 0))&&void 0!==c?c:{};f=Kh(a,f);return b.getName("".concat(f,"_bins"))}function kl(b,f,a){var c="as"in b?ea(b.as)?[b.as,"".concat(b.as,"_end")]:[b.as[0],b.as[1]]:[gd(b,{forAs:!0}),gd(b,{binSuffix:"end",forAs:!0})];var e=Object.assign({},Ab(f,void 0));f=Kh(e,b.field);var l=a.getName("".concat(f,"_bins"));
var u=a.getName("".concat(f,"_extent"));if(Tb(e.extent)){var G=e.extent;var T=G.selection;G=ti(a.getSelectionComponent(I(T),T),G);delete e.extent}b=Object.assign({},{bin:e,field:b.field,as:[c]},l?{signal:l}:{},u?{extentSignal:u}:{},G?{span:G}:{});return{key:f,binComponent:b}}function vk(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function $i(b,f){b=O(b);if("number"===f)return"toNumber(".concat(b,")");if("boolean"===f)return"toBoolean(".concat(b,")");if("string"===
f)return"toString(".concat(b,")");if("date"===f)return"toDate(".concat(b,")");if("flatten"===f)return b;if(0===f.indexOf("date:"))return f=vk(f.slice(5,f.length)),"timeParse(".concat(b,",'").concat(f,"')");if(0===f.indexOf("utc:"))return f=vk(f.slice(4,f.length)),"utcParse(".concat(b,",'").concat(f,"')");La('Unrecognized parse "'.concat(f,'".'));return null}function aj(b){var f={};Wa(b.filter,function(a){if(Vd(a)){var c=null;if(Ac(a))c=wd(a.equal);else if(Hc(a))c=wd(a.lte);else if(Jc(a))c=wd(a.lt);
else if(ad(a))c=wd(a.gt);else if(md(a))c=wd(a.gte);else if(od(a))c=a.range[0];else if(rd(a)){var e;c=(null!==(e=a.oneOf)&&void 0!==e?e:a["in"])[0]}c&&(Vb(c)?f[a.field]="date":Ja(c)?f[a.field]="number":ea(c)&&(f[a.field]="string"));a.timeUnit&&(f[a.field]="date")}});return f}function wk(b){function f(l){if(Jb(l))a[l.field]="date";else{var u;if(u="quantitative"===l.type)u=l.aggregate,u=ea(u)&&ya(["min","max"],u);u?a[l.field]="number":1<Y(l.field)?l.field in a||(a[l.field]="flatten"):pe(l)&&He(l.sort)&&
1<Y(l.sort.field)&&(l.sort.field in a||(a[l.sort.field]="flatten"))}}var a={};(nf(b)||rg(b))&&b.forEachFieldDef(function(l,u){ke(l)?f(l):(u=eb(u),u=b.fieldDef(u),f(Object.assign({},l,{type:u.type})))});if(nf(b)){var c=b.markDef,e=b.encoding;kc(b.mark)&&!b.encoding.order&&(c=e["horizontal"===c.orient?"y":"x"],!Pc(c)||"quantitative"!==c.type||c.field in a||(a[c.field]="number"))}return a}function xk(b){return b instanceof ng||b instanceof uh||b instanceof vh}function bj(b){return b.stack.stackBy.reduce(function(f,
a){(a=gd(a.fieldDef))&&f.push(a);return f},[])}function Nl(b){return zd(b)&&b.every(function(f){return ea(f)})&&1<b.length}function ll(b){function f(a){if(!(a instanceof ig)){var c=a.clone();if(c instanceof Df){var e="scale_"+c.getSource();c.setSource(e);b.model.component.data.outputNodes[e]=c}else(c instanceof Lf||c instanceof Rf||c instanceof Dg||c instanceof tg)&&c.addDimensions(b.fields);a=$jscomp.makeIterator(a.children.flatMap(f));for(e=a.next();!e.done;e=a.next())e.value.parent=c;return[c]}return a.children.flatMap(f)}
return f}function Ej(b){if(b instanceof ig)if(1!==b.numChildren()||b.children[0]instanceof Df){var f=b.model.component.data.main;yk(f);var a=ll(b);b=b.children.map(a).flat();b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a.value.parent=f}else f=b.children[0],(f instanceof Lf||f instanceof Rf||f instanceof Dg||f instanceof tg)&&f.addDimensions(b.fields),f.swapWithParent(),Ej(b);else b.children.map(Ej)}function yk(b){if(b instanceof Df&&b.type===tf.Main&&1===b.numChildren()){var f=b.children[0];
f instanceof ig||(f.swapWithParent(),yk(b))}}function Fj(b){b=$jscomp.makeIterator(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var a=$jscomp.makeIterator(f.children),c=a.next();!c.done;c=a.next())if(c.value.parent!==f)return!1;if(!Fj(f.children))return!1}return!0}function ag(b,f){var a=!1;f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())a=b.optimize(c.value)||a;return a}function zk(b,f,a){var c=b.sources,e=!1;e=ag(new Ol,c)||e;e=ag(new Pl(f),c)||e;c=c.filter(function(l){return 0<
l.numChildren()});e=ag(new Ql,c)||e;c=c.filter(function(l){return 0<l.numChildren()});a||(e=ag(new Rl,c)||e,e=ag(new Sl(f),c)||e,e=ag(new ml,c)||e,e=ag(new Tl,c)||e,e=ag(new Ul,c)||e,e=ag(new Vl,c)||e,e=ag(new nl,c)||e,e=ag(new Wl,c)||e);b.sources=c;return e}function xi(b){for(var f=b.component.scales,a=$jscomp.makeIterator(id(f)),c=a.next();!c.done;c=a.next()){c=c.value;var e=b,l=e.getScaleComponent(c).get("type"),u=e.encoding;var G=e.scaleDomain(c);var T=e.typedFieldDef(c),oa=e.config.scale;"unaggregated"===
G?(T=Gj(T,l),oa=T.reason,T.valid||(La(oa),G=void 0)):void 0===G&&oa.useUnaggregatedDomain&&Gj(T,l).valid&&(G="unaggregated");G!==e.scaleDomain(c)&&(e.specifiedScales[c]=Object.assign({},e.specifiedScales[c],{domain:G}));e="x"===c&&Be(u.x2)?Be(u.x)?hf(wh(l,G,e,"x"),wh(l,G,e,"x2"),"domain","scale",Lh):wh(l,G,e,"x2"):"y"===c&&Be(u.y2)?Be(u.y)?hf(wh(l,G,e,"y"),wh(l,G,e,"y2"),"domain","scale",Lh):wh(l,G,e,"y2"):wh(l,G,e,c);f[c].setWithExplicit("domains",e);G=void 0;l=b.component.scales[c];T=b.specifiedScales[c].domain;
u=null===(G=b.fieldDef(c))||void 0===G?void 0:G.bin;G=P(T)&&T;u=cb(u)&&Tb(u.extent)&&u.extent;(G||u)&&l.set("selectionExtent",null!==G&&void 0!==G?G:u,!0);if(b.component.data.isFaceted){for(l=b;!rg(l)&&l.parent;)l=l.parent;if("shared"===l.component.resolve.scale[c])for(c=$jscomp.makeIterator(e.value),e=c.next();!e.done;e=c.next())e=e.value,$b(e)&&(e.data="scale_"+e.data.replace("scale_",""))}}}function ol(b){for(var f=$jscomp.makeIterator(b.children),a=f.next();!a.done;a=f.next()){var c=a.value;nf(c)?
xi(c):ol(c)}f=b.component.scales;c=$jscomp.makeIterator(id(f));for(var e=c.next();!e.done;e=c.next()){e=e.value;var l=void 0,u=null,G=$jscomp.makeIterator(b.children);for(a=G.next();!a.done;a=G.next())if(a=a.value.component.scales[e])l=void 0===l?a.getWithExplicit("domains"):hf(l,a.getWithExplicit("domains"),"domains","scale",Lh),a=a.get("selectionExtent"),u&&a&&u.selection!==a.selection&&La("The same selection must be used to override scale domains in a layered view."),u=a;f[e].setWithExplicit("domains",
l);u&&f[e].set("selectionExtent",u,!0)}}function Mh(b,f,a){return b.map(function(c){c=ac(c,{timeUnit:a,type:f});return{signal:"{data: ".concat(c,"}")}})}function Ak(b,f,a){var c;a=null===(c=lc(a))||void 0===c?void 0:c.unit;return"temporal"===f||a?Mh(b,f,a):[b]}function wh(b,f,a,c){var e=Be(a.encoding[c]),l=e.type,u=e.timeUnit;if(f&&f.unionWith)return c=wh(b,void 0,a,c),e=Ak(f.unionWith,l,u),Ae([].concat($jscomp.arrayFromIterable(c.value),$jscomp.arrayFromIterable(e)));if(Qb(f))return Ae([f]);if(f&&
"unaggregated"!==f&&!P(f))return Ae(Ak(f,l,u));var G=a.stack;if(G&&c===G.fieldChannel){if("normalize"===G.offset)return je([[0,1]]);e=a.requestDataName(tf.Main);return je([{data:e,field:a.vgField(c,{suffix:"start"})},{data:e,field:a.vgField(c,{suffix:"end"})}])}G=zg[c]&&Pc(e)?yi(a,c,b):void 0;if(Sd(e))return c=Ak([e.datum],l,u),je(c);if("unaggregated"===f)return c=a.requestDataName(tf.Main),e=e.field,je([{data:c,field:gd({field:e,aggregate:"min"})},{data:c,field:gd({field:e,aggregate:"max"})}]);if(za(e.bin)){if(b in
nb)return"bin-ordinal"===b?je([]):je([{data:y(G)?a.requestDataName(tf.Main):a.requestDataName(tf.Raw),field:a.vgField(c,Fc(e,c)?{binSuffix:"range"}:{}),sort:!0!==G&&cb(G)?G:{field:a.vgField(c,{}),op:"min"}}]);f=e.bin;if(za(f)){var T=uk(a,e.field,f);return je([new Eg(function(){var oa=a.getSignalName(T);return"[".concat(oa,".start, ").concat(oa,".stop]")})])}return je([{data:a.requestDataName(tf.Main),field:a.vgField(c,{})}])}return e.timeUnit&&ya(["time","utc"],b)&&Yc(c,e,nf(a)?a.encoding[Ka(c)]:
void 0,a.stack,a.markDef,a.config)?(e=a.requestDataName(tf.Main),je([{data:e,field:a.vgField(c)},{data:e,field:a.vgField(c,{suffix:"end"})}])):G?je([{data:y(G)?a.requestDataName(tf.Main):a.requestDataName(tf.Raw),field:a.vgField(c),sort:G}]):je([{data:a.requestDataName(tf.Main),field:a.vgField(c)}])}function Hj(b,f){var a=b.op,c=b.field;b=b.order;return Object.assign({},{op:null!==a&&void 0!==a?a:f?"sum":"min"},c?{field:Sa(c)}:{},b?{order:b}:{})}function yi(b,f,a){if(a in nb){a=b.fieldDef(f);var c=
a.sort;if(be(c))return{op:"min",field:th(a,f),order:"ascending"};var e=(a=b.stack)?[].concat($jscomp.arrayFromIterable(a.groupbyField?[a.groupbyField]:[]),$jscomp.arrayFromIterable(a.stackBy.map(function(u){return u.fieldDef.field}))):void 0;if(He(c))return a=a&&!ya(e,c.field),Hj(c,a);if(c&&c.encoding){f=c.order;b=b.fieldDef(c.encoding);c=b.aggregate;var l=b.field;a=a&&!ya(e,l);if(v(c)||J(c))return Hj({field:gd(b),order:f},a);if(ba(c)||!c)return Hj({op:c,field:l,order:f},a)}else{if("descending"===
c)return{op:"min",field:b.vgField(f),order:"descending"};if(ya(["ascending",void 0],c))return!0}}}function Gj(b,f){var a=b.aggregate,c=b.type;return a?ea(a)&&!Xl[a]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(a,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===c&&"log"===f?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(mf(b),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(mf(b),
").")}}function Lh(b,f,a,c){if(b.explicit&&f.explicit){var e=b.value,l=f.value;a="Conflicting ".concat(c.toString(),' property "').concat(a.toString(),'" (').concat(mf(e)," and ").concat(mf(l),"). Using the union of the two domains.");La(a)}return{explicit:b.explicit,value:[].concat($jscomp.arrayFromIterable(b.value),$jscomp.arrayFromIterable(f.value))}}function Bk(b){var f=qa(b.map(function(e){return $b(e)?(e=Object.assign({},e),delete e.sort,e):e}),xa),a=qa(b.map(function(e){if($b(e))return e=e.sort,
void 0===e||y(e)||("op"in e&&"count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}).filter(function(e){return void 0!==e}),xa);if(0!==f.length){if(1===f.length){f=b[0];if($b(f)&&0<a.length){var c=a[0];1<a.length?(La("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0):cb(c)&&"field"in c&&f.field===c.field&&(c=c.order?{order:c.order}:!0);return Object.assign({},f,{sort:c})}return f}a=qa(a.map(function(e){if(y(e)||!("op"in e)||ea(e.op)&&
e.op in Yl)return e;La("Dropping sort property ".concat(mf(e),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),xa);1===a.length?c=a[0]:1<a.length&&(La("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0);a=qa(b.map(function(e){return $b(e)?e.data:null}),function(e){return e});return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],fields:f.map(function(e){return e.field})},c?{sort:c}:{}):Object.assign({},{fields:f},
c?{sort:c}:{})}}function Ck(b){if($b(b)&&ea(b.field))return b.field;var f=zd(b)?!1:"fields"in b&&!("data"in b);if(f){b=$jscomp.makeIterator(b.fields);for(f=b.next();!f.done;f=b.next())if(f=f.value,$b(f)&&ea(f.field))if(!a)var a=f.field;else if(a!==f.field)return La("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;La("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}a=zd(b)?!1:"fields"in b&&"data"in b;if(a)return La("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=b.fields[0],ea(a)?a:void 0}function Ij(b,f){f=b.component.scales[f].get("domains").map(function(a){$b(a)&&(a.data=b.lookupDataSource(a.data));return a});return Bk(f)}function pl(b){return ii(b)||cj(b)?b.children.reduce(function(f,a){return f.concat(pl(a))},ql(b)):ql(b)}
function ql(b){return id(b.component.scales).reduce(function(f,a){var c=b.component.scales[a];if(c.merged)return f;var e=c.combine(),l=Object.assign({},e);c=e.name;var u=e.type,G=e.selectionExtent,T=e.reverse;l=(delete l.name,delete l.type,delete l.selectionExtent,delete l.domains,delete l.range,delete l.reverse,l);e=e.range;a in Ue?Gc(e)&&(e={step:{signal:c+"_step"}}):cb(e)&&$b(e)&&(e=Object.assign({},e,{data:b.lookupDataSource(e.data)}));if(G){var oa=G.selection;oa=b.getSelectionComponent(oa,I(oa));
oa={signal:ti(oa,G)}}a=Ij(b,a);f.push(Object.assign({},{name:c,type:u},a?{domain:a}:{},oa?{domainRaw:oa}:{},{range:e},void 0!==T?{reverse:T}:{},l));return f},[])}function rl(b){return"x"===b?"width":"y"===b?"height":void 0}function sl(b,f){var a=b.fieldDef(f);if(a&&a.bin&&za(a.bin)){var c=uk(b,a.field,a.bin);f=rl(f);var e=b.getName(f);return new Eg(function(){var l=b.getSignalName(c);l="(".concat(l,".stop - ").concat(l,".start) / ").concat(l,".step");return"".concat(b.getSignalName(e)," / (").concat(l,
")")})}}function Zl(b,f){for(var a=f.specifiedScales[b],c=f.size,e=f.getScaleComponent(b).get("type"),l=$jscomp.makeIterator(hn),u=l.next();!u.done;u=l.next())if(u=u.value,void 0!==a[u]){var G=na(e,u),T=Da(b,u);if(G)if(T)La(T);else switch(u){case "range":e=a.range;if(zd(e)){if(b in Ue)return Ae(e.map(function(oa){if("width"===oa||"height"===oa){oa=f.getName(oa);var ab=f.getSignalName.bind(f);return Eg.fromName(ab,oa)}return oa}))}else if(cb(e))return Ae({data:f.requestDataName(tf.Main),field:e.field,
sort:{op:"min",field:f.vgField(b)}});return Ae(e);case "scheme":return Ae($l(a[u]))}else La(Ne(e,u,b))}if("x"===b||"y"===b)if(l="x"===b?"width":"height",c=c[l],Cd(c)){if(e in nb)return Ae({step:c.step});La(Md(l))}c=a.rangeMin;a=a.rangeMax;b=am(b,f);return(void 0!==c||void 0!==a)&&na(e,"rangeMin")&&zd(b)&&2===b.length?Ae([null!==c&&void 0!==c?c:b[0],null!==a&&void 0!==a?a:b[1]]):je(b)}function $l(b){return!ea(b)&&b.name?Object.assign({},{scheme:b.name},Qa(b,["name"])):{scheme:b}}function am(b,f){var a=
f.size,c=f.config,e=f.mark,l=f.encoding,u=f.getSignalName.bind(f),G=Be(l[b]).type;l=f.getScaleComponent(b).get("type");var T=f.specifiedScales[b],oa=T.domain;T=T.domainMid;switch(b){case "x":case "y":if(ya(["point","band"],l))if("x"===b&&!a.width){if(c=kb(c.view,"width"),Cd(c))return c}else if("y"===b&&!a.height&&(c=kb(c.view,"height"),Cd(c)))return c;c=rl(b);c=f.getName(c);return"y"===b&&l in ib?[Eg.fromName(u,c),0]:[0,Eg.fromName(u,c)];case "size":return u=f.component.scales[b].get("zero"),u=tl(e,
u,c),a=bm(e,a,f,c),l in N?cm(u,a,dm(l,c,oa,b)):[u,a];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Eg(function(){var ab=f.getSignalName("width"),Ya=f.getSignalName("height");return"min(".concat(ab,",").concat(Ya,")/2")})];case "strokeWidth":return[c.scale.minStrokeWidth,c.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===l?"nominal"===G?"category":
"ordinal":void 0!==T?"diverging":"rect"===e||"geoshape"===e?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[c.scale.minOpacity,c.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(b));}function dm(b,f,a,c){switch(b){case "quantile":return f.scale.quantileCount;case "quantize":return f.scale.quantizeCount;case "threshold":if(void 0!==a&&zd(a))return a.length+1;La("Domain for ".concat(c," is required for threshold scale."));return 3}}function cm(b,
f,a){var c=function(){var e=me(f),l=me(b),u="(".concat(e," - ").concat(l,") / (").concat(a," - 1)");return"sequence(".concat(l,", ").concat(e," + ").concat(u,", ").concat(u,")")};return Qb(f)?new Eg(c):{signal:c()}}function tl(b,f,a){if(f)return Qb(f)?{signal:"".concat(f.signal," ? 0 : ").concat(tl(b,!1,a))}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(Rc("size",
b));}function bm(b,f,a,c){a={x:sl(a,"x"),y:sl(a,"y")};switch(b){case "bar":case "tick":if(void 0!==c.scale.maxBandSize)return c.scale.maxBandSize;var e=Jj(f,a,c.view);return Ja(e)?e-1:new Eg(function(){return"".concat(e.signal," - 1")});case "line":case "trail":case "rule":return c.scale.maxStrokeWidth;case "text":return c.scale.maxFontSize;case "point":case "square":case "circle":if(c.scale.maxSize)return c.scale.maxSize;var l=Jj(f,a,c.view);return Ja(l)?Math.pow(.95*l,2):new Eg(function(){return"pow(".concat(.95,
" * ").concat(l.signal,", 2)")})}throw Error(Rc("size",b));}function Jj(b,f,a){var c=Cd(b.width)?b.width.step:Ua(a,"width"),e=Cd(b.height)?b.height.step:Ua(a,"height");return f.x||f.y?new Eg(function(){return"min(".concat([f.x?f.x.signal:c,f.y?f.y.signal:e].join(", "),")")}):Math.min(c,e)}function Nh(b,f){if(nf(b))for(var a=b.component.scales,c=b.config,e=b.encoding,l=b.markDef,u=b.specifiedScales,G=$jscomp.makeIterator(id(a)),T=G.next();!T.done;T=G.next()){var oa=T.value,ab=u[oa];T=a[oa];var Ya=
b.getScaleComponent(oa),vb=Be(e[oa]),Zb=ab[f],sc=Ya.get("type"),Ec=Ya.get("padding");Ya=Ya.get("paddingInner");var Ic=na(sc,f),Uc=Da(oa,f);void 0!==Zb&&(Ic?Uc&&La(Uc):La(Ne(sc,f,oa)));if(Ic&&void 0===Uc)if(void 0!==Zb)switch(oa=vb.timeUnit,vb=vb.type,f){case "domainMax":case "domainMin":Vb(ab[f])||"temporal"===vb||oa?T.set(f,{signal:ac(ab[f],{type:vb,timeUnit:oa})},!0):T.set(f,ab[f],!0);break;default:T.copyKeyFromObject(f,ab)}else ab=f in Bm?Bm[f]({model:b,channel:oa,fieldOrDatumDef:vb,scaleType:sc,
scalePadding:Ec,scalePaddingInner:Ya,domain:ab.domain,markDef:l,config:c}):c.scale[f],void 0!==ab&&T.set(f,ab,!1)}else Sf(b,f)}function gh(b){if(nf(b))for(var f=b.component.scales,a=$jscomp.makeIterator(Ki),c=a.next();!c.done;c=a.next()){var e=c.value;if(c=f[e])e=Zl(e,b),c.setWithExplicit("range",e)}else Sf(b,"range")}function Sf(b,f){for(var a=b.component.scales,c=$jscomp.makeIterator(b.children),e=c.next();!e.done;e=c.next()){var l=e.value;"range"===f?gh(l):Nh(l,f)}c=$jscomp.makeIterator(id(a));
for(l=c.next();!l.done;l=c.next()){l=l.value;var u=void 0,G=$jscomp.makeIterator(b.children);for(e=G.next();!e.done;e=G.next())if(e=e.value.component.scales[l])e=e.getWithExplicit(f),u=hf(u,e,f,"scale",Ce(function(T,oa){switch(f){case "range":if(T.step&&oa.step)return T.step-oa.step}return 0}));a[l].setWithExplicit(f,u)}}function jg(b,f){var a=f.bin;if(za(a)){var c=uk(b,f.field,a);return new Eg(function(){return b.getSignalName(c)})}if(wb(a)&&cb(a)&&void 0!==a.step)return{step:a.step}}function Oh(b,
f,a){var c;switch(f.type){case "nominal":case "ordinal":if(ua(b)||"discrete"===Ib(b))return"shape"===b&&"ordinal"===f.type&&La(De(b,"ordinal")),"ordinal";if(b in Ue){if(ya(["rect","bar","image","rule"],a))return"band"}else if("arc"===a&&b in Fg)return"band";return void 0!==f.band||Le(f)&&(null===(c=f.axis)||void 0===c?0:c.tickBand)?"band":"point";case "temporal":if(!ua(b)){if("discrete"===Ib(b))return La(De(b,"temporal")),"ordinal";if(Pc(f)&&f.timeUnit&&lc(f.timeUnit).utc)return"utc"}return"time";
case "quantitative":if(ua(b)){if(Pc(f)&&za(f.bin))return"bin-ordinal"}else if("discrete"===Ib(b))return La(De(b,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(f.type,'".'));}function ul(b){if(nf(b))b.component.scales=Dk(b);else{for(var f=b.component,a=b.component.scales={},c={},e=b.component.resolve,l=$jscomp.makeIterator(b.children),u=l.next();!u.done;u=l.next()){u=u.value;ul(u);for(var G=$jscomp.makeIterator(id(u.component.scales)),T=G.next();!T.done;T=
G.next()){T=T.value;var oa,ab=e.scale;if(null!==(oa=e.scale[T])&&void 0!==oa)var Ya=oa;else if(Ya=b,ii(Ya)||rg(Ya))Ya="shared";else if(cj(Ya))Ya=T in Ue?"independent":"shared";else throw Error("invalid model type for resolve");ab[T]=Ya;if("shared"===e.scale[T])if(ab=c[T],Ya=u.component.scales[T].getWithExplicit("type"),ab){var vb=Yj[ab.value],Zb=Yj[Ya.value];vb===Zb||"ordinal-position"===vb&&"time"===Zb||"ordinal-position"===Zb&&"time"===vb?c[T]=hf(ab,Ya,"type","scale",jn):(e.scale[T]="independent",
delete c[T])}else c[T]=Ya}}e=$jscomp.makeIterator(id(c));for(T=e.next();!T.done;T=e.next())for(l=T.value,oa=b.scaleName(l,!0),a[l]=new vl(oa,c[l]),G=$jscomp.makeIterator(b.children),u=G.next();!u.done;u=G.next())if(u=u.value,T=u.component.scales[l])u.renameScale(T.get("name"),oa),T.merged=!0;f.scales=a}}function Dk(b){var f=b.encoding,a=b.mark;return Ki.reduce(function(c,e){var l=Be(f[e]);if(l&&a===uf&&"shape"===e&&"geojson"===l.type)return c;var u=l&&l.scale;if(l&&null!==u&&!1!==u){var G;u=null!==
(G=u)&&void 0!==G?G:{};var T=u;G=Oh(e,l,a);T=T.type;if(zg[e])if(void 0!==T)if(gb(e,T)){var oa;if(oa=Pc(l))l=l.type,oa=!(ya(["ordinal","nominal"],l)?void 0===T||T in nb:"temporal"===l?ya([Af.TIME,Af.UTC,void 0],T):"quantitative"===l?ya([Af.LOG,Af.POW,Af.SQRT,Af.SYMLOG,Af.QUANTILE,Af.QUANTIZE,Af.THRESHOLD,Af.LINEAR,void 0],T):1);oa?(La('FieldDef does not work with "'.concat(T,'" scale. We are using "').concat(G,'" scale instead.')),l=G):l=T}else La('Channel "'.concat(e,'" does not work with "').concat(T,
'" scale. We are using "').concat(G,'" scale instead.')),l=G;else l=G;else l=null;c[e]=new vl(b.scaleName(e+"",!0),{value:l,explicit:u.type===l})}return c},{})}function nf(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function rg(b){return"facet"===(null===b||void 0===b?void 0:b.type)}function cj(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function ii(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function dj(b){function f(c,e){c instanceof ng&&!(c.isGenerator||"url"in
c.data)&&(b.push(e),e={name:null,source:e.name,transform:[]});if(c instanceof vf)if(c.parent instanceof ng&&!e.source){var l;e.format=Object.assign({},null!==(l=e.format)&&void 0!==l?l:{},{parse:c.assembleFormatParse()});e.transform.push.apply(e.transform,$jscomp.arrayFromIterable(c.assembleTransforms(!0)))}else e.transform.push.apply(e.transform,$jscomp.arrayFromIterable(c.assembleTransforms()));if(c instanceof ig)for(e.name||(e.name="data_".concat(a++)),!e.source||0<e.transform.length?(b.push(e),
c.data=e.name):c.data=e.source,l=$jscomp.makeIterator(c.assemble()),c=l.next();!c.done;c=l.next())b.push(c.value);else switch((c instanceof uh||c instanceof vh||c instanceof hh||c instanceof dh||c instanceof Ug||c instanceof ih||c instanceof Vg||c instanceof Lf||c instanceof jh||c instanceof Dg||c instanceof tg||c instanceof Ph||c instanceof Qh||c instanceof Rh||c instanceof Sh||c instanceof Th||c instanceof Uh||c instanceof Gg||c instanceof Vh||c instanceof xh)&&e.transform.push(c.assemble()),(c instanceof
Wf||c instanceof Tf||c instanceof og||c instanceof Rf)&&e.transform.push.apply(e.transform,$jscomp.arrayFromIterable(c.assemble())),c instanceof Df&&(e.source&&0===e.transform.length?c.setSource(e.source):c.parent instanceof Df?c.setSource(e.name):(e.name||(e.name="data_".concat(a++)),c.setSource(e.name),1===c.numChildren()&&(b.push(e),e={name:null,source:e.name,transform:[]}))),c.numChildren()){case 0:c instanceof Df&&(!e.source||0<e.transform.length)&&b.push(e);break;case 1:f(c.children[0],e);break;
default:for(e.name||(e.name="data_".concat(a++)),l=e.name,!e.source||0<e.transform.length?b.push(e):l=e.source,c=$jscomp.makeIterator(c.children),e=c.next();!e.done;e=c.next())f(e.value,{name:null,source:l,transform:[]})}}var a=0;return f}function wl(b){for(var f=[],a=dj(f),c=$jscomp.makeIterator(b.children),e=c.next();!e.done;e=c.next())a(e.value,{source:b.name,name:null,transform:[]});return f}function xl(b,f){for(var a=[],c=dj(a),e=0,l=$jscomp.makeIterator(b.sources),u=l.next();!u.done;u=l.next()){u=
u.value;u.hasName()||(u.dataName="source_".concat(e++));var G=u.assemble();c(u,G)}e=$jscomp.makeIterator(a);for(c=e.next();!c.done;c=e.next())c=c.value,0===c.transform.length&&delete c.transform;c=0;e=$jscomp.makeIterator(a.entries());for(l=e.next();!l.done;l=e.next()){u=$jscomp.makeIterator(l.value);l=u.next().value;u=u.next().value;var T;0!==(null!==(T=u.transform)&&void 0!==T?T:[]).length||u.source||a.splice(c++,0,a.splice(l,1)[0])}T=$jscomp.makeIterator(a);for(c=T.next();!c.done;c=T.next())for(c=
$jscomp.makeIterator(null!==(oa=c.value.transform)&&void 0!==oa?oa:[]),e=c.next();!e.done;e=c.next()){e=e.value;var oa;"lookup"===e.type&&(e.from=b.outputNodes[e.from].getSource())}b=$jscomp.makeIterator(a);for(c=b.next();!c.done;c=b.next())oa=c.value,oa.name in f&&(oa.values=f[oa.name]);return a}function Ek(b,f,a){f="row"===f?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(f)?b.child.getSizeSignalRef(f):void 0,axes:[]}}function Fk(b,f){var a=b.child;if(a.component.axes[f]){var c=
b.component,e=c.layoutHeaders;c=c.resolve;c.axis[f]=Sg(c,f);if("shared"===c.axis[f])for(c="x"===f?"column":"row",e=e[c],f=$jscomp.makeIterator(a.component.axes[f]),a=f.next();!a.done;a=f.next()){a=a.value;var l;var u=a.get("orient");u="top"===u||"left"===u||Qb(u)?"header":"footer";e[u]=null!==(l=e[u])&&void 0!==l?l:[Ek(b,c,!1)];var G=sg(a,"main",b.config,{header:!0});G&&e[u][0].axes.push(G);a.mainExtracted=!0}}}function Kj(b){b=$jscomp.makeIterator(b.children);for(var f=b.next();!f.done;f=b.next())f.value.parseLayoutSize()}
function Lj(b,f){for(var a=dl(f),c=hb(a),e=b.component.resolve,l=b.component.layoutSize,u,G=$jscomp.makeIterator(b.children),T=G.next();!T.done;T=G.next()){T=T.value.component.layoutSize.getWithExplicit(a);var oa=e.scale[c];if("independent"===oa&&"step"===T.value){u=void 0;break}if(u){if("independent"===oa&&u.value!==T.value){u=void 0;break}u=hf(u,T,a,"")}else u=T}if(u){c=$jscomp.makeIterator(b.children);for(T=c.next();!T.done;T=c.next())e=T.value,b.renameSignal(e.getName(a),b.getName(f)),e.component.layoutSize.set(a,
"merged",!1);l.setWithExplicit(f,u)}else l.setWithExplicit(f,{explicit:!1,value:void 0})}function em(b,f){var a=b.config,c=b.getScaleComponent("width"===f?"x":"y");if(c)return b=c.get("type"),c=c.get("range"),b in nb?(f=kb(a.view,f),Gc(c)||Cd(f)?"step":f):ta(a.view,f);if(b.hasProjection||"arc"===b.mark)return ta(a.view,f);f=kb(a.view,f);return Cd(f)?f.step:f}function Hg(b,f,a){return gd(f,Object.assign({},{suffix:"by_".concat(gd(b))},null!==a&&void 0!==a?a:{}))}function ej(b,f){f=$jscomp.makeIterator(f);
for(var a=f.next();!a.done;a=f.next()){a=a.value;var c,e,l,u,G=a.data;if(!b.name||!a.hasName()||b.name===a.dataName){var T=null===(c=b.format)||void 0===c?void 0:c.mesh,oa=null===(e=G.format)||void 0===e?void 0:e.feature;if(!T||!oa){var ab=null===(l=b.format)||void 0===l?void 0:l.feature;if(!ab&&!oa||ab===oa)if(oa=null===(u=G.format)||void 0===u?void 0:u.mesh,!T&&!oa||T===oa)if("values"in b&&"values"in G){if(Zg(b.values,G.values))return a}else if("url"in b&&"url"in G){if(b.url===G.url)return a}else if(Kf(b)&&
b.name===a.dataName)return a}}}return null}function Gk(b,f){if(b.data||!b.parent){if(null===b.data)return b=new ng({values:[]}),f.push(b),b;var a=ej(b.data,f);if(a)return dg(b.data)||(a.data.format=sa({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new ng(b.data);f.push(b);return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:b.parent.component.data.main}function fj(b){var f,a,c,e=Gk(b,b.component.data.sources),l=b.component.data,
u=l.outputNodes;l=l.outputNodeRefCounts;var G=b.parent?b.parent.component.data.ancestorParse.clone():new fm,T=b.data;dg(T)?("sequence"in T?e=new vh(e,T.sequence):"graticule"in T&&(e=new uh(e,T.graticule)),G.parseNothing=!0):null===(null===T||void 0===T?void 0:null===(f=T.format)||void 0===f?void 0:f.parse)&&(G.parseNothing=!0);e=null!==(a=vf.makeExplicit(e,b,G))&&void 0!==a?a:e;e=new Gg(e);f=b.parent&&ii(b.parent);if((nf(b)||rg(b))&&f){var oa;e=null!==(oa=Wf.makeFromEncoding(e,b))&&void 0!==oa?oa:
e}if(0<b.transforms.length)for(oa=0,a=$jscomp.makeIterator(b.transforms),T=a.next();!T.done;T=a.next()){var ab=T.value,Ya=T=void 0;if("calculate"in ab)Ya=e=new Ug(e,ab),T="derived";else if("filter"in ab){var vb;Ya=aj(ab);Ya=e=null!==(vb=vf.makeWithAncestors(e,{},Ya,G))&&void 0!==vb?vb:e;e=new dh(e,b,ab.filter)}else if("bin"in ab)Ya=e=Wf.makeFromTransform(e,ab,b),T="number";else if("timeUnit"in ab)T="date",void 0===G.getWithExplicit(ab.field).value&&(Ya={},e=new vf(e,(Ya[ab.field]=T,Ya)),G.set(ab.field,
T,!1)),Ya=e=Tf.makeFromTransform(e,ab);else if("aggregate"in ab)Ya=e=Lf.makeFromTransform(e,ab),T="number",sh(b)&&(e=new Gg(e));else if("lookup"in ab)Ya=e=jh.make(e,b,ab,oa++),T="derived";else if("window"in ab)Ya=e=new Dg(e,ab),T="number";else if("joinaggregate"in ab)Ya=e=new tg(e,ab),T="number";else if("stack"in ab)Ya=e=Rf.makeFromTransform(e,ab),T="derived";else if("fold"in ab)Ya=e=new Ph(e,ab),T="derived";else if("flatten"in ab)Ya=e=new Qh(e,ab),T="derived";else if("pivot"in ab)Ya=e=new xh(e,ab),
T="derived";else if("sample"in ab)e=new Vh(e,ab);else if("impute"in ab)Ya=e=og.makeFromTransform(e,ab),T="derived";else if("density"in ab)Ya=e=new Rh(e,ab),T="derived";else if("quantile"in ab)Ya=e=new Th(e,ab),T="derived";else if("regression"in ab)Ya=e=new Uh(e,ab),T="derived";else if("loess"in ab)Ya=e=new Sh(e,ab),T="derived";else{La("Ignoring an invalid transform: ".concat(mf(ab),"."));continue}if(Ya&&void 0!==T)for(ab=$jscomp.makeIterator(null!==(Zb=Ya.producedFields())&&void 0!==Zb?Zb:[]),Ya=
ab.next();!Ya.done;Ya=ab.next()){var Zb;G.set(Ya.value,T,!1)}}vb={};if(nf(b)&&b.component.selection)for(Zb=$jscomp.makeIterator(id(b.component.selection)),oa=Zb.next();!oa.done;oa=Zb.next())for(oa=$jscomp.makeIterator(b.component.selection[oa.value].project.items),a=oa.next();!a.done;a=oa.next())a=a.value,!a.channel&&1<Y(a.field)&&(vb[a.field]="flatten");Zb=wk(b);e=null!==(c=vf.makeWithAncestors(e,{},Object.assign({},vb,Zb),G))&&void 0!==c?c:e;nf(b)&&(e=Vg.parseAll(e,b),e=ih.parseAll(e,b));if(nf(b)||
rg(b)){var sc;if(!f){var Ec;e=null!==(Ec=Wf.makeFromEncoding(e,b))&&void 0!==Ec?Ec:e}e=null!==(sc=Tf.makeFromEncoding(e,b))&&void 0!==sc?sc:e;e=Ug.parseAllForSortIndex(e,b)}sc=b.getDataName(tf.Raw);c=new Df(e,sc,tf.Raw,l);e=u[sc]=c;if(nf(b)){var Ic,Uc;if(sc=Lf.makeFromEncoding(e,b))e=sc,sh(b)&&(e=new Gg(e));e=null!==(Ic=og.makeFromEncoding(e,b))&&void 0!==Ic?Ic:e;e=null!==(Uc=Rf.makeFromEncoding(e,b))&&void 0!==Uc?Uc:e}if(nf(b)){var Zc;e=null!==(Zc=hh.make(e,b))&&void 0!==Zc?Zc:e}Uc=b.getDataName(tf.Main);
Ic=new Df(e,Uc,tf.Main,l);e=u[Uc]=Ic;nf(b)&&vj(b,Ic);Zc=null;if(rg(b)){var Yd;Uc=b.getName("facet");Zc=e;sc=b.facet;Ec=sc.row;f=sc.column;if(Ec&&f){sc=null;Ec=$jscomp.makeIterator([Ec,f]);for(f=Ec.next();!f.done;f=Ec.next())f=f.value,He(f.sort)&&(sc=f.sort,Zc=sc=new tg(Zc,{joinaggregate:[{op:void 0===sc.op?"min":sc.op,field:sc.field,as:Hg(f,f.sort,{forAs:!0})}],groupby:[gd(f)]}));Zc=sc}else Zc=null;e=null!==(Yd=Zc)&&void 0!==Yd?Yd:e;Zc=new ig(e,b,Uc,Ic.getSource());u[Uc]=Zc}return Object.assign({},
b.component.data,{outputNodes:u,outputNodeRefCounts:l,raw:c,main:Ic,facetRoot:Zc,ancestorParse:G})}function ug(b){return Zf.reduce(function(f,a){b.component.scales[a]&&(f[a]=[zi(a,b)]);return f},{})}function Mj(b,f){if(b){if(b.length!==f.length)return;for(var a=b.length,c=0;c<a;c++){var e=b[c],l=f[c];if(!!e!==!!l)return;if(e&&l){var u=e.getWithExplicit("orient"),G=l.getWithExplicit("orient");if(u.explicit&&G.explicit&&u.value!==G.value)return;b[c]=Ai(e,l)}}}else return f.map(function(T){return T.clone()});
return b}function Ai(b,f){for(var a={},c=$jscomp.makeIterator(Cm),e=c.next();!e.done;a={$jscomp$loop$prop$prop$707:a.$jscomp$loop$prop$prop$707},e=c.next())a.$jscomp$loop$prop$prop$707=e.value,e=hf(b.getWithExplicit(a.$jscomp$loop$prop$prop$707),f.getWithExplicit(a.$jscomp$loop$prop$prop$707),a.$jscomp$loop$prop$prop$707,"axis",function(l){return function(u,G){switch(l.$jscomp$loop$prop$prop$707){case "title":return Xf(u,G);case "gridScale":return{explicit:u.explicit,value:V(u.value,G.value)}}return lf(u,
G,l.$jscomp$loop$prop$prop$707,"axis")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$707,e);return b}function yh(b,f,a,c,e){if("disable"===f)return void 0!==a;a=a||{};switch(f){case "titleAngle":case "labelAngle":return b===(Qb(a.labelAngle)?a.labelAngle:k(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===sk(c,e))return!0}return b===a[f]}function zi(b,f){var a,c,e,l,u,G=f.axis(b),T=new Nj,oa=Be(f.encoding[b]),ab=f.mark,Ya=f.config,
vb=(null===(a=G)||void 0===a?void 0:a.orient)||(null===(c=Ya["x"===b?"axisX":"axisY"])||void 0===c?void 0:c.orient)||(null===(e=Ya.axis)||void 0===e?void 0:e.orient)||("x"===b?"bottom":"left");c=f.getScaleComponent(b).get("type");a=Ti(b,c,vb,f.config);e=void 0!==G?!G:rk("disable",Ya.style,null===(l=G)||void 0===l?void 0:l.style,a).configValue;T.set("disable",e,void 0!==G);if(e)return T;G=G||{};l=Yk(oa,G,b,Ya.style,a);oa={fieldOrDatumDef:oa,axis:G,channel:b,model:f,scaleType:c,orient:vb,labelAngle:l,
mark:ab,config:Ya};ab=$jscomp.makeIterator(Cm);for(vb=ab.next();!vb.done;vb=ab.next())if(vb=vb.value,l=vb in Dm?Dm[vb](oa):yl[vb]?G[vb]:void 0,c=void 0!==l,e=yh(l,vb,G,f,b),c&&e)T.set(vb,l,e);else{var Zb=yl[vb]&&"values"!==vb?rk(vb,Ya.style,G.style,a):{},sc=void 0===Zb.configValue?void 0:Zb.configValue;Zb=void 0===Zb.configFrom?void 0:Zb.configFrom;var Ec=void 0!==sc;c&&!Ec?T.set(vb,l,e):("vgAxisConfig"!==Zb||kn.has(vb)&&Ec||r(sc)||Qb(sc))&&T.set(vb,sc,!1)}var Ic=null!==(u=G.encoding)&&void 0!==u?
u:{};u=Xk.reduce(function(Uc,Zc){var Yd;if(!T.hasAxisPart(Zc))return Uc;var Nd=Bj(null!==(Yd=Ic[Zc])&&void 0!==Yd?Yd:{},f);if("labels"===Zc){var Bf,Xe=f.encoding;Yd=f.config;Xe=null!==(Bf=Be(Xe[b]))&&void 0!==Bf?Bf:Be(Xe[Ka(b)]);var Hf=f.axis(b)||{};Bf=Hf.format;Hf=Hf.formatType;Nd=de(Hf)?Object.assign({},{text:Lb({fieldOrDatumDef:Xe,field:"datum.value",format:Bf,formatType:Hf,config:Yd})},Nd):Nd}void 0===Nd||A(Nd)||(Uc[Zc]={update:Nd});return Uc},{});A(u)||T.set("encode",u,!!G.encoding||void 0!==
G.labelAngle);return T}function zh(b,f,a){switch(b){case Dc:case le:case Te:case nd:case vc:case vg:return}var c=f.x,e=f.y,l=f.x2;f=f.y2;switch(b){case We:if(Pc(c)&&(wb(c.bin)||Pc(e)&&e.aggregate&&!c.aggregate))break;if(Pc(e)&&(wb(e.bin)||Pc(c)&&c.aggregate&&!e.aggregate))return"horizontal";if(f||l){if(a)return a;if(!l&&(Pc(c)&&"quantitative"===c.type&&!za(c.bin)||Qd(c)))return"horizontal";if(!f&&(Pc(e)&&"quantitative"===e.type&&!za(e.bin)||Qd(e)))break}case Sc:if(!(!l||Pc(c)&&wb(c.bin)||!f||Pc(e)&&
wb(e.bin)))return;case Je:if(f){if(Pc(e)&&wb(e.bin))return"horizontal";break}else if(l)if(Pc(c)&&wb(c.bin))break;else return"horizontal";else if(b===Sc)if(c&&!e)break;else if(e&&!c)return"horizontal";case Jf:case Dd:l=Ld(c);f=Ld(e);if(l&&!f)return"tick"!==b?"horizontal":"vertical";if(!l&&f)return"tick"!==b?"vertical":"horizontal";if(l&&f){l="temporal"===c.type;f="temporal"===e.type;if(l&&!f)return"tick"!==b?"vertical":"horizontal";if(!l&&f)return"tick"!==b?"horizontal":"vertical";if(!c.aggregate&&
e.aggregate)return"tick"!==b?"vertical":"horizontal";if(c.aggregate&&!e.aggregate)return"tick"!==b?"horizontal":"vertical";if(a)return a}else{if(a)return a;return}}return"vertical"}function Wh(b,f){return Object.assign({},fg(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Mf("x",b,{defaultPos:"mid"}),Mf("y",b,{defaultPos:"mid"}),sf("size",b),sf("angle",b),f?{shape:{value:f}}:sf("shape",b))}function zl(b,f,a){if(void 0===Fd("align",b,a))return"center"}
function Oj(b,f,a){if(void 0===Fd("baseline",b,a))return"middle"}function Pj(b){var f,a=b.config,c=b.markDef,e=c.orient,l="horizontal"===e?"width":"height";b=b.getScaleComponent("horizontal"===e?"x":"y");c=null!==(f=Fd("size",c,a,{vgChannel:l}))&&void 0!==f?f:a.tick.bandSize;return void 0!==c?c:(f=b?b.get("range"):void 0)&&Gc(f)&&Ja(f.step)?3*f.step/4:3*Ua(a.view,l)/4}function Bi(b){if(ya([Jf,Je,Ud],b.mark)){var f=pb(b.mark,b.encoding);if(0<f.length)return Hk(b,f)}else if(ya([We],b.mark)&&(f=Ik.some(function(a){return Fd(a,
b.markDef,b.config)}),b.stack&&!b.fieldDef("size")&&f))return gj(b);return Xh(b)}function Hk(b,f){return[{name:b.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+b.requestDataName(tf.Main),data:b.requestDataName(tf.Main),groupby:f}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Xh(b,{fromPrefix:"faceted_path_"})}]}function gj(b){var f=$jscomp.makeIterator(Xh(b,{fromPrefix:"stack_group_"})).next().value,a=b.scaleName(b.stack.fieldChannel),
c=function(oa){oa=void 0===oa?{}:oa;return b.vgField(b.stack.fieldChannel,oa)},e=function(oa,ab){ab=[c({prefix:"min",suffix:"start",expr:ab}),c({prefix:"max",suffix:"start",expr:ab}),c({prefix:"min",suffix:"end",expr:ab}),c({prefix:"max",suffix:"end",expr:ab})];return"".concat(oa,"(").concat(ab.map(function(Ya){return"scale('".concat(a,"',").concat(Ya,")")}).join(","),")")};if("x"===b.stack.fieldChannel){e=Object.assign({},aa(f.encode.update,["y","yc","y2","height"].concat($jscomp.arrayFromIterable(Ik))),
{x:{signal:e("min","datum")},x2:{signal:e("max","datum")},clip:{value:!0}});var l={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}};f.encode.update=Object.assign({},Qa(f.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})}else e=Object.assign({},aa(f.encode.update,["x","xc","x2","width"]),{y:{signal:e("min","datum")},y2:{signal:e("max","datum")},clip:{value:!0}}),l={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},f.encode.update=Object.assign({},Qa(f.encode.update,
["x","xc","x2"]),{width:{field:{group:"width"}}});for(var u=$jscomp.makeIterator(Ik),G=u.next();!G.done;G=u.next()){G=G.value;var T=ef(G,b.markDef,b.config);f.encode.update[G]?(e[G]=f.encode.update[G],delete f.encode.update[G]):T&&(e[G]=ge(T));T&&(f.encode.update[G]={value:0})}u=b.fieldDef(b.stack.groupbyChannel);G=gd(u)?[gd(u)]:[];((null===u||void 0===u?0:u.bin)||(null===u||void 0===u?0:u.timeUnit))&&G.push(gd(u,{binSuffix:"end"}));e="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce(function(oa,
ab){if(f.encode.update[ab]){var Ya={};return Object.assign({},oa,(Ya[ab]=f.encode.update[ab],Ya))}Ya=ef(ab,b.markDef,b.config);if(void 0!==Ya){var vb={};return Object.assign({},oa,(vb[ab]=ge(Ya),vb))}return oa},e);e.stroke&&(e.strokeForeground={value:!0},e.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(tf.Main),name:"stack_group_"+b.requestDataName(tf.Main),groupby:G,aggregate:{fields:[c({suffix:"start"}),c({suffix:"start"}),c({suffix:"end"}),c({suffix:"end"})],ops:["min",
"max","min","max"]}}},encode:{update:e},marks:[{type:"group",encode:{update:l},marks:[f]}]}]}function Wg(b){var f=b.encoding,a=b.stack,c=b.mark,e=b.markDef,l=b.config,u=f.order;if(!(!zd(u)&&Gd(u)&&Oa(u.value)||!u&&Oa(Fd("order",e,l)))){if((zd(u)||Pc(u))&&!a)return kf(u,{expr:"datum"});if(kc(c)&&(a="horizontal"===e.orient?"y":"x",c=f[a],Pc(c))){f=c.sort;if(zd(f))return{field:gd(c,{prefix:a,suffix:"sort_index",expr:"datum"})};if(He(f))return{field:gd({aggregate:M(b.encoding)?f.op:void 0,field:f.field},
{expr:"datum"})};if(f&&f.encoding)return b=b.fieldDef(f.encoding),{field:gd(b,{expr:"datum"}),order:f.order};if(null!==f)return{field:gd(c,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}function Xh(b,f){f=void 0===f?{fromPrefix:""}:f;var a=b.mark,c=b.markDef,e=b.encoding,l=b.config,u=c.clip;var G=b.getScaleComponent("x");var T=b.getScaleComponent("y");G=G&&G.get("selectionExtent")||T&&T.get("selectionExtent")?!0:void 0;T=b.component.projection;u=V(u,G,T&&!T.isFit?!0:void 0);G=he(c);
e=e.key;T=Wg(b);var oa;if(b.component.selection){for(var ab=oa=id(b.component.selection).length,Ya=b.parent;Ya&&0===ab;)ab=id(Ya.component.selection).length,Ya=Ya.parent;oa=ab?{interactive:0<oa||!!b.encoding.tooltip}:null}else oa=null;c=Fd("aria",c,l);l=Al[a].postEncodingTransform?Al[a].postEncodingTransform(b):null;return[Object.assign({},{name:b.getName("marks"),type:Al[a].vgMark},u?{clip:!0}:{},G?{style:G}:{},e?{key:e.field}:{},T?{sort:T}:{},oa?oa:{},!1===c?{aria:c}:{},{from:{data:f.fromPrefix+
b.requestDataName(tf.Main)},encode:{update:Al[a].encodeEntry(b)}},l?{transform:l}:{})]}function Yh(b,f,a,c,e){if("facet"in b)return new gf(b,f,a,e);if("layer"in b)return new kg(b,f,a,c,e);if(B(b))return new of(b,f,a,c,e);if("vconcat"in b||"hconcat"in b||"concat"in b)return new pg(b,f,a,e);throw Error(rc(b));}function wf(b,f,a,c){a=void 0===a?{}:a;var e=b.config?wc(b.config):void 0;a=[].concat(b.assembleSelectionData([]),xl(b.component.data,a));var l=b.assembleProjections(),u=b.assembleTitle(),G=b.assembleGroupStyle(),
T=b.assembleGroupEncodeEntry(!0),oa=b.assembleLayoutSignals();oa=oa.filter(function(vb){return"width"!==vb.name&&"height"!==vb.name||void 0===vb.value?!0:(f[vb.name]=+vb.value,!1)});var ab=Object.assign({},f),Ya=f.params;ab=(delete ab.params,ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},b.description?{description:b.description}:{},ab,u?{title:u}:{},G?{style:G}:{},T?{encode:{update:T}}:{},{data:a},0<l.length?{projections:l}:{},b.assembleGroup([].concat($jscomp.arrayFromIterable(oa),
$jscomp.arrayFromIterable(b.assembleSelectionTopLevelSignals([])),$jscomp.arrayFromIterable($c(Ya)))),e?{config:e}:{},c?{usermeta:c}:{})}var kj=function(b){return function(f){return f[b]}},qg=function(b){var f=b.length;return function(a){for(var c=0;c<f;++c)a=a[b[c]];return a}};(function(b,f,a){var c=Hb(b);b=1===c.length?c[0]:b;return S((a&&a.get||Pa)(c),[b],f||b)})("id");var rh=S(function(b){return b},[],"identity");S(function(){return 0},[],"zero");S(function(){return 1},[],"one");S(function(){return!0},
[],"true");S(function(){return!1},[],"false");var zd=Array.isArray,zf=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(f){var c=isNaN(f)?1:Number(f);return c?Array.prototype.reduce.call(this,function(e,l){return Array.isArray(l)?e.push.apply(e,a.call(l,c-1)):e.push(l),e},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(f){return Array.prototype.map.apply(this,
arguments).flat()},writable:!0});var Gf=function(f,a){a||(a={});"function"===typeof a&&(a={cmp:a});var c="boolean"===typeof a.cycles?a.cycles:!1,e=a.cmp&&function(u){return function(G){return function(T,oa){return u({key:T,value:G[T]},{key:oa,value:G[oa]})}}}(a.cmp),l=[];return function T(G){G&&G.toJSON&&"function"===typeof G.toJSON&&(G=G.toJSON());if(void 0!==G){if("number"==typeof G)return isFinite(G)?""+G:"null";if("object"!==typeof G)return JSON.stringify(G);var oa;if(Array.isArray(G)){var ab=
"[";for(oa=0;oa<G.length;oa++)oa&&(ab+=","),ab+=T(G[oa])||"null";return ab+"]"}if(null===G)return"null";if(-1!==l.indexOf(G)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Ya=l.push(G)-1,vb=Object.keys(G).sort(e&&e(G));ab="";for(oa=0;oa<vb.length;oa++){var Zb=vb[oa],sc=T(G[Zb]);sc&&(ab&&(ab+=","),ab+=JSON.stringify(Zb)+":"+sc)}l.splice(Ya,1);return"{"+ab+"}"}}(f)},Zg=function e(a,c){if(a===c)return!0;if(a&&c&&"object"==typeof a&&"object"==
typeof c){if(a.constructor!==c.constructor)return!1;var l;if(Array.isArray(a)){var u=a.length;if(u!=c.length)return!1;for(l=u;0!==l--;)if(!e(a[l],c[l]))return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===c.toString();var G=Object.keys(a);u=G.length;if(u!==Object.keys(c).length)return!1;for(l=u;0!==l--;)if(!Object.prototype.hasOwnProperty.call(c,
G[l]))return!1;for(l=u;0!==l--;)if(u=G[l],!e(a[u],c[u]))return!1;return!0}return a!==a&&c!==c},xe=function(a,c,e){return e={path:c,exports:{},require:function(l,u){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},a(e,e.exports),e.exports}(function(a){var c=function(){function e(Ya,vb){return null!=vb&&Ya instanceof vb}function l(Ya,vb,Zb,sc,Ec){function Ic(Nd,Bf){if(null===Nd)return null;if(0===Bf||"object"!=typeof Nd)return Nd;if(e(Nd,T))var Xe=new T;else if(e(Nd,
oa))Xe=new oa;else if(e(Nd,ab))Xe=new ab(function(Zh,Jk){Nd.then(function(gm){Zh(Ic(gm,Bf-1))},function(gm){Jk(Ic(gm,Bf-1))})});else if(l.__isArray(Nd))Xe=[];else if(l.__isRegExp(Nd))Xe=new RegExp(Nd.source,G(Nd)),Nd.lastIndex&&(Xe.lastIndex=Nd.lastIndex);else if(l.__isDate(Nd))Xe=new Date(Nd.getTime());else{if(Yd&&n.isBuffer(Nd))return Xe=n.allocUnsafe?n.allocUnsafe(Nd.length):new n(Nd.length),Nd.copy(Xe),Xe;if(e(Nd,Error))Xe=Object.create(Nd);else if("undefined"==typeof sc){var Hf=Object.getPrototypeOf(Nd);
Xe=Object.create(Hf)}else Xe=Object.create(sc),Hf=sc}if(vb){var Se=Uc.indexOf(Nd);if(-1!=Se)return Zc[Se];Uc.push(Nd);Zc.push(Xe)}e(Nd,T)&&Nd.forEach(function(Zh,Jk){Jk=Ic(Jk,Bf-1);Zh=Ic(Zh,Bf-1);Xe.set(Jk,Zh)});e(Nd,oa)&&Nd.forEach(function(Zh){Zh=Ic(Zh,Bf-1);Xe.add(Zh)});for(var kh in Nd){var Ig;Hf&&(Ig=Object.getOwnPropertyDescriptor(Hf,kh));Ig&&null==Ig.set||(Xe[kh]=Ic(Nd[kh],Bf-1))}if(Object.getOwnPropertySymbols)for(Se=Object.getOwnPropertySymbols(Nd),kh=0;kh<Se.length;kh++)if(Ig=Se[kh],Hf=
Object.getOwnPropertyDescriptor(Nd,Ig),!Hf||Hf.enumerable||Ec)Xe[Ig]=Ic(Nd[Ig],Bf-1),Hf.enumerable||Object.defineProperty(Xe,Ig,{enumerable:!1});if(Ec)for(Se=Object.getOwnPropertyNames(Nd),kh=0;kh<Se.length;kh++)Ig=Se[kh],Hf=Object.getOwnPropertyDescriptor(Nd,Ig),Hf&&Hf.enumerable||(Xe[Ig]=Ic(Nd[Ig],Bf-1),Object.defineProperty(Xe,Ig,{enumerable:!1}));return Xe}"object"===typeof vb&&(Zb=vb.depth,sc=vb.prototype,Ec=vb.includeNonEnumerable,vb=vb.circular);var Uc=[],Zc=[],Yd="undefined"!=typeof n;"undefined"==
typeof vb&&(vb=!0);"undefined"==typeof Zb&&(Zb=Infinity);return Ic(Ya,Zb)}function u(Ya){return Object.prototype.toString.call(Ya)}function G(Ya){var vb="";Ya.global&&(vb+="g");Ya.ignoreCase&&(vb+="i");Ya.multiline&&(vb+="m");return vb}try{var T=Map}catch(Ya){T=function(){}}try{var oa=Set}catch(Ya){oa=function(){}}try{var ab=Promise}catch(Ya){ab=function(){}}l.clonePrototype=function(Ya){if(null===Ya)return null;var vb=function(){};vb.prototype=Ya;return new vb};l.__objToStr=u;l.__isDate=function(Ya){return"object"===
typeof Ya&&"[object Date]"===u(Ya)};l.__isArray=function(Ya){return"object"===typeof Ya&&"[object Array]"===u(Ya)};l.__isRegExp=function(Ya){return"object"===typeof Ya&&"[object RegExp]"===u(Ya)};l.__getRegExpFlags=G;return l}();a.exports&&(a.exports=c)});Set.prototype.toJSON=function(){return"Set(".concat([].concat($jscomp.arrayFromIterable(this)).map(function(a){return Gf(a)}).join(","),")")};var mf=Gf,id=Object.keys,ah=Object.values,Yf=Object.entries,yg=42,Rg={labelAlign:{part:"labels",vgProp:"align"},
labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",
vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Xk=["domain","grid","labels","ticks","title"],Qg={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",
bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",
labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",
titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Qj={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,
labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,
titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},yl=Object.assign({},Qj,{style:1,labelExpr:1,encoding:1}),ak=id({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,
axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Dl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Yl={count:1,min:1,max:1},Lk=["count","valid","missing","distinct"],Fl=["count","sum","distinct","valid","missing"],Xl=Ga("mean average median q1 q3 min max".split(" ")),bi={theta:1,theta2:1,radius:1,radius2:1},Rj={longitude:1,longitude2:1,latitude:1,
latitude2:1},Of=id(Rj),Sj=Object.assign({},{x:1,y:1,x2:1,y2:1},bi,Rj,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),wg={row:1,column:1,facet:1},Cf=id(wg),Kg=Object.assign({},Sj,wg),mj=id(Kg),hj=Object.assign({},Kg),Tj=(delete hj.order,delete hj.detail,delete hj.tooltip,hj),$h=Object.assign({},Tj),Kk=(delete $h.row,delete $h.column,delete $h.facet,$h),ve="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),
pf=Object.assign({},Sj),ye=(delete pf.x,delete pf.y,delete pf.x2,delete pf.y2,delete pf.latitude,delete pf.longitude,delete pf.latitude2,delete pf.longitude2,delete pf.theta,delete pf.theta2,delete pf.radius,delete pf.radius2,pf),eg=id(ye),Ue={x:1,y:1},Zf=id(Ue),Fg={theta:1,radius:1},ij=id(Fg),xg=Object.assign({},ye),Ci=(delete xg.text,delete xg.tooltip,delete xg.href,delete xg.url,delete xg.description,delete xg.detail,delete xg.key,delete xg.order,xg),Uj=id(Ci),zg=Object.assign({},Ue,Fg,Ci),Ki=
id(zg),Xd={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},jj=Object.assign({},Xd),Wj=(delete jj.geoshape,jj),lh=function(a,c){var e=a||0;return{level:function(l){return arguments.length?(e=+l,this):e},error:function(){1<=e&&Ma(c||"error","ERROR",arguments);return this},warn:function(){2<=e&&Ma(c||"warn","WARN",arguments);return this},info:function(){3<=
e&&Ma(c||"log","INFO",arguments);return this},debug:function(){4<=e&&Ma(c||"log","DEBUG",arguments);return this}}}(2),Yg=lh,di="january february march april may june july august september october november december".split(" "),Fi=di.map(function(a){return a.substr(0,3)}),nh="sunday monday tuesday wednesday thursday friday saturday".split(" "),Gi=nh.map(function(a){return a.substr(0,3)}),lj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ci=id(lj),
El={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},ik=id({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,
fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),dk={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Ik=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Af={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",
IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Yj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},
Bl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},d="linear log pow sqrt symlog time utc".split(" "),g=Ga(d),t=Ga(["linear","log","pow","sqrt","symlog"]),N=Ga(["quantile","quantize","threshold"]),da=d.concat(["quantile","quantize","threshold","sequential","identity"]),ib=Ga(da),nb=Ga(["ordinal","bin-ordinal","point","band"]),Ob=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,
align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1}),Lc=(delete Ob.type,delete Ob.domain,delete Ob.range,delete Ob.rangeMax,delete Ob.rangeMin,delete Ob.scheme,Ob),Nc=id(Lc),td={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Kd=td.arc,
Je=td.area,We=td.bar,vg=td.image,Jf=td.line,Dc=td.point,vc=td.rect,Sc=td.rule,nd=td.text,Dd=td.tick,Ud=td.trail,le=td.circle,Te=td.square,uf=td.geoshape,Ge=id(td);Ga(Ge);var Ah=[].concat($jscomp.arrayFromIterable("stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit".split(" ")),$jscomp.arrayFromIterable(["fill","fillOpacity"])),Mk=id({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),pm=id({mark:1,arc:1,area:1,bar:1,
circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),ln={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},lm={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Em=function(a,c){switch(c.fieldTitle){case "plain":return a.field;case "functional":c=a.aggregate;var e=a.bin,l=a.timeUnit;a=a.field;J(c)?c="".concat(a," for argmax(").concat(c.argmax,
")"):v(c)?c="".concat(a," for argmin(").concat(c.argmin,")"):(l=lc(l),c=(c=c||(null===l||void 0===l?void 0:l.unit)||(null===l||void 0===l?void 0:l.maxbins)&&"timeunit"||za(e)&&"bin")?c.toUpperCase()+"("+a+")":a);return c;default:return Fe(a,c)}},Xj=Em,Hi={compatible:!0},Zj=function(a,c){this.name=a;this.run=c};Zj.prototype.hasMatchingType=function(a){return B(a)?(a=a.mark,(oc(a)?a.type:a)===this.name):!1};var mn=new Zj("boxplot",Ha),nn=new Zj("errorbar",Db),on=new Zj("errorband",zc),mm={};Cc("boxplot",
Ha,["box","median","outliers","rule","ticks"]);Cc("errorbar",Db,["ticks","rule"]);Cc("errorband",zc,["band","borders"]);var Nm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],um={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",
titleOrient:"orient",titlePadding:"offset"},vm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},en=id(um),fn=id(vm),qm=id({header:1,headerRow:1,headerColumn:1,headerFacet:1}),wm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Im=["background",
"padding"],Jm=id({align:1,bounds:1,center:1,columns:1,spacing:1}),Km={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},
tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},ai="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),om={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},nm={blue:ai[0],orange:ai[1],red:ai[2],teal:ai[3],green:ai[4],yellow:ai[5],purple:ai[6],pink:ai[7],brown:ai[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Lm=[].concat($jscomp.arrayFromIterable(pm),$jscomp.arrayFromIterable(ak),$jscomp.arrayFromIterable(qm),"background padding legend lineBreak scale style title view".split(" ")),Om=["view"].concat($jscomp.arrayFromIterable(Ge)),Mm="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Pm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]}),Jg=function(){};Jg.prototype.map=function(a,c){return"facet"in a?this.mapFacet(a,c):"repeat"in a?this.mapRepeat(a,c):"hconcat"in a?this.mapHConcat(a,c):"vconcat"in a?this.mapVConcat(a,c):"concat"in a?this.mapConcat(a,
c):this.mapLayerOrUnit(a,c)};Jg.prototype.mapLayerOrUnit=function(a,c){if("layer"in a)return this.mapLayer(a,c);if(B(a))return this.mapUnit(a,c);throw Error(rc(a));};Jg.prototype.mapLayer=function(a,c){var e=this;return Object.assign({},a,{layer:a.layer.map(function(l){return e.mapLayerOrUnit(l,c)})})};Jg.prototype.mapHConcat=function(a,c){var e=this;return Object.assign({},a,{hconcat:a.hconcat.map(function(l){return e.map(l,c)})})};Jg.prototype.mapVConcat=function(a,c){var e=this;return Object.assign({},
a,{vconcat:a.vconcat.map(function(l){return e.map(l,c)})})};Jg.prototype.mapConcat=function(a,c){var e=this,l=Object.assign({},a);a=a.concat;l=(delete l.concat,l);return Object.assign({},l,{concat:a.map(function(u){return e.map(u,c)})})};Jg.prototype.mapFacet=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};Jg.prototype.mapRepeat=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};var Sm={zero:1,center:1,normalize:1},Qm=new Set([Kd,We,Je,Sc,Dc,le,Te,Jf,nd,Dd]),Rm=
new Set([We,Je,Kd]),hm=function(){Sb(this,"name","path-overlay")};hm.prototype.hasMatchingType=function(a,c){if(B(a)){var e=a.mark;a=a.encoding;e=oc(e)?e:{type:e};switch(e.type){case "line":case "rule":case "trail":return!!Kc(e,c[e.type],a);case "area":return!!Kc(e,c[e.type],a)||!!Wc(e,c[e.type])}}return!1};hm.prototype.run=function(a,c,e){var l=c.config,u=Object.assign({},a),G=a.selection,T=a.projection,oa=a.mark;a=a.encoding;u=(delete u.selection,delete u.projection,delete u.mark,delete u.encoding,
u);a=Aa(a,l);oa=oc(oa)?oa:{type:oa};var ab=Kc(oa,l[oa.type],a),Ya="area"===oa.type&&Wc(oa,l[oa.type]);G=[Object.assign({},G?{selection:G}:{},{mark:dd(Object.assign({},"area"===oa.type&&void 0===oa.opacity&&void 0===oa.fillOpacity?{opacity:.7}:{},oa)),encoding:Qa(a,["shape"])})];var vb=Bc(oa,a),Zb=a;if(vb){Zb=vb.fieldChannel;vb=vb.offset;var sc={};Zb=Object.assign({},a,(sc[Zb]=Object.assign({},a[Zb],vb?{stack:vb}:{}),sc))}Ya&&G.push(Object.assign({},T?{projection:T}:{},{mark:Object.assign({},{type:"line"},
aa(oa,["clip","interpolate","tension","tooltip"]),Ya),encoding:Zb}));ab&&G.push(Object.assign({},T?{projection:T}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},aa(oa,["clip","tooltip"]),ab),encoding:Zb}));return e(Object.assign({},u,{layer:G}),Object.assign({},c,{config:Qc(l)}))};var im=function(){Sb(this,"name","RangeStep")};im.prototype.hasMatchingType=function(a){if(B(a)&&a.encoding)for(var c=$jscomp.makeIterator(Zf),e=c.next();!e.done;e=c.next())if((e=a.encoding[e.value])&&Ed(e)){var l;
if(null===e||void 0===e?0:null===(l=e.scale)||void 0===l?0:l.rangeStep)return!0}return!1};im.prototype.run=function(a){for(var c={},e=Object.assign({},a.encoding),l=$jscomp.makeIterator(Zf),u=l.next();!u.done;u=l.next()){u=u.value;var G=Z(u),T=e[u];if(T&&Ed(T)){var oa;if(null===T||void 0===T?0:null===(oa=T.scale)||void 0===oa?0:oa.rangeStep){var ab=Object.assign({},T);T=T.scale;ab=(delete ab.scale,ab);var Ya=Object.assign({},T);Ya=(delete Ya.rangeStep,Ya);c[G]={step:T.rangeStep};La('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');
G={};e=Object.assign({},e,(G[u]=Object.assign({},ab,A(Ya)?{}:{scale:Ya}),G))}}}return Object.assign({},c,a,{encoding:e})};var jm=function(){Sb(this,"name","RuleForRangedLine")};jm.prototype.hasMatchingType=function(a){if(B(a)){var c=a.encoding;if("line"===a.mark){a=$jscomp.makeIterator(ve);for(var e=a.next();!e.done;e=a.next()){e=e.value;var l=eb(e);l=c[l];if(c[e]&&(Pc(l)&&!wb(l.bin)||Sd(l)))return!0}}}return!1};jm.prototype.run=function(a,c,e){var l=a.encoding,u=!!l.x2;l="Line mark is for continuous lines and thus cannot be used with ".concat(u&&
l.y2?"x2 and y2":u?"x2":"y2",". We will use the rule mark (line segments) instead.");La(l);return e(Object.assign({},a,{mark:"rule"}),c)};var Xg=function(a){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];c=Jg.apply(this,[].concat($jscomp.arrayFromIterable(c)))||this;Sb(c,"nonFacetUnitNormalizers",[mn,nn,on,new hm,new jm,new im]);return c};$jscomp.inherits(Xg,Jg);Xg.prototype.map=function(a,c){if(B(a)){var e=C(a.encoding,"row"),l=C(a.encoding,"column"),u=C(a.encoding,"facet");if(e||l||
u)return this.mapFacetedUnit(a,c)}return Jg.prototype.map.call(this,a,c)};Xg.prototype.mapUnit=function(a,c){var e=c.parentEncoding,l=c.parentProjection,u=fd(a.encoding,c.repeater);a=Object.assign({},a,u?{encoding:u}:{});if(e||l)return this.mapUnitWithParentEncodingOrProjection(a,c);e=this.mapLayerOrUnit.bind(this);l=$jscomp.makeIterator(this.nonFacetUnitNormalizers);for(u=l.next();!u.done;u=l.next())if(u=u.value,u.hasMatchingType(a,c.config))return u.run(a,c,e);return a};Xg.prototype.mapRepeat=function(a,
c){return!zd(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,c):this.mapNonLayerRepeat(a,c)};Xg.prototype.mapLayerRepeat=function(a,c){var e=this,l=Object.assign({},a),u=a.repeat,G=a.spec;l=(delete l.repeat,delete l.spec,l);var T=u.row,oa=u.column;u=u.layer;var ab=void 0===c.repeater?{}:c.repeater,Ya=void 0===c.repeaterPrefix?"":c.repeaterPrefix;return T||oa?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},T?{row:T}:{},oa?{column:oa}:{}),spec:{repeat:{layer:u},spec:G}}),c):Object.assign({},
l,{layer:u.map(function(vb){var Zb=Object.assign({},ab,{layer:vb});vb=(G.name||"")+Ya+"child__layer_".concat(I(vb));Zb=e.mapLayerOrUnit(G,Object.assign({},c,{repeater:Zb,repeaterPrefix:vb}));Zb.name=vb;return Zb})})};Xg.prototype.mapNonLayerRepeat=function(a,c){var e,l=a,u=Object.assign({},l),G=l.repeat,T=l.spec;l=l.data;u=(delete u.repeat,delete u.spec,delete u.data,u);!zd(G)&&a.columns&&(a=Qa(a,["columns"]),La(ud("repeat")));var oa=[],ab=void 0===c.repeater?{}:c.repeater,Ya=void 0===c.repeaterPrefix?
"":c.repeaterPrefix,vb=!zd(G)&&G.row||[ab?ab.row:null],Zb=!zd(G)&&G.column||[ab?ab.column:null],sc=zd(G)&&G||[ab?ab.repeat:null];sc=$jscomp.makeIterator(sc);for(var Ec=sc.next();!Ec.done;Ec=sc.next()){Ec=Ec.value;for(var Ic=$jscomp.makeIterator(vb),Uc=Ic.next();!Uc.done;Uc=Ic.next()){Uc=Uc.value;for(var Zc=$jscomp.makeIterator(Zb),Yd=Zc.next();!Yd.done;Yd=Zc.next()){var Nd=Yd.value;Yd={repeat:Ec,row:Uc,column:Nd,layer:ab.layer};Nd=(T.name||"")+Ya+"child__"+(zd(G)?"".concat(I(Ec)):(G.row?"row_".concat(I(Uc)):
"")+(G.column?"column_".concat(I(Nd)):""));Yd=this.map(T,Object.assign({},c,{repeater:Yd,repeaterPrefix:Nd}));Yd.name=Nd;oa.push(Qa(Yd,["data"]))}}}a=zd(G)?a.columns:G.column?G.column.length:1;return Object.assign({},{data:null!==(e=T.data)&&void 0!==e?e:l,align:"all"},u,{columns:a,concat:oa})};Xg.prototype.mapFacet=function(a,c){fc(a.facet)&&a.columns&&(a=Qa(a,["columns"]),La(ud("facet")));return Jg.prototype.mapFacet.call(this,a,c)};Xg.prototype.mapUnitWithParentEncodingOrProjection=function(a,
c){var e=a.encoding,l=c.parentEncoding,u=c.config,G=Rd({parentProjection:c.parentProjection,projection:a.projection});c=ed({parentEncoding:l,encoding:fd(e,c.repeater)});return this.mapUnit(Object.assign({},a,G?{projection:G}:{},c?{encoding:c}:{}),{config:u})};Xg.prototype.mapFacetedUnit=function(a,c){var e=a.encoding,l=Object.assign({},e),u=e.row,G=e.column,T=e.facet,oa=(delete l.row,delete l.column,delete l.facet,l),ab=Object.assign({},a);l=a.mark;e=a.width;var Ya=a.projection,vb=a.height,Zb=a.view;
a=a.selection;ab=(delete ab.mark,delete ab.width,delete ab.projection,delete ab.height,delete ab.view,delete ab.selection,delete ab.encoding,ab);G=this.getFacetMappingAndLayout({row:u,column:G,facet:T},c);u=G.facetMapping;G=G.layout;oa=fd(oa,c.repeater);return this.mapFacet(Object.assign({},ab,G,{facet:u,spec:Object.assign({},e?{width:e}:{},vb?{height:vb}:{},Zb?{view:Zb}:{},Ya?{projection:Ya}:{},{mark:l,encoding:oa},a?{selection:a}:{})}),c)};Xg.prototype.getFacetMappingAndLayout=function(a,c){var e=
a.row,l=a.column,u=a.facet;if(e||l){u&&(c=[].concat($jscomp.arrayFromIterable(e?["row"]:[]),$jscomp.arrayFromIterable(l?["column"]:[])),c="Facet encoding dropped as ".concat(c.join(" and ")," ").concat(1<c.length?"are":"is"," also specified."),La(c));c={};u={};e=$jscomp.makeIterator(["row","column"]);for(l=e.next();!l.done;l=e.next()){l=l.value;var G=a[l];if(G){var T=Object.assign({},G);T=(delete T.align,delete T.center,delete T.spacing,delete T.columns,T);c[l]=T;T=$jscomp.makeIterator(["align","center",
"spacing"]);for(var oa=T.next();!oa.done;oa=T.next())if(oa=oa.value,void 0!==G[oa]){var ab;u[oa]=null!==(ab=u[oa])&&void 0!==ab?ab:{};u[oa][l]=G[oa]}}}return{facetMapping:c,layout:u}}l=Object.assign({},u);a=u.align;ab=u.center;e=u.spacing;u=u.columns;l=(delete l.align,delete l.center,delete l.spacing,delete l.columns,l);c=(c=c.repeater)?fc(l)?sd(l,c):ie(l,c):l;return{facetMapping:c,layout:Object.assign({},a?{align:a}:{},ab?{center:ab}:{},e?{spacing:e}:{},u?{columns:u}:{})}};Xg.prototype.mapLayer=
function(a,c){var e=Object.assign({},c),l=c.parentEncoding;c=c.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var u=Object.assign({},a),G=a.encoding;a=a.projection;u=(delete u.encoding,delete u.projection,u);l=Object.assign({},e,{parentEncoding:ed({parentEncoding:l,encoding:G,layer:!0}),parentProjection:Rd({parentProjection:c,projection:a})});return Jg.prototype.mapLayer.call(this,u,l)};var Tm=new Xg,Ef=function(a,c){a=void 0===a?{}:a;c=void 0===c?{}:c;this.explicit=a;this.implicit=
c};Ef.prototype.clone=function(){return new Ef(xe(this.explicit),xe(this.implicit))};Ef.prototype.combine=function(){return Object.assign({},this.explicit,this.implicit)};Ef.prototype.get=function(a){return V(this.explicit[a],this.implicit[a])};Ef.prototype.getWithExplicit=function(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}};Ef.prototype.setWithExplicit=function(a,c){void 0!==c.value&&
this.set(a,c.value,c.explicit)};Ef.prototype.set=function(a,c,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=c;return this};Ef.prototype.copyKeyFromSplit=function(a,c){void 0!==c.explicit[a]?this.set(a,c.explicit[a],!0):void 0!==c.implicit[a]&&this.set(a,c.implicit[a],!1)};Ef.prototype.copyKeyFromObject=function(a,c){void 0!==c[a]&&this.set(a,c[a],!0)};Ef.prototype.copyAll=function(a){for(var c=$jscomp.makeIterator(id(a.combine())),e=c.next();!e.done;e=c.next()){e=e.value;
var l=a.getWithExplicit(e);this.setWithExplicit(e,l)}};var fm=function(a,c,e){a=void 0===a?{}:a;c=void 0===c?{}:c;e=void 0===e?!1:e;var l=Ef.call(this,a,c)||this;l.explicit=a;l.implicit=c;l.parseNothing=e;return l};$jscomp.inherits(fm,Ef);fm.prototype.clone=function(){var a=Ef.prototype.clone.call(this);a.parseNothing=this.parseNothing;return a};var tf;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(tf||(tf={}));var Vm=/[[\]{}]/,Um=
{"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},rm,sm,Wm={left:"x",center:"xc",right:"x2"},Xm={top:"y",middle:"yc",bottom:"y2"},Ym=new Set(["aria"]),Fm={has:function(a){return"interval"!==a.type&&a.nearest},parse:function(a,c){if(c.events){c=$jscomp.makeIterator(c.events);for(var e=c.next();!e.done;e=c.next())e.value.markname=a.getName("voronoi")}},marks:function(a,c,e){var l=c.project.hasChannel;c=l.x;l=l.y;var u=a.mark;if(kc(u))return La('The "nearest" transform is not supported for '.concat(u,
" marks.")),e;c={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Nk(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:c||!l?"datum.datum.x || 0":"0"},y:{expr:l||!c?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};var G=0,T=!1;e.forEach(function(oa,ab){var Ya;oa=null!==(Ya=oa.name)&&
void 0!==Ya?Ya:"";oa===a.component.mark[0].name?G=ab:0<=oa.indexOf("voronoi")&&(T=!0)});T||e.splice(G+1,0,c);return e}},$d=function(a,c){this.debugName=c;Sb(this,"_children",[]);Sb(this,"_parent",null);Sb(this,"_hash",void 0);a&&(this.parent=a)};$d.prototype.clone=function(){throw Error("Cannot clone node");};$d.prototype.numChildren=function(){return this._children.length};$d.prototype.addChild=function(a,c){-1<this._children.indexOf(a)?La("Attempt to add the same child twice."):void 0!==c?this._children.splice(c,
0,a):this._children.push(a)};$d.prototype.removeChild=function(a){a=this._children.indexOf(a);this._children.splice(a,1);return a};$d.prototype.remove=function(){for(var a=this._parent.removeChild(this),c=$jscomp.makeIterator(this._children),e=c.next();!e.done;e=c.next())e=e.value,e._parent=this._parent,this._parent.addChild(e,a++)};$d.prototype.insertAsParentOf=function(a){var c=a.parent;c.removeChild(this);this.parent=c;a.parent=this};$d.prototype.swapWithParent=function(){for(var a=this._parent,
c=a.parent,e=$jscomp.makeIterator(this._children),l=e.next();!l.done;l=e.next())l.value.parent=a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=c;a.parent=this};$jscomp.global.Object.defineProperties($d.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return this._parent},set:function(a){(this._parent=a)&&a.addChild(this)}},children:{configurable:!0,enumerable:!0,get:function(){return this._children}}});var Df=function(a,c,e,l){a=$d.call(this,a,c)||this;a.type=
e;a.refCounts=l;Sb(a,"_source",void 0);Sb(a,"_name",void 0);a._source=a._name=c;!a.refCounts||a._name in a.refCounts||(a.refCounts[a._name]=0);return a};$jscomp.inherits(Df,$d);Df.prototype.clone=function(){var a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a};Df.prototype.dependentFields=function(){return new Set};Df.prototype.producedFields=function(){return new Set};
Df.prototype.hash=function(){void 0===this._hash&&(this._hash="Output ".concat(w()));return this._hash};Df.prototype.getSource=function(){this.refCounts[this._name]++;return this._source};Df.prototype.isRequired=function(){return!!this.refCounts[this._name]};Df.prototype.setSource=function(a){this._source=a};var Tf=function(a,c){a=$d.call(this,a)||this;a.formula=c;return a};$jscomp.inherits(Tf,$d);Tf.prototype.clone=function(){return new Tf(null,xe(this.formula))};Tf.makeFromEncoding=function(a,c){var e=
c.reduceFieldDef(function(l,u,G){var T=u.field,oa=u.timeUnit,ab=nf(c)?c.encoding[Ka(G)]:void 0;G=nf(c)&&Yc(G,u,ab,c.stack,c.markDef,c.config);oa&&(u=gd(u,{forAs:!0}),l[xa({as:u,field:T,timeUnit:oa})]=Object.assign({},{as:u,field:T,timeUnit:oa},G?{band:!0}:{}));return l},{});return A(e)?null:new Tf(a,e)};Tf.makeFromTransform=function(a,c){var e=Object.assign({},c);c=Object.assign({},e);e=e.timeUnit;c=(delete c.timeUnit,c);e=lc(e);c=Object.assign({},c,{timeUnit:e});e={};return new Tf(a,(e[xa(c)]=c,
e))};Tf.prototype.merge=function(a){this.formula=Object.assign({},this.formula);for(var c in a.formula)if(!this.formula[c]||a.formula[c].band)this.formula[c]=a.formula[c];c=$jscomp.makeIterator(a.children);for(var e=c.next();!e.done;e=c.next())e=e.value,a.removeChild(e),e.parent=this;a.remove()};Tf.prototype.removeFormulas=function(a){for(var c={},e=$jscomp.makeIterator(Yf(this.formula)),l=e.next();!l.done;l=e.next()){var u=$jscomp.makeIterator(l.value);l=u.next().value;u=u.next().value;a.has(u.as)||
(c[l]=u)}this.formula=c};Tf.prototype.producedFields=function(){return new Set(ah(this.formula).map(function(a){return a.as}))};Tf.prototype.dependentFields=function(){return new Set(ah(this.formula).map(function(a){return a.field}))};Tf.prototype.hash=function(){return"TimeUnit ".concat(xa(this.formula))};Tf.prototype.assemble=function(){for(var a=[],c=$jscomp.makeIterator(ah(this.formula)),e=c.next();!e.done;e=c.next()){var l=e.value;e=l.field;var u=l.as,G=lc(l.timeUnit),T=Object.assign({},G);l=
G.unit;G=G.utc;T=(delete T.unit,delete T.utc,T);a.push(Object.assign({},{field:Sa(e),type:"timeunit"},l?{units:Nb(l)}:{},G?{timezone:"utc"}:{},T,{as:[u,"".concat(u,"_end")]}))}return a};var pn=function(a){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];Sb(this,"hasChannel",void 0);Sb(this,"hasField",void 0);Sb(this,"timeUnit",void 0);Sb(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}},Gm={has:function(a){return"single"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==
a.bind&&!qd(a.bind)},parse:function(a,c,e,l){l.on||delete c.events;l.clear||delete c.clear},topLevelSignals:function(a,c,e){var l=c.name;a=c.project;var u=c.bind,G=c.init&&c.init[0],T=Fm.has(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach(function(oa,ab){var Ya=I("".concat(l,"_").concat(oa.field));if(!e.filter(function(sc){return sc.name===Ya}).length){var vb,Zb;e.unshift(Object.assign({},{name:Ya},G?{init:qh(G[ab])}:{value:null},{on:c.events?[{events:c.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(T,
"[").concat(pa(oa.field),"] : null")}]:[],bind:null!==(vb=null!==(Zb=u[oa.field])&&void 0!==Zb?Zb:u[oa.channel])&&void 0!==vb?vb:u}))}});return e},signals:function(a,c,e){var l=c.name,u=c.project;a=e.filter(function(T){return T.name===l+"_tuple"})[0];c=l+"_tuple_fields";u=u.items.map(function(T){return I("".concat(l,"_").concat(T.field))});var G=u.map(function(T){return"".concat(T," !\x3d\x3d null")}).join(" \x26\x26 ");u.length&&(a.update="".concat(G," ? {fields: ").concat(c,", values: [").concat(u.join(", "),
"]} : null"));delete a.value;delete a.on;return e}},Hm={has:function(a){return"multi"===a.type&&!!a.toggle},signals:function(a,c,e){return e.concat({name:c.name+"_toggle",value:!1,on:[{events:c.events,update:c.toggle}]})},modifyExpr:function(a,c){var e=c.name+"_tuple",l=c.name+"_toggle";return"".concat(l," ? null : ").concat(e,", ")+("global"===c.resolve?"".concat(l," ? null : true, "):"".concat(l," ? null : {unit: ").concat(Bg(a),"}, "))+"".concat(l," ? ").concat(e," : null")}},ki={has:function(a){return"interval"===
a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind},parse:function(a,c){for(var e=c.scales=[],l=$jscomp.makeIterator(c.project.items),u=l.next();!u.done;u=l.next()){u=u.value;var G=u.channel;if(zg[G]){var T=(G=a.getScaleComponent(G))?G.get("type"):void 0;G&&T in ib?(G.set("selectionExtent",{selection:c.name,field:u.field},!0),e.push(u)):La("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}},topLevelSignals:function(a,c,e){var l=c.scales.filter(function(oa){return 0===
e.filter(function(ab){return ab.name===oa.signals.data}).length});if(!a.parent||Pf(a)||0===l.length)return e;a=e.filter(function(oa){return oa.name===c.name})[0];var u=a.update;if(0<=u.indexOf("vlSelectionResolve"))a.update="{".concat(l.map(function(oa){return"".concat(pa(oa.field),": ").concat(oa.signals.data)}).join(", "),"}");else{for(var G=$jscomp.makeIterator(l),T=G.next();!T.done;T=G.next())T=T.value,T="".concat(pa(T.field),": ").concat(T.signals.data),0>u.indexOf(T)&&(u="".concat(u.substring(0,
u.length-1),", ").concat(T,"}"));a.update=u}return e.concat(l.map(function(oa){return{name:oa.signals.data}}))},signals:function(a,c,e){if(a.parent&&!Pf(a)){a={};c=$jscomp.makeIterator(c.scales);for(var l=c.next();!l.done;a={$jscomp$loop$prop$proj$697:a.$jscomp$loop$prop$proj$697},l=c.next())a.$jscomp$loop$prop$proj$697=l.value,l=e.filter(function(u){return function(G){return G.name===u.$jscomp$loop$prop$proj$697.signals.data}}(a))[0],l.push="outer",delete l.value,delete l.update}return e}},tm={has:function(a){var c=
"global"===a.resolve&&a.bind&&qd(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;c&&!a&&La("Legend bindings are only supported for selections over an individual field or encoding channel.");return c&&a},parse:function(a,c,e,l){l.on||delete c.events;l.clear||delete c.clear;if(l.on||l.clear)for(a=$jscomp.makeIterator(c.events),e=a.next();!e.done;e=a.next()){e=e.value;var u;e.filter=$a(null!==(u=e.filter)&&void 0!==u?u:[]);0>e.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&
e.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}u=Mc(c.bind)?c.bind.legend:"click";u=ea(u)?af(u,"view"):$a(u);c.bind={legend:{merge:u}}},topLevelSignals:function(a,c,e){a=c.name;for(var l=Mc(c.bind)&&c.bind.legend,u=function(ab){return function(Ya){Ya=xe(Ya);Ya.markname=ab;return Ya}},G={},T=$jscomp.makeIterator(c.project.items),oa=T.next();!oa.done;G={$jscomp$loop$prop$sgName$699:G.$jscomp$loop$prop$sgName$699},oa=T.next())oa=oa.value,oa.hasLegend&&(oa="".concat(I(oa.field),
"_legend"),G.$jscomp$loop$prop$sgName$699="".concat(a,"_").concat(oa),0===e.filter(function(ab){return function(Ya){return Ya.name===ab.$jscomp$loop$prop$sgName$699}}(G)).length&&(oa=l.merge.map(u("".concat(oa,"_symbols"))).concat(l.merge.map(u("".concat(oa,"_labels")))).concat(l.merge.map(u("".concat(oa,"_entries")))),e.unshift(Object.assign({},{name:G.$jscomp$loop$prop$sgName$699},c.init?{}:{value:null},{on:[{events:oa,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:l.merge,
update:"!event.item || !datum ? null : ".concat(G.$jscomp$loop$prop$sgName$699),force:!0}]}))));return e},signals:function(a,c,e){var l=c.name,u=c.project;a=e.find(function(oa){return oa.name===l+"_tuple"});var G=l+"_tuple_fields";u=u.items.filter(function(oa){return oa.hasLegend}).map(function(oa){return I("".concat(l,"_").concat(I(oa.field),"_legend"))});var T=u.map(function(oa){return"".concat(oa," !\x3d\x3d null")}).join(" \x26\x26 ");G="".concat(T," ? {fields: ").concat(G,", values: [").concat(u.join(", "),
"]} : null");c.events&&0<u.length?a.on.push({events:u.map(function(oa){return{signal:oa}}),update:G}):0<u.length&&(a.update=G,delete a.value,delete a.on);a=e.find(function(oa){return oa.name===l+"_toggle"});G=Mc(c.bind)&&c.bind.legend;a&&(c.events?a.on.push(Object.assign({},a.on[0],{events:G})):a.on[0].events=G);return e}},Zm=[{has:function(){return!0},parse:function(a,c,e){var l,u=c.name,G=null!==(l=c.project)&&void 0!==l?l:c.project=new pn,T={};l={};var oa=new Set,ab=function(Uc,Zc){var Yd="visual"===
Zc?Uc.channel:Uc.field;Uc=I("".concat(u,"_").concat(Yd));for(var Nd=1;oa.has(Uc);Nd++)Uc=I("".concat(u,"_").concat(Yd,"_").concat(Nd));oa.add(Uc);Yd={};return Yd[Zc]=Uc,Yd};if(!e.fields&&!e.encodings){var Ya=a.config.selection[e.type];if(e.init)for(var vb=$jscomp.makeIterator($a(e.init)),Zb=vb.next();!Zb.done;Zb=vb.next()){Zb=$jscomp.makeIterator(id(Zb.value));for(var sc=Zb.next();!sc.done;sc=Zb.next())sc=sc.value,Kk[sc]?(e.encodings||(e.encodings=[])).push(sc):"interval"===e.type?(La('Interval selections should be initialized using "x" and/or "y" keys.'),
e.encodings=Ya.encodings):(e.fields||(e.fields=[])).push(sc)}else e.encodings=Ya.encodings,e.fields=Ya.fields}Ya=$jscomp.makeIterator(null!==(Ec=e.fields)&&void 0!==Ec?Ec:[]);for(Ec=Ya.next();!Ec.done;Ec=Ya.next()){Ec=Ec.value;var Ec;vb={type:"E",field:Ec};vb.signals=Object.assign({},ab(vb,"data"));G.items.push(vb);G.hasField[Ec]=vb}Ec=$jscomp.makeIterator(null!==(Ic=e.encodings)&&void 0!==Ic?Ic:[]);for(Ic=Ec.next();!Ic.done;Ic=Ec.next()){Ic=Ic.value;var Ic;(vb=a.fieldDef(Ic))?(Ya=vb.field,vb.aggregate?
La(xc(Ic,vb.aggregate)):Ya?(vb.timeUnit&&(Ya=a.vgField(Ic),Zb={timeUnit:vb.timeUnit,as:Ya,field:vb.field},l[xa(Zb)]=Zb),T[Ya]||(Zb="E","interval"===c.type?a.getScaleComponent(Ic).get("type")in ib&&(Zb="R"):vb.bin&&(Zb="R-RE"),vb={field:Ya,channel:Ic,type:Zb},vb.signals=Object.assign({},ab(vb,"data"),ab(vb,"visual")),G.items.push(T[Ya]=vb),G.hasField[Ya]=G.hasChannel[Ic]=T[Ya])):La(Mb(Ic))):La(Mb(Ic))}e.init&&(a=function(Uc){return G.items.map(function(Zc){return void 0!==Uc[Zc.channel]?Uc[Zc.channel]:
Uc[Zc.field]})},"interval"===e.type?c.init=a(e.init):(e=$a(e.init),c.init=e.map(a)));A(l)||(G.timeUnit=new Tf(null,l))},signals:function(a,c,e){var l=c.name+"_tuple_fields";return 0<e.filter(function(u){return u.name===l}).length?e:e.concat({name:l,value:c.project.items.map(function(u){u=Object.assign({},u);u=(delete u.signals,delete u.hasLegend,u);u.field=Sa(u.field);return u})})}},Hm,ki,tm,{has:function(a){return"interval"===a.type&&a.translate},signals:function(a,c,e){var l=c.name,u=ki.has(c),
G=l+"_translate_anchor",T=c.project.hasChannel,oa=T.x;T=T.y;var ab=af(c.translate,"scope");u||(ab=ab.map(function(Ya){return Ya.between[0].markname=l+"_brush",Ya}));e.push({name:G,value:{},on:[{events:ab.map(function(Ya){return Ya.between[0]}),update:"{x: x(unit), y: y(unit)"+(void 0!==oa?", extent_x: "+(u?hi(a,"x"):"slice(".concat(oa.signals.visual,")")):"")+(void 0!==T?", extent_y: "+(u?hi(a,"y"):"slice(".concat(T.signals.visual,")")):"")+"}"}]},{name:l+"_translate_delta",value:{},on:[{events:ab,
update:"{x: ".concat(G,".x - x(unit), y: ").concat(G,".y - y(unit)}")}]});void 0!==oa&&ji(a,c,oa,"width",e);void 0!==T&&ji(a,c,T,"height",e);return e}},{has:function(a){return"interval"===a.type&&a.zoom},signals:function(a,c,e){var l=c.name,u=ki.has(c),G=l+"_zoom_delta",T=c.project.hasChannel,oa=T.x;T=T.y;var ab=pa(a.scaleName("x")),Ya=pa(a.scaleName("y")),vb=af(c.zoom,"scope");u||(vb=vb.map(function(Zb){return Zb.markname=l+"_brush",Zb}));e.push({name:l+"_zoom_anchor",on:[{events:vb,update:u?"{"+
[ab?"x: invert(".concat(ab,", x(unit))"):"",Ya?"y: invert(".concat(Ya,", y(unit))"):""].filter(function(Zb){return!!Zb}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:G,on:[{events:vb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==oa&&Li(a,c,oa,"width",e);void 0!==T&&Li(a,c,T,"height",e);return e}},Gm,Fm,{has:function(a){return void 0!==a.clear&&!1!==a.clear},parse:function(a,c,e){e.clear&&(c.clear=ea(e.clear)?af(e.clear,"scope"):e.clear)},topLevelSignals:function(a,
c,e){if(Gm.has(c)){a={};for(var l=$jscomp.makeIterator(c.project.items),u=l.next();!u.done;a={$jscomp$loop$prop$proj$692:a.$jscomp$loop$prop$proj$692},u=l.next())a.$jscomp$loop$prop$proj$692=u.value,u=e.findIndex(function(G){return function(T){return T.name===I("".concat(c.name,"_").concat(G.$jscomp$loop$prop$proj$692.field))}}(a)),-1!==u&&e[u].on.push({events:c.clear,update:"null"})}return e},signals:function(a,c,e){function l(T,oa){-1!==T&&e[T].on&&e[T].on.push({events:c.clear,update:oa})}if("interval"===
c.type){a={};for(var u=$jscomp.makeIterator(c.project.items),G=u.next();!G.done;a={$jscomp$loop$prop$proj$695:a.$jscomp$loop$prop$proj$695},G=u.next())a.$jscomp$loop$prop$proj$695=G.value,G=e.findIndex(function(T){return function(oa){return oa.name===T.$jscomp$loop$prop$proj$695.signals.visual}}(a)),l(G,"[0, 0]"),-1===G&&(G=e.findIndex(function(T){return function(oa){return oa.name===T.$jscomp$loop$prop$proj$695.signals.data}}(a)),l(G,"null"))}else a=e.findIndex(function(T){return T.name===c.name+
"_tuple"}),l(a,"null"),Hm.has(c)&&(a=e.findIndex(function(T){return T.name===c.name+"_toggle"}),l(a,"false"));return e}}],$m={single:{signals:pj,modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: ".concat(Bg(a),"}"))}},multi:{signals:pj,modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"null":"{unit: ".concat(Bg(a),"}"))}},interval:{signals:function(a,c){var e=c.name,l=e+"_tuple_fields",u=ki.has(c),G=[],T=[],oa=[];if(c.translate&&!u){var ab=
"!event.item || event.item.mark.name !\x3d\x3d ".concat(pa(e+"_brush"));Gh(c,function(Ya,vb){var Zb;vb=$a(null!==(Zb=vb.between[0].filter)&&void 0!==Zb?Zb:vb.between[0].filter=[]);0>vb.indexOf(ab)&&vb.push(ab);return Ya})}c.project.items.forEach(function(Ya,vb){var Zb=Ya.channel;if("x"!==Zb&&"y"!==Zb)La("Interval selections only support x and y encoding channels.");else{vb=lk(a,c,Ya,c.init?c.init[vb]:null);var sc=Ya.signals.data;Ya=Ya.signals.visual;var Ec=pa(a.scaleName(Zb)),Ic=a.getScaleComponent(Zb).get("type")in
ib?"+":"";G.push.apply(G,$jscomp.arrayFromIterable(vb));T.push(sc);oa.push({scaleName:a.scaleName(Zb),expr:"(!isArray(".concat(sc,") || ")+"(".concat(Ic,"invert(").concat(Ec,", ").concat(Ya,")[0] \x3d\x3d\x3d ").concat(Ic).concat(sc,"[0] \x26\x26 ")+"".concat(Ic,"invert(").concat(Ec,", ").concat(Ya,")[1] \x3d\x3d\x3d ").concat(Ic).concat(sc,"[1]))")})}});u||G.push({name:e+"_scale_trigger",value:{},on:[{events:oa.map(function(Ya){return{scale:Ya.scaleName}}),update:oa.map(function(Ya){return Ya.expr}).join(" \x26\x26 ")+
" ? ".concat(e+"_scale_trigger"," : {}")}]});u=c.init;l="unit: ".concat(Bg(a),", fields: ").concat(l,", values");return G.concat(Object.assign({},{name:e+"_tuple"},u?{init:"{".concat(l,": ").concat(qh(u),"}")}:{},{on:[{events:[{signal:T.join(" || ")}],update:T.join(" \x26\x26 ")+" ? {".concat(l,": [").concat(T,"]} : null")}]}))},modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: ".concat(Bg(a),"}"))},marks:function(a,c,e){var l=c.name,u=c.project.hasChannel,G=u.x,
T=u.y,oa=G&&G.signals.visual,ab=T&&T.signals.visual,Ya="data(".concat(pa(c.name+"_store"),")");if(ki.has(c))return e;u={x:void 0!==G?{signal:"".concat(oa,"[0]")}:{value:0},y:void 0!==T?{signal:"".concat(ab,"[0]")}:{value:0},x2:void 0!==G?{signal:"".concat(oa,"[1]")}:{field:{group:"width"}},y2:void 0!==T?{signal:"".concat(ab,"[1]")}:{field:{group:"height"}}};if("global"===c.resolve)for(var vb=$jscomp.makeIterator(id(u)),Zb=vb.next();!Zb.done;Zb=vb.next())Zb=Zb.value,u[Zb]=[Object.assign({},{test:"".concat(Ya,
".length \x26\x26 ").concat(Ya,"[0].unit \x3d\x3d\x3d ").concat(Bg(a))},u[Zb]),{value:0}];vb=c.mark;Ya=Object.assign({},vb);a=vb.fill;c=vb.fillOpacity;vb=vb.cursor;var sc=(delete Ya.fill,delete Ya.fillOpacity,delete Ya.cursor,Ya);Ya=id(sc).reduce(function(Ec,Ic){Ec[Ic]=[{test:[void 0!==G&&"".concat(oa,"[0] !\x3d\x3d ").concat(oa,"[1]"),void 0!==T&&"".concat(ab,"[0] !\x3d\x3d ").concat(ab,"[1]")].filter(function(Uc){return Uc}).join(" \x26\x26 "),value:sc[Ic]},{value:null}];return Ec},{});return[{name:l+
"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:c}},update:u}}].concat($jscomp.arrayFromIterable(e),[{name:l+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},vb?{cursor:{value:vb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},u,Ya)}}])}}};Uf.prototype.visit=function(a){var c;if(a(this))return 1;var e=Sk(this);var l=0;for(c=e.length;l<c;++l)if(e[l].visit(a))return 1};var ce,Vc,hg,Ze,an=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
bn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
cn={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},dn={"if":1},dh=function(a,c,e){a=$d.call(this,a)||this;a.model=
c;a.filter=e;Sb(a,"expr",void 0);Sb(a,"_dependentFields",void 0);a.expr=ei(a.model,a.filter,a);a._dependentFields=pk(a.expr);return a};$jscomp.inherits(dh,$d);dh.prototype.clone=function(){return new dh(null,this.model,xe(this.filter))};dh.prototype.dependentFields=function(){return this._dependentFields};dh.prototype.producedFields=function(){return new Set};dh.prototype.assemble=function(){return{type:"filter",expr:this.expr}};dh.prototype.hash=function(){return"Filter ".concat(this.expr)};var Dm=
{scale:function(a){return a.model.scaleName(a.channel)},format:function(a){var c=a.fieldOrDatumDef,e=a.axis;return Ke(c,c.type,e.format,e.formatType,a.config,!0)},formatType:function(a){return oe(a.axis.formatType,a.fieldOrDatumDef,a.scaleType)},grid:function(a){var c=a.fieldOrDatumDef,e=a.axis;a=a.scaleType;if(Pc(c)&&wb(c.bin))return!1;var l;return null!==(l=e.grid)&&void 0!==l?l:!(a in nb)&&Pc(c)&&!za(null===c||void 0===c?void 0:c.bin)},gridScale:function(a){var c=a.model;a="x"===a.channel?"y":
"x";c=c.getScaleComponent(a)?c.scaleName(a):void 0;return c},labelAlign:function(a){var c=a.labelAngle,e=a.orient,l=a.channel;return a.axis.labelAlign||Zk(c,e,l)},labelAngle:function(a){return a.labelAngle},labelBaseline:function(a){var c=a.labelAngle,e=a.orient,l=a.channel;return a.axis.labelBaseline||xj(c,e,l)},labelFlush:function(a){var c=a.fieldOrDatumDef,e=a.channel,l;a=null!==(l=a.axis.labelFlush)&&void 0!==l?l:"x"===e&&ya(["quantitative","temporal"],c.type)?!0:void 0;return a},labelOverlap:function(a){var c=
a.fieldOrDatumDef,e=a.scaleType,l;null!==(l=a.axis.labelOverlap)&&void 0!==l?e=l:(a=c.type,l=Pc(c)&&!!c.timeUnit,c=Pc(c)?c.sort:void 0,e=l&&!cb(c)||"nominal"!==a&&"ordinal"!==a?"log"===e||"symlog"===e?"greedy":!0:void 0);return e},orient:function(a){return a.orient},tickCount:function(a){var c=a.channel,e=a.model,l=a.axis,u=a.fieldOrDatumDef;a=a.scaleType;var G;e=(c="x"===c?"width":"y"===c?"height":void 0)?e.getSizeSignalRef(c):void 0;if(null!==(G=l.tickCount)&&void 0!==G)l=G;else a:if(l.values||
a in nb||"log"===a)l=void 0;else{if(Pc(u)){var T;if(za(u.bin)){l={signal:"ceil(".concat(e.signal,"/10)")};break a}if(u.timeUnit&&ya(["month","hours","day","quarter"],null===(T=lc(u.timeUnit))||void 0===T?void 0:T.unit)){l=void 0;break a}}l={signal:"ceil(".concat(e.signal,"/40)")}}return l},title:function(a){var c=a.axis,e=a.model;a=a.channel;if(void 0!==c.title)return c.title;c=sk(e,a);if(void 0!==c)return c;c=e.typedFieldDef(a);e=e.fieldDef("x"===a?"x2":"y2");return cg(c?[Pd(c)]:[],Pc(e)?[Pd(e)]:
[])},values:function(a){var c=a.fieldOrDatumDef;a=a.axis.values;c=zd(a)?Oc(c,a):Qb(a)?a:void 0;return c},zindex:function(a){var c=a.fieldOrDatumDef,e=a.mark,l;a=null!==(l=a.axis.zindex)&&void 0!==l?l:"rect"===e&&rf(c)?1:0;return a}},Ug=function(a,c){a=$d.call(this,a)||this;a.transform=c;Sb(a,"_dependentFields",void 0);a._dependentFields=pk(a.transform.calculate);return a};$jscomp.inherits(Ug,$d);Ug.prototype.clone=function(){return new Ug(null,xe(this.transform))};Ug.parseAllForSortIndex=function(a,
c){c.forEachFieldDef(function(e,l){if(pe(e)&&be(e.sort)){var u=e.field,G=e.timeUnit,T=e.sort;T=T.map(function(oa,ab){return"".concat(te({field:u,timeUnit:G,equal:oa})," ? ").concat(ab," : ")}).join("")+T.length;a=new Ug(a,{calculate:T,as:th(e,l,{forAs:!0})})}});return a};Ug.prototype.producedFields=function(){return new Set([this.transform.as])};Ug.prototype.dependentFields=function(){return this._dependentFields};Ug.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,
as:this.transform.as}};Ug.prototype.hash=function(){return"Calculate ".concat(xa(this.transform))};var km=["row","column"],Ll=["header","footer"],qn={column:{start:0,end:1},row:{start:1,end:0}},rn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),ym=id(rn),xm=function(){return Ef.apply(this,arguments)||this};$jscomp.inherits(xm,Ef);var Am={symbols:function(a,c){var e=c.fieldOrDatumDef,l=c.model,u=c.channel,G=c.legendCmpt,T,oa,ab,Ya;if("symbol"===c.legendType){var vb=l.markDef,Zb=l.encoding;c=l.config;var sc=l.mark,
Ec=vb.filled&&"trail"!==sc;sc=Object.assign({},qe({},l,Ah),Ii(l,{filled:Ec}));var Ic=null!==(T=G.get("symbolOpacity"))&&void 0!==T?T:c.legend.symbolOpacity;T=null!==(oa=G.get("symbolFillColor"))&&void 0!==oa?oa:c.legend.symbolFillColor;oa=null!==(ab=G.get("symbolStrokeColor"))&&void 0!==ab?ab:c.legend.symbolStrokeColor;ab=void 0===Ic?null!==(Ya=Xi(Zb.opacity))&&void 0!==Ya?Ya:vb.opacity:void 0;if(sc.fill)if("fill"===u||Ec&&"color"===u)delete sc.fill;else if(sc.fill.field)if(T)delete sc.fill;else{var Uc;
sc.fill=ge(null!==(Uc=c.legend.symbolBaseFillColor)&&void 0!==Uc?Uc:"black");sc.fillOpacity=ge(null!==ab&&void 0!==ab?ab:1)}else if(zd(sc.fill)){var Zc,Yd,Nd;if(Ya=null!==(Zc=null!==(Yd=Jh(null!==(Nd=Zb.fill)&&void 0!==Nd?Nd:Zb.color))&&void 0!==Yd?Yd:vb.fill)&&void 0!==Zc?Zc:Ec&&vb.color)sc.fill=ge(Ya)}sc.stroke&&("stroke"===u||!Ec&&"color"===u?delete sc.stroke:sc.stroke.field||oa?delete sc.stroke:zd(sc.stroke)&&(Zc=V(Jh(Zb.stroke||Zb.color),vb.stroke,Ec?vb.color:void 0))&&(sc.stroke={value:Zc}));
"opacity"!==u&&((e=Pc(e)&&Cj(l,G,e))?sc.opacity=[Object.assign({},{test:e},ge(null!==ab&&void 0!==ab?ab:1)),ge(c.legend.unselectedOpacity)]:ab&&(sc.opacity=ge(ab)));sc=Object.assign({},sc,a);return A(sc)?void 0:sc}},gradient:function(a,c){var e;if("gradient"===c.legendType){var l=c.model,u=l.config,G=l.markDef,T=l.encoding;l={};if(c=void 0===(null!==(e=c.legendCmpt.get("gradientOpacity"))&&void 0!==e?e:u.legend.gradientOpacity)?Xi(T.opacity)||G.opacity:void 0)l.opacity=ge(c);l=Object.assign({},l,
a);return A(l)?void 0:l}},labels:function(a,c){var e=c.fieldOrDatumDef,l=c.model,u=c.legendCmpt,G=l.legend(c.channel)||{};c=l.config;l=(l=Pc(e)?Cj(l,u,e):void 0)?[{test:l,value:1},{value:c.legend.unselectedOpacity}]:void 0;u=G.format;G=G.formatType;e=de(G)?Lb({fieldOrDatumDef:e,field:"datum.value",format:u,formatType:G,config:c}):void 0;a=Object.assign({},l?{opacity:l}:{},e?{text:e}:{},a);return A(a)?void 0:a},entries:function(a,c){c=c.legendCmpt.get("selections");return(null===c||void 0===c?0:c.length)?
Object.assign({},a,{fill:{value:"transparent"}}):a}},zm={direction:function(a){return a.direction},format:function(a){var c=a.fieldOrDatumDef,e=a.legend;return Ke(c,c.type,e.format,e.formatType,a.config,!1)},formatType:function(a){return oe(a.legend.formatType,a.fieldOrDatumDef,a.scaleType)},gradientLength:function(a){var c,e,l=a.legendConfig;if(null!==(c=null!==(e=a.legend.gradientLength)&&void 0!==e?e:l.gradientLength)&&void 0!==c)a=c;else{c=a.model;e=a.direction;l=a.orient;var u=a.legendConfig,
G=u.gradientHorizontalMaxLength,T=u.gradientHorizontalMinLength,oa=u.gradientVerticalMaxLength;u=u.gradientVerticalMinLength;a=a.scaleType in g?"horizontal"===e?"top"===l||"bottom"===l?Yi(c,"width",T,G):T:Yi(c,"height",u,oa):void 0}return a},labelOverlap:function(a){var c=a.legendConfig,e=a.scaleType,l,u;a=null!==(l=null!==(u=a.legend.labelOverlap)&&void 0!==u?u:c.labelOverlap)&&void 0!==l?l:ya(["quantile","threshold","log","symlog"],e)?"greedy":void 0;return a},symbolType:function(a){var c=a.markDef,
e=a.channel,l=a.encoding,u;if(null!==(u=a.legend.symbolType)&&void 0!==u)var G=u;else a:{a=c.type;c=c.shape;if("shape"!==e&&(e=null!==(G=Jh(l.shape))&&void 0!==G?G:c)){G=e;break a}switch(a){case "bar":case "rect":case "image":case "square":G="square";break a;case "line":case "trail":case "rule":G="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":G="circle";break a}G=void 0}return G},title:function(a){return Pe(a.fieldOrDatumDef,a.config,{allowDisabling:!0})},
type:function(a){var c=a.legendType,e=a.scaleType;if(ua(a.channel)&&e in g){if("gradient"===c)return}else if("symbol"===c)return;return c},values:function(a){var c=a.fieldOrDatumDef;a=a.legend.values;c=zd(a)?Oc(c,a):Qb(a)?a:void 0;return c}},gn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),hl=function(a,c,e,l){a=Ef.call(this,Object.assign({},c),{name:a})||this;a.specifiedProjection=c;a.size=e;
a.data=l;Sb(a,"merged",!1);return a};$jscomp.inherits(hl,Ef);$jscomp.global.Object.defineProperties(hl.prototype,{isFit:{configurable:!0,enumerable:!0,get:function(){return!!this.data}}});var Wf=function(a,c){a=$d.call(this,a)||this;a.bins=c;return a};$jscomp.inherits(Wf,$d);Wf.prototype.clone=function(){return new Wf(null,xe(this.bins))};Wf.makeFromEncoding=function(a,c){var e=c.reduceFieldDef(function(l,u,G){if(ke(u)&&za(u.bin)){var T=kl(u,u.bin,c),oa=T.key;l[oa]=Object.assign({},T.binComponent,
l[oa],jl(c,u,G,c.config))}return l},{});return A(e)?null:new Wf(a,e)};Wf.makeFromTransform=function(a,c,e){c=kl(c,c.bin,e);e={};return new Wf(a,(e[c.key]=c.binComponent,e))};Wf.prototype.merge=function(a,c){for(var e=$jscomp.makeIterator(id(a.bins)),l=e.next();!l.done;l=e.next())l=l.value,l in this.bins?(c(a.bins[l].signal,this.bins[l].signal),this.bins[l].as=qa([].concat($jscomp.arrayFromIterable(this.bins[l].as),$jscomp.arrayFromIterable(a.bins[l].as)),xa)):this.bins[l]=a.bins[l];c=$jscomp.makeIterator(a.children);
for(e=c.next();!e.done;e=c.next())e=e.value,a.removeChild(e),e.parent=this;a.remove()};Wf.prototype.producedFields=function(){return new Set(ah(this.bins).map(function(a){return a.as}).flat(2))};Wf.prototype.dependentFields=function(){return new Set(ah(this.bins).map(function(a){return a.field}))};Wf.prototype.hash=function(){return"Bin ".concat(xa(this.bins))};Wf.prototype.assemble=function(){return ah(this.bins).flatMap(function(a){var c=[],e=$jscomp.makeIterator(a.as),l=e.next().value;e=$jscomp.arrayFromIterator(e);
var u=a.bin,G=Object.assign({},u);u=u.extent;G=(delete G.extent,G);G=Object.assign({},{type:"bin",field:Sa(a.field),as:l,signal:a.signal},Tb(u)?{extent:null}:{extent:u},a.span?{span:{signal:"span(".concat(a.span,")")}}:{},G);!u&&a.extentSignal&&(c.push({type:"extent",field:Sa(a.field),signal:a.extentSignal}),G.extent={signal:a.extentSignal});c.push(G);e=$jscomp.makeIterator(e);for(u=e.next();!u.done;u=e.next())for(u=u.value,G=0;2>G;G++)c.push({type:"formula",expr:gd({field:l[G]},{expr:"datum"}),as:u[G]});
a.formula&&c.push({type:"formula",expr:a.formula,as:a.formulaAs});return c})};var Lf=function(a,c,e){a=$d.call(this,a)||this;a.dimensions=c;a.measures=e;return a};$jscomp.inherits(Lf,$d);Lf.prototype.clone=function(){return new Lf(null,new Set(this.dimensions),xe(this.measures))};Lf.makeFromEncoding=function(a,c){var e=!1;c.forEachFieldDef(function(G){G.aggregate&&(e=!0)});var l={},u=new Set;if(!e)return null;c.forEachFieldDef(function(G,T){var oa=G.aggregate,ab=G.field;if(oa)if("count"===oa){var Ya;
l["*"]=null!==(Ya=l["*"])&&void 0!==Ya?Ya:{};l["*"].count=new Set([gd(G,{forAs:!0})])}else{if(v(oa)||J(oa)){var vb;G=v(oa)?"argmin":"argmax";oa=oa[G];l[oa]=null!==(vb=l[oa])&&void 0!==vb?vb:{};l[oa][G]=new Set([gd({op:G,field:oa},{forAs:!0})])}else{var Zb;l[ab]=null!==(Zb=l[ab])&&void 0!==Zb?Zb:{};l[ab][oa]=new Set([gd(G,{forAs:!0})])}if(zg[T]&&"unaggregated"===c.scaleDomain(T)){var sc;l[ab]=null!==(sc=l[ab])&&void 0!==sc?sc:{};l[ab].min=new Set([gd({field:ab,aggregate:"min"},{forAs:!0})]);l[ab].max=
new Set([gd({field:ab,aggregate:"max"},{forAs:!0})])}}else ab=nf(c)?c.encoding[Ka(T)]:void 0,ke(G)&&nf(c)&&Yc(T,G,ab,c.stack,c.markDef,c.config)?(u.add(gd(G,{})),u.add(gd(G,{suffix:"end"})),G.bin&&Fc(G,T)&&u.add(gd(G,{binSuffix:"range"}))):T in Rj?(T=ka(T),u.add(c.getName(T))):u.add(gd(G))});return 0===u.size+id(l).length?null:new Lf(a,u,l)};Lf.makeFromTransform=function(a,c){for(var e=new Set,l={},u=$jscomp.makeIterator(c.aggregate),G=u.next();!G.done;G=u.next()){var T=G=G.value,oa=T.op,ab=T.field;
T=T.as;if(oa)if("count"===oa){var Ya;l["*"]=null!==(Ya=l["*"])&&void 0!==Ya?Ya:{};l["*"].count=new Set([T?T:gd(G,{forAs:!0})])}else{var vb;l[ab]=null!==(vb=l[ab])&&void 0!==vb?vb:{};l[ab][oa]=new Set([T?T:gd(G,{forAs:!0})])}}c=$jscomp.makeIterator(null!==(Zb=c.groupby)&&void 0!==Zb?Zb:[]);for(G=c.next();!G.done;G=c.next()){var Zb;e.add(G.value)}return 0===e.size+id(l).length?null:new Lf(a,e,l)};Lf.prototype.merge=function(a){if(Fa(this.dimensions,a.dimensions)){var c=this.measures;a=a.measures;for(var e=
$jscomp.makeIterator(id(a)),l=e.next();!l.done;l=e.next()){l=l.value;for(var u=a[l],G=$jscomp.makeIterator(id(u)),T=G.next();!T.done;T=G.next())if(T=T.value,l in c){var oa;c[l][T]=new Set([].concat($jscomp.arrayFromIterable(null!==(oa=c[l][T])&&void 0!==oa?oa:[]),$jscomp.arrayFromIterable(u[T])))}else{var ab={};c[l]=(ab[T]=u[T],ab)}}return!0}Fb("different dimensions, cannot merge");return!1};Lf.prototype.addDimensions=function(a){a.forEach(this.dimensions.add,this.dimensions)};Lf.prototype.dependentFields=
function(){return new Set([].concat($jscomp.arrayFromIterable(this.dimensions),$jscomp.arrayFromIterable(id(this.measures))))};Lf.prototype.producedFields=function(){for(var a=new Set,c=$jscomp.makeIterator(id(this.measures)),e=c.next();!e.done;e=c.next()){e=e.value;for(var l=$jscomp.makeIterator(id(this.measures[e])),u=l.next();!u.done;u=l.next()){u=u.value;var G=this.measures[e][u];0===G.size?a.add("".concat(u,"_").concat(e)):G.forEach(a.add,a)}}return a};Lf.prototype.hash=function(){return"Aggregate ".concat(xa({dimensions:this.dimensions,
measures:this.measures}))};Lf.prototype.assemble=function(){for(var a=[],c=[],e=[],l=$jscomp.makeIterator(id(this.measures)),u=l.next();!u.done;u=l.next()){u=u.value;for(var G=$jscomp.makeIterator(id(this.measures[u])),T=G.next();!T.done;T=G.next()){T=T.value;for(var oa=$jscomp.makeIterator(this.measures[u][T]),ab=oa.next();!ab.done;ab=oa.next())e.push(ab.value),a.push(T),c.push("*"===u?null:Sa(u))}}return{type:"aggregate",groupby:[].concat($jscomp.arrayFromIterable(this.dimensions)).map(Sa),ops:a,
fields:c,as:e}};$jscomp.global.Object.defineProperties(Lf.prototype,{groupBy:{configurable:!0,enumerable:!0,get:function(){return this.dimensions}}});var ig=function(a,c,e,l){a=$d.call(this,a)||this;a.model=c;a.name=e;a.data=l;Sb(a,"column",void 0);Sb(a,"row",void 0);Sb(a,"facet",void 0);Sb(a,"childModel",void 0);e=$jscomp.makeIterator(Cf);for(l=e.next();!l.done;l=e.next()){l=l.value;var u=c.facet[l];if(u){var G=u,T=G.bin;G=G.sort;a[l]=Object.assign({},{name:c.getName("".concat(l,"_domain")),fields:[gd(u)].concat($jscomp.arrayFromIterable(za(T)?
[gd(u,{binSuffix:"end"})]:[]))},He(G)?{sortField:G}:zd(G)?{sortIndexField:th(u,l)}:{})}}a.childModel=c.child;return a};$jscomp.inherits(ig,$d);ig.prototype.hash=function(){for(var a="Facet",c=$jscomp.makeIterator(Cf),e=c.next();!e.done;e=c.next())e=e.value,this[e]&&(a+=" ".concat(e.charAt(0),":").concat(xa(this[e])));return a};ig.prototype.dependentFields=function(){for(var a=new Set(this.fields),c=$jscomp.makeIterator(Cf),e=c.next();!e.done;e=c.next())e=e.value,this[e]&&(this[e].sortField&&a.add(this[e].sortField.field),
this[e].sortIndexField&&a.add(this[e].sortIndexField));return a};ig.prototype.producedFields=function(){return new Set};ig.prototype.getSource=function(){return this.name};ig.prototype.getChildIndependentFieldsWithStep=function(){for(var a={},c=$jscomp.makeIterator(Zf),e=c.next();!e.done;e=c.next()){e=e.value;var l=this.childModel.component.scales[e];if(l&&!l.merged){var u=l.get("type");l=l.get("range");u in nb&&Gc(l)&&(u=Ij(this.childModel,e),(u=Ck(u))?a[e]=u:La(bc(e)))}}return a};ig.prototype.assembleRowColumnHeaderData=
function(a,c,e){var l={row:"y",column:"x"}[a],u=[],G=[],T=[];e&&e[l]&&(c?(u.push("distinct_".concat(e[l])),G.push("max")):(u.push(e[l]),G.push("distinct")),T.push("distinct_".concat(e[l])));l=this[a];e=l.sortField;l=l.sortIndexField;e?(l=void 0===e.op?"min":e.op,u.push(e.field),G.push(l),T.push(gd(e,{forAs:!0}))):l&&(u.push(l),G.push("max"),T.push(l));return{name:this[a].name,source:null!==c&&void 0!==c?c:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},u.length?{fields:u,
ops:G,as:T}:{})]}};ig.prototype.assembleFacetHeaderData=function(a){for(var c=this.model.layout.columns,e=this.model.component.layoutHeaders,l=[],u={},G=$jscomp.makeIterator(km),T=G.next();!T.done;T=G.next()){T=T.value;for(var oa=$jscomp.makeIterator(Ll),ab=oa.next();!ab.done;ab=oa.next()){ab=ab.value;var Ya;ab=null!==(Ya=e[T]&&e[T][ab])&&void 0!==Ya?Ya:[];ab=$jscomp.makeIterator(ab);for(var vb=ab.next();!vb.done;vb=ab.next()){var Zb;if(0<(null===(Zb=vb.value.axes)||void 0===Zb?void 0:Zb.length)){u[T]=
!0;break}}}u[T]&&(oa='length(data("'.concat(this.facet.name,'"))'),oa="row"===T?c?{signal:"ceil(".concat(oa," / ").concat(c,")")}:1:c?{signal:"min(".concat(oa,", ").concat(c,")")}:{signal:oa},l.push({name:"".concat(this.facet.name,"_").concat(T),transform:[{type:"sequence",start:0,stop:oa}]}))}c=u.column;(u.row||c)&&l.unshift(this.assembleRowColumnHeaderData("facet",null,a));return l};ig.prototype.assemble=function(){var a=[],c=null,e=this.getChildIndependentFieldsWithStep(),l=this.row,u=this.facet;
if(this.column&&l&&(e.x||e.y)){var G,T;c="cross_".concat(this.column.name,"_").concat(this.row.name);l=[].concat(null!==(G=e.x)&&void 0!==G?G:[],null!==(T=e.y)&&void 0!==T?T:[]);G=l.map(function(){return"distinct"});a.push({name:c,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:G}]})}G=$jscomp.makeIterator(["column","row"]);for(T=G.next();!T.done;T=G.next())T=T.value,this[T]&&a.push(this.assembleRowColumnHeaderData(T,c,e));u&&(c=this.assembleFacetHeaderData(e))&&a.push.apply(a,
$jscomp.arrayFromIterable(c));return a};$jscomp.global.Object.defineProperties(ig.prototype,{fields:{configurable:!0,enumerable:!0,get:function(){for(var a=[],c=$jscomp.makeIterator(Cf),e=c.next();!e.done;e=c.next()){e=e.value;var l;(null===(l=this[e])||void 0===l?0:l.fields)&&a.push.apply(a,$jscomp.arrayFromIterable(this[e].fields))}return a}}});var vf=function(a,c){a=$d.call(this,a)||this;Sb(a,"_parse",void 0);a._parse=c;return a};$jscomp.inherits(vf,$d);vf.prototype.clone=function(){return new vf(null,
xe(this._parse))};vf.prototype.hash=function(){return"Parse ".concat(xa(this._parse))};vf.makeExplicit=function(a,c,e){var l={};c=c.data;!dg(c)&&c&&c.format&&c.format.parse&&(l=c.format.parse);return this.makeWithAncestors(a,l,{},e)};vf.makeWithAncestors=function(a,c,e,l){for(var u=$jscomp.makeIterator(id(e)),G=u.next();!G.done;G=u.next()){G=G.value;var T=l.getWithExplicit(G);void 0!==T.value&&(T.explicit||T.value===e[G]||"derived"===T.value||"flatten"===e[G]?delete e[G]:La(xd(G,e[G],T.value)))}u=
$jscomp.makeIterator(id(c));for(G=u.next();!G.done;G=u.next())G=G.value,T=l.get(G),void 0!==T&&(T===c[G]?delete c[G]:La(xd(G,c[G],T)));c=new Ef(c,e);l.copyAll(c);e={};u=$jscomp.makeIterator(id(c.combine()));for(G=u.next();!G.done;G=u.next())G=G.value,T=c.get(G),null!==T&&(e[G]=T);return 0===id(e).length||l.parseNothing?null:new vf(a,e)};vf.prototype.merge=function(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()};vf.prototype.assembleFormatParse=function(){for(var a={},c=$jscomp.makeIterator(id(this._parse)),
e=c.next();!e.done;e=c.next()){e=e.value;var l=this._parse[e];1===Y(e)&&(a[e]=l)}return a};vf.prototype.producedFields=function(){return new Set(id(this._parse))};vf.prototype.dependentFields=function(){return new Set(id(this._parse))};vf.prototype.assembleTransforms=function(a){var c=this;a=void 0===a?!1:a;return id(this._parse).filter(function(e){return a?1<Y(e):!0}).map(function(e){var l=$i(e,c._parse[e]);return l?{type:"formula",expr:l,as:ha(e)}:null}).filter(function(e){return null!==e})};$jscomp.global.Object.defineProperties(vf.prototype,
{parse:{configurable:!0,enumerable:!0,get:function(){return this._parse}}});var Gg=function(a){return $d.call(this,a)||this};$jscomp.inherits(Gg,$d);Gg.prototype.clone=function(){return new Gg(null)};Gg.prototype.dependentFields=function(){return new Set};Gg.prototype.producedFields=function(){return new Set(["_vgsid_"])};Gg.prototype.hash=function(){return"Identifier"};Gg.prototype.assemble=function(){return{type:"identifier",as:"_vgsid_"}};var uh=function(a,c){a=$d.call(this,a)||this;a.params=c;
return a};$jscomp.inherits(uh,$d);uh.prototype.clone=function(){return new uh(null,this.params)};uh.prototype.dependentFields=function(){return new Set};uh.prototype.producedFields=function(){};uh.prototype.hash=function(){return"Graticule ".concat(xa(this.params))};uh.prototype.assemble=function(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)};var vh=function(a,c){a=$d.call(this,a)||this;a.params=c;return a};$jscomp.inherits(vh,$d);vh.prototype.clone=function(){return new vh(null,
this.params)};vh.prototype.dependentFields=function(){return new Set};vh.prototype.producedFields=function(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])};vh.prototype.hash=function(){return"Hash ".concat(xa(this.params))};vh.prototype.assemble=function(){return Object.assign({},{type:"sequence"},this.params)};var ng=function(a){var c;var e=$d.call(this,null)||this;Sb(e,"_data",void 0);Sb(e,"_name",void 0);Sb(e,"_generator",void 0);a=null!==(c=a)&&void 0!==c?c:{name:"source"};
var l;dg(a)||(l=a.format?Object.assign({},Qa(a.format,["parse"])):{});if("values"in a)e._data={values:a.values};else if("url"in a)e._data={url:a.url},l.type||(c=/(?:\.([^.]+))?$/.exec(a.url)[1],ya(["json","csv","tsv","dsv","topojson"],c)||(c="json"),l.type=c);else if("sphere"in a)e._data={values:[{type:"Sphere"}]};else if(Kf(a)||dg(a))e._data={};e._generator=dg(a);a.name&&(e._name=a.name);l&&!A(l)&&(e._data.format=l);return e};$jscomp.inherits(ng,$d);ng.prototype.dependentFields=function(){return new Set};
ng.prototype.producedFields=function(){};ng.prototype.hasName=function(){return!!this._name};ng.prototype.remove=function(){throw Error("Source nodes are roots and cannot be removed.");};ng.prototype.hash=function(){throw Error("Cannot hash sources");};ng.prototype.assemble=function(){return Object.assign({},{name:this._name},this._data,{transform:[]})};$jscomp.global.Object.defineProperties(ng.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this._data}},isGenerator:{configurable:!0,
enumerable:!0,get:function(){return this._generator}},dataName:{configurable:!0,enumerable:!0,get:function(){return this._name},set:function(a){this._name=a}},parent:{configurable:!0,enumerable:!0,set:function(a){throw Error("Source nodes have to be roots.");}}});var Cl=new WeakMap,Di=function(){Cl.set(this,{writable:!0,value:void 0});ic(this,Cl,!1)};Di.prototype.setModified=function(){ic(this,Cl,!0)};$jscomp.global.Object.defineProperties(Di.prototype,{modifiedFlag:{configurable:!0,enumerable:!0,
get:function(){var a=Cl.get(this);if(!a)throw new TypeError("attempted to get private field on non-instance");a=a.get?a.get.call(this):a.value;return a}}});var bg=function(){return Di.apply(this,arguments)||this};$jscomp.inherits(bg,Di);bg.prototype.getNodeDepths=function(a,c,e){e.set(a,c);a=$jscomp.makeIterator(a.children);for(var l=a.next();!l.done;l=a.next())this.getNodeDepths(l.value,c+1,e);return e};bg.prototype.optimize=function(a){a=this.getNodeDepths(a,0,new Map);a=[].concat($jscomp.arrayFromIterable(a.entries())).sort(function(e,
l){return l[1]-e[1]});a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())this.run(c.value[0]);return this.modifiedFlag};var Ei=function(){return Di.apply(this,arguments)||this};$jscomp.inherits(Ei,Di);Ei.prototype.optimize=function(a){this.run(a);a=$jscomp.makeIterator(a.children);for(var c=a.next();!c.done;c=a.next())this.optimize(c.value);return this.modifiedFlag};var nl=function(){return Ei.apply(this,arguments)||this};$jscomp.inherits(nl,Ei);nl.prototype.mergeNodes=function(a,c){var e=
c.shift();c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next())l=l.value,a.removeChild(l),l.parent=e,l.remove()};nl.prototype.run=function(a){for(var c=a.children.map(function(u){return u.hash()}),e={},l=0;l<c.length;l++)void 0===e[c[l]]?e[c[l]]=[a.children[l]]:e[c[l]].push(a.children[l]);c=$jscomp.makeIterator(id(e));for(l=c.next();!l.done;l=c.next())l=l.value,1<e[l].length&&(this.setModified(),this.mergeNodes(a,e[l]))};var Pl=function(a){var c=Ei.call(this)||this;Sb(c,"requiresSelectionId",
void 0);c.requiresSelectionId=a&&sh(a);return c};$jscomp.inherits(Pl,Ei);Pl.prototype.run=function(a){!(a instanceof Gg)||this.requiresSelectionId&&(xk(a.parent)||a.parent instanceof Lf||a.parent instanceof vf)||(this.setModified(),a.remove())};var ml=function(){return Di.apply(this,arguments)||this};$jscomp.inherits(ml,Di);ml.prototype.optimize=function(a){this.run(a,new Set);return this.modifiedFlag};ml.prototype.run=function(a,c){var e=new Set;a instanceof Tf&&(e=a.producedFields(),Ba(e,c)&&(this.setModified(),
a.removeFormulas(c),0===a.producedFields.length&&a.remove()));a=$jscomp.makeIterator(a.children);for(var l=a.next();!l.done;l=a.next())this.run(l.value,new Set([].concat($jscomp.arrayFromIterable(c),$jscomp.arrayFromIterable(e))))};var Ol=function(){return Ei.call(this)||this};$jscomp.inherits(Ol,Ei);Ol.prototype.run=function(a){a instanceof Df&&!a.isRequired()&&(this.setModified(),a.remove())};var Rl=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Rl,bg);Rl.prototype.run=function(a){if(!(xk(a)||
1<a.numChildren()))for(var c=$jscomp.makeIterator(a.children),e=c.next();!e.done;e=c.next())e=e.value,e instanceof vf&&(a instanceof vf?(this.setModified(),a.merge(e)):jb(a.producedFields(),e.dependentFields())||(this.setModified(),e.swapWithParent()))};var Tl=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Tl,bg);Tl.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children)),e=a.children.filter(function(ab){return ab instanceof vf});if(1<a.numChildren()&&1<=
e.length){var l={},u=new Set;e=$jscomp.makeIterator(e);for(var G=e.next();!G.done;G=e.next()){G=G.value.parse;for(var T=$jscomp.makeIterator(id(G)),oa=T.next();!oa.done;oa=T.next())oa=oa.value,oa in l?l[oa]!==G[oa]&&u.add(oa):l[oa]=G[oa]}u=$jscomp.makeIterator(u);for(e=u.next();!e.done;e=u.next())delete l[e.value];if(!A(l))for(this.setModified(),u=new vf(a,l),c=$jscomp.makeIterator(c),e=c.next();!e.done;e=c.next()){e=e.value;if(e instanceof vf)for(G=$jscomp.makeIterator(id(l)),T=G.next();!T.done;T=
G.next())delete e.parse[T.value];a.removeChild(e);e.parent=u;e instanceof vf&&0===id(e.parse).length&&e.remove()}}};var Ql=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Ql,bg);Ql.prototype.run=function(a){a instanceof Df||0<a.numChildren()||a instanceof ig||a instanceof ng||(this.setModified(),a.remove())};var Vl=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Vl,bg);Vl.prototype.run=function(a){var c=a.children.filter(function(l){return l instanceof Tf});a=
c.pop();c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())e=e.value,this.setModified(),a.merge(e)};var Ul=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Ul,bg);Ul.prototype.run=function(a){var c=a.children.filter(function(T){return T instanceof Lf}),e={};c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next()){var u=l.value;l=xa(u.groupBy);l in e||(e[l]=[]);e[l].push(u)}c=$jscomp.makeIterator(id(e));for(u=c.next();!u.done;u=c.next())if(l=e[u.value],1<l.length){u=
l.pop();var G=$jscomp.makeIterator(l);for(l=G.next();!l.done;l=G.next())l=l.value,u.merge(l)&&(a.removeChild(l),l.parent=u,l.remove(),this.setModified())}};var Sl=function(a){var c=bg.call(this)||this;c.model=a;return c};$jscomp.inherits(Sl,bg);Sl.prototype.run=function(a){for(var c=!(xk(a)||a instanceof dh||a instanceof vf||a instanceof Gg),e=[],l=[],u=$jscomp.makeIterator(a.children),G=u.next();!G.done;G=u.next())G=G.value,G instanceof Wf&&(c&&!jb(a.producedFields(),G.dependentFields())?e.push(G):
l.push(G));if(0<e.length){c=e.pop();u=$jscomp.makeIterator(e);for(e=u.next();!e.done;e=u.next())c.merge(e.value,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Wf?a.merge(c,this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(1<l.length){a=l.pop();l=$jscomp.makeIterator(l);for(e=l.next();!e.done;e=l.next())a.merge(e.value,this.model.renameSignal.bind(this.model));this.setModified()}};var Wl=function(){return bg.apply(this,arguments)||this};$jscomp.inherits(Wl,
bg);Wl.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children));if(ja(c,function(oa){return oa instanceof Df})&&!(1>=a.numChildren())){var e=[];c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next())if(l=l.value,l instanceof Df){for(var u=l;1===u.numChildren();){var G=$jscomp.makeIterator(u.children).next().value;if(G instanceof Df)u=G;else break}e.push.apply(e,$jscomp.arrayFromIterable(u.children));if(T)a.removeChild(l),l.parent=T.parent,T.parent.removeChild(T),T.parent=
u,this.setModified();else var T=u}else e.push(l);if(e.length)for(this.setModified(),a=$jscomp.makeIterator(e),l=a.next();!l.done;l=a.next())e=l.value,e.parent.removeChild(e),e.parent=T}};var tg=function(a,c){a=$d.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(tg,$d);tg.prototype.clone=function(){return new tg(null,xe(this.transform))};tg.prototype.addDimensions=function(a){this.transform.groupby=qa(this.transform.groupby.concat(a),function(c){return c})};tg.prototype.dependentFields=
function(){var a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(function(c){return c.field}).filter(function(c){return void 0!==c}).forEach(a.add,a);return a};tg.prototype.producedFields=function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))};tg.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:gd(a)};tg.prototype.hash=function(){return"JoinAggregateTransform ".concat(xa(this.transform))};
tg.prototype.assemble=function(){for(var a=[],c=[],e=[],l=$jscomp.makeIterator(this.transform.joinaggregate),u=l.next();!u.done;u=l.next())u=u.value,c.push(u.op),e.push(this.getDefaultName(u)),a.push(void 0===u.field?null:u.field);l=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:c,fields:a},void 0!==l?{groupby:l}:{})};var Rf=function(a,c){a=$d.call(this,a)||this;Sb(a,"_stack",void 0);a._stack=c;return a};$jscomp.inherits(Rf,$d);Rf.prototype.clone=function(){return new Rf(null,
xe(this._stack))};Rf.makeFromTransform=function(a,c){var e=c.stack,l=c.groupby,u=c.as,G=void 0===c.offset?"zero":c.offset,T=[],oa=[];if(void 0!==c.sort)for(var ab=$jscomp.makeIterator(c.sort),Ya=ab.next();!Ya.done;Ya=ab.next())Ya=Ya.value,T.push(Ya.field),oa.push(V(Ya.order,"ascending"));T={field:T,order:oa};c=Nl(u)?u:ea(u)?[u,u+"_end"]:[c.stack+"_start",c.stack+"_end"];return new Rf(a,{stackField:e,groupby:l,offset:G,sort:T,facetby:[],as:c})};Rf.makeFromEncoding=function(a,c){var e=c.stack,l=c.encoding;
if(!e)return null;var u=e.groupbyChannel,G=e.fieldChannel,T=e.offset;e=e.impute;var oa;u&&(oa=df(l[u]));l=bj(c);u=c.encoding.order;u=zd(u)||Pc(u)?kf(u):l.reduce(function(ab,Ya){ab.field.push(Ya);ab.order.push("y"===G?"descending":"ascending");return ab},{field:[],order:[]});return new Rf(a,{dimensionFieldDef:oa,stackField:c.vgField(G),facetby:[],stackby:l,sort:u,offset:T,impute:e,as:[c.vgField(G,{suffix:"start",forAs:!0}),c.vgField(G,{suffix:"end",forAs:!0})]})};Rf.prototype.addDimensions=function(a){this._stack.facetby.push.apply(this._stack.facetby,
$jscomp.arrayFromIterable(a))};Rf.prototype.dependentFields=function(){var a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a};Rf.prototype.producedFields=function(){return new Set(this._stack.as)};Rf.prototype.hash=function(){return"Stack ".concat(xa(this._stack))};Rf.prototype.getGroupbyFields=function(){var a=this._stack,c=a.dimensionFieldDef,e=a.impute;a=a.groupby;return c?c.bin?
e?[gd(c,{binSuffix:"mid"})]:[gd(c,{}),gd(c,{binSuffix:"end"})]:[gd(c)]:null!==a&&void 0!==a?a:[]};Rf.prototype.assemble=function(){var a=[],c=this._stack,e=c.facetby,l=c.dimensionFieldDef,u=c.stackField,G=c.stackby,T=c.sort,oa=c.offset,ab=c.as;c.impute&&l&&(c=void 0===l.band?.5:l.band,l.bin&&a.push({type:"formula",expr:"".concat(c,"*")+gd(l,{expr:"datum"})+"+".concat(1-c,"*")+gd(l,{expr:"datum",binSuffix:"end"}),as:gd(l,{binSuffix:"mid",forAs:!0})}),a.push({type:"impute",field:u,groupby:[].concat($jscomp.arrayFromIterable(G),
$jscomp.arrayFromIterable(e)),key:gd(l,{binSuffix:"mid"}),method:"value",value:0}));a.push({type:"stack",groupby:[].concat($jscomp.arrayFromIterable(this.getGroupbyFields()),$jscomp.arrayFromIterable(e)),field:u,sort:T,as:ab,offset:oa});return a};$jscomp.global.Object.defineProperties(Rf.prototype,{stack:{configurable:!0,enumerable:!0,get:function(){return this._stack}}});var Dg=function(a,c){a=$d.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Dg,$d);Dg.prototype.clone=function(){return new Dg(null,
xe(this.transform))};Dg.prototype.addDimensions=function(a){this.transform.groupby=qa(this.transform.groupby.concat(a),function(c){return c})};Dg.prototype.dependentFields=function(){var a,c,e=new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(e.add,e);(null!==(c=this.transform.sort)&&void 0!==c?c:[]).forEach(function(l){return e.add(l.field)});this.transform.window.map(function(l){return l.field}).filter(function(l){return void 0!==l}).forEach(e.add,e);return e};Dg.prototype.producedFields=
function(){return new Set(this.transform.window.map(this.getDefaultName))};Dg.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:gd(a)};Dg.prototype.hash=function(){return"WindowTransform ".concat(xa(this.transform))};Dg.prototype.assemble=function(){for(var a=[],c=[],e=[],l=[],u=$jscomp.makeIterator(this.transform.window),G=u.next();!G.done;G=u.next())G=G.value,c.push(G.op),e.push(this.getDefaultName(G)),l.push(void 0===G.param?null:G.param),a.push(void 0===G.field?null:
G.field);u=this.transform.frame;G=this.transform.groupby;if(u&&null===u[0]&&null===u[1]&&c.every(function(Zb){return ba(Zb)}))return Object.assign({},{type:"joinaggregate",as:e,ops:c,fields:a},void 0!==G?{groupby:G}:{});var T=[],oa=[];if(void 0!==this.transform.sort)for(var ab=$jscomp.makeIterator(this.transform.sort),Ya=ab.next();!Ya.done;Ya=ab.next()){Ya=Ya.value;var vb;T.push(Ya.field);oa.push(null!==(vb=Ya.order)&&void 0!==vb?vb:"ascending")}vb=this.transform.ignorePeers;return Object.assign({},
{type:"window",params:l,as:e,ops:c,fields:a,sort:{field:T,order:oa}},void 0!==vb?{ignorePeers:vb}:{},void 0!==G?{groupby:G}:{},void 0!==u?{frame:u}:{})};var Eg=function(a){Sb(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})};Eg.fromName=function(a,c){return new Eg(function(){return a(c)})};var vl=function(a,c){a=Ef.call(this,{},{name:a})||this;Sb(a,"merged",!1);a.setWithExplicit("type",c);return a};$jscomp.inherits(vl,Ef);vl.prototype.domainDefinitelyIncludesZero=function(){return!1!==
this.get("zero")?!0:ja(this.get("domains"),function(a){return zd(a)&&2===a.length&&0>=a[0]&&0<=a[1]})};var hn=["range","scheme"],Bm={bins:function(a){var c=a.model;a=a.fieldOrDatumDef;return Pc(a)?jg(c,a):void 0},interpolate:function(a){var c=a.fieldOrDatumDef.type;a=ya(["color","fill","stroke"],a.channel)&&"nominal"!==c?"hcl":void 0;return a},nice:function(a){var c=a.scaleType,e=a.channel,l;a=(null===(l=df(a.fieldOrDatumDef))||void 0===l?0:l.bin)||ya([Af.TIME,Af.UTC],c)?void 0:e in Ue?!0:void 0;
return a},padding:function(a){var c=a.config;a:{var e=a.channel;var l=a.scaleType,u=c.scale,G=a.fieldOrDatumDef;a=a.markDef;c=c.bar;if(e in Ue){if(l in g){if(void 0!==u.continuousPadding){e=u.continuousPadding;break a}var T=a.orient;if("bar"===a.type&&(!Pc(G)||!G.bin&&!G.timeUnit)&&("vertical"===T&&"x"===e||"horizontal"===T&&"y"===e)){e=c.continuousBandSize;break a}}if(l===Af.POINT){e=u.pointPadding;break a}}e=void 0}return e},paddingInner:function(a){var c=a.channel,e=a.markDef,l=a.config;void 0!==
a.scalePadding?e=void 0:c in Ue?(a=l.scale,c=a.barBandPaddingInner,l=a.rectBandPaddingInner,e=V(a.bandPaddingInner,"bar"===e.type?c:l)):e=void 0;return e},paddingOuter:function(a){var c=a.channel,e=a.scaleType,l=a.config;var u=a.scalePaddingInner;a=void 0!==a.scalePadding?void 0:c in Ue&&e===Af.BAND?V(l.scale.bandPaddingOuter,Qb(u)?{signal:"".concat(u.signal,"/2")}:u/2):void 0;return a},reverse:function(a){var c=a.fieldOrDatumDef,e=a.scaleType,l=a.channel;a=a.config;c=Pc(c)?c.sort:void 0;a=a.scale;
e="x"===l&&void 0!==a.xReverse?e in ib&&"descending"===c?Qb(a.xReverse)?{signal:"!".concat(a.xReverse.signal)}:!a.xReverse:a.xReverse:e in ib&&"descending"===c?!0:void 0;return e},zero:function(a){a:{var c=a.channel;var e=a.fieldOrDatumDef,l=a.domain,u=a.markDef;a=a.scaleType;if(l&&"unaggregated"!==l&&a in ib){if(zd(l)&&(c=l[l.length-1],0>=l[0]&&0<=c)){c=!0;break a}c=!1}else"size"!==c||"quantitative"!==e.type||a in N?Pc(e)&&e.bin||!ya([].concat($jscomp.arrayFromIterable(Zf),$jscomp.arrayFromIterable(ij)),
c)?c=!1:(l=u.orient,c=ya(["bar","area","line","trail"],u.type)&&("horizontal"===l&&"y"===c||"vertical"===l&&"x"===c)?!1:!0):c=!0}return c}},jn=Ce(function(a,c){return Bl[a]-Bl[c]}),Vj=function(){Sb(this,"nameMap",void 0);this.nameMap={}};Vj.prototype.rename=function(a,c){this.nameMap[a]=c};Vj.prototype.has=function(a){return void 0!==this.nameMap[a]};Vj.prototype.get=function(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a};var Me=function(a,c,e,l,u,G,T){var oa=this,ab,Ya;
this.type=c;this.parent=e;this.config=u;Sb(this,"name",void 0);Sb(this,"size",void 0);Sb(this,"title",void 0);Sb(this,"description",void 0);Sb(this,"data",void 0);Sb(this,"transforms",void 0);Sb(this,"layout",void 0);Sb(this,"scaleNameMap",void 0);Sb(this,"projectionNameMap",void 0);Sb(this,"signalNameMap",void 0);Sb(this,"component",void 0);Sb(this,"view",void 0);Sb(this,"children",[]);Sb(this,"correctDataNames",function(vb){vb.from&&vb.from.data&&(vb.from.data=oa.lookupDataSource(vb.from.data));
vb.from&&vb.from.facet&&vb.from.facet.data&&(vb.from.facet.data=oa.lookupDataSource(vb.from.facet.data));return vb});this.parent=e;this.config=u;this.view=Pb(T);this.name=null!==(ab=a.name)&&void 0!==ab?ab:l;this.title=cd(a.title)?{text:a.title}:a.title?this.initTitle(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new Vj;this.projectionNameMap=e?e.projectionNameMap:new Vj;this.signalNameMap=e?e.signalNameMap:new Vj;this.data=a.data;this.description=a.description;this.transforms=Bd(null!==(Ya=
a.transform)&&void 0!==Ya?Ya:[]);this.layout="layer"===c||"unit"===c?{}:X(a,c,u);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||e&&e.component.data.isFaceted&&void 0===a.data},layoutSize:new Ef,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},G?xe(G):{}),selection:null,scales:null,projection:null,axes:{},
legends:{}}};Me.prototype.initTitle=function(a){var c=id(a),e={text:wd(a.text)};c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next())l=l.value,e[l]=wd(a[l]);return e};Me.prototype.parse=function(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()};Me.prototype.parseScale=function(){var a={}.ignoreRange;ul(this);nf(this)?xi(this):
ol(this);for(var c=$jscomp.makeIterator(Nc),e=c.next();!e.done;e=c.next())Nh(this,e.value);a||gh(this)};Me.prototype.parseProjection=function(){this.component.projection=nf(this)?tk(this):Tg(this)};Me.prototype.renameTopLevelLayoutSizeSignal=function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")};Me.prototype.parseLegends=function(){el(this)};Me.prototype.assembleGroupStyle=
function(){if("unit"===this.type||"layer"===this.type){var a,c;return null!==(a=null===(c=this.view)||void 0===c?void 0:c.style)&&void 0!==a?a:"cell"}};Me.prototype.assembleEncodeFromView=function(a){a=Object.assign({},a);a=(delete a.style,a);for(var c={},e=$jscomp.makeIterator(id(a)),l=e.next();!l.done;l=e.next()){l=l.value;var u=a[l];void 0!==u&&(c[l]=ge(u))}return c};Me.prototype.assembleGroupEncodeEntry=function(a){var c={};this.view&&(c=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&
(c.description=ge(this.description)),"unit"===this.type||"layer"===this.type)){var e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(e=c)&&void 0!==e?e:{})}return A(c)?void 0:c};Me.prototype.assembleLayout=function(){if(this.layout){var a=this.layout,c=Object.assign({},a);a=a.spacing;c=(delete c.spacing,c);for(var e=this.config,l=this.component.layoutHeaders,u={},G=$jscomp.makeIterator(Cf),T=G.next();!T.done;T=G.next()){T=T.value;var oa=
l[T];if(null===oa||void 0===oa?0:oa.facetFieldDef){var ab=Ih(["titleAnchor","titleOrient"],oa.facetFieldDef.header,e,T);oa=ab.titleAnchor;T=yj(T,ab.titleOrient);oa=qn[T][oa];void 0!==oa&&(u[T]=oa)}}e=A(u)?void 0:u;return Object.assign({},{padding:a},this.assembleDefaultLayout(),c,e?{titleBand:e}:{})}};Me.prototype.assembleDefaultLayout=function(){return{}};Me.prototype.assembleHeaderMarks=function(){for(var a=this.component.layoutHeaders,c=[],e=$jscomp.makeIterator(Cf),l=e.next();!l.done;l=e.next())l=
l.value,a[l].title&&c.push(Ui(this,l));a=$jscomp.makeIterator(km);for(l=a.next();!l.done;l=a.next())c=c.concat(bl(this,l.value));return c};Me.prototype.assembleAxes=function(){return Si(this.component.axes,this.config)};Me.prototype.assembleLegends=function(){return Dj(this)};Me.prototype.assembleProjections=function(){var a=ii(this)||cj(this)?Zi(this):gl(this);return a};Me.prototype.assembleTitle=function(){var a,c=null!==(a=this.title)&&void 0!==a?a:{};a=Object.assign({},c);c=c.encoding;a=(delete a.encoding,
a);c=Object.assign({},bd(this.config.title).nonMark,a,c?{encode:{update:c}}:{});if(c.text){if(ya(["unit","layer"],this.type)){if(ya(["middle",void 0],c.anchor)){var e;c.frame=null!==(e=c.frame)&&void 0!==e?e:"group"}}else{var l;c.anchor=null!==(l=c.anchor)&&void 0!==l?l:"start"}return A(c)?void 0:c}};Me.prototype.assembleGroup=function(a){a=void 0===a?[]:a;var c={};a=a.concat(this.assembleSignals());0<a.length&&(c.signals=a);if(a=this.assembleLayout())c.layout=a;c.marks=[].concat(this.assembleHeaderMarks(),
this.assembleMarks());a=!this.parent||rg(this.parent)?pl(this):[];0<a.length&&(c.scales=a);a=this.assembleAxes();0<a.length&&(c.axes=a);a=this.assembleLegends();0<a.length&&(c.legends=a);return c};Me.prototype.getName=function(a){return I((this.name?this.name+"_":"")+a)};Me.prototype.getDataName=function(a){return this.getName(tf[a].toLowerCase())};Me.prototype.requestDataName=function(a){a=this.getDataName(a);var c=this.component.data.outputNodeRefCounts;c[a]=(c[a]||0)+1;return a};Me.prototype.getSizeSignalRef=
function(a){if(rg(this.parent)){var c=dl(a),e=hb(c);if((c=this.component.scales[e])&&!c.merged){var l=c.get("type"),u=c.get("range");if(l in nb&&Gc(u)){a=c.get("name");l=Ij(this,e);if(l=Ck(l))return e=gd({aggregate:"distinct",field:l},{expr:"datum"}),{signal:Aj(a,c,e)};La(bc(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}};Me.prototype.lookupDataSource=function(a){var c=this.component.data.outputNodes[a];return c?c.getSource():a};Me.prototype.getSignalName=function(a){return this.signalNameMap.get(a)};
Me.prototype.renameSignal=function(a,c){this.signalNameMap.rename(a,c)};Me.prototype.renameScale=function(a,c){this.scaleNameMap.rename(a,c)};Me.prototype.renameProjection=function(a,c){this.projectionNameMap.rename(a,c)};Me.prototype.scaleName=function(a,c){if(c)return this.getName(a);if(Kg[a]&&zg[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))};Me.prototype.projectionName=function(a){if(a)return this.getName("projection");if(this.component.projection&&
!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))};Me.prototype.getScaleComponent=function(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var c=this.component.scales[a];return c&&!c.merged?c:this.parent?this.parent.getScaleComponent(a):void 0};Me.prototype.getSelectionComponent=
function(a,c){var e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,c));if(!e)throw Error('Cannot find a selection named "'.concat(c,'".'));return e};Me.prototype.hasAxisOrientSignalRef=function(){var a,c;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(function(e){return e.hasOrientSignalRef()}))||(null===(c=this.component.axes.y)||void 0===c?void 0:c.some(function(e){return e.hasOrientSignalRef()}))};$jscomp.global.Object.defineProperties(Me.prototype,
{width:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("width")}},height:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("height")}}});var Bh=function(){return Me.apply(this,arguments)||this};$jscomp.inherits(Bh,Me);Bh.prototype.vgField=function(a,c){c=void 0===c?{}:c;if(a=this.fieldDef(a))return gd(a,c)};Bh.prototype.reduceFieldDef=function(a,c){return lb(this.getMapping(),function(e,l,u){return(l=df(l))?a(e,l,u):e},c)};Bh.prototype.forEachFieldDef=
function(a,c){Va(this.getMapping(),function(e,l){(e=df(e))&&a(e,l)},c)};var Rh=function(a,c){var e,l,u;a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);c=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(l=c[0])&&void 0!==l?l:"value",null!==(u=c[1])&&void 0!==u?u:"density"];return a};$jscomp.inherits(Rh,$d);Rh.prototype.clone=function(){return new Rh(null,xe(this.transform))};Rh.prototype.dependentFields=function(){var a;return new Set([this.transform.density].concat($jscomp.arrayFromIterable(null!==
(a=this.transform.groupby)&&void 0!==a?a:[])))};Rh.prototype.producedFields=function(){return new Set(this.transform.as)};Rh.prototype.hash=function(){return"DensityTransform ".concat(xa(this.transform))};Rh.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.density;c=(delete c.density,c);return Object.assign({},{type:"kde",field:a},c)};var hh=function(a,c){a=$d.call(this,a)||this;a.filter=c;return a};$jscomp.inherits(hh,$d);hh.prototype.clone=function(){return new hh(null,
Object.assign({},this.filter))};hh.make=function(a,c){var e=c.mark;if("filter"!==Fd("invalid",c.markDef,c.config))return null;var l=c.reduceFieldDef(function(u,G,T){(T=!!zg[T]&&c.getScaleComponent(T))&&T.get("type")in ib&&"count"!==G.aggregate&&!kc(e)&&(u[G.field]=G);return u},{});return id(l).length?new hh(a,l):null};hh.prototype.dependentFields=function(){return new Set(id(this.filter))};hh.prototype.producedFields=function(){return new Set};hh.prototype.hash=function(){return"FilterInvalid ".concat(xa(this.filter))};
hh.prototype.assemble=function(){var a=this,c=id(this.filter).reduce(function(e,l){l=a.filter[l];var u=gd(l,{expr:"datum"});null!==l&&("temporal"===l.type?e.push("(isDate(".concat(u,") || (isValid(").concat(u,") \x26\x26 isFinite(+").concat(u,")))")):"quantitative"===l.type&&(e.push("isValid(".concat(u,")")),e.push("isFinite(+".concat(u,")"))));return e},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null};var Qh=function(a,c){a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);
c=a.transform;var e=void 0===c.as?[]:c.as;a.transform.as=c.flatten.map(function(l,u){var G;return null!==(G=e[u])&&void 0!==G?G:l});return a};$jscomp.inherits(Qh,$d);Qh.prototype.clone=function(){return new Qh(this.parent,xe(this.transform))};Qh.prototype.dependentFields=function(){return new Set(this.transform.flatten)};Qh.prototype.producedFields=function(){return new Set(this.transform.as)};Qh.prototype.hash=function(){return"FlattenTransform ".concat(xa(this.transform))};Qh.prototype.assemble=
function(){var a=this.transform;return{type:"flatten",fields:a.flatten,as:a.as}};var Ph=function(a,c){var e,l,u;a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);c=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(l=c[0])&&void 0!==l?l:"key",null!==(u=c[1])&&void 0!==u?u:"value"];return a};$jscomp.inherits(Ph,$d);Ph.prototype.clone=function(){return new Ph(null,xe(this.transform))};Ph.prototype.dependentFields=function(){return new Set(this.transform.fold)};Ph.prototype.producedFields=
function(){return new Set(this.transform.as)};Ph.prototype.hash=function(){return"FoldTransform ".concat(xa(this.transform))};Ph.prototype.assemble=function(){var a=this.transform;return{type:"fold",fields:a.fold,as:a.as}};var Vg=function(a,c,e,l){a=$d.call(this,a)||this;a.fields=c;a.geojson=e;a.signal=l;return a};$jscomp.inherits(Vg,$d);Vg.prototype.clone=function(){return new Vg(null,xe(this.fields),this.geojson,this.signal)};Vg.parseAll=function(a,c){if(c.component.projection&&!c.component.projection.isFit)return a;
for(var e=0,l=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),u=l.next();!u.done;u=l.next())if(u=u.value.map(function(G){G=Be(c.encoding[G]);return Pc(G)?G.field:Sd(G)?{expr:"".concat(G.datum)}:Gd(G)?{expr:"".concat(G.value)}:void 0}),u[0]||u[1])a=new Vg(a,u,null,c.getName("geojson_".concat(e++)));c.channelHasField("shape")&&(l=c.typedFieldDef("shape"),"geojson"===l.type&&(a=new Vg(a,null,l.field,c.getName("geojson_".concat(e++)))));return a};Vg.prototype.dependentFields=
function(){var a,c=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(ea);return new Set([].concat($jscomp.arrayFromIterable(this.geojson?[this.geojson]:[]),$jscomp.arrayFromIterable(c)))};Vg.prototype.producedFields=function(){return new Set};Vg.prototype.hash=function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(xa(this.fields))};Vg.prototype.assemble=function(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:
{},{signal:this.signal})};var ih=function(a,c,e,l){a=$d.call(this,a)||this;a.projection=c;a.fields=e;a.as=l;return a};$jscomp.inherits(ih,$d);ih.prototype.clone=function(){return new ih(null,this.projection,xe(this.fields),xe(this.as))};ih.parseAll=function(a,c){if(!c.projectionName())return a;for(var e=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),l=e.next();!l.done;l=e.next()){var u=l.value;l=u.map(function(G){G=Be(c.encoding[G]);return Pc(G)?G.field:Sd(G)?{expr:"".concat(G.datum)}:
Gd(G)?{expr:"".concat(G.value)}:void 0});u="longitude2"===u[0]?"2":"";if(l[0]||l[1])a=new ih(a,c.projectionName(),l,[c.getName("x"+u),c.getName("y"+u)])}return a};ih.prototype.dependentFields=function(){return new Set(this.fields.filter(ea))};ih.prototype.producedFields=function(){return new Set(this.as)};ih.prototype.hash=function(){return"Geopoint ".concat(this.projection," ").concat(xa(this.fields)," ").concat(xa(this.as))};ih.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,
fields:this.fields,as:this.as}};var og=function(a,c){a=$d.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(og,$d);og.prototype.clone=function(){return new og(null,xe(this.transform))};og.prototype.dependentFields=function(){var a;return new Set([this.transform.impute,this.transform.key].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};og.prototype.producedFields=function(){return new Set([this.transform.impute])};og.prototype.processSequence=function(a){var c=
a.step;a=[void 0===a.start?0:a.start,a.stop].concat($jscomp.arrayFromIterable(c?[c]:[])).join(",");return{signal:"sequence(".concat(a,")")}};og.makeFromTransform=function(a,c){return new og(a,c)};og.makeFromEncoding=function(a,c){var e=c.encoding,l=e.x,u=e.y;if(Pc(l)&&Pc(u)){var G=l.impute?l:u.impute?u:void 0;if(void 0===G)return;l=l.impute?u:u.impute?l:void 0;var T=G.impute;u=T.method;var oa=T.value,ab=T.frame;T=T.keyvals;c=pb(c.mark,e);return new og(a,Object.assign({},{impute:G.field,key:l.field},
u?{method:u}:{},void 0!==oa?{value:oa}:{},ab?{frame:ab}:{},void 0!==T?{keyvals:T}:{},c.length?{groupby:c}:{}))}return null};og.prototype.hash=function(){return"Impute ".concat(xa(this.transform))};og.prototype.assemble=function(){var a=this.transform,c=a.impute,e=a.keyvals,l=a.method,u=a.groupby,G=a.value,T=void 0===a.frame?[null,null]:a.frame;a=Object.assign({},{type:"impute",field:c,key:a.key},e?{keyvals:void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(e):e}:{},{method:"value"},
u?{groupby:u}:{},{value:l&&"value"!==l?null:G});return l&&"value"!==l?(l=Object.assign({},{type:"window",as:["imputed_".concat(c,"_value")],ops:[l],fields:[c],frame:T,ignorePeers:!1},u?{groupby:u}:{}),c={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c},[a,l,c]):[a]};var Sh=function(a,c){var e,l,u;a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);var G=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=
[null!==(l=G[0])&&void 0!==l?l:c.on,null!==(u=G[1])&&void 0!==u?u:c.loess];return a};$jscomp.inherits(Sh,$d);Sh.prototype.clone=function(){return new Sh(null,xe(this.transform))};Sh.prototype.dependentFields=function(){var a;return new Set([this.transform.loess,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};Sh.prototype.producedFields=function(){return new Set(this.transform.as)};Sh.prototype.hash=function(){return"LoessTransform ".concat(xa(this.transform))};
Sh.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),e=a.loess;a=a.on;c=(delete c.loess,delete c.on,c);return Object.assign({},{type:"loess",x:a,y:e},c)};var jh=function(a,c,e){a=$d.call(this,a)||this;a.transform=c;a.secondary=e;return a};$jscomp.inherits(jh,$d);jh.prototype.clone=function(){return new jh(null,xe(this.transform),this.secondary)};jh.make=function(a,c,e,l){var u=c.component.data.sources,G=e.from,T=null;if("data"in G)T=ej(G.data,u),T||(T=new ng(G.data),u.push(T)),
l=c.getName("lookup_".concat(l)),T=new Df(T,l,tf.Lookup,c.component.data.outputNodeRefCounts),c.component.data.outputNodes[l]=T;else if("selection"in G&&(l=G.selection,e=Object.assign({},{as:l},e),T=c.getSelectionComponent(I(l),l).materialized,!T))throw Error('Cannot define and lookup the "'.concat(l,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new jh(a,e,T.getSource())};jh.prototype.dependentFields=function(){return new Set([this.transform.lookup])};
jh.prototype.producedFields=function(){return new Set(this.transform.as?$a(this.transform.as):this.transform.from.fields)};jh.prototype.hash=function(){return"Lookup ".concat(xa({transform:this.transform,secondary:this.secondary}))};jh.prototype.assemble=function(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:$a(this.transform.as)}:{});else a=this.transform.as,ea(a)||(La('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),
a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})};var Th=function(a,c){var e,l,u;a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);c=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(l=c[0])&&void 0!==l?l:"prob",null!==(u=c[1])&&void 0!==u?u:"value"];return a};$jscomp.inherits(Th,$d);Th.prototype.clone=function(){return new Th(null,
xe(this.transform))};Th.prototype.dependentFields=function(){var a;return new Set([this.transform.quantile].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};Th.prototype.producedFields=function(){return new Set(this.transform.as)};Th.prototype.hash=function(){return"QuantileTransform ".concat(xa(this.transform))};Th.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.quantile;c=(delete c.quantile,c);return Object.assign({},{type:"quantile",
field:a},c)};var Uh=function(a,c){var e,l,u;a=$d.call(this,a)||this;a.transform=c;a.transform=xe(c);var G=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(l=G[0])&&void 0!==l?l:c.on,null!==(u=G[1])&&void 0!==u?u:c.regression];return a};$jscomp.inherits(Uh,$d);Uh.prototype.clone=function(){return new Uh(null,xe(this.transform))};Uh.prototype.dependentFields=function(){var a;return new Set([this.transform.regression,this.transform.on].concat($jscomp.arrayFromIterable(null!==
(a=this.transform.groupby)&&void 0!==a?a:[])))};Uh.prototype.producedFields=function(){return new Set(this.transform.as)};Uh.prototype.hash=function(){return"RegressionTransform ".concat(xa(this.transform))};Uh.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),e=a.regression;a=a.on;c=(delete c.regression,delete c.on,c);return Object.assign({},{type:"regression",x:a,y:e},c)};var xh=function(a,c){a=$d.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(xh,$d);xh.prototype.clone=
function(){return new xh(null,xe(this.transform))};xh.prototype.addDimensions=function(a){var c;this.transform.groupby=qa((null!==(c=this.transform.groupby)&&void 0!==c?c:[]).concat(a),function(e){return e})};xh.prototype.producedFields=function(){};xh.prototype.dependentFields=function(){var a;return new Set([this.transform.pivot,this.transform.value].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};xh.prototype.hash=function(){return"PivotTransform ".concat(xa(this.transform))};
xh.prototype.assemble=function(){var a=this.transform,c=a.groupby,e=a.limit,l=a.op;return Object.assign({},{type:"pivot",field:a.pivot,value:a.value},void 0!==e?{limit:e}:{},void 0!==l?{op:l}:{},void 0!==c?{groupby:c}:{})};var Vh=function(a,c){a=$d.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Vh,$d);Vh.prototype.clone=function(){return new Vh(null,xe(this.transform))};Vh.prototype.dependentFields=function(){return new Set};Vh.prototype.producedFields=function(){return new Set};Vh.prototype.hash=
function(){return"SampleTransform ".concat(xa(this.transform))};Vh.prototype.assemble=function(){return{type:"sample",size:this.transform.sample}};var gf=function(a,c,e,l){c=Bh.call(this,a,"facet",c,e,l,a.resolve)||this;Sb(c,"facet",void 0);Sb(c,"child",void 0);Sb(c,"children",void 0);c.child=Yh(a.spec,c,c.getName("child"),void 0,l);c.children=[c.child];c.facet=c.initFacet(a.facet);return c};$jscomp.inherits(gf,Bh);gf.prototype.initFacet=function(a){if(!fc(a))return{facet:this.initFacetFieldDef(a,
"facet")};var c=id(a),e={};c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next()){l=l.value;if(!ya(["row","column"],l)){La(Rc(l,"facet"));break}var u=a[l];if(void 0===u.field){La(Rb(u,l));break}e[l]=this.initFacetFieldDef(u,l)}return e};gf.prototype.initFacetFieldDef=function(a,c){var e=Object.assign({},a);a=a.header;e=(delete e.header,e);c=Na(e,c);a&&(c.header=Pb(a));return c};gf.prototype.channelHasField=function(a){return!!this.facet[a]};gf.prototype.fieldDef=function(a){return this.facet[a]};
gf.prototype.parseData=function(){this.component.data=fj(this);this.child.parseData()};gf.prototype.parseLayoutSize=function(){Kj(this)};gf.prototype.parseSelections=function(){this.child.parseSelections();this.component.selection=this.child.component.selection};gf.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()};gf.prototype.parseAxesAndHeaders=function(){this.child.parseAxesAndHeaders();for(var a=$jscomp.makeIterator(Cf),c=a.next();!c.done;c=a.next()){var e=void 0;c=c.value;var l=
this.facet,u=this.config,G=this.child,T=this.component;if(this.channelHasField(c)){l=l[c];var oa=vi("title",null,u,c);oa=Pe(l,u,{allowDisabling:!0,includeDefault:void 0===oa||!!oa});G.component.layoutHeaders[c].title&&(oa=zd(oa)?oa.join(", "):oa,oa+=" / "+G.component.layoutHeaders[c].title,G.component.layoutHeaders[c].title=null);G=vi("labelOrient",l,u,c);var ab=null!==(e=l.header)&&void 0!==e?e:{};e=V(ab.labels,u.header.labels,!0);u=ya(["bottom","right"],G)?"footer":"header";G={};T.layoutHeaders[c]=
(G.title=oa,G.facetFieldDef=l,G[u]="facet"===c?[]:[Ek(this,c,e)],G)}}Fk(this,"x");Fk(this,"y")};gf.prototype.assembleSelectionTopLevelSignals=function(a){return this.child.assembleSelectionTopLevelSignals(a)};gf.prototype.assembleSignals=function(){this.child.assembleSignals();return[]};gf.prototype.assembleSelectionData=function(a){return this.child.assembleSelectionData(a)};gf.prototype.getHeaderLayoutMixins=function(){for(var a={},c=$jscomp.makeIterator(Cf),e=c.next();!e.done;e=c.next()){e=e.value;
for(var l=$jscomp.makeIterator(Ll),u=l.next();!u.done;u=l.next()){var G=u.value;u=this.component.layoutHeaders[e];var T=u[G],oa=u.facetFieldDef;if(oa&&(oa=vi("titleOrient",oa.header,this.config,e),ya(["right","bottom"],oa))){var ab;oa=yj(e,oa);a.titleAnchor=null!==(ab=a.titleAnchor)&&void 0!==ab?ab:{};a.titleAnchor[oa]="end"}if(null===T||void 0===T?0:T[0]){T="row"===e?"height":"width";G="header"===G?"headerBand":"footerBand";if("facet"!==e&&!this.child.component.layoutSize.get(T)){var Ya;a[G]=null!==
(Ya=a[G])&&void 0!==Ya?Ya:{};a[G][e]=.5}if(u.title){var vb;a.offset=null!==(vb=a.offset)&&void 0!==vb?vb:{};a.offset["row"===e?"rowTitle":"columnTitle"]=10}}}}return a};gf.prototype.assembleDefaultLayout=function(){var a=this.facet,c=a.column;a=a.row;var e=c?this.columnDistinctSignal():a?1:void 0,l="all";a||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(l="none"):l="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",
align:l})};gf.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()};gf.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof gf)){var a=this.getName("column_domain");return{signal:"length(data('".concat(a,"'))")}}};gf.prototype.assembleGroup=function(a){return this.parent&&this.parent instanceof gf?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:gd(this.facet.column,{prefix:"distinct"})}}}}:{},Bh.prototype.assembleGroup.call(this,
a)):Bh.prototype.assembleGroup.call(this,a)};gf.prototype.getCardinalityAggregateForChild=function(){var a=[],c=[],e=[];if(this.child instanceof gf){if(this.child.channelHasField("column")){var l=gd(this.child.facet.column);a.push(l);c.push("distinct");e.push("distinct_".concat(l))}}else{l=$jscomp.makeIterator(Zf);for(var u=l.next();!u.done;u=l.next()){u=u.value;var G=this.child.component.scales[u];if(G&&!G.merged){var T=G.get("type");G=G.get("range");T in nb&&Gc(G)&&(T=Ij(this.child,u),(T=Ck(T))?
(a.push(T),c.push("distinct"),e.push("distinct_".concat(T))):La(bc(u)))}}}return{fields:a,ops:c,as:e}};gf.prototype.assembleFacet=function(){var a=this.component.data.facetRoot,c=a.name;a=a.data;var e=this.facet,l=e.row,u=e.column,G=this.getCardinalityAggregateForChild();e=G.fields;var T=G.ops;G=G.as;for(var oa=[],ab=$jscomp.makeIterator(Cf),Ya=ab.next();!Ya.done;Ya=ab.next()){var vb=Ya.value;if(Ya=this.facet[vb]){oa.push(gd(Ya));var Zb=Ya,sc=Zb.sort;za(Zb.bin)&&oa.push(gd(Ya,{binSuffix:"end"}));
He(sc)?(Zb=sc,vb=Zb.field,Zb=void 0===Zb.op?"min":Zb.op,Ya=Hg(Ya,sc),l&&u?(e.push(Ya),T.push("max")):(e.push(vb),T.push(Zb)),G.push(Ya)):zd(sc)&&(Ya=th(Ya,vb),e.push(Ya),T.push("max"),G.push(Ya))}}l=!!l&&!!u;return Object.assign({},{name:c,data:a,groupby:oa},l||0<e.length?{aggregate:Object.assign({},l?{cross:l}:{},e.length?{fields:e,ops:T,as:G}:{})}:{})};gf.prototype.facetSortFields=function(a){var c=this.facet[a];return c?He(c.sort)?[Hg(c,c.sort,{expr:"datum"})]:zd(c.sort)?[th(c,a,{expr:"datum"})]:
[gd(c,{expr:"datum"})]:[]};gf.prototype.facetSortOrder=function(a){return(a=this.facet[a])?(a=a.sort,[(He(a)?a.order:!zd(a)&&a)||"ascending"]):[]};gf.prototype.assembleLabelTitle=function(){var a=this.facet,c=this.config;if(a.facet)return Vi(a.facet,"facet",c);for(var e={row:["top","bottom"],column:["left","right"]},l=$jscomp.makeIterator(km),u=l.next();!u.done;u=l.next())if(u=u.value,a[u]){var G,T=vi("labelOrient",null===(G=a[u])||void 0===G?void 0:G.header,c,u);if(ya(e[u],T))return Vi(a[u],u,c)}};
gf.prototype.assembleMarks=function(){var a=this,c=this.child,e=wl(this.component.data.facetRoot),l=c.assembleGroupEncodeEntry(!1),u=this.assembleLabelTitle()||c.assembleTitle(),G=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},u?{title:u}:{},G?{style:G}:{},{from:{facet:this.assembleFacet()},sort:{field:Cf.map(function(T){return a.facetSortFields(T)}).flat(),order:Cf.map(function(T){return a.facetSortOrder(T)}).flat()}},0<e.length?{data:e}:{},l?{encode:{update:l}}:
{},c.assembleGroup(kk(this,[])))]};gf.prototype.getMapping=function(){return this.facet};var pg=function(a,c,e,l){var u,G,T,oa;var ab=Me.call(this,a,"concat",c,e,l,a.resolve)||this;Sb(ab,"children",void 0);"shared"!==(null===(u=a.resolve)||void 0===u?void 0:null===(G=u.axis)||void 0===G?void 0:G.x)&&"shared"!==(null===(T=a.resolve)||void 0===T?void 0:null===(oa=T.axis)||void 0===oa?void 0:oa.y)||La("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
ab.children=ab.getChildren(a).map(function(Ya,vb){return Yh(Ya,ab,ab.getName("concat_"+vb),void 0,l)});return ab};$jscomp.inherits(pg,Me);pg.prototype.parseData=function(){this.component.data=fj(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};pg.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var e=$jscomp.makeIterator(id(c.component.selection)),
l=e.next();!l.done;l=e.next())l=l.value,this.component.selection[l]=c.component.selection[l]}};pg.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};pg.prototype.parseAxesAndHeaders=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseAxesAndHeaders()};pg.prototype.getChildren=function(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat};pg.prototype.parseLayoutSize=
function(){Kj(this);var a=void 0===this.layout.columns?"height":"childHeight";Lj(this,1===this.layout.columns?"width":"childWidth");Lj(this,a)};pg.prototype.parseAxisGroup=function(){return null};pg.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionTopLevelSignals(c)},a)};pg.prototype.assembleSignals=function(){this.children.forEach(function(a){return a.assembleSignals()});return[]};pg.prototype.assembleLayoutSignals=function(){for(var a=
Wi(this),c=$jscomp.makeIterator(this.children),e=c.next();!e.done;e=c.next())a.push.apply(a,$jscomp.arrayFromIterable(e.value.assembleLayoutSignals()));return a};pg.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionData(c)},a)};pg.prototype.assembleMarks=function(){return this.children.map(function(a){var c=a.assembleTitle(),e=a.assembleGroupStyle(),l=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},
c?{title:c}:{},e?{style:e}:{},l?{encode:{update:l}}:{},a.assembleGroup())})};pg.prototype.assembleDefaultLayout=function(){var a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})};var sn=Object.assign({},{disable:1,gridScale:1,scale:1},Qj,{labelExpr:1,encode:1}),Cm=id(sn),Nj=function(a,c,e){a=void 0===a?{}:a;c=void 0===c?{}:c;e=void 0===e?!1:e;var l=Ef.call(this)||this;l.explicit=a;l.implicit=c;l.mainExtracted=e;return l};$jscomp.inherits(Nj,Ef);Nj.prototype.clone=
function(){return new Nj(xe(this.explicit),xe(this.implicit),this.mainExtracted)};Nj.prototype.hasAxisPart=function(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)};Nj.prototype.hasOrientSignalRef=function(){return Qb(this.explicit.orient)};var tn={bottom:"top",top:"bottom",left:"right",right:"left"},kn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Al={arc:{vgMark:"arc",encodeEntry:function(a){return Object.assign({},
fg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Mf("x",a,{defaultPos:"mid"}),Mf("y",a,{defaultPos:"mid"}),Ag(a,"radius","arc"),Ag(a,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(a){return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Mg("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),Mg("y",a,{defaultPos:"zeroOrMin",
defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),gi(a))}},bar:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ag(a,"x","bar"),Ag(a,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(a){return Wh(a,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(a){return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",
theta:"ignore"}))},postEncodingTransform:function(a){var c=a.encoding.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},c&&Pc(c)&&"geojson"===c.type?{field:gd(c,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(a){return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ag(a,"x","image"),Ag(a,"y","image"),$g(a,"url"))}},line:{vgMark:"line",encodeEntry:function(a){return Object.assign({},
fg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Mf("x",a,{defaultPos:"mid"}),Mf("y",a,{defaultPos:"mid"}),sf("size",a,{vgChannel:"strokeWidth"}),gi(a))}},point:{vgMark:"symbol",encodeEntry:function(a){return Wh(a)}},rect:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ag(a,"x","rect"),Ag(a,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(a){var c=
a.markDef.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Mg("x",a,{defaultPos:"horizontal"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==c}),Mg("y",a,{defaultPos:"vertical"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==c}),sf("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(a){return Wh(a,
"square")}},text:{vgMark:"text",encodeEntry:function(a){var c=a.config,e=a.encoding;return Object.assign({},fg(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Mf("x",a,{defaultPos:"mid"}),Mf("y",a,{defaultPos:"mid"}),$g(a),sf("size",a,{vgChannel:"fontSize"}),sf("angle",a),jk("align",zl(a.markDef,e,c)),jk("baseline",Oj(a.markDef,e,c)),Mf("radius",a,{defaultPos:null,isMidPoint:!0}),Mf("theta",a,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",
encodeEntry:function(a){var c=a.config,e=a.markDef,l=e.orient,u="horizontal"===l?"width":"height";l="horizontal"===l?"height":"width";var G={};return Object.assign({},fg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Mf("x",a,{defaultPos:"mid",vgChannel:"xc"}),Mf("y",a,{defaultPos:"mid",vgChannel:"yc"}),sf("size",a,{defaultValue:Pj(a),vgChannel:u}),(G[l]=ge(Fd("thickness",e,c)),G))}},trail:{vgMark:"trail",encodeEntry:function(a){return Object.assign({},
fg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Mf("x",a,{defaultPos:"mid"}),Mf("y",a,{defaultPos:"mid"}),sf("size",a),gi(a))}}},of=function(a,c,e,l,u){l=void 0===l?{}:l;c=Bh.call(this,a,"unit",c,e,u,void 0,we(a)?a.view:void 0)||this;Sb(c,"markDef",void 0);Sb(c,"encoding",void 0);Sb(c,"specifiedScales",{});Sb(c,"stack",void 0);Sb(c,"specifiedAxes",{});Sb(c,"specifiedLegends",{});Sb(c,"specifiedProjection",{});Sb(c,"selection",{});Sb(c,"children",
[]);var G=oc(a.mark)?Object.assign({},a.mark):{type:a.mark};e=G.type;if(void 0===G.filled){if(a.data&&"graticule"in a.data)var T=!1;else{T=ef("filled",G,u);var oa=G.type;T=V(T,oa!==Dc&&oa!==Jf&&oa!==Sc)}G.filled=T}T=c.encoding=ia(a.encoding||{},e,G.filled,u);G=Pb(G);oa=Fd("orient",G,u);G.orient=zh(G.type,T,oa);void 0!==oa&&oa!==G.orient&&La('Specified orient "'.concat(G.orient,'" overridden with "').concat(oa,'".'));if("bar"===G.type&&G.orient&&(oa=Fd("cornerRadiusEnd",G,u),void 0!==oa)){for(var ab=
$jscomp.makeIterator("horizontal"===G.orient&&T.x2||"vertical"===G.orient&&T.y2?["cornerRadius"]:ln[G.orient]),Ya=ab.next();!Ya.done;Ya=ab.next())G[Ya.value]=oa;void 0!==G.cornerRadiusEnd&&delete G.cornerRadiusEnd}void 0===Fd("opacity",G,u)&&(oa=ya([Dc,Dd,le,Te],G.type)&&!M(T)?.7:void 0,G.opacity=oa);void 0===Fd("cursor",G,u)&&(G.cursor=T.href||G.href||Fd("href",G,u)?"pointer":G.cursor);c.markDef=G;l=we(a)?Object.assign({},l,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):l;u=$jscomp.makeIterator(Zf);
for(G=u.next();!G.done;G=u.next())G=G.value,oa=Z(G),Cd(l[oa])&&Ld(T[G])&&(delete l[oa],La(Md(oa)));c.size=l;c.stack=Bc(e,T);c.specifiedScales=c.initScales(e,T);c.specifiedAxes=c.initAxes(T);c.specifiedLegends=c.initLegends(T);c.specifiedProjection=a.projection;c.selection=a.selection;return c};$jscomp.inherits(of,Bh);of.prototype.scaleDomain=function(a){return(a=this.specifiedScales[a])?a.domain:void 0};of.prototype.axis=function(a){return this.specifiedAxes[a]};of.prototype.legend=function(a){return this.specifiedLegends[a]};
of.prototype.initScales=function(a,c){var e=this;return Ki.reduce(function(l,u){var G=Be(c[u]);if(G){var T;l[u]=e.initScale(null!==(T=G.scale)&&void 0!==T?T:{})}return l},{})};of.prototype.initScale=function(a){var c=a.domain,e=a.range;a=Pb(a);zd(c)&&(a.domain=c.map(wd));zd(e)&&(a.range=e.map(wd));return a};of.prototype.initAxes=function(a){var c=this;return Zf.reduce(function(e,l){var u=a[l];if(Ed(u)||"x"===l&&Ed(a.x2)||"y"===l&&Ed(a.y2))u=Ed(u)?u.axis:void 0,e[l]=u?c.initAxis(Object.assign({},u)):
u;return e},{})};of.prototype.initAxis=function(a){var c=id(a),e={};c=$jscomp.makeIterator(c);for(var l=c.next();!l.done;l=c.next()){l=l.value;var u=a[l];e[l]=r(u)?jd(u):wd(u)}return e};of.prototype.initLegends=function(a){return Uj.reduce(function(c,e){var l=Be(a[e]),u;if(u=l)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":u=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":u=!1;break a}u=void 0}u&&(l=
l.legend,c[e]=l?Pb(l):l);return c},{})};of.prototype.parseData=function(){this.component.data=fj(this)};of.prototype.parseLayoutSize=function(){for(var a=this.size,c=this.component,e=$jscomp.makeIterator(Zf),l=e.next();!l.done;l=e.next())if(l=Z(l.value),a[l]){var u=a[l];c.layoutSize.set(l,Cd(u)?"step":u,!0)}else u=em(this,l),c.layoutSize.set(l,u,!1)};of.prototype.parseSelections=function(){this.component.selection=Ri(this,this.selection)};of.prototype.parseMarkGroup=function(){this.component.mark=
Bi(this)};of.prototype.parseAxesAndHeaders=function(){this.component.axes=ug(this)};of.prototype.assembleSelectionTopLevelSignals=function(a){return Qk(this,a)};of.prototype.assembleSignals=function(){return[].concat($jscomp.arrayFromIterable(eh(this)),$jscomp.arrayFromIterable(Kl(this,[])))};of.prototype.assembleSelectionData=function(a){return Rk(this,a)};of.prototype.assembleLayout=function(){return null};of.prototype.assembleLayoutSignals=function(){return Wi(this)};of.prototype.assembleMarks=
function(){var a,c=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&ii(this.parent)||(c=Mi(this,c));return c.map(this.correctDataNames)};of.prototype.getMapping=function(){return this.encoding};of.prototype.channelHasField=function(a){return C(this.encoding,a)};of.prototype.fieldDef=function(a){return df(this.encoding[a])};of.prototype.typedFieldDef=function(a){a=this.fieldDef(a);return ke(a)?a:null};$jscomp.global.Object.defineProperties(of.prototype,{hasProjection:{configurable:!0,enumerable:!0,
get:function(){var a=this.encoding,c=this.mark===uf,e=a&&Of.some(function(l){return Ed(a[l])});return c||e}},mark:{configurable:!0,enumerable:!0,get:function(){return this.markDef.type}}});var kg=function(a,c,e,l,u){var G=Me.call(this,a,"layer",c,e,u,a.resolve,a.view)||this;Sb(G,"children",void 0);var T=Object.assign({},l,a.width?{width:a.width}:{},a.height?{height:a.height}:{});G.children=a.layer.map(function(oa,ab){if("layer"in oa)return new kg(oa,G,G.getName("layer_"+ab),T,u);if(B(oa))return new of(oa,
G,G.getName("layer_"+ab),T,u);throw Error(rc(oa));});return G};$jscomp.inherits(kg,Me);kg.prototype.parseData=function(){this.component.data=fj(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};kg.prototype.parseLayoutSize=function(){Kj(this);Lj(this,"width");Lj(this,"height")};kg.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();
for(var e=$jscomp.makeIterator(id(c.component.selection)),l=e.next();!l.done;l=e.next())l=l.value,this.component.selection[l]=c.component.selection[l]}};kg.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};kg.prototype.parseAxesAndHeaders=function(){var a=this.component,c=a.axes;a=a.resolve;for(var e={top:0,bottom:0,right:0,left:0},l=$jscomp.makeIterator(this.children),u=l.next();!u.done;u=l.next()){var G=u.value;
G.parseAxesAndHeaders();var T=$jscomp.makeIterator(id(G.component.axes));for(u=T.next();!u.done;u=T.next())u=u.value,a.axis[u]=Sg(this.component.resolve,u),"shared"===a.axis[u]&&(c[u]=Mj(c[u],G.component.axes[u]),c[u]||(a.axis[u]="independent",delete c[u]))}l=$jscomp.makeIterator(Zf);for(u=l.next();!u.done;u=l.next()){G=u.value;T=$jscomp.makeIterator(this.children);for(u=T.next();!u.done;u=T.next())if(u=u.value,u.component.axes[G]){if("independent"===a.axis[G]){var oa;c[G]=(null!==(oa=c[G])&&void 0!==
oa?oa:[]).concat(u.component.axes[G]);for(var ab=$jscomp.makeIterator(u.component.axes[G]),Ya=ab.next();!Ya.done;Ya=ab.next()){Ya=Ya.value;var vb=Ya.getWithExplicit("orient"),Zb=vb.value;vb=vb.explicit;Qb(Zb)||(0<e[Zb]&&!vb&&(vb=tn[Zb],e[Zb]>e[vb]&&Ya.set("orient",vb,!1)),e[Zb]++)}}delete u.component.axes[G]}if("independent"===a.axis[G]&&c[G]&&1<c[G].length)for(G=$jscomp.makeIterator(c[G]),T=G.next();!T.done;T=G.next())T=T.value,T.get("grid")&&!T.explicit.grid&&(T.implicit.grid=!1)}};kg.prototype.assembleSelectionTopLevelSignals=
function(a){return this.children.reduce(function(c,e){return e.assembleSelectionTopLevelSignals(c)},a)};kg.prototype.assembleSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleSignals())},eh(this))};kg.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLayoutSignals())},Wi(this))};kg.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionData(c)},
a)};kg.prototype.assembleTitle=function(){var a=Me.prototype.assembleTitle.call(this);if(a)return a;var c=$jscomp.makeIterator(this.children);for(a=c.next();!a.done;a=c.next())if(a=a.value.assembleTitle())return a};kg.prototype.assembleLayout=function(){return null};kg.prototype.assembleMarks=function(){return mi(this,this.children.flatMap(function(a){return a.assembleMarks()}))};kg.prototype.assembleLegends=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLegends())},
Dj(this))};q.accessPathDepth=Y;q.accessPathWithDatum=O;q.compile=function(a,c){c=void 0===c?{}:c;c.logger&&(Yg=c.logger);c.fieldTitle&&(Xj=c.fieldTitle);try{var e=mc(Eb(c.config,a.config)),l=Ie(a,e),u=Yh(l,null,"",void 0,e);u.parse();var G=u.component.data;Fj(G.sources);for(var T=0,oa=0,ab=0;5>ab&&zk(G,u,!0);ab++)T++;G.sources.map(Ej);for(ab=0;5>ab&&zk(G,u,!1);ab++)oa++;Fj(G.sources);5===Math.max(T,oa)&&La("Maximum optimization runs(".concat(5,") reached."));var Ya=l.autosize,vb=u.component.layoutSize.get("width"),
Zb=u.component.layoutSize.get("height");void 0===Ya?(Ya={type:"pad"},u.hasAxisOrientSignalRef()&&(Ya.resize=!0)):ea(Ya)&&(Ya={type:Ya});var sc;if(sc=vb&&Zb){var Ec=Ya.type;sc="fit"===Ec||"fit-x"===Ec||"fit-y"===Ec}if(sc)if("step"===vb&&"step"===Zb)La(tb()),Ya.type="pad";else if("step"===vb||"step"===Zb){T="step"===vb?"width":"height";La(tb(hb(T)));G=Ya;var Ic=(T="width"===T?"height":"width","fit-".concat(hb(T)));G.type=Ic}var Uc=Object.assign({},1===id(Ya).length&&Ya.type?"pad"===Ya.type?{}:{autosize:Ya.type}:
{autosize:Ya},Ad(e,!1),Ad(a,!0));return{spec:wf(u,Uc,a.datasets,a.usermeta),normalized:l}}finally{c.logger&&(Yg=lh),c.fieldTitle&&(Xj=Em)}};q.contains=ya;q.deepEqual=Zg;q.deleteNestedProperty=z;q.duplicate=xe;q.entries=Yf;q.every=wa;q.fieldIntersection=jb;q.flatAccessWithDatum=ma;q.getFirstDefined=V;q.hasIntersection=Ba;q.hash=xa;q.internalField=F;q.isBoolean=y;q.isEmpty=A;q.isEqual=function(a,c){var e=id(a),l=id(c);if(e.length!==l.length)return!1;e=$jscomp.makeIterator(e);for(l=e.next();!l.done;l=
e.next())if(l=l.value,a[l]!==c[l])return!1;return!0};q.isInternalField=h;q.isNullOrFalse=Oa;q.isNumeric=m;q.keys=id;q.logicalExpr=L;q.mergeDeep=sa;q.normalize=Ie;q.normalizeAngle=k;q.omit=Qa;q.pick=aa;q.prefixGenerator=Za;q.removePathFromField=ha;q.replaceAll=E;q.replacePathInField=Sa;q.resetIdCounter=function(){yg=42};q.setEqual=Fa;q.some=ja;q.stringify=mf;q.titleCase=H;q.unique=qa;q.uniqueId=w;q.vals=ah;q.varName=I;q.version="4.17.0";Object.defineProperty(q,"__esModule",{value:!0})})};
shadow$provide[51]=function(Kb,sb,hc,ub){function n(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function S(pa){if(qb===setTimeout)return setTimeout(pa,0);if((qb===n||!qb)&&setTimeout)return qb=setTimeout,setTimeout(pa,0);try{return qb(pa,0)}catch(Ga){try{return qb.call(null,pa,0)}catch(Wa){return qb.call(this,pa,0)}}}function Pa(pa){if(Ea===clearTimeout)return clearTimeout(pa);if((Ea===q||!Ea)&&clearTimeout)return Ea=clearTimeout,
clearTimeout(pa);try{return Ea(pa)}catch(Ga){try{return Ea.call(null,pa)}catch(Wa){return Ea.call(this,pa)}}}function Hb(){db&&Ja&&(db=!1,Ja.length?$a=Ja.concat($a):ea=-1,$a.length&&Ma())}function Ma(){if(!db){var pa=S(Hb);db=!0;for(var Ga=$a.length;Ga;){Ja=$a;for($a=[];++ea<Ga;)Ja&&Ja[ea].run();ea=-1;Ga=$a.length}Ja=null;db=!1;Pa(pa)}}function cb(pa,Ga){this.fun=pa;this.array=Ga}function Eb(){}Kb=hc.exports={};try{var qb="function"===typeof setTimeout?setTimeout:n}catch(pa){qb=n}try{var Ea="function"===
typeof clearTimeout?clearTimeout:q}catch(pa){Ea=q}var $a=[],db=!1,Ja,ea=-1;Kb.nextTick=function(pa){var Ga=Array(arguments.length-1);if(1<arguments.length)for(var Wa=1;Wa<arguments.length;Wa++)Ga[Wa-1]=arguments[Wa];$a.push(new cb(pa,Ga));1!==$a.length||db||S(Ma)};cb.prototype.run=function(){this.fun.apply(null,this.array)};Kb.title="browser";Kb.browser=!0;Kb.env={};Kb.argv=[];Kb.version="";Kb.versions={};Kb.on=Eb;Kb.addListener=Eb;Kb.once=Eb;Kb.off=Eb;Kb.removeListener=Eb;Kb.removeAllListeners=Eb;
Kb.emit=Eb;Kb.prependListener=Eb;Kb.prependOnceListener=Eb;Kb.listeners=function(pa){return[]};Kb.binding=function(pa){throw Error("process.binding is not supported");};Kb.cwd=function(){return"/"};Kb.chdir=function(pa){throw Error("process.chdir is not supported");};Kb.umask=function(){return 0}};
shadow$provide[52]=function(Kb,sb,hc,ub){var n=sb(51);(function(q,S){"object"===typeof ub&&"undefined"!==typeof hc?hc.exports=S(sb(49),sb(50)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],S):(q="undefined"!==typeof globalThis?globalThis:q||self,q.vegaEmbed=S(q.vega,q.vegaLite))})(this,function(q,S){function Pa(P){if(P&&P.__esModule)return P;var na=Object.create(null);P&&Object.keys(P).forEach(function(Da){if("default"!==Da){var gb=Object.getOwnPropertyDescriptor(P,Da);Object.defineProperty(na,
Da,gb.get?gb:{enumerable:!0,get:function(){return P[Da]}})}});na["default"]=P;return Object.freeze(na)}function Hb(P,na,Da,gb){function Ta(Pb){return Pb instanceof Da?Pb:new Da(function(kc){kc(Pb)})}return new (Da||(Da=Promise))(function(Pb,kc){function oc(kd){try{uc(gb.next(kd))}catch(pd){kc(pd)}}function qc(kd){try{uc(gb["throw"](kd))}catch(pd){kc(pd)}}function uc(kd){kd.done?Pb(kd.value):Ta(kd.value).then(oc,qc)}uc((gb=gb.apply(P,na||[])).next())})}function Ma(P,na){function Da(uc){return function(kd){return gb([uc,
kd])}}function gb(uc){if(Pb)throw new TypeError("Generator is already executing.");for(;Ta;)try{if(Pb=1,kc&&(oc=uc[0]&2?kc["return"]:uc[0]?kc["throw"]||((oc=kc["return"])&&oc.call(kc),0):kc.next)&&!(oc=oc.call(kc,uc[1])).done)return oc;if(kc=0,oc)uc=[uc[0]&2,oc.value];switch(uc[0]){case 0:case 1:oc=uc;break;case 4:return Ta.label++,{value:uc[1],done:!1};case 5:Ta.label++;kc=uc[1];uc=[0];continue;case 7:uc=Ta.ops.pop();Ta.trys.pop();continue;default:if(!(oc=Ta.trys,oc=0<oc.length&&oc[oc.length-1])&&
(6===uc[0]||2===uc[0])){Ta=0;continue}if(3===uc[0]&&(!oc||uc[1]>oc[0]&&uc[1]<oc[3]))Ta.label=uc[1];else if(6===uc[0]&&Ta.label<oc[1])Ta.label=oc[1],oc=uc;else if(oc&&Ta.label<oc[2])Ta.label=oc[2],Ta.ops.push(uc);else{oc[2]&&Ta.ops.pop();Ta.trys.pop();continue}}uc=na.call(P,Ta)}catch(kd){uc=[6,kd],kc=0}finally{Pb=oc=0}if(uc[0]&5)throw uc[1];return{value:uc[0]?uc[1]:void 0,done:!0}}var Ta={label:0,sent:function(){if(oc[0]&1)throw oc[1];return oc[1]},trys:[],ops:[]},Pb,kc,oc,qc;return qc={next:Da(0),
"throw":Da(1),"return":Da(2)},"function"===typeof Symbol&&(qc[Symbol.iterator]=function(){return this}),qc}function cb(P){if(Array.isArray(P)){var na=Array(P.length);for(P=0;P<na.length;P++)na[P]=""+P;return na}if(Object.keys)return Object.keys(P);na=[];for(var Da in P)E.call(P,Da)&&na.push(Da);return na}function Eb(P){switch(typeof P){case "object":return JSON.parse(JSON.stringify(P));case "undefined":return null;default:return P}}function qb(P){for(var na=0,Da=P.length,gb;na<Da;)if(gb=P.charCodeAt(na),
48<=gb&&57>=gb)na++;else return!1;return!0}function Ea(P){return-1===P.indexOf("/")&&-1===P.indexOf("~")?P:P.replace(/~/g,"~0").replace(/\//g,"~1")}function $a(P){return P.replace(/~1/g,"/").replace(/~0/g,"~")}function db(P){if(void 0===P)return!0;if(P)if(Array.isArray(P))for(var na=0,Da=P.length;na<Da;na++){if(db(P[na]))return!0}else if("object"===typeof P){Da=cb(P);var gb=Da.length;for(na=0;na<gb;na++)if(db(P[Da[na]]))return!0}return!1}function Ja(P,na){P=[P];for(var Da in na){var gb="object"===
typeof na[Da]?JSON.stringify(na[Da],null,2):na[Da];"undefined"!==typeof gb&&P.push(Da+": "+gb)}return P.join("\n")}function ea(P,na){if(""==na)return P;na={op:"_get",path:na};pa(P,na);return na.value}function pa(P,na,Da,gb,Ta,Pb){void 0===Da&&(Da=!1);void 0===gb&&(gb=!0);void 0===Ta&&(Ta=!0);void 0===Pb&&(Pb=0);Da&&("function"==typeof Da?Da(na,0,P,na.path):Wa(na,0));if(""===na.path){Ta={newDocument:P};if("add"===na.op)return Ta.newDocument=na.value,Ta;if("replace"===na.op)return Ta.newDocument=na.value,
Ta.removed=P,Ta;if("move"===na.op||"copy"===na.op)return Ta.newDocument=ea(P,na.from),"move"===na.op&&(Ta.removed=P),Ta;if("test"===na.op){Ta.test=aa(P,na.value);if(!1===Ta.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Pb,na,P);Ta.newDocument=P;return Ta}if("remove"===na.op)return Ta.removed=P,Ta.newDocument=null,Ta;if("_get"===na.op)return na.value=P,Ta;if(Da)throw new Y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Pb,na,P);return Ta}gb||
(P=Eb(P));gb=(na.path||"").split("/");var kc=P,oc=1,qc=gb.length,uc=void 0,kd;for(kd="function"==typeof Da?Da:Wa;;){var pd=gb[oc];if(Ta&&"__proto__"==pd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Da&&void 0===uc&&(void 0===kc[pd]?uc=gb.slice(0,oc).join("/"):oc==qc-1&&(uc=na.path),void 0!==uc&&kd(na,0,P,uc));oc++;
if(Array.isArray(kc)){if("-"===pd)pd=kc.length;else{if(Da&&!qb(pd))throw new Y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Pb,na,P);qb(pd)&&(pd=~~pd)}if(oc>=qc){if(Da&&"add"===na.op&&pd>kc.length)throw new Y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Pb,na,P);Ta=w[na.op].call(na,kc,pd,P);if(!1===Ta.test)throw new Y("Test operation failed",
"TEST_OPERATION_FAILED",Pb,na,P);return Ta}}else if(pd&&-1!=pd.indexOf("~")&&(pd=$a(pd)),oc>=qc){Ta=V[na.op].call(na,kc,pd,P);if(!1===Ta.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Pb,na,P);return Ta}kc=kc[pd]}}function Ga(P,na,Da,gb,Ta){void 0===gb&&(gb=!0);void 0===Ta&&(Ta=!0);if(Da&&!Array.isArray(na))throw new Y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");gb||(P=Eb(P));gb=Array(na.length);for(var Pb=0,kc=na.length;Pb<kc;Pb++)gb[Pb]=pa(P,na[Pb],Da,!0,Ta,Pb),
P=gb[Pb].newDocument;gb.newDocument=P;return gb}function Wa(P,na,Da,gb){if("object"!==typeof P||null===P||Array.isArray(P))throw new Y("Operation is not an object","OPERATION_NOT_AN_OBJECT",na,P,Da);if(V[P.op]){if("string"!==typeof P.path)throw new Y("Operation `path` property is not a string","OPERATION_PATH_INVALID",na,P,Da);if(0!==P.path.indexOf("/")&&0<P.path.length)throw new Y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",na,P,Da);if("move"!==P.op&&"copy"!==P.op||"string"===
typeof P.from)if("add"!==P.op&&"replace"!==P.op&&"test"!==P.op||void 0!==P.value){if(("add"===P.op||"replace"===P.op||"test"===P.op)&&db(P.value))throw new Y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",na,P,Da);if(Da)if("add"==P.op){var Ta=P.path.split("/").length;gb=gb.split("/").length;if(Ta!==gb+1&&Ta!==gb)throw new Y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
na,P,Da);}else if("replace"===P.op||"remove"===P.op||"_get"===P.op){if(P.path!==gb)throw new Y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",na,P,Da);}else if(("move"===P.op||"copy"===P.op)&&(Ta=la([{op:"_get",path:P.from,value:void 0}],Da))&&"OPERATION_PATH_UNRESOLVABLE"===Ta.name)throw new Y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",na,P,Da);}else throw new Y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",na,P,Da);else throw new Y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",na,P,Da);}else throw new Y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",na,P,Da);}function la(P,na,Da){try{if(!Array.isArray(P))throw new Y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(na)Ga(Eb(na),Eb(P),Da||!0);else{Da=Da||Wa;for(var gb=0;gb<P.length;gb++)Da(P[gb],gb,
na,void 0)}}catch(Ta){if(Ta instanceof Y)return Ta;throw Ta;}}function aa(P,na){if(P===na)return!0;if(P&&na&&"object"==typeof P&&"object"==typeof na){var Da=Array.isArray(P),gb=Array.isArray(na);if(Da&&gb){var Ta=P.length;if(Ta!=na.length)return!1;for(Da=Ta;0!==Da--;)if(!aa(P[Da],na[Da]))return!1;return!0}if(Da!=gb)return!1;gb=Object.keys(P);Ta=gb.length;if(Ta!==Object.keys(na).length)return!1;for(Da=Ta;0!==Da--;)if(!na.hasOwnProperty(gb[Da]))return!1;for(Da=Ta;0!==Da--;)if(Ta=gb[Da],!aa(P[Ta],na[Ta]))return!1;
return!0}return P!==P&&na!==na}function Qa(P,na){void 0===na&&(na=!1);var Da=h.get(P.object);xa(Da.value,P.object,P.patches,"",na);P.patches.length&&Ga(Da.value,P.patches);na=P.patches;0<na.length&&(P.patches=[],P.callback&&P.callback(na));return na}function xa(P,na,Da,gb,Ta){if(na!==P){"function"===typeof na.toJSON&&(na=na.toJSON());for(var Pb=cb(na),kc=cb(P),oc=!1,qc=kc.length-1;0<=qc;qc--){var uc=kc[qc],kd=P[uc];if(!E.call(na,uc)||void 0===na[uc]&&void 0!==kd&&!1===Array.isArray(na))Array.isArray(P)===
Array.isArray(na)?(Ta&&Da.push({op:"test",path:gb+"/"+Ea(uc),value:Eb(kd)}),Da.push({op:"remove",path:gb+"/"+Ea(uc)}),oc=!0):(Ta&&Da.push({op:"test",path:gb,value:P}),Da.push({op:"replace",path:gb,value:na}));else{var pd=na[uc];"object"==typeof kd&&null!=kd&&"object"==typeof pd&&null!=pd?xa(kd,pd,Da,gb+"/"+Ea(uc),Ta):kd!==pd&&(Ta&&Da.push({op:"test",path:gb+"/"+Ea(uc),value:Eb(kd)}),Da.push({op:"replace",path:gb+"/"+Ea(uc),value:Eb(pd)}))}}if(oc||Pb.length!=kc.length)for(qc=0;qc<Pb.length;qc++)uc=
Pb[qc],E.call(P,uc)||void 0===na[uc]||Da.push({op:"add",path:gb+"/"+Ea(uc),value:Eb(na[uc])})}}function Oa(P){var na=$jscomp.makeIterator(/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(P).slice(1,3));P=na.next().value;na=na.next().value;return{library:P,version:na}}function ya(P,na,Da){P.fields=na||[];P.fname=Da;return P}function ja(P){return 1===P.length?$b(P[0]):Ac(P)}function wa(P){function na(){Da.push(kc+P.substring(oc,qc));kc="";oc=qc+1}var Da=[],gb=P.length,Ta=null,Pb=0,kc="",oc,qc;P+="";for(oc=
qc=0;qc<gb;++qc){var uc=P[qc];if("\\"===uc)kc+=P.substring(oc,qc),kc+=P.substring(++qc,++qc),oc=qc;else if(uc===Ta)na(),Ta=null,Pb=-1;else if(!Ta)if(oc===Pb&&'"'===uc)oc=qc+1,Ta=uc;else if(oc===Pb&&"'"===uc)oc=qc+1,Ta=uc;else if("."===uc&&!Pb)qc>oc?na():oc=qc+1;else if("["===uc)qc>oc&&na(),Pb=oc=qc+1;else if("]"===uc){if(!Pb)throw Error("Access path missing open bracket: "+P);0<Pb&&na();Pb=0;oc=qc+1}}if(Pb)throw Error("Access path missing closing bracket: "+P);if(Ta)throw Error("Access path missing closing quote: "+
P);qc>oc&&(qc++,na());return Da}function sa(P,na){var Da={},gb;for(gb in P)Object.prototype.hasOwnProperty.call(P,gb)&&0>na.indexOf(gb)&&(Da[gb]=P[gb]);if(null!=P&&"function"===typeof Object.getOwnPropertySymbols){var Ta=0;for(gb=Object.getOwnPropertySymbols(P);Ta<gb.length;Ta++)0>na.indexOf(gb[Ta])&&Object.prototype.propertyIsEnumerable.call(P,gb[Ta])&&(Da[gb[Ta]]=P[gb[Ta]])}return Da}function qa(P,na,Da){if(Jc(P))return"["+P.map(function(oc){return na("string"===typeof oc?oc:JSON.stringify(oc,Fa(Da)))}).join(", ")+
"]";if(P===Object(P)){var gb="",Ta=P.title,Pb=P.image;P=sa(P,["title","image"]);Ta&&(gb+="\x3ch2\x3e"+na(Ta)+"\x3c/h2\x3e");Pb&&(gb+='\x3cimg src\x3d"'+na(Pb)+'"\x3e');Ta=Object.keys(P);if(0<Ta.length){gb+="\x3ctable\x3e";Ta=$jscomp.makeIterator(Ta);for(Pb=Ta.next();!Pb.done;Pb=Ta.next()){Pb=Pb.value;var kc=P[Pb];void 0!==kc&&(kc===Object(kc)&&(kc=JSON.stringify(kc,Fa(Da))),gb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+na(Pb)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+na(kc)+"\x3c/td\x3e\x3c/tr\x3e")}gb+=
"\x3c/table\x3e"}return gb||"{}"}return na(P)}function Fa(P){var na=[];return function(Da,gb){if("object"!==typeof gb||null===gb)return gb;Da=na.indexOf(this)+1;na.length=Da;if(na.length>P)return"[Object]";if(0<=na.indexOf(gb))return"[Circular]";na.push(gb);return gb}}function Ba(P,na,Da){function gb(qc){qc.source===Pb&&(oc=0,P.removeEventListener("message",gb,!1))}function Ta(){0>=oc||(Pb.postMessage(Da,kc),setTimeout(Ta,250),--oc)}var Pb=P.open(na),kc=(new URL(na)).origin,oc=40;P.addEventListener("message",
gb,!1);setTimeout(Ta,250)}function Za(P){for(var na=[],Da=1;Da<arguments.length;Da++)na[Da-1]=arguments[Da];for(Da=0;Da<na.length;Da++)for(var gb=P,Ta=na[Da],Pb=0,kc=Object.keys(Ta);Pb<kc.length;Pb++){var oc=kc[Pb];q.writeConfig(gb,oc,Ta[oc],!0)}return P}function jb(P,na,Da,gb){na="\x3chtml\x3e\x3chead\x3e"+na+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Da="\x3c/code\x3e\x3c/pre\x3e"+Da+"\x3c/body\x3e\x3c/html\x3e";var Ta=window.open("");Ta.document.write(na+P+Da);Ta.document.title=
te[gb]+" JSON Source"}function A(P,na){var Da;return P.$schema?(P=Oa(P.$schema),na&&na!==P.library&&console.warn("The given visualization spec is written in "+te[P.library]+", but mode argument sets "+(null!==(Da=te[na])&&void 0!==Da?Da:na)+"."),na=P.library,lc.satisfies(ue[na],"^"+P.version.slice(1))||console.warn("The input spec uses "+te[na]+" "+P.version+", but the current version of "+te[na]+" is v"+ue[na]+"."),na):"mark"in P||"encoding"in P||"layer"in P||"hconcat"in P||"vconcat"in P||"facet"in
P||"repeat"in P?"vega-lite":"marks"in P||"signals"in P||"scales"in P||"axes"in P?"vega":null!==na&&void 0!==na?na:"vega"}function y(P,na,Da){var gb,Ta,Pb;void 0===Da&&(Da={});return Hb(this,void 0,void 0,function(){var kc,oc,qc,uc,kd,pd,yd,ld;return Ma(this,function(Od){switch(Od.label){case 0:kc=(Od=Da.loader)&&"load"in Od?Da.loader:od.loader(Da.loader);if(!q.isString(na))return[3,2];kd=(uc=JSON).parse;return[4,kc.load(na)];case 1:return qc=kd.apply(uc,[Od.sent()]),[3,3];case 2:qc=na,Od.label=3;
case 3:return oc=qc,[4,I(null!==(gb=oc.usermeta&&oc.usermeta.embedOptions)&&void 0!==gb?gb:{},kc)];case 4:return pd=Od.sent(),[4,I(Da,kc)];case 5:return yd=Od.sent(),ld=Ia(Ia({},Za(yd,pd)),{config:q.mergeConfig(null!==(Ta=yd.config)&&void 0!==Ta?Ta:{},null!==(Pb=pd.config)&&void 0!==Pb?Pb:{})}),[4,z(P,oc,ld,kc)];case 6:return[2,Od.sent()]}})})}function I(P,na){var Da;return Hb(this,void 0,void 0,function(){var gb,Ta,Pb,kc,oc,qc,uc,kd;return Ma(this,function(pd){switch(pd.label){case 0:if(!q.isString(P.config))return[3,
2];kc=(Pb=JSON).parse;return[4,na.load(P.config)];case 1:return Ta=kc.apply(Pb,[pd.sent()]),[3,3];case 2:Ta=null!==(Da=P.config)&&void 0!==Da?Da:{},pd.label=3;case 3:gb=Ta;if(!q.isString(P.patch))return[3,5];kd=(uc=JSON).parse;return[4,na.load(P.patch)];case 4:return qc=kd.apply(uc,[pd.sent()]),[3,6];case 5:qc=P.patch,pd.label=6;case 6:return oc=qc,[2,Ia(Ia(Ia({},P),oc?{patch:oc}:{}),gb?{config:gb}:{})]}})})}function L(P){var na;P=P.getRootNode?P.getRootNode():document;return P instanceof ShadowRoot?
{root:P,rootContainer:P}:{root:document,rootContainer:null!==(na=document.head)&&void 0!==na?na:document.body}}function z(P,na,Da,gb){var Ta,Pb,kc,oc,qc,uc;void 0===Da&&(Da={});return Hb(this,void 0,void 0,function(){function kd(){Sd&&document.removeEventListener("click",Sd);dc.finalize()}var pd,yd,ld,Od,de,jc,Wd,Jd,Lb,Ke,oe,re,Ye,Oe,ff,He,be,fc,Pd,dc,Yc,ne,ee,Pc,fe,Sd,Ld,Qd,Ed,ke,Gd,pe,Le,cf,qf,gd,rf,Fe;return Ma(this,function(Pe){switch(Pe.label){case 0:pd=Da.theme?q.mergeConfig(Gc[Da.theme],null!==
(Ta=Da.config)&&void 0!==Ta?Ta:{}):Da.config;yd=q.isBoolean(Da.actions)?Da.actions:Za({},Zd,null!==(Pb=Da.actions)&&void 0!==Pb?Pb:{});ld=Ia(Ia({},ze),Da.i18n);Od=null!==(kc=Da.renderer)&&void 0!==kc?kc:"canvas";de=null!==(oc=Da.logLevel)&&void 0!==oc?oc:od.Warn;jc=null!==(qc=Da.downloadFileName)&&void 0!==qc?qc:"visualization";Wd="string"===typeof P?document.querySelector(P):P;if(!Wd)throw Error(P+" does not exist");!1!==Da.defaultStyle&&(Jd=L(Wd),Lb=Jd.root,Ke=Jd.rootContainer,Lb.getElementById("vega-embed-style")||
(oe=document.createElement("style"),oe.id="vega-embed-style",oe.innerText=void 0===Da.defaultStyle||!0===Da.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Da.defaultStyle,Ke.appendChild(oe)));re=A(na,Da.mode);Ye=bf[re](na,pd);"vega-lite"===re&&Ye.$schema&&(Oe=Oa(Ye.$schema),lc.satisfies(ue.vega,"^"+Oe.version.slice(1))||console.warn("The compiled spec uses Vega "+Oe.version+", but current version is v"+ue.vega+"."));Wd.classList.add("vega-embed");yd&&Wd.classList.add("has-actions");Wd.innerHTML="";ff=Wd;yd&&(He=document.createElement("div"),He.classList.add("chart-wrapper"),Wd.appendChild(He),ff=He);(be=Da.patch)&&(Ye=be instanceof Function?be(Ye):
Ga(Ye,be,!0,!1).newDocument);Da.formatLocale&&od.formatLocale(Da.formatLocale);Da.timeFormatLocale&&od.timeFormatLocale(Da.timeFormatLocale);fc=Da.ast;Pd=od.parse(Ye,"vega-lite"===re?{}:pd,{ast:fc});dc=new od.View(Pd,Ia({loader:gb,logLevel:de,renderer:Od},fc?{expr:od.expressionInterpreter}:{}));!1!==Da.tooltip&&(Yc=void 0,Yc="function"===typeof Da.tooltip?Da.tooltip:(new ad(!0===Da.tooltip?{}:Da.tooltip)).call,dc.tooltip(Yc));ne=Da.hover;void 0===ne&&(ne="vega"===re);ne&&(ee="boolean"===typeof ne?
{}:ne,Pc=ee.hoverSet,fe=ee.updateSet,dc.hover(Pc,fe));Da&&(null!=Da.width&&dc.width(Da.width),null!=Da.height&&dc.height(Da.height),null!=Da.padding&&dc.padding(Da.padding));return[4,dc.initialize(ff).runAsync()];case 1:Pe.sent();if(!1!==yd){Ld=Wd;!1!==Da.defaultStyle&&(Qd=document.createElement("details"),Qd.title=ld.CLICK_TO_VIEW_ACTIONS,Wd.append(Qd),Ld=Qd,Ed=document.createElement("summary"),Ed.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
Qd.append(Ed),Sd=function(Ee){Qd.contains(Ee.target)||Qd.removeAttribute("open")},document.addEventListener("click",Sd));ke=document.createElement("div");Ld.append(ke);ke.classList.add("vega-actions");if(!0===yd||!1!==yd["export"])for(Gd=function(Ee){if(!0===yd||!0===yd["export"]||yd["export"][Ee]){var $e=ld[Ee.toUpperCase()+"_ACTION"],Qe=document.createElement("a");Qe.text=$e;Qe.href="#";Qe.target="_blank";Qe.download=jc+"."+Ee;Qe.addEventListener("mousedown",function(df){return Hb(this,void 0,void 0,
function(){var Be;return Ma(this,function(D){switch(D.label){case 0:return df.preventDefault(),[4,dc.toImageURL(Ee,Da.scaleFactor)];case 1:return this.href=Be=D.sent(),[2]}})})});ke.append(Qe)}},pe=0,Le=["svg","png"];pe<Le.length;pe++)cf=Le[pe],Gd(cf);if(!0===yd||!1!==yd.source)qf=document.createElement("a"),qf.text=ld.SOURCE_ACTION,qf.href="#",qf.addEventListener("click",function(Ee){var $e,Qe;jb(J(na),null!==($e=Da.sourceHeader)&&void 0!==$e?$e:"",null!==(Qe=Da.sourceFooter)&&void 0!==Qe?Qe:"",
re);Ee.preventDefault()}),ke.append(qf);"vega-lite"!==re||!0!==yd&&!1===yd.compiled||(gd=document.createElement("a"),gd.text=ld.COMPILED_ACTION,gd.href="#",gd.addEventListener("click",function(Ee){var $e,Qe;jb(J(Ye),null!==($e=Da.sourceHeader)&&void 0!==$e?$e:"",null!==(Qe=Da.sourceFooter)&&void 0!==Qe?Qe:"","vega");Ee.preventDefault()}),ke.append(gd));if(!0===yd||!1!==yd.editor)rf=null!==(uc=Da.editorUrl)&&void 0!==uc?uc:"https://vega.github.io/editor/",Fe=document.createElement("a"),Fe.text=ld.EDITOR_ACTION,
Fe.href="#",Fe.addEventListener("click",function(Ee){Ba(window,rf,{config:pd,mode:re,renderer:Od,spec:J(na)});Ee.preventDefault()}),ke.append(Fe)}return[2,{view:dc,spec:na,vgSpec:Ye,finalize:kd}]}})})}function H(P,na){var Da;void 0===na&&(na={});return Hb(this,void 0,void 0,function(){var gb,Ta,Pb,kc;return Ma(this,function(oc){switch(oc.label){case 0:return gb=document.createElement("div"),gb.classList.add("vega-embed-wrapper"),Ta=document.createElement("div"),gb.appendChild(Ta),Pb=!0===na.actions||
!1===na.actions?na.actions:Ia({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Da=na.actions)&&void 0!==Da?Da:{}),[4,y(Ta,P,Ia({actions:Pb},null!==na&&void 0!==na?na:{}))];case 1:return kc=oc.sent(),gb.value=kc.view,[2,gb]}})})}var O=Pa(q),ma=Pa(S),Ia=function(){Ia=Object.assign||function(P){for(var na,Da=1,gb=arguments.length;Da<gb;Da++){na=arguments[Da];for(var Ta in na)Object.prototype.hasOwnProperty.call(na,Ta)&&(P[Ta]=na[Ta])}return P};return Ia.apply(this,arguments)},Sa=function(){var P=
function(na,Da){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gb,Ta){gb.__proto__=Ta}||function(gb,Ta){for(var Pb in Ta)Ta.hasOwnProperty(Pb)&&(gb[Pb]=Ta[Pb])};return P(na,Da)};return function(na,Da){function gb(){this.constructor=na}P(na,Da);na.prototype=null===Da?Object.create(Da):(gb.prototype=Da.prototype,new gb)}}(),E=Object.prototype.hasOwnProperty,ha=function(P){function na(Da,gb,Ta,Pb,kc){var oc=this.constructor,qc=P.call(this,Ja(Da,{name:gb,index:Ta,operation:Pb,tree:kc}))||
this;qc.name=gb;qc.index=Ta;qc.operation=Pb;qc.tree=kc;Object.setPrototypeOf(qc,oc.prototype);qc.message=Ja(Da,{name:gb,index:Ta,operation:Pb,tree:kc});return qc}Sa(na,P);return na}(Error),Y=ha,V={add:function(P,na,Da){P[na]=this.value;return{newDocument:Da}},remove:function(P,na,Da){var gb=P[na];delete P[na];return{newDocument:Da,removed:gb}},replace:function(P,na,Da){var gb=P[na];P[na]=this.value;return{newDocument:Da,removed:gb}},move:function(P,na,Da){(P=ea(Da,this.path))&&(P=Eb(P));na=pa(Da,
{op:"remove",path:this.from}).removed;pa(Da,{op:"add",path:this.path,value:na});return{newDocument:Da,removed:P}},copy:function(P,na,Da){P=ea(Da,this.from);pa(Da,{op:"add",path:this.path,value:Eb(P)});return{newDocument:Da}},test:function(P,na,Da){return{newDocument:Da,test:aa(P[na],this.value)}},_get:function(P,na,Da){this.value=P[na];return{newDocument:Da}}},w={add:function(P,na,Da){qb(na)?P.splice(na,0,this.value):P[na]=this.value;return{newDocument:Da,index:na}},remove:function(P,na,Da){P=P.splice(na,
1);return{newDocument:Da,removed:P[0]}},replace:function(P,na,Da){var gb=P[na];P[na]=this.value;return{newDocument:Da,removed:gb}},move:V.move,copy:V.copy,test:V.test,_get:V._get},F=Object.freeze({__proto__:null,JsonPatchError:Y,deepClone:Eb,getValueByPointer:ea,applyOperation:pa,applyPatch:Ga,applyReducer:function(P,na,Da){var gb=pa(P,na);if(!1===gb.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Da,na,P);return gb.newDocument},validator:Wa,validate:la,_areEquals:aa}),h=new WeakMap,
k=function(){return function(P){this.observers=new Map;this.obj=P}}(),m=function(){return function(P,na){this.callback=P;this.observer=na}}(),r=Object.freeze({__proto__:null,unobserve:function(P,na){na.unobserve()},observe:function(P,na){var Da=h.get(P);if(Da){var gb=Da.observers.get(na);var Ta=gb&&gb.observer}else Da=new k(P),h.set(P,Da);if(Ta)return Ta;Ta={};Da.value=Eb(P);if(na){Ta.callback=na;Ta.next=null;var Pb=function(){Qa(Ta)},kc=function(){clearTimeout(Ta.next);Ta.next=setTimeout(Pb)};"undefined"!==
typeof window&&(window.addEventListener("mouseup",kc),window.addEventListener("keyup",kc),window.addEventListener("mousedown",kc),window.addEventListener("keydown",kc),window.addEventListener("change",kc))}Ta.patches=[];Ta.object=P;Ta.unobserve=function(){Qa(Ta);clearTimeout(Ta.next);Da.observers.delete(Ta.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",kc),window.removeEventListener("keyup",kc),window.removeEventListener("mousedown",kc),window.removeEventListener("keydown",
kc),window.removeEventListener("change",kc))};Da.observers.set(na,new m(na,Ta));return Ta},generate:Qa,compare:function(P,na,Da){void 0===Da&&(Da=!1);var gb=[];xa(P,na,gb,"",Da);return gb}});Object.assign({},F,r,{JsonPatchError:ha,deepClone:Eb,escapePathComponent:Ea,unescapePathComponent:$a});var v=/("(?:[^\\"]|\\.)*")|[:,]/g,J=function(P,na){na=na||{};var Da=JSON.stringify([1],void 0,void 0===na.indent?2:na.indent).slice(2,-3);var gb=""===Da?Infinity:void 0===na.maxLength?80:na.maxLength;var Ta=
na.replacer;return function uc(kc,oc,qc){kc&&"function"===typeof kc.toJSON&&(kc=kc.toJSON());var kd=JSON.stringify(kc,Ta);if(void 0===kd)return kd;qc=gb-oc.length-qc;if(kd.length<=qc){var pd=kd.replace(v,function(Lb,Ke){return Ke||Lb+" "});if(pd.length<=qc)return pd}null!=Ta&&(kc=JSON.parse(kd),Ta=void 0);if("object"===typeof kc&&null!==kc){var yd=oc+Da;var ld=[];var Od=0;if(Array.isArray(kc)){var de="[";pd="]";for(qc=kc.length;Od<qc;Od++)ld.push(uc(kc[Od],yd,Od===qc-1?0:1)||"null")}else{de="{";pd=
"}";var jc=Object.keys(kc);for(qc=jc.length;Od<qc;Od++){var Wd=jc[Od];var Jd=JSON.stringify(Wd)+": ";Wd=uc(kc[Wd],yd,Jd.length+(Od===qc-1?0:1));void 0!==Wd&&ld.push(Jd+Wd)}}if(0<ld.length)return[de,Da+ld.join(",\n"+yd),pd].join("\n"+oc)}return kd}(P,"",0)},ba=Number.MAX_SAFE_INTEGER||9007199254740991,ka="object"===typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(P){for(var na=[],Da=0;Da<arguments.length;++Da)na[Da-0]=arguments[Da];return console.error.apply(console,
["SEMVER"].concat($jscomp.arrayFromIterable(na)))}:function(){},ua=function(P,na,Da){return Da={path:na,exports:{},require:function(gb,Ta){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},P(Da,Da.exports),Da.exports}(function(P,na){na=P.exports={};var Da=na.re=[],gb=na.src=[],Ta=na.t={},Pb=0;P=function(kc,oc,qc){var uc=Pb++;ka(uc,oc);Ta[kc]=uc;gb[uc]=oc;Da[uc]=new RegExp(oc,qc?"g":void 0)};P("NUMERICIDENTIFIER","0|[1-9]\\d*");P("NUMERICIDENTIFIERLOOSE","[0-9]+");
P("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");P("MAINVERSION","("+gb[Ta.NUMERICIDENTIFIER]+")\\.("+(gb[Ta.NUMERICIDENTIFIER]+")\\.(")+(gb[Ta.NUMERICIDENTIFIER]+")"));P("MAINVERSIONLOOSE","("+gb[Ta.NUMERICIDENTIFIERLOOSE]+")\\.("+(gb[Ta.NUMERICIDENTIFIERLOOSE]+")\\.(")+(gb[Ta.NUMERICIDENTIFIERLOOSE]+")"));P("PRERELEASEIDENTIFIER","(?:"+gb[Ta.NUMERICIDENTIFIER]+"|"+gb[Ta.NONNUMERICIDENTIFIER]+")");P("PRERELEASEIDENTIFIERLOOSE","(?:"+gb[Ta.NUMERICIDENTIFIERLOOSE]+"|"+gb[Ta.NONNUMERICIDENTIFIER]+
")");P("PRERELEASE","(?:-("+gb[Ta.PRERELEASEIDENTIFIER]+"(?:\\."+gb[Ta.PRERELEASEIDENTIFIER]+")*))");P("PRERELEASELOOSE","(?:-?("+gb[Ta.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+gb[Ta.PRERELEASEIDENTIFIERLOOSE]+")*))");P("BUILDIDENTIFIER","[0-9A-Za-z-]+");P("BUILD","(?:\\+("+gb[Ta.BUILDIDENTIFIER]+"(?:\\."+gb[Ta.BUILDIDENTIFIER]+")*))");P("FULLPLAIN","v?"+gb[Ta.MAINVERSION]+gb[Ta.PRERELEASE]+"?"+gb[Ta.BUILD]+"?");P("FULL","^"+gb[Ta.FULLPLAIN]+"$");P("LOOSEPLAIN","[v\x3d\\s]*"+gb[Ta.MAINVERSIONLOOSE]+gb[Ta.PRERELEASELOOSE]+
"?"+gb[Ta.BUILD]+"?");P("LOOSE","^"+gb[Ta.LOOSEPLAIN]+"$");P("GTLT","((?:\x3c|\x3e)?\x3d?)");P("XRANGEIDENTIFIERLOOSE",gb[Ta.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*");P("XRANGEIDENTIFIER",gb[Ta.NUMERICIDENTIFIER]+"|x|X|\\*");P("XRANGEPLAIN","[v\x3d\\s]*("+gb[Ta.XRANGEIDENTIFIER]+")(?:\\.("+(gb[Ta.XRANGEIDENTIFIER]+")(?:\\.(")+(gb[Ta.XRANGEIDENTIFIER]+")(?:")+(gb[Ta.PRERELEASE]+")?"+gb[Ta.BUILD]+"?)?)?"));P("XRANGEPLAINLOOSE","[v\x3d\\s]*("+gb[Ta.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+(gb[Ta.XRANGEIDENTIFIERLOOSE]+
")(?:\\.(")+(gb[Ta.XRANGEIDENTIFIERLOOSE]+")(?:")+(gb[Ta.PRERELEASELOOSE]+")?"+gb[Ta.BUILD]+"?)?)?"));P("XRANGE","^"+gb[Ta.GTLT]+"\\s*"+gb[Ta.XRANGEPLAIN]+"$");P("XRANGELOOSE","^"+gb[Ta.GTLT]+"\\s*"+gb[Ta.XRANGEPLAINLOOSE]+"$");P("COERCE","(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])");P("COERCERTL",gb[Ta.COERCE],!0);P("LONETILDE","(?:~\x3e?)");P("TILDETRIM","(\\s*)"+gb[Ta.LONETILDE]+"\\s+",!0);na.tildeTrimReplace="$1~";P("TILDE","^"+gb[Ta.LONETILDE]+gb[Ta.XRANGEPLAIN]+
"$");P("TILDELOOSE","^"+gb[Ta.LONETILDE]+gb[Ta.XRANGEPLAINLOOSE]+"$");P("LONECARET","(?:\\^)");P("CARETTRIM","(\\s*)"+gb[Ta.LONECARET]+"\\s+",!0);na.caretTrimReplace="$1^";P("CARET","^"+gb[Ta.LONECARET]+gb[Ta.XRANGEPLAIN]+"$");P("CARETLOOSE","^"+gb[Ta.LONECARET]+gb[Ta.XRANGEPLAINLOOSE]+"$");P("COMPARATORLOOSE","^"+gb[Ta.GTLT]+"\\s*("+gb[Ta.LOOSEPLAIN]+")$|^$");P("COMPARATOR","^"+gb[Ta.GTLT]+"\\s*("+gb[Ta.FULLPLAIN]+")$|^$");P("COMPARATORTRIM","(\\s*)"+gb[Ta.GTLT]+"\\s*("+gb[Ta.LOOSEPLAIN]+"|"+gb[Ta.XRANGEPLAIN]+
")",!0);na.comparatorTrimReplace="$1$2$3";P("HYPHENRANGE","^\\s*("+gb[Ta.XRANGEPLAIN]+")\\s+-\\s+("+(gb[Ta.XRANGEPLAIN]+")\\s*$"));P("HYPHENRANGELOOSE","^\\s*("+gb[Ta.XRANGEPLAINLOOSE]+")\\s+-\\s+("+(gb[Ta.XRANGEPLAINLOOSE]+")\\s*$"));P("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");P("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");P("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")}),fb=/^[0-9]+$/,eb=function(P,na){var Da=fb.test(P),gb=fb.test(na);Da&&gb&&(P=+P,na=+na);return P===na?0:Da&&!gb?-1:gb&&!Da?1:P<na?-1:1},Ca=ua.re,
Ka=ua.t,Z=function(P,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(P instanceof Z){if(P.loose===!!na.loose&&P.includePrerelease===!!na.includePrerelease)return P;P=P.version}else if("string"!==typeof P)throw new TypeError("Invalid Version: "+P);if(256<P.length)throw new TypeError("version is longer than 256 characters");ka("SemVer",P,na);this.options=na;this.loose=!!na.loose;this.includePrerelease=!!na.includePrerelease;na=P.trim().match(na.loose?Ca[Ka.LOOSE]:Ca[Ka.FULL]);
if(!na)throw new TypeError("Invalid Version: "+P);this.raw=P;this.major=+na[1];this.minor=+na[2];this.patch=+na[3];if(this.major>ba||0>this.major)throw new TypeError("Invalid major version");if(this.minor>ba||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>ba||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=na[4]?na[4].split(".").map(function(Da){if(/^[0-9]+$/.test(Da)){var gb=+Da;if(0<=gb&&gb<ba)return gb}return Da}):[];this.build=na[5]?na[5].split("."):
[];this.format()};Z.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};Z.prototype.toString=function(){return this.version};Z.prototype.compare=function(P){ka("SemVer.compare",this.version,this.options,P);if(!(P instanceof Z)){if("string"===typeof P&&P===this.version)return 0;P=new Z(P,this.options)}return P.version===this.version?0:this.compareMain(P)||this.comparePre(P)};Z.prototype.compareMain=
function(P){P instanceof Z||(P=new Z(P,this.options));return eb(this.major,P.major)||eb(this.minor,P.minor)||eb(this.patch,P.patch)};Z.prototype.comparePre=function(P){P instanceof Z||(P=new Z(P,this.options));if(this.prerelease.length&&!P.prerelease.length)return-1;if(!this.prerelease.length&&P.prerelease.length)return 1;if(!this.prerelease.length&&!P.prerelease.length)return 0;var na=0;do{var Da=this.prerelease[na],gb=P.prerelease[na];ka("prerelease compare",na,Da,gb);if(void 0===Da&&void 0===gb)return 0;
if(void 0===gb)return 1;if(void 0===Da)return-1;if(Da!==gb)return eb(Da,gb)}while(++na)};Z.prototype.compareBuild=function(P){P instanceof Z||(P=new Z(P,this.options));var na=0;do{var Da=this.build[na],gb=P.build[na];ka("prerelease compare",na,Da,gb);if(void 0===Da&&void 0===gb)return 0;if(void 0===gb)return 1;if(void 0===Da)return-1;if(Da!==gb)return eb(Da,gb)}while(++na)};Z.prototype.inc=function(P,na){switch(P){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",
na);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",na);break;case "prepatch":this.prerelease.length=0;this.inc("patch",na);this.inc("pre",na);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",na);this.inc("pre",na);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=
[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(P=this.prerelease.length;0<=--P;)"number"===typeof this.prerelease[P]&&(this.prerelease[P]++,P=-2);-1===P&&this.prerelease.push(0)}na&&(this.prerelease[0]===na?isNaN(this.prerelease[1])&&(this.prerelease=[na,0]):this.prerelease=[na,0]);break;default:throw Error("invalid increment argument: "+P);}this.format();this.raw=this.version;return this};
var ra=Z,hb=ua.re,mb=ua.t,Ib=function(P,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(P instanceof ra)return P;if("string"!==typeof P||256<P.length||!(na.loose?hb[mb.LOOSE]:hb[mb.FULL]).test(P))return null;try{return new ra(P,na)}catch(Da){return null}},Xb=function(P,na,Da){return(new ra(P,Da)).compare(new ra(na,Da))},za=function(P,na,Da){return 0===Xb(P,na,Da)},wb=function(P,na,Da){P=new ra(P,Da);na=new ra(na,Da);return P.compare(na)||P.compareBuild(na)},Tb=function(P,na,
Da){return 0<Xb(P,na,Da)},rb=function(P,na,Da){return 0>Xb(P,na,Da)},Sb=function(P,na,Da){return 0!==Xb(P,na,Da)},ic=function(P,na,Da){return 0<=Xb(P,na,Da)},rc=function(P,na,Da){return 0>=Xb(P,na,Da)},Tc=function(P,na,Da,gb){switch(na){case "\x3d\x3d\x3d":return"object"===typeof P&&(P=P.version),"object"===typeof Da&&(Da=Da.version),P===Da;case "!\x3d\x3d":return"object"===typeof P&&(P=P.version),"object"===typeof Da&&(Da=Da.version),P!==Da;case "":case "\x3d":case "\x3d\x3d":return za(P,Da,gb);
case "!\x3d":return Sb(P,Da,gb);case "\x3e":return Tb(P,Da,gb);case "\x3e\x3d":return ic(P,Da,gb);case "\x3c":return rb(P,Da,gb);case "\x3c\x3d":return rc(P,Da,gb);default:throw new TypeError("Invalid operator: "+na);}},pc=ua.re,tb=ua.t,bc=function(P,na){var Da=this;na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(P instanceof bc)return P.loose===!!na.loose&&P.includePrerelease===!!na.includePrerelease?P:new bc(P.raw,na);if(P instanceof Fb)return this.raw=P.value,this.set=[[P]],
this.format(),this;this.options=na;this.loose=!!na.loose;this.includePrerelease=!!na.includePrerelease;this.raw=P;this.set=P.split(/\s*\|\|\s*/).map(function(gb){return Da.parseRange(gb.trim())}).filter(function(gb){return gb.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+P);this.format()};bc.prototype.format=function(){return this.range=this.set.map(function(P){return P.join(" ").trim()}).join("||").trim()};bc.prototype.toString=function(){return this.range};bc.prototype.parseRange=
function(P){var na=this,Da=this.options.loose;P=P.trim();P=P.replace(Da?xc[Xc.HYPHENRANGELOOSE]:xc[Xc.HYPHENRANGE],fa(this.options.includePrerelease));ka("hyphen replace",P);P=P.replace(xc[Xc.COMPARATORTRIM],ud);ka("comparator trim",P,xc[Xc.COMPARATORTRIM]);P=P.replace(xc[Xc.TILDETRIM],xd);P=P.replace(xc[Xc.CARETTRIM],ae);P=P.split(/\s+/).join(" ");var gb=Da?xc[Xc.COMPARATORLOOSE]:xc[Xc.COMPARATOR];return P.split(" ").map(function(Ta){var Pb=Ta;Ta=na.options;ka("comp",Pb,Ta);Pb=De(Pb,Ta);ka("caret",
Pb);Pb=Rc(Pb,Ta);ka("tildes",Pb);Pb=Md(Pb,Ta);ka("xrange",Pb);ka("replaceStars",Pb,Ta);Pb=Pb.trim().replace(xc[Xc.STAR],"");ka("stars",Pb);return Pb}).join(" ").split(/\s+/).map(function(Ta){var Pb=na.options;ka("replaceGTE0",Ta,Pb);return Ta.trim().replace(xc[Pb.includePrerelease?Xc.GTE0PRE:Xc.GTE0],"")}).filter(this.options.loose?function(Ta){return!!Ta.match(gb)}:function(){return!0}).map(function(Ta){return new Fb(Ta,na.options)})};bc.prototype.intersects=function(P,na){if(!(P instanceof bc))throw new TypeError("a Range is required");
return this.set.some(function(Da){return Cb(Da,na)&&P.set.some(function(gb){return Cb(gb,na)&&Da.every(function(Ta){return gb.every(function(Pb){return Ta.intersects(Pb,na)})})})})};bc.prototype.test=function(P){if(!P)return!1;if("string"===typeof P)try{P=new ra(P,this.options)}catch(kc){return!1}for(var na=0;na<this.set.length;na++){a:{var Da=this.set[na];for(var gb=P,Ta=this.options,Pb=0;Pb<Da.length;Pb++)if(!Da[Pb].test(gb)){Da=!1;break a}if(gb.prerelease.length&&!Ta.includePrerelease){for(Ta=
0;Ta<Da.length;Ta++)if(ka(Da[Ta].semver),Da[Ta].semver!==Fb.ANY&&0<Da[Ta].semver.prerelease.length&&(Pb=Da[Ta].semver,Pb.major===gb.major&&Pb.minor===gb.minor&&Pb.patch===gb.patch)){Da=!0;break a}Da=!1}else Da=!0}if(Da)return!0}return!1};var Mb=bc,xc=ua.re,Xc=ua.t,ud=ua.comparatorTrimReplace,xd=ua.tildeTrimReplace,ae=ua.caretTrimReplace,Cb=function(P,na){var Da=!0;P=P.slice();for(var gb=P.pop();Da&&P.length;)Da=P.every(function(Ta){return gb.intersects(Ta,na)}),gb=P.pop();return Da},Rb=function(P){return!P||
"x"===P.toLowerCase()||"*"===P},Rc=function(P,na){return P.trim().split(/\s+/).map(function(Da){return se(Da,na)}).join(" ")},se=function(P,na){return P.replace(na.loose?xc[Xc.TILDELOOSE]:xc[Xc.TILDE],function(Da,gb,Ta,Pb,kc){ka("tilde",P,Da,gb,Ta,Pb,kc);Rb(gb)?Da="":Rb(Ta)?Da="\x3e\x3d"+gb+".0.0 \x3c"+(+gb+1)+".0.0-0":Rb(Pb)?Da="\x3e\x3d"+gb+"."+Ta+".0 \x3c"+gb+"."+(+Ta+1)+".0-0":kc?(ka("replaceTilde pr",kc),Da="\x3e\x3d"+gb+"."+Ta+"."+Pb+"-"+kc+" \x3c"+gb+"."+(+Ta+1)+".0-0"):Da="\x3e\x3d"+gb+"."+
Ta+"."+Pb+" \x3c"+gb+"."+(+Ta+1)+".0-0";ka("tilde return",Da);return Da})},De=function(P,na){return P.trim().split(/\s+/).map(function(Da){return Ne(Da,na)}).join(" ")},Ne=function(P,na){ka("caret",P,na);var Da=na.includePrerelease?"-0":"";return P.replace(na.loose?xc[Xc.CARETLOOSE]:xc[Xc.CARET],function(gb,Ta,Pb,kc,oc){ka("caret",P,gb,Ta,Pb,kc,oc);Rb(Ta)?gb="":Rb(Pb)?gb="\x3e\x3d"+Ta+".0.0"+Da+" \x3c"+(+Ta+1)+".0.0-0":Rb(kc)?gb="0"===Ta?"\x3e\x3d"+Ta+"."+Pb+".0"+Da+" \x3c"+Ta+"."+(+Pb+1)+".0-0":
"\x3e\x3d"+Ta+"."+Pb+".0"+Da+" \x3c"+(+Ta+1)+".0.0-0":oc?(ka("replaceCaret pr",oc),gb="0"===Ta?"0"===Pb?"\x3e\x3d"+Ta+"."+Pb+"."+kc+"-"+oc+" \x3c"+Ta+"."+Pb+"."+(+kc+1)+"-0":"\x3e\x3d"+Ta+"."+Pb+"."+kc+"-"+oc+" \x3c"+Ta+"."+(+Pb+1)+".0-0":"\x3e\x3d"+Ta+"."+Pb+"."+kc+"-"+oc+" \x3c"+(+Ta+1)+".0.0-0"):(ka("no pr"),gb="0"===Ta?"0"===Pb?"\x3e\x3d"+Ta+"."+Pb+"."+kc+Da+" \x3c"+Ta+"."+Pb+"."+(+kc+1)+"-0":"\x3e\x3d"+Ta+"."+Pb+"."+kc+Da+" \x3c"+Ta+"."+(+Pb+1)+".0-0":"\x3e\x3d"+Ta+"."+Pb+"."+kc+" \x3c"+(+Ta+
1)+".0.0-0");ka("caret return",gb);return gb})},Md=function(P,na){ka("replaceXRanges",P,na);return P.split(/\s+/).map(function(Da){return K(Da,na)}).join(" ")},K=function(P,na){P=P.trim();return P.replace(na.loose?xc[Xc.XRANGELOOSE]:xc[Xc.XRANGE],function(Da,gb,Ta,Pb,kc,oc){ka("xRange",P,Da,gb,Ta,Pb,kc,oc);var qc=Rb(Ta),uc=qc||Rb(Pb);kc=uc||Rb(kc);"\x3d"===gb&&kc&&(gb="");oc=na.includePrerelease?"-0":"";qc?Da="\x3e"===gb||"\x3c"===gb?"\x3c0.0.0-0":"*":gb&&kc?(uc&&(Pb=0),kc=0,"\x3e"===gb?(gb="\x3e\x3d",
uc?(Ta=+Ta+1,Pb=0):Pb=+Pb+1,kc=0):"\x3c\x3d"===gb&&(gb="\x3c",uc?Ta=+Ta+1:Pb=+Pb+1),"\x3c"===gb&&(oc="-0"),Da=gb+Ta+"."+Pb+"."+kc+oc):uc?Da="\x3e\x3d"+Ta+".0.0"+oc+" \x3c"+(+Ta+1)+".0.0-0":kc&&(Da="\x3e\x3d"+Ta+"."+Pb+".0"+oc+" \x3c"+Ta+"."+(+Pb+1)+".0-0");ka("xRange return",Da);return Da})},fa=function(P){return function(na,Da,gb,Ta,Pb,kc,oc,qc,uc,kd,pd,yd,ld){Da=Rb(gb)?"":Rb(Ta)?"\x3e\x3d"+gb+".0.0"+(P?"-0":""):Rb(Pb)?"\x3e\x3d"+gb+"."+Ta+".0"+(P?"-0":""):kc?"\x3e\x3d"+Da:"\x3e\x3d"+Da+(P?"-0":
"");qc=Rb(uc)?"":Rb(kd)?"\x3c"+(+uc+1)+".0.0-0":Rb(pd)?"\x3c"+uc+"."+(+kd+1)+".0-0":yd?"\x3c\x3d"+uc+"."+kd+"."+pd+"-"+yd:P?"\x3c"+uc+"."+kd+"."+(+pd+1)+"-0":"\x3c\x3d"+qc;return(Da+" "+qc).trim()}},bb=Symbol("SemVer ANY"),La=function(P,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(P instanceof La){if(P.loose===!!na.loose)return P;P=P.value}ka("comparator",P,na);this.options=na;this.loose=!!na.loose;this.parse(P);this.value=this.semver===bb?"":this.operator+this.semver.version;
ka("comp",this)};La.prototype.parse=function(P){var na=P.match(this.options.loose?Vb[Yb.COMPARATORLOOSE]:Vb[Yb.COMPARATOR]);if(!na)throw new TypeError("Invalid comparator: "+P);this.operator=void 0!==na[1]?na[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=na[2]?new ra(na[2],this.options.loose):bb};La.prototype.toString=function(){return this.value};La.prototype.test=function(P){ka("Comparator.test",P,this.options.loose);if(this.semver===bb||P===bb)return!0;if("string"===typeof P)try{P=
new ra(P,this.options)}catch(na){return!1}return Tc(P,this.operator,this.semver,this.options)};La.prototype.intersects=function(P,na){if(!(P instanceof La))throw new TypeError("a Comparator is required");na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Mb(P.value,na)).test(this.value);if(""===P.operator)return""===P.value?!0:(new Mb(this.value,na)).test(P.semver);var Da=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===
P.operator||"\x3e"===P.operator),gb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===P.operator||"\x3c"===P.operator),Ta=this.semver.version===P.semver.version,Pb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===P.operator||"\x3c\x3d"===P.operator),kc=Tc(this.semver,"\x3c",P.semver,na)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===P.operator||"\x3c"===P.operator);P=Tc(this.semver,"\x3e",P.semver,na)&&("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3e\x3d"===P.operator||"\x3e"===P.operator);return Da||gb||Ta&&Pb||kc||P};$jscomp.global.Object.defineProperties(La,{ANY:{configurable:!0,enumerable:!0,get:function(){return bb}}});var Fb=La,Vb=ua.re,Yb=ua.t,cc=function(P,na,Da){try{na=new Mb(na,Da)}catch(gb){return!1}return na.test(P)},va=Fb.ANY,Ra=function(P,na,Da,gb){P=new ra(P,gb);na=new Mb(na,gb);switch(Da){case "\x3e":var Ta=Tb;Da=rc;var Pb=rb;var kc="\x3e";var oc="\x3e\x3d";break;case "\x3c":Ta=rb;Da=ic;Pb=Tb;kc="\x3c";oc=
"\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(cc(P,na,gb))return!1;for(var qc={},uc=0;uc<na.set.length;qc={$jscomp$loop$prop$high$709:qc.$jscomp$loop$prop$high$709,$jscomp$loop$prop$low$710:qc.$jscomp$loop$prop$low$710},++uc){var kd=na.set[uc];qc.$jscomp$loop$prop$high$709=null;qc.$jscomp$loop$prop$low$710=null;kd.forEach(function(pd){return function(yd){yd.semver===va&&(yd=new Fb("\x3e\x3d0.0.0"));pd.$jscomp$loop$prop$high$709=pd.$jscomp$loop$prop$high$709||
yd;pd.$jscomp$loop$prop$low$710=pd.$jscomp$loop$prop$low$710||yd;Ta(yd.semver,pd.$jscomp$loop$prop$high$709.semver,gb)?pd.$jscomp$loop$prop$high$709=yd:Pb(yd.semver,pd.$jscomp$loop$prop$low$710.semver,gb)&&(pd.$jscomp$loop$prop$low$710=yd)}}(qc));if(qc.$jscomp$loop$prop$high$709.operator===kc||qc.$jscomp$loop$prop$high$709.operator===oc||(!qc.$jscomp$loop$prop$low$710.operator||qc.$jscomp$loop$prop$low$710.operator===kc)&&Da(P,qc.$jscomp$loop$prop$low$710.semver)||qc.$jscomp$loop$prop$low$710.operator===
oc&&Pb(P,qc.$jscomp$loop$prop$low$710.semver))return!1}return!0},yb=Fb.ANY,Nb=function(P,na,Da){if(1===P.length&&P[0].semver===yb)return 1===na.length&&na[0].semver===yb;var gb=new Set,Ta,Pb,kc=$jscomp.makeIterator(P);for(P=kc.next();!P.done;P=kc.next())P=P.value,"\x3e"===P.operator||"\x3e\x3d"===P.operator?Ta=gc(Ta,P,Da):"\x3c"===P.operator||"\x3c\x3d"===P.operator?Pb=tc(Pb,P,Da):gb.add(P.semver);if(1<gb.size)return null;if(Ta&&Pb){var oc=Xb(Ta.semver,Pb.semver,Da);if(0<oc||0===oc&&("\x3e\x3d"!==
Ta.operator||"\x3c\x3d"!==Pb.operator))return null}for(P=$jscomp.makeIterator(gb).next();!P.done;){oc=P.value;if(Ta&&!cc(oc,String(Ta),Da)||Pb&&!cc(oc,String(Pb),Da))return null;Ta=$jscomp.makeIterator(na);for(P=Ta.next();!P.done;P=Ta.next())if(!cc(oc,String(P.value),Da))return!1;return!0}na=$jscomp.makeIterator(na);for(P=na.next();!P.done;P=na.next()){P=P.value;var qc=qc||"\x3e"===P.operator||"\x3e\x3d"===P.operator;var uc=uc||"\x3c"===P.operator||"\x3c\x3d"===P.operator;if(Ta)if("\x3e"===P.operator||
"\x3e\x3d"===P.operator){if(gb=gc(Ta,P,Da),gb===P)return!1}else if("\x3e\x3d"===Ta.operator&&!cc(Ta.semver,String(P),Da))return!1;if(Pb)if("\x3c"===P.operator||"\x3c\x3d"===P.operator){if(gb=tc(Pb,P,Da),gb===P)return!1}else if("\x3c\x3d"===Pb.operator&&!cc(Pb.semver,String(P),Da))return!1;if(!P.operator&&(Pb||Ta)&&0!==oc)return!1}return Ta&&uc&&!Pb&&0!==oc||Pb&&qc&&!Ta&&0!==oc?!1:!0},gc=function(P,na,Da){if(!P)return na;Da=Xb(P.semver,na.semver,Da);return 0<Da?P:0>Da?na:"\x3e"===na.operator&&"\x3e\x3d"===
P.operator?na:P},tc=function(P,na,Da){if(!P)return na;Da=Xb(P.semver,na.semver,Da);return 0>Da?P:0<Da?na:"\x3c"===na.operator&&"\x3c\x3d"===P.operator?na:P},lc={re:ua.re,src:ua.src,tokens:ua.t,SEMVER_SPEC_VERSION:"2.0.0",SemVer:ra,compareIdentifiers:eb,rcompareIdentifiers:function(P,na){return eb(na,P)},parse:Ib,valid:function(P,na){return(P=Ib(P,na))?P.version:null},clean:function(P,na){return(P=Ib(P.trim().replace(/^[=v]+/,""),na))?P.version:null},inc:function(P,na,Da,gb){"string"===typeof Da&&
(gb=Da,Da=void 0);try{return(new ra(P,Da)).inc(na,gb).version}catch(Ta){return null}},diff:function(P,na){if(za(P,na))return null;P=Ib(P);na=Ib(na);var Da=P.prerelease.length||na.prerelease.length,gb=Da?"pre":"",Ta;for(Ta in P)if(("major"===Ta||"minor"===Ta||"patch"===Ta)&&P[Ta]!==na[Ta])return gb+Ta;return Da?"prerelease":""},major:function(P,na){return(new ra(P,na)).major},minor:function(P,na){return(new ra(P,na)).minor},patch:function(P,na){return(new ra(P,na)).patch},prerelease:function(P,na){return(P=
Ib(P,na))&&P.prerelease.length?P.prerelease:null},compare:Xb,rcompare:function(P,na,Da){return Xb(na,P,Da)},compareLoose:function(P,na){return Xb(P,na,!0)},compareBuild:wb,sort:function(P,na){return P.sort(function(Da,gb){return wb(Da,gb,na)})},rsort:function(P,na){return P.sort(function(Da,gb){return wb(gb,Da,na)})},gt:Tb,lt:rb,eq:za,neq:Sb,gte:ic,lte:rc,cmp:Tc,coerce:function(P,na){if(P instanceof ra)return P;"number"===typeof P&&(P=String(P));if("string"!==typeof P)return null;na=na||{};var Da=
null;if(na.rtl){for(var gb;(gb=pc[tb.COERCERTL].exec(P))&&(!Da||Da.index+Da[0].length!==P.length);)Da&&gb.index+gb[0].length===Da.index+Da[0].length||(Da=gb),pc[tb.COERCERTL].lastIndex=gb.index+gb[1].length+gb[2].length;pc[tb.COERCERTL].lastIndex=-1}else Da=P.match(pc[tb.COERCE]);return null===Da?null:Ib(Da[2]+"."+(Da[3]||"0")+"."+(Da[4]||"0"),na)},Comparator:Fb,Range:Mb,satisfies:cc,toComparators:function(P,na){return(new Mb(P,na)).set.map(function(Da){return Da.map(function(gb){return gb.value}).join(" ").trim().split(" ")})},
maxSatisfying:function(P,na,Da){var gb=null,Ta=null,Pb=null;try{Pb=new Mb(na,Da)}catch(kc){return null}P.forEach(function(kc){!Pb.test(kc)||gb&&-1!==Ta.compare(kc)||(gb=kc,Ta=new ra(gb,Da))});return gb},minSatisfying:function(P,na,Da){var gb=null,Ta=null,Pb=null;try{Pb=new Mb(na,Da)}catch(kc){return null}P.forEach(function(kc){!Pb.test(kc)||gb&&1!==Ta.compare(kc)||(gb=kc,Ta=new ra(gb,Da))});return gb},minVersion:function(P,na){P=new Mb(P,na);var Da=new ra("0.0.0");if(P.test(Da))return Da;Da=new ra("0.0.0-0");
if(P.test(Da))return Da;Da=null;for(na=0;na<P.set.length;++na)P.set[na].forEach(function(gb){var Ta=new ra(gb.semver.version);switch(gb.operator){case "\x3e":0===Ta.prerelease.length?Ta.patch++:Ta.prerelease.push(0),Ta.raw=Ta.format();case "":case "\x3e\x3d":if(!Da||Tb(Da,Ta))Da=Ta;break;case "\x3c":case "\x3c\x3d":break;default:throw Error("Unexpected operation: "+gb.operator);}});return Da&&P.test(Da)?Da:null},validRange:function(P,na){try{return(new Mb(P,na)).range||"*"}catch(Da){return null}},
outside:Ra,gtr:function(P,na,Da){return Ra(P,na,"\x3e",Da)},ltr:function(P,na,Da){return Ra(P,na,"\x3c",Da)},intersects:function(P,na,Da){P=new Mb(P,Da);na=new Mb(na,Da);return P.intersects(na)},simplifyRange:function(P,na,Da){var gb=[],Ta=null,Pb=null;P=P.sort(function(qc,uc){return Xb(qc,uc,Da)});for(var kc=$jscomp.makeIterator(P),oc=kc.next();!oc.done;oc=kc.next())oc=oc.value,cc(oc,na,Da)?(Pb=oc,Ta||(Ta=oc)):(Pb&&gb.push([Ta,Pb]),Ta=Pb=null);Ta&&gb.push([Ta,null]);Ta=[];gb=$jscomp.makeIterator(gb);
for(Pb=gb.next();!Pb.done;Pb=gb.next())kc=$jscomp.makeIterator(Pb.value),Pb=kc.next().value,kc=kc.next().value,Pb===kc?Ta.push(Pb):kc||Pb!==P[0]?kc?Pb===P[0]?Ta.push("\x3c\x3d"+kc):Ta.push(Pb+" - "+kc):Ta.push("\x3e\x3d"+Pb):Ta.push("*");P=Ta.join(" || ");return P.length<("string"===typeof na.raw?na.raw:String(na)).length?P:na},subset:function(P,na,Da){P=new Mb(P,Da);na=new Mb(na,Da);var gb=!1;P=$jscomp.makeIterator(P.set);var Ta=P.next();a:for(;!Ta.done;Ta=P.next()){Ta=Ta.value;for(var Pb=$jscomp.makeIterator(na.set),
kc=Pb.next();!kc.done;kc=Pb.next())if(kc=Nb(Ta,kc.value,Da),gb=gb||null!==kc,kc)continue a;if(gb)return!1}return!0}},xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Qb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")},Gc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,
size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,
titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:xb["category-6"],diverging:xb["fireandice-6"],heatmap:xb["fire-7"],ordinal:xb["fire-7"],ramp:xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Qb["six-groups-cat-1"],diverging:Qb["diverging-colors"],heatmap:Qb["diverging-colors"],ordinal:Qb["six-groups-seq"],ramp:Qb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}}),$b=function(P){return function(na){return na[P]}},Ac=function(P){var na=P.length;return function(Da){for(var gb=0;gb<na;++gb)Da=Da[P[gb]];return Da}};(function(P,na,Da){var gb=wa(P);P=1===gb.length?gb[0]:P;return ya((Da&&Da.get||ja)(gb),[P],na||P)})("id");ya(function(P){return P},[],"identity");
ya(function(){return 0},[],"zero");ya(function(){return 1},[],"one");ya(function(){return!0},[],"true");ya(function(){return!1},[],"false");var Jc=Array.isArray,Hc={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(P){return String(P).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2},ad=function(P){this.options=Object.assign(Object.assign({},Hc),P);P=this.options.id;this.call=this.tooltipHandler.bind(this);
if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var na=document.createElement("style");na.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(P))throw Error("Invalid HTML ID");var Da="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
P);na.innerHTML=Da;Da=document.head;0<Da.childNodes.length?Da.insertBefore(na,Da.childNodes[0]):Da.appendChild(na)}this.el=document.getElementById(P);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",P),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))};ad.prototype.tooltipHandler=function(P,na,Da,gb){if(null==gb||""===gb)this.el.classList.remove("visible",this.options.theme+"-theme");else{this.el.innerHTML=qa(gb,this.options.sanitize,this.options.maxDepth);
this.el.classList.add("visible",this.options.theme+"-theme");P=this.el.getBoundingClientRect();var Ta=this.options.offsetX;Da=this.options.offsetY;gb=na.clientX+Ta;gb+P.width>window.innerWidth&&(gb=+na.clientX-Ta-P.width);Ta=na.clientY+Da;Ta+P.height>window.innerHeight&&(Ta=+na.clientY-Da-P.height);this.el.setAttribute("style","top: "+Ta+"px; left: "+gb+"px")}};String.prototype.startsWith||(String.prototype.startsWith=function(P,na){return this.substr(!na||0>na?0:+na,P.length)===P});var md,od=O,rd=
ma,Vd="undefined"!==typeof window?window:void 0;void 0===rd&&(null===(md=null===Vd||void 0===Vd?void 0:Vd.vl)||void 0===md?0:md.compile)&&(rd=Vd.vl);var Zd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ze={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},te={vega:"Vega","vega-lite":"Vega-Lite"},ue={vega:od.version,"vega-lite":rd?rd.version:
"not available"},bf={vega:function(P){return P},"vega-lite":function(P,na){return rd.compile(P,{config:na}).spec}},vd=function(){for(var P=[],na=0;na<arguments.length;na++)P[na]=arguments[na];if(na=1<P.length){if(na=q.isString(P[0]))na=P[0],na=!(na.startsWith("http://")||na.startsWith("https://")||na.startsWith("//"));na=na||P[0]instanceof HTMLElement||3===P.length}return na?y(P[0],P[1],P[2]):H(P[0],P[1])};vd.vegaLite=rd;vd.vl=rd;vd.container=H;vd.embed=y;vd.vega=od;vd["default"]=y;vd.version="6.12.2";
return vd})};
shadow$provide[53]=function(Kb,sb,hc,ub){var n=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;hc.exports=function(){try{if(!Object.assign)return!1;var Pa=new String("abc");Pa[5]="de";if("5"===Object.getOwnPropertyNames(Pa)[0])return!1;var Hb={};for(Pa=0;10>Pa;Pa++)Hb["_"+String.fromCharCode(Pa)]=Pa;if("0123456789"!==Object.getOwnPropertyNames(Hb).map(function(cb){return Hb[cb]}).join(""))return!1;var Ma={};"abcdefghijklmnopqrst".split("").forEach(function(cb){Ma[cb]=
cb});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},Ma)).join("")?!1:!0}catch(cb){return!1}}()?Object.assign:function(Pa,Hb){if(null===Pa||void 0===Pa)throw new TypeError("Object.assign cannot be called with null or undefined");var Ma=Object(Pa);for(var cb,Eb=1;Eb<arguments.length;Eb++){var qb=Object(arguments[Eb]);for(var Ea in qb)q.call(qb,Ea)&&(Ma[Ea]=qb[Ea]);if(n){cb=n(qb);for(var $a=0;$a<cb.length;$a++)S.call(qb,cb[$a])&&(Ma[cb[$a]]=qb[cb[$a]])}}return Ma}};
shadow$provide[54]=function(Kb,sb,hc,ub){function n(H){for(var O="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+H,ma=1;ma<arguments.length;ma++)O+="\x26args[]\x3d"+encodeURIComponent(arguments[ma]);return"Minified React error #"+H+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(H,O,ma){this.props=H;this.context=O;this.refs=Za;this.updater=ma||Ba}function S(){}function Pa(H,O,ma){this.props=H;this.context=
O;this.refs=Za;this.updater=ma||Ba}function Hb(H,O,ma){var Ia,Sa={},E=null,ha=null;if(null!=O)for(Ia in void 0!==O.ref&&(ha=O.ref),void 0!==O.key&&(E=""+O.key),O)A.call(O,Ia)&&!y.hasOwnProperty(Ia)&&(Sa[Ia]=O[Ia]);var Y=arguments.length-2;if(1===Y)Sa.children=ma;else if(1<Y){for(var V=Array(Y),w=0;w<Y;w++)V[w]=arguments[w+2];Sa.children=V}if(H&&H.defaultProps)for(Ia in Y=H.defaultProps,Y)void 0===Sa[Ia]&&(Sa[Ia]=Y[Ia]);return{$$typeof:Qa,type:H,key:E,ref:ha,props:Sa,_owner:jb.current}}function Ma(H,
O){return{$$typeof:Qa,type:H.type,key:O,ref:H.ref,props:H.props,_owner:H._owner}}function cb(H){return"object"===typeof H&&null!==H&&H.$$typeof===Qa}function Eb(H){var O={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+H).replace(/[=:]/g,function(ma){return O[ma]})}function qb(H,O,ma,Ia){if(L.length){var Sa=L.pop();Sa.result=H;Sa.keyPrefix=O;Sa.func=ma;Sa.context=Ia;Sa.count=0;return Sa}return{result:H,keyPrefix:O,func:ma,context:Ia,count:0}}function Ea(H){H.result=null;H.keyPrefix=null;H.func=null;H.context=
null;H.count=0;10>L.length&&L.push(H)}function $a(H,O,ma,Ia){var Sa=typeof H;if("undefined"===Sa||"boolean"===Sa)H=null;var E=!1;if(null===H)E=!0;else switch(Sa){case "string":case "number":E=!0;break;case "object":switch(H.$$typeof){case Qa:case xa:E=!0}}if(E)return ma(Ia,H,""===O?"."+Ja(H,0):O),1;E=0;O=""===O?".":O+":";if(Array.isArray(H))for(var ha=0;ha<H.length;ha++){Sa=H[ha];var Y=O+Ja(Sa,ha);E+=$a(Sa,Y,ma,Ia)}else if(null===H||"object"!==typeof H?Y=null:(Y=Fa&&H[Fa]||H["@@iterator"],Y="function"===
typeof Y?Y:null),"function"===typeof Y)for(H=Y.call(H),ha=0;!(Sa=H.next()).done;)Sa=Sa.value,Y=O+Ja(Sa,ha++),E+=$a(Sa,Y,ma,Ia);else if("object"===Sa)throw ma=""+H,Error(n(31,"[object Object]"===ma?"object with keys {"+Object.keys(H).join(", ")+"}":ma,""));return E}function db(H,O,ma){return null==H?0:$a(H,"",O,ma)}function Ja(H,O){return"object"===typeof H&&null!==H&&null!=H.key?Eb(H.key):O.toString(36)}function ea(H,O){H.func.call(H.context,O,H.count++)}function pa(H,O,ma){var Ia=H.result,Sa=H.keyPrefix;
H=H.func.call(H.context,O,H.count++);Array.isArray(H)?Ga(H,Ia,ma,function(E){return E}):null!=H&&(cb(H)&&(H=Ma(H,Sa+(!H.key||O&&O.key===H.key?"":(""+H.key).replace(I,"$\x26/")+"/")+ma)),Ia.push(H))}function Ga(H,O,ma,Ia,Sa){var E="";null!=ma&&(E=(""+ma).replace(I,"$\x26/")+"/");O=qb(O,E,Ia,Sa);db(H,pa,O);Ea(O)}function Wa(){var H=z.current;if(null===H)throw Error(n(321));return H}var la=sb(53),aa="function"===typeof Symbol&&Symbol.for,Qa=aa?Symbol.for("react.element"):60103,xa=aa?Symbol.for("react.portal"):
60106;Kb=aa?Symbol.for("react.fragment"):60107;sb=aa?Symbol.for("react.strict_mode"):60108;hc=aa?Symbol.for("react.profiler"):60114;var Oa=aa?Symbol.for("react.provider"):60109,ya=aa?Symbol.for("react.context"):60110,ja=aa?Symbol.for("react.forward_ref"):60112,wa=aa?Symbol.for("react.suspense"):60113,sa=aa?Symbol.for("react.memo"):60115,qa=aa?Symbol.for("react.lazy"):60116,Fa="function"===typeof Symbol&&Symbol.iterator,Ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},
enqueueSetState:function(){}},Za={};q.prototype.isReactComponent={};q.prototype.setState=function(H,O){if("object"!==typeof H&&"function"!==typeof H&&null!=H)throw Error(n(85));this.updater.enqueueSetState(this,H,O,"setState")};q.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};S.prototype=q.prototype;aa=Pa.prototype=new S;aa.constructor=Pa;la(aa,q.prototype);aa.isPureReactComponent=!0;var jb={current:null},A=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,
__self:!0,__source:!0},I=/\/+/g,L=[],z={current:null};aa={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:jb,IsSomeRendererActing:{current:!1},assign:la};ub.Children={map:function(H,O,ma){if(null==H)return H;var Ia=[];Ga(H,Ia,null,O,ma);return Ia},forEach:function(H,O,ma){if(null==H)return H;O=qb(null,null,O,ma);db(H,ea,O);Ea(O)},count:function(H){return db(H,function(){return null},null)},toArray:function(H){var O=[];Ga(H,O,null,function(ma){return ma});return O},
only:function(H){if(!cb(H))throw Error(n(143));return H}};ub.Component=q;ub.Fragment=Kb;ub.Profiler=hc;ub.PureComponent=Pa;ub.StrictMode=sb;ub.Suspense=wa;ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aa;ub.cloneElement=function(H,O,ma){if(null===H||void 0===H)throw Error(n(267,H));var Ia=la({},H.props),Sa=H.key,E=H.ref,ha=H._owner;if(null!=O){void 0!==O.ref&&(E=O.ref,ha=jb.current);void 0!==O.key&&(Sa=""+O.key);if(H.type&&H.type.defaultProps)var Y=H.type.defaultProps;for(V in O)A.call(O,
V)&&!y.hasOwnProperty(V)&&(Ia[V]=void 0===O[V]&&void 0!==Y?Y[V]:O[V])}var V=arguments.length-2;if(1===V)Ia.children=ma;else if(1<V){Y=Array(V);for(var w=0;w<V;w++)Y[w]=arguments[w+2];Ia.children=Y}return{$$typeof:Qa,type:H.type,key:Sa,ref:E,props:Ia,_owner:ha}};ub.createContext=function(H,O){void 0===O&&(O=null);H={$$typeof:ya,_calculateChangedBits:O,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null};H.Provider={$$typeof:Oa,_context:H};return H.Consumer=H};ub.createElement=
Hb;ub.createFactory=function(H){var O=Hb.bind(null,H);O.type=H;return O};ub.createRef=function(){return{current:null}};ub.forwardRef=function(H){return{$$typeof:ja,render:H}};ub.isValidElement=cb;ub.lazy=function(H){return{$$typeof:qa,_ctor:H,_status:-1,_result:null}};ub.memo=function(H,O){return{$$typeof:sa,type:H,compare:void 0===O?null:O}};ub.useCallback=function(H,O){return Wa().useCallback(H,O)};ub.useContext=function(H,O){return Wa().useContext(H,O)};ub.useDebugValue=function(){};ub.useEffect=
function(H,O){return Wa().useEffect(H,O)};ub.useImperativeHandle=function(H,O,ma){return Wa().useImperativeHandle(H,O,ma)};ub.useLayoutEffect=function(H,O){return Wa().useLayoutEffect(H,O)};ub.useMemo=function(H,O){return Wa().useMemo(H,O)};ub.useReducer=function(H,O,ma){return Wa().useReducer(H,O,ma)};ub.useRef=function(H){return Wa().useRef(H)};ub.useState=function(H){return Wa().useState(H)};ub.version="16.13.1"};
shadow$provide[58]=function(Kb,sb,hc,ub){hc.exports=sb(54)};
shadow$provide[59]=function(Kb,sb,hc,ub){function n(z,H){var O=z.length;z.push(H);a:for(;;){var ma=O-1>>>1,Ia=z[ma];if(void 0!==Ia&&0<Pa(Ia,H))z[ma]=H,z[O]=Ia,O=ma;else break a}}function q(z){z=z[0];return void 0===z?null:z}function S(z){var H=z[0];if(void 0!==H){var O=z.pop();if(O!==H){z[0]=O;var ma=0,Ia=z.length;a:for(;ma<Ia;){var Sa=2*(ma+1)-1,E=z[Sa],ha=Sa+1,Y=z[ha];if(void 0!==E&&0>Pa(E,O))void 0!==Y&&0>Pa(Y,E)?(z[ma]=Y,z[ha]=O,ma=ha):(z[ma]=E,z[Sa]=O,ma=Sa);else if(void 0!==Y&&0>Pa(Y,O))z[ma]=
Y,z[ha]=O,ma=ha;else break a}}return H}return null}function Pa(z,H){var O=z.sortIndex-H.sortIndex;return 0!==O?O:z.id-H.id}function Hb(z){for(var H=q(Ba);null!==H;){if(null===H.callback)S(Ba);else if(H.startTime<=z)S(Ba),H.sortIndex=H.expirationTime,n(Fa,H);else break;H=q(Ba)}}function Ma(z){L=!1;Hb(z);if(!I)if(null!==q(Fa))I=!0,Ja(cb);else{var H=q(Ba);null!==H&&ea(Ma,H.startTime-z)}}function cb(z,H){I=!1;L&&(L=!1,pa());y=!0;var O=A;try{Hb(H);for(jb=q(Fa);null!==jb&&(!(jb.expirationTime>H)||z&&!Ga());){var ma=
jb.callback;if(null!==ma){jb.callback=null;A=jb.priorityLevel;var Ia=ma(jb.expirationTime<=H);H=ub.unstable_now();"function"===typeof Ia?jb.callback=Ia:jb===q(Fa)&&S(Fa);Hb(H)}else S(Fa);jb=q(Fa)}if(null!==jb)var Sa=!0;else{var E=q(Ba);null!==E&&ea(Ma,E.startTime-H);Sa=!1}return Sa}finally{jb=null,A=O,y=!1}}function Eb(z){switch(z){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var qb=
null,Ea=null,$a=function(){if(null!==qb)try{var z=ub.unstable_now();qb(!0,z);qb=null}catch(H){throw setTimeout($a,0),H;}},db=Date.now();ub.unstable_now=function(){return Date.now()-db};var Ja=function(z){null!==qb?setTimeout(Ja,0,z):(qb=z,setTimeout($a,0))};var ea=function(z,H){Ea=setTimeout(z,H)};var pa=function(){clearTimeout(Ea)};var Ga=function(){return!1};Kb=ub.unstable_forceFrameRate=function(){}}else{var Wa=window.performance,la=window.Date,aa=window.setTimeout,Qa=window.clearTimeout;"undefined"!==
typeof console&&(Kb=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof Kb&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Wa&&"function"===typeof Wa.now)ub.unstable_now=function(){return Wa.now()};
else{var xa=la.now();ub.unstable_now=function(){return la.now()-xa}}var Oa=!1,ya=null,ja=-1,wa=5,sa=0;Ga=function(){return ub.unstable_now()>=sa};Kb=function(){};ub.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):wa=0<z?Math.floor(1E3/z):5};sb=new MessageChannel;var qa=sb.port2;sb.port1.onmessage=function(){if(null!==ya){var z=ub.unstable_now();sa=z+wa;try{ya(!0,z)?qa.postMessage(null):
(Oa=!1,ya=null)}catch(H){throw qa.postMessage(null),H;}}else Oa=!1};Ja=function(z){ya=z;Oa||(Oa=!0,qa.postMessage(null))};ea=function(z,H){ja=aa(function(){z(ub.unstable_now())},H)};pa=function(){Qa(ja);ja=-1}}var Fa=[],Ba=[],Za=1,jb=null,A=3,y=!1,I=!1,L=!1;ub.unstable_IdlePriority=5;ub.unstable_ImmediatePriority=1;ub.unstable_LowPriority=4;ub.unstable_NormalPriority=3;ub.unstable_Profiling=null;ub.unstable_UserBlockingPriority=2;ub.unstable_cancelCallback=function(z){z.callback=null};ub.unstable_continueExecution=
function(){I||y||(I=!0,Ja(cb))};ub.unstable_getCurrentPriorityLevel=function(){return A};ub.unstable_getFirstCallbackNode=function(){return q(Fa)};ub.unstable_next=function(z){switch(A){case 1:case 2:case 3:var H=3;break;default:H=A}var O=A;A=H;try{return z()}finally{A=O}};ub.unstable_pauseExecution=function(){};ub.unstable_requestPaint=Kb;ub.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var O=A;A=z;try{return H()}finally{A=O}};ub.unstable_scheduleCallback=
function(z,H,O){var ma=ub.unstable_now();if("object"===typeof O&&null!==O){var Ia=O.delay;Ia="number"===typeof Ia&&0<Ia?ma+Ia:ma;O="number"===typeof O.timeout?O.timeout:Eb(z)}else O=Eb(z),Ia=ma;O=Ia+O;z={id:Za++,callback:H,priorityLevel:z,startTime:Ia,expirationTime:O,sortIndex:-1};Ia>ma?(z.sortIndex=Ia,n(Ba,z),null===q(Fa)&&z===q(Ba)&&(L?pa():L=!0,ea(Ma,Ia-ma))):(z.sortIndex=O,n(Fa,z),I||y||(I=!0,Ja(cb)));return z};ub.unstable_shouldYield=function(){var z=ub.unstable_now();Hb(z);var H=q(Fa);return H!==
jb&&null!==jb&&null!==H&&null!==H.callback&&H.startTime<=z&&H.expirationTime<jb.expirationTime||Ga()};ub.unstable_wrapCallback=function(z){var H=A;return function(){var O=A;A=H;try{return z.apply(this,arguments)}finally{A=O}}}};
shadow$provide[61]=function(Kb,sb,hc,ub){hc.exports=sb(59)};
shadow$provide[62]=function(Kb,sb,hc,ub){function n(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+d,t=1;t<arguments.length;t++)g+="\x26args[]\x3d"+encodeURIComponent(arguments[t]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(d,g,t,N,da,ib,nb,Ob,Lc){var Nc=Array.prototype.slice.call(arguments,3);try{g.apply(t,Nc)}catch(td){this.onError(td)}}function S(d,
g,t,N,da,ib,nb,Ob,Lc){ji=!1;Li=null;q.apply(Kl,arguments)}function Pa(d,g,t,N,da,ib,nb,Ob,Lc){S.apply(this,arguments);if(ji){if(ji){var Nc=Li;ji=!1;Li=null}else throw Error(n(198));Fh||(Fh=!0,qh=Nc)}}function Hb(d,g,t){var N=d.type||"unknown-event";d.currentTarget=Rk(t);Pa(N,g,void 0,d);d.currentTarget=null}function Ma(){if(Mi)for(var d in mi){var g=mi[d],t=Mi.indexOf(d);if(!(-1<t))throw Error(n(96,d));if(!li[t]){if(!g.extractEvents)throw Error(n(97,d));li[t]=g;t=g.eventTypes;for(var N in t){var da=
void 0,ib=t[N],nb=g,Ob=N;if(lk.hasOwnProperty(Ob))throw Error(n(99,Ob));lk[Ob]=ib;var Lc=ib.phasedRegistrationNames;if(Lc){for(da in Lc)Lc.hasOwnProperty(da)&&cb(Lc[da],nb,Ob);da=!0}else ib.registrationName?(cb(ib.registrationName,nb,Ob),da=!0):da=!1;if(!da)throw Error(n(98,N,d));}}}}function cb(d,g,t){if(Gh[d])throw Error(n(100,d));Gh[d]=g;pj[d]=g.eventTypes[t].dependencies}function Eb(d){var g=!1,t;for(t in d)if(d.hasOwnProperty(t)){var N=d[t];if(!mi.hasOwnProperty(t)||mi[t]!==N){if(mi[t])throw Error(n(102,
t));mi[t]=N;g=!0}}g&&Ma()}function qb(d){if(d=Qk(d)){if("function"!==typeof Bg)throw Error(n(280));var g=d.stateNode;g&&(g=kk(g),Bg(d.stateNode,d.type,g))}}function Ea(d){sh?Uf?Uf.push(d):Uf=[d]:sh=d}function $a(){if(sh){var d=sh,g=Uf;Uf=sh=null;qb(d);if(g)for(d=0;d<g.length;d++)qb(g[d])}}function db(d,g){return d(g)}function Ja(d,g,t,N,da){return d(g,t,N,da)}function ea(){}function pa(){if(null!==sh||null!==Uf)ea(),$a()}function Ga(d,g,t){if(Cg)return d(g,t);Cg=!0;try{return Sk(d,g,t)}finally{Cg=
!1,pa()}}function Wa(d){if(ni.call(pi,d))return!0;if(ni.call(oi,d))return!1;if(mk.test(d))return pi[d]=!0;oi[d]=!0;return!1}function la(d,g,t,N){if(null!==t&&0===t.type)return!1;switch(typeof g){case "function":case "symbol":return!0;case "boolean":if(N)return!1;if(null!==t)return!t.acceptsBooleans;d=d.toLowerCase().slice(0,5);return"data-"!==d&&"aria-"!==d;default:return!1}}function aa(d,g,t,N){if(null===g||"undefined"===typeof g||la(d,g,t,N))return!0;if(N)return!1;if(null!==t)switch(t.type){case 3:return!g;
case 4:return!1===g;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function Qa(d,g,t,N,da,ib){this.acceptsBooleans=2===g||3===g||4===g;this.attributeName=N;this.attributeNamespace=da;this.mustUseProperty=t;this.propertyName=d;this.type=g;this.sanitizeURL=ib}function xa(d){return d[1].toUpperCase()}function Oa(d,g,t,N){var da=If.hasOwnProperty(g)?If[g]:null;(null!==da?0===da.type:N?0:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1]))||(aa(g,t,da,N)&&(t=null),N||null===da?
Wa(g)&&(null===t?d.removeAttribute(g):d.setAttribute(g,""+t)):da.mustUseProperty?d[da.propertyName]=null===t?3===da.type?!1:"":t:(g=da.attributeName,N=da.attributeNamespace,null===t?d.removeAttribute(g):(da=da.type,t=3===da||4===da&&!0===t?"":""+t,N?d.setAttributeNS(N,g,t):d.setAttribute(g,t))))}function ya(d){if(null===d||"object"!==typeof d)return null;d=Vk&&d[Vk]||d["@@iterator"];return"function"===typeof d?d:null}function ja(d){if(-1===d._status){d._status=0;var g=d._ctor;g=g();d._result=g;g.then(function(t){0===
d._status&&(t=t.default,d._status=1,d._result=t)},function(t){0===d._status&&(d._status=2,d._result=t)})}}function wa(d){if(null==d)return null;if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d;switch(d){case bh:return"Fragment";case qi:return"Portal";case Oi:return"Profiler";case $f:return"StrictMode";case Ve:return"Suspense";case si:return"SuspenseList"}if("object"===typeof d)switch(d.$$typeof){case ri:return"Context.Consumer";case rj:return"Context.Provider";
case sj:var g=d.render;g=g.displayName||g.name||"";return d.displayName||(""!==g?"ForwardRef("+g+")":"ForwardRef");case Nf:return wa(d.type);case nk:return wa(d.render);case jf:if(d=1===d._status?d._result:null)return wa(d)}return null}function sa(d){var g="";do{a:switch(d.tag){case 3:case 4:case 6:case 7:case 10:case 9:var t="";break a;default:var N=d._debugOwner,da=d._debugSource,ib=wa(d.type);t=null;N&&(t=wa(N.type));N=ib;ib="";da?ib=" (at "+da.fileName.replace(Tk,"")+":"+da.lineNumber+")":t&&
(ib=" (created by "+t+")");t="\n    in "+(N||"Unknown")+ib}g+=t;d=d.return}while(d);return g}function qa(d){switch(typeof d){case "boolean":case "number":case "object":case "string":case "undefined":return d;default:return""}}function Fa(d){var g=d.type;return(d=d.nodeName)&&"input"===d.toLowerCase()&&("checkbox"===g||"radio"===g)}function Ba(d){var g=Fa(d)?"checked":"value",t=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),N=""+d[g];if(!d.hasOwnProperty(g)&&"undefined"!==typeof t&&"function"===
typeof t.get&&"function"===typeof t.set){var da=t.get,ib=t.set;Object.defineProperty(d,g,{configurable:!0,get:function(){return da.call(this)},set:function(nb){N=""+nb;ib.call(this,nb)}});Object.defineProperty(d,g,{enumerable:t.enumerable});return{getValue:function(){return N},setValue:function(nb){N=""+nb},stopTracking:function(){d._valueTracker=null;delete d[g]}}}}function Za(d){d._valueTracker||(d._valueTracker=Ba(d))}function jb(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var t=g.getValue(),
N="";d&&(N=Fa(d)?d.checked?"true":"false":d.value);d=N;return d!==t?(g.setValue(d),!0):!1}function A(d,g){var t=g.checked;return Pf({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:d._wrapperState.initialChecked})}function y(d,g){var t=null==g.defaultValue?"":g.defaultValue,N=null!=g.checked?g.checked:g.defaultChecked;t=qa(null!=g.value?g.value:t);d._wrapperState={initialChecked:N,initialValue:t,controlled:"checkbox"===g.type||"radio"===g.type?null!=g.checked:null!=g.value}}
function I(d,g){g=g.checked;null!=g&&Oa(d,"checked",g,!1)}function L(d,g){I(d,g);var t=qa(g.value),N=g.type;if(null!=t)if("number"===N){if(0===t&&""===d.value||d.value!=t)d.value=""+t}else d.value!==""+t&&(d.value=""+t);else if("submit"===N||"reset"===N){d.removeAttribute("value");return}g.hasOwnProperty("value")?H(d,g.type,t):g.hasOwnProperty("defaultValue")&&H(d,g.type,qa(g.defaultValue));null==g.checked&&null!=g.defaultChecked&&(d.defaultChecked=!!g.defaultChecked)}function z(d,g,t){if(g.hasOwnProperty("value")||
g.hasOwnProperty("defaultValue")){var N=g.type;if(!("submit"!==N&&"reset"!==N||void 0!==g.value&&null!==g.value))return;g=""+d._wrapperState.initialValue;t||g===d.value||(d.value=g);d.defaultValue=g}t=d.name;""!==t&&(d.name="");d.defaultChecked=!!d._wrapperState.initialChecked;""!==t&&(d.name=t)}function H(d,g,t){if("number"!==g||d.ownerDocument.activeElement!==d)null==t?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+t&&(d.defaultValue=""+t)}function O(d){var g="";hi.Children.forEach(d,
function(t){null!=t&&(g+=t)});return g}function ma(d,g){d=Pf({children:void 0},g);if(g=O(g.children))d.children=g;return d}function Ia(d,g,t,N){d=d.options;if(g){g={};for(var da=0;da<t.length;da++)g["$"+t[da]]=!0;for(t=0;t<d.length;t++)da=g.hasOwnProperty("$"+d[t].value),d[t].selected!==da&&(d[t].selected=da),da&&N&&(d[t].defaultSelected=!0)}else{t=""+qa(t);g=null;for(da=0;da<d.length;da++){if(d[da].value===t){d[da].selected=!0;N&&(d[da].defaultSelected=!0);return}null!==g||d[da].disabled||(g=d[da])}null!==
g&&(g.selected=!0)}}function Sa(d,g){if(null!=g.dangerouslySetInnerHTML)throw Error(n(91));return Pf({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function E(d,g){var t=g.value;if(null==t){t=g.children;g=g.defaultValue;if(null!=t){if(null!=g)throw Error(n(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(n(93));t=t[0]}g=t}null==g&&(g="");t=g}d._wrapperState={initialValue:qa(t)}}function ha(d,g){var t=qa(g.value),N=qa(g.defaultValue);null!=t&&(t=""+t,t!==d.value&&
(d.value=t),null==g.defaultValue&&d.defaultValue!==t&&(d.defaultValue=t));null!=N&&(d.defaultValue=""+N)}function Y(d){var g=d.textContent;g===d._wrapperState.initialValue&&""!==g&&null!==g&&(d.value=g)}function V(d){switch(d){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w(d,g){return null==d||"http://www.w3.org/1999/xhtml"===d?V(g):"http://www.w3.org/2000/svg"===d&&"foreignObject"===g?"http://www.w3.org/1999/xhtml":
d}function F(d,g){if(g){var t=d.firstChild;if(t&&t===d.lastChild&&3===t.nodeType){t.nodeValue=g;return}}d.textContent=g}function h(d,g){var t={};t[d.toLowerCase()]=g.toLowerCase();t["Webkit"+d]="webkit"+g;t["Moz"+d]="moz"+g;return t}function k(d){if(ch[d])return ch[d];if(!Hh[d])return d;var g=Hh[d],t;for(t in g)if(g.hasOwnProperty(t)&&t in tj)return ch[d]=g[t];return d}function m(d){var g=bk.get(d);void 0===g&&(g=new Map,bk.set(d,g));return g}function r(d){var g=d,t=d;if(d.alternate)for(;g.return;)g=
g.return;else{d=g;do g=d,0!==(g.effectTag&1026)&&(t=g.return),d=g.return;while(d)}return 3===g.tag?t:null}function v(d){if(13===d.tag){var g=d.memoizedState;null===g&&(d=d.alternate,null!==d&&(g=d.memoizedState));if(null!==g)return g.dehydrated}return null}function J(d){if(r(d)!==d)throw Error(n(188));}function ba(d){var g=d.alternate;if(!g){g=r(d);if(null===g)throw Error(n(188));return g!==d?null:d}for(var t=d,N=g;;){var da=t.return;if(null===da)break;var ib=da.alternate;if(null===ib){N=da.return;
if(null!==N){t=N;continue}break}if(da.child===ib.child){for(ib=da.child;ib;){if(ib===t)return J(da),d;if(ib===N)return J(da),g;ib=ib.sibling}throw Error(n(188));}if(t.return!==N.return)t=da,N=ib;else{for(var nb=!1,Ob=da.child;Ob;){if(Ob===t){nb=!0;t=da;N=ib;break}if(Ob===N){nb=!0;N=da;t=ib;break}Ob=Ob.sibling}if(!nb){for(Ob=ib.child;Ob;){if(Ob===t){nb=!0;t=ib;N=da;break}if(Ob===N){nb=!0;N=ib;t=da;break}Ob=Ob.sibling}if(!nb)throw Error(n(189));}}if(t.alternate!==N)throw Error(n(190));}if(3!==t.tag)throw Error(n(188));
return t.stateNode.current===t?d:g}function ka(d){d=ba(d);if(!d)return null;for(var g=d;;){if(5===g.tag||6===g.tag)return g;if(g.child)g.child.return=g,g=g.child;else{if(g===d)break;for(;!g.sibling;){if(!g.return||g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}}return null}function ua(d,g){if(null==g)throw Error(n(30));if(null==d)return g;if(Array.isArray(d)){if(Array.isArray(g))return d.push.apply(d,g),d;d.push(g);return d}return Array.isArray(g)?[d].concat(g):[d,g]}function fb(d,
g,t){Array.isArray(d)?d.forEach(g,t):d&&g.call(t,d)}function eb(d){if(d){var g=d._dispatchListeners,t=d._dispatchInstances;if(Array.isArray(g))for(var N=0;N<g.length&&!d.isPropagationStopped();N++)Hb(d,g[N],t[N]);else g&&Hb(d,g,t);d._dispatchListeners=null;d._dispatchInstances=null;d.isPersistent()||d.constructor.release(d)}}function Ca(d){null!==d&&(ti=ua(ti,d));d=ti;ti=null;if(d){fb(d,eb);if(ti)throw Error(n(95));if(Fh)throw d=qh,Fh=!1,qh=null,d;}}function Ka(d){d=d.target||d.srcElement||window;
d.correspondingUseElement&&(d=d.correspondingUseElement);return 3===d.nodeType?d.parentNode:d}function Z(d){if(!gg)return!1;d="on"+d;var g=d in document;g||(g=document.createElement("div"),g.setAttribute(d,"return;"),g="function"===typeof g[d]);return g}function ra(d){d.topLevelType=null;d.nativeEvent=null;d.targetInst=null;d.ancestors.length=0;10>vj.length&&vj.push(d)}function hb(d,g,t,N){if(vj.length){var da=vj.pop();da.topLevelType=d;da.eventSystemFlags=N;da.nativeEvent=g;da.targetInst=t;return da}return{topLevelType:d,
eventSystemFlags:N,nativeEvent:g,targetInst:t,ancestors:[]}}function mb(d){var g=d.targetInst,t=g;do{if(!t){d.ancestors.push(t);break}var N=t;if(3===N.tag)N=N.stateNode.containerInfo;else{for(;N.return;)N=N.return;N=3!==N.tag?null:N.stateNode.containerInfo}if(!N)break;g=t.tag;5!==g&&6!==g||d.ancestors.push(t);t=Ra(N)}while(t);for(t=0;t<d.ancestors.length;t++){g=d.ancestors[t];var da=Ka(d.nativeEvent);N=d.topLevelType;var ib=d.nativeEvent,nb=d.eventSystemFlags;0===t&&(nb|=64);for(var Ob=null,Lc=0;Lc<
li.length;Lc++){var Nc=li[Lc];Nc&&(Nc=Nc.extractEvents(N,g,ib,da,nb))&&(Ob=ua(Ob,Nc))}Ca(Ob)}}function Ib(d,g,t){if(!t.has(d)){switch(d){case "scroll":xc(g,"scroll",!0);break;case "focus":case "blur":xc(g,"focus",!0);xc(g,"blur",!0);t.set("blur",null);t.set("focus",null);break;case "cancel":case "close":Z(d)&&xc(g,d,!0);break;case "invalid":case "submit":case "reset":break;default:-1===Ri.indexOf(d)&&Mb(d,g)}t.set(d,null)}}function Xb(d,g){var t=m(g);qk.forEach(function(N){Ib(N,g,t)});rk.forEach(function(N){Ib(N,
g,t)})}function za(d,g,t,N,da){return{blockedOn:d,topLevelType:g,eventSystemFlags:t|32,nativeEvent:da,container:N}}function wb(d,g){switch(d){case "focus":case "blur":Pg=null;break;case "dragenter":case "dragleave":sg=null;break;case "mouseover":case "mouseout":eh=null;break;case "pointerover":case "pointerout":Si.delete(g.pointerId);break;case "gotpointercapture":case "lostpointercapture":ui.delete(g.pointerId)}}function Tb(d,g,t,N,da,ib){if(null===d||d.nativeEvent!==ib)return d=za(g,t,N,da,ib),
null!==g&&(g=yb(g),null!==g&&Af(g)),d;d.eventSystemFlags|=N;return d}function rb(d,g,t,N,da){switch(g){case "focus":return Pg=Tb(Pg,d,g,t,N,da),!0;case "dragenter":return sg=Tb(sg,d,g,t,N,da),!0;case "mouseover":return eh=Tb(eh,d,g,t,N,da),!0;case "pointerover":var ib=da.pointerId;Si.set(ib,Tb(Si.get(ib)||null,d,g,t,N,da));return!0;case "gotpointercapture":return ib=da.pointerId,ui.set(ib,Tb(ui.get(ib)||null,d,g,t,N,da)),!0}return!1}function Sb(d){var g=Ra(d.target);if(null!==g){var t=r(g);if(null!==
t)if(g=t.tag,13===g){if(g=v(t),null!==g){d.blockedOn=g;Qf.unstable_runWithPriority(d.priority,function(){Yj(t)});return}}else if(3===g&&t.stateNode.hydrate){d.blockedOn=3===t.tag?t.stateNode.containerInfo:null;return}}d.blockedOn=null}function ic(d){if(null!==d.blockedOn)return!1;var g=ae(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);if(null!==g){var t=yb(g);null!==t&&Af(t);d.blockedOn=g;return!1}return!0}function rc(d,g,t){ic(d)&&t.delete(g)}function Tc(){for(ei=!1;0<Og.length;){var d=
Og[0];if(null!==d.blockedOn){d=yb(d.blockedOn);null!==d&&Ik(d);break}var g=ae(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);null!==g?d.blockedOn=g:Og.shift()}null!==Pg&&ic(Pg)&&(Pg=null);null!==sg&&ic(sg)&&(sg=null);null!==eh&&ic(eh)&&(eh=null);Si.forEach(rc);ui.forEach(rc)}function pc(d,g){d.blockedOn===g&&(d.blockedOn=null,ei||(ei=!0,Qf.unstable_scheduleCallback(Qf.unstable_NormalPriority,Tc)))}function tb(d){function g(da){return pc(da,d)}if(0<Og.length){pc(Og[0],d);for(var t=1;t<
Og.length;t++){var N=Og[t];N.blockedOn===d&&(N.blockedOn=null)}}null!==Pg&&pc(Pg,d);null!==sg&&pc(sg,d);null!==eh&&pc(eh,d);Si.forEach(g);ui.forEach(g);for(t=0;t<Ti.length;t++)N=Ti[t],N.blockedOn===d&&(N.blockedOn=null);for(;0<Ti.length&&(t=Ti[0],null===t.blockedOn);)Sb(t),null===t.blockedOn&&Ti.shift()}function bc(d,g){for(var t=0;t<d.length;t+=2){var N=d[t],da=d[t+1],ib="on"+(da[0].toUpperCase()+da.slice(1));ib={phasedRegistrationNames:{bubbled:ib,captured:ib+"Capture"},dependencies:[N],eventPriority:g};
xj.set(N,g);wj.set(N,ib);Yk[da]=ib}}function Mb(d,g){xc(g,d,!1)}function xc(d,g,t){var N=xj.get(g);switch(void 0===N?2:N){case 0:N=Xc.bind(null,g,1,d);break;case 1:N=ud.bind(null,g,1,d);break;default:N=xd.bind(null,g,1,d)}t?d.addEventListener(g,N,!0):d.addEventListener(g,N,!1)}function Xc(d,g,t,N){Ng||ea();var da=xd,ib=Ng;Ng=!0;try{Ja(da,d,g,t,N)}finally{(Ng=ib)||pa()}}function ud(d,g,t,N){vi(yj,xd.bind(null,d,g,t,N))}function xd(d,g,t,N){if(Ih)if(0<Og.length&&-1<qk.indexOf(d))d=za(null,d,g,t,N),
Og.push(d);else{var da=ae(d,g,t,N);if(null===da)wb(d,N);else if(-1<qk.indexOf(d))d=za(da,d,g,t,N),Og.push(d);else if(!rb(da,d,g,t,N)){wb(d,N);d=hb(d,N,null,g);try{Ga(mb,d)}finally{ra(d)}}}}function ae(d,g,t,N){t=Ka(N);t=Ra(t);if(null!==t){var da=r(t);if(null===da)t=null;else{var ib=da.tag;if(13===ib){t=v(da);if(null!==t)return t;t=null}else if(3===ib){if(da.stateNode.hydrate)return 3===da.tag?da.stateNode.containerInfo:null;t=null}else da!==t&&(t=null)}}d=hb(d,N,t,g);try{Ga(mb,d)}finally{ra(d)}return null}
function Cb(d,g,t){return null==g||"boolean"===typeof g||""===g?"":t||"number"!==typeof g||0===g||Ui.hasOwnProperty(d)&&Ui[d]?(""+g).trim():g+"px"}function Rb(d,g){d=d.style;for(var t in g)if(g.hasOwnProperty(t)){var N=0===t.indexOf("--"),da=Cb(t,g[t],N);"float"===t&&(t="cssFloat");N?d.setProperty(t,da):d[t]=da}}function Rc(d,g){if(g){if($k[d]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(n(137,d,""));if(null!=g.dangerouslySetInnerHTML){if(null!=g.children)throw Error(n(60));if(!("object"===
typeof g.dangerouslySetInnerHTML&&"__html"in g.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=g.style&&"object"!==typeof g.style)throw Error(n(62,""));}}function se(d,g){if(-1===d.indexOf("-"))return"string"===typeof g.is;switch(d){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function De(d,g){d=9===d.nodeType||11===d.nodeType?d:d.ownerDocument;
var t=m(d);g=pj[g];for(var N=0;N<g.length;N++)Ib(g[N],d,t)}function Ne(){}function Md(d){d=d||("undefined"!==typeof document?document:void 0);if("undefined"===typeof d)return null;try{return d.activeElement||d.body}catch(g){return d.body}}function K(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function fa(d,g){var t=K(d);d=0;for(var N;t;){if(3===t.nodeType){N=d+t.textContent.length;if(d<=g&&N>=g)return{node:t,offset:g-d};d=N}a:{for(;t;){if(t.nextSibling){t=t.nextSibling;break a}t=t.parentNode}t=
void 0}t=K(t)}}function bb(d,g){return d&&g?d===g?!0:d&&3===d.nodeType?!1:g&&3===g.nodeType?bb(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function La(){for(var d=window,g=Md();g instanceof d.HTMLIFrameElement;){try{var t="string"===typeof g.contentWindow.location.href}catch(N){t=!1}if(t)d=g.contentWindow;else break;g=Md(d.document)}return g}function Fb(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&("input"===g&&("text"===
d.type||"search"===d.type||"tel"===d.type||"url"===d.type||"password"===d.type)||"textarea"===g||"true"===d.contentEditable)}function Vb(d,g){switch(d){case "button":case "input":case "select":case "textarea":return!!g.autoFocus}return!1}function Yb(d,g){return"textarea"===d||"option"===d||"noscript"===d||"string"===typeof g.children||"number"===typeof g.children||"object"===typeof g.dangerouslySetInnerHTML&&null!==g.dangerouslySetInnerHTML&&null!=g.dangerouslySetInnerHTML.__html}function cc(d){for(;null!=
d;d=d.nextSibling){var g=d.nodeType;if(1===g||3===g)break}return d}function va(d){d=d.previousSibling;for(var g=0;d;){if(8===d.nodeType){var t=d.data;if(t===bl||t===zj||t===Vi){if(0===g)return d;g--}else t===cl&&g++}d=d.previousSibling}return null}function Ra(d){var g=d[Sg];if(g)return g;for(var t=d.parentNode;t;){if(g=t[Jh]||t[Sg]){t=g.alternate;if(null!==g.child||null!==t&&null!==t.child)for(d=va(d);null!==d;){if(t=d[Sg])return t;d=va(d)}return g}d=t;t=d.parentNode}return null}function yb(d){d=
d[Sg]||d[Jh];return!d||5!==d.tag&&6!==d.tag&&13!==d.tag&&3!==d.tag?null:d}function Nb(d){if(5===d.tag||6===d.tag)return d.stateNode;throw Error(n(33));}function gc(d){return d[Xi]||null}function tc(d){do d=d.return;while(d&&5!==d.tag);return d?d:null}function lc(d,g){var t=d.stateNode;if(!t)return null;var N=kk(t);if(!N)return null;t=N[g];a:switch(g){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(N=
!N.disabled)||(d=d.type,N=!("button"===d||"input"===d||"select"===d||"textarea"===d));d=!N;break a;default:d=!1}if(d)return null;if(t&&"function"!==typeof t)throw Error(n(231,g,typeof t));return t}function xb(d,g,t){if(g=lc(d,t.dispatchConfig.phasedRegistrationNames[g]))t._dispatchListeners=ua(t._dispatchListeners,g),t._dispatchInstances=ua(t._dispatchInstances,d)}function Qb(d){if(d&&d.dispatchConfig.phasedRegistrationNames){for(var g=d._targetInst,t=[];g;)t.push(g),g=tc(g);for(g=t.length;0<g--;)xb(t[g],
"captured",d);for(g=0;g<t.length;g++)xb(t[g],"bubbled",d)}}function Gc(d,g,t){d&&t&&t.dispatchConfig.registrationName&&(g=lc(d,t.dispatchConfig.registrationName))&&(t._dispatchListeners=ua(t._dispatchListeners,g),t._dispatchInstances=ua(t._dispatchInstances,d))}function $b(d){d&&d.dispatchConfig.registrationName&&Gc(d._targetInst,null,d)}function Ac(d){fb(d,Qb)}function Jc(){if(Yi)return Yi;var d,g=Cj,t=g.length,N,da="value"in fh?fh.value:fh.textContent,ib=da.length;for(d=0;d<t&&g[d]===da[d];d++);
var nb=t-d;for(N=1;N<=nb&&g[t-N]===da[ib-N];N++);return Yi=da.slice(d,1<N?1-N:void 0)}function Hc(){return!0}function ad(){return!1}function md(d,g,t,N){this.dispatchConfig=d;this._targetInst=g;this.nativeEvent=t;d=this.constructor.Interface;for(var da in d)d.hasOwnProperty(da)&&((g=d[da])?this[da]=g(t):"target"===da?this.target=N:this[da]=t[da]);this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?Hc:ad;this.isPropagationStopped=ad;return this}function od(d,g,
t,N){if(this.eventPool.length){var da=this.eventPool.pop();this.call(da,d,g,t,N);return da}return new this(d,g,t,N)}function rd(d){if(!(d instanceof this))throw Error(n(279));d.destructor();10>this.eventPool.length&&this.eventPool.push(d)}function Vd(d){d.eventPool=[];d.getPooled=od;d.release=rd}function Zd(d,g){switch(d){case "keyup":return-1!==fl.indexOf(g.keyCode);case "keydown":return 229!==g.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ze(d){d=d.detail;
return"object"===typeof d&&"data"in d?d.data:null}function te(d,g){switch(d){case "compositionend":return ze(g);case "keypress":if(32!==g.which)return null;jl=!0;return il;case "textInput":return d=g.data,d===il&&jl?null:d;default:return null}}function ue(d,g){if(Kh)return"compositionend"===d||!Dj&&Zd(d,g)?(d=Jc(),Yi=Cj=fh=null,Kh=!1,d):null;switch(d){case "paste":return null;case "keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;
case "compositionend":return tk&&"ko"!==g.locale?null:g.data;default:return null}}function bf(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return"input"===g?!!kl[d.type]:"textarea"===g?!0:!1}function vd(d,g,t){d=md.getPooled(vk.change,d,g,t);d.type="change";Ea(t);Ac(d);return d}function P(d){Ca(d)}function na(d){var g=Nb(d);if(jb(g))return d}function Da(d,g){if("change"===d)return g}function gb(){$i&&($i.detachEvent("onpropertychange",Ta),aj=$i=null)}function Ta(d){if("value"===d.propertyName&&
na(aj))if(d=vd(aj,d,Ka(d)),Ng)Ca(d);else{Ng=!0;try{db(P,d)}finally{Ng=!1,pa()}}}function Pb(d,g,t){"focus"===d?(gb(),$i=g,aj=t,$i.attachEvent("onpropertychange",Ta)):"blur"===d&&gb()}function kc(d){if("selectionchange"===d||"keyup"===d||"keydown"===d)return na(aj)}function oc(d,g){if("click"===d)return na(g)}function qc(d,g){if("input"===d||"change"===d)return na(g)}function uc(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Nl[d])?!!g[d]:!1}function kd(){return uc}function pd(d,
g){return d===g&&(0!==d||1/d===1/g)||d!==d&&g!==g}function yd(d,g){if(Mh(d,g))return!0;if("object"!==typeof d||null===d||"object"!==typeof g||null===g)return!1;var t=Object.keys(d),N=Object.keys(g);if(t.length!==N.length)return!1;for(N=0;N<t.length;N++)if(!Ak.call(g,t[N])||!Mh(d[t[N]],g[t[N]]))return!1;return!0}function ld(d,g){var t=g.window===g?g.document:9===g.nodeType?g:g.ownerDocument;if(Bk||null==yi||yi!==Md(t))return null;t=yi;"selectionStart"in t&&Fb(t)?t={start:t.selectionStart,end:t.selectionEnd}:
(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset});return Lh&&yd(Lh,t)?null:(Lh=t,d=md.getPooled(Hj.select,Gj,d,g),d.type="select",d.target=yi,Ac(d),d)}function Od(d){var g=d.keyCode;"charCode"in d?(d=d.charCode,0===d&&13===g&&(d=13)):d=g;10===d&&(d=13);return 32<=d||13===d?d:0}function de(d){0>Nh||(d.current=Jj[Nh],Jj[Nh]=null,Nh--)}function jc(d,g){Nh++;Jj[Nh]=d.current;
d.current=g}function Wd(d,g){var t=d.type.contextTypes;if(!t)return gh;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var da={},ib;for(ib in t)da[ib]=g[ib];N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=da);return da}function Jd(d){d=d.childContextTypes;return null!==d&&void 0!==d}function Lb(){de(jg);de(Sf)}function Ke(d,g,t){if(Sf.current!==gh)throw Error(n(168));
jc(Sf,g);jc(jg,t)}function oe(d,g,t){var N=d.stateNode;d=g.childContextTypes;if("function"!==typeof N.getChildContext)return t;N=N.getChildContext();for(var da in N)if(!(da in d))throw Error(n(108,wa(g)||"Unknown",da));return Pf({},t,{},N)}function re(d){d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||gh;Oh=Sf.current;jc(Sf,d);jc(jg,jg.current);return!0}function Ye(d,g,t){var N=d.stateNode;if(!N)throw Error(n(169));t?(d=oe(d,g,Oh),N.__reactInternalMemoizedMergedChildContext=d,de(jg),
de(Sf),jc(Sf,d)):de(jg);jc(jg,t)}function Oe(){switch(ii()){case dj:return 99;case wl:return 98;case xl:return 97;case Ek:return 96;case Fk:return 95;default:throw Error(n(332));}}function ff(d){switch(d){case 99:return dj;case 98:return wl;case 97:return xl;case 96:return Ek;case 95:return Fk;default:throw Error(n(332));}}function He(d,g){d=ff(d);return ul(d,g)}function be(d,g,t){d=ff(d);return Dk(d,g,t)}function fc(d){null===Hg?(Hg=[d],ej=Dk(dj,dc)):Hg.push(d);return Kj}function Pd(){if(null!==
ej){var d=ej;ej=null;nf(d)}dc()}function dc(){if(!Gk&&null!==Hg){Gk=!0;var d=0;try{var g=Hg;He(99,function(){for(;d<g.length;d++){var t=g[d];do t=t(!0);while(null!==t)}});Hg=null}catch(t){throw null!==Hg&&(Hg=Hg.slice(d+1)),Dk(dj,Pd),t;}finally{Gk=!1}}}function Yc(d,g,t){t/=10;return 1073741821-(((1073741821-d+g/10)/t|0)+1)*t}function ne(d,g){if(d&&d.defaultProps){g=Pf({},g);d=d.defaultProps;for(var t in d)void 0===g[t]&&(g[t]=d[t])}return g}function ee(d){var g=Mj.current;de(Mj);d.type._context._currentValue=
g}function Pc(d,g){for(;null!==d;){var t=d.alternate;if(d.childExpirationTime<g)d.childExpirationTime=g,null!==t&&t.childExpirationTime<g&&(t.childExpirationTime=g);else if(null!==t&&t.childExpirationTime<g)t.childExpirationTime=g;else break;d=d.return}}function fe(d,g){Ai=d;zi=yh=null;d=d.dependencies;null!==d&&null!==d.firstContext&&(d.expirationTime>=g&&(Qg=!0),d.firstContext=null)}function Sd(d,g){if(zi!==d&&!1!==g&&0!==g){if("number"!==typeof g||1073741823===g)zi=d,g=1073741823;g={context:d,
observedBits:g,next:null};if(null===yh){if(null===Ai)throw Error(n(308));yh=g;Ai.dependencies={expirationTime:0,firstContext:g,responders:null}}else yh=yh.next=g}return d._currentValue}function Ld(d){d.updateQueue={baseState:d.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Qd(d,g){d=d.updateQueue;g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,baseQueue:d.baseQueue,shared:d.shared,effects:d.effects})}function Ed(d,g){d={expirationTime:d,suspenseConfig:g,tag:0,payload:null,
callback:null,next:null};return d.next=d}function ke(d,g){d=d.updateQueue;if(null!==d){d=d.shared;var t=d.pending;null===t?g.next=g:(g.next=t.next,t.next=g);d.pending=g}}function Gd(d,g){var t=d.alternate;null!==t&&Qd(t,d);d=d.updateQueue;t=d.baseQueue;null===t?(d.baseQueue=g.next=g,g.next=g):(g.next=t.next,t.next=g)}function pe(d,g,t,N){var da=d.updateQueue;zh=!1;var ib=da.baseQueue,nb=da.shared.pending;if(null!==nb){if(null!==ib){var Ob=ib.next;ib.next=nb.next;nb.next=Ob}ib=nb;da.shared.pending=
null;Ob=d.alternate;null!==Ob&&(Ob=Ob.updateQueue,null!==Ob&&(Ob.baseQueue=nb))}if(null!==ib){Ob=ib.next;var Lc=da.baseState,Nc=0,td=null,Kd=null,Je=null;if(null!==Ob){var We=Ob;do{nb=We.expirationTime;if(nb<N){var vg={expirationTime:We.expirationTime,suspenseConfig:We.suspenseConfig,tag:We.tag,payload:We.payload,callback:We.callback,next:null};null===Je?(Kd=Je=vg,td=Lc):Je=Je.next=vg;nb>Nc&&(Nc=nb)}else{null!==Je&&(Je=Je.next={expirationTime:1073741823,suspenseConfig:We.suspenseConfig,tag:We.tag,
payload:We.payload,callback:We.callback,next:null});lf(nb,We.suspenseConfig);a:{var Jf=d,Dc=We;nb=g;vg=t;switch(Dc.tag){case 1:Jf=Dc.payload;if("function"===typeof Jf){Lc=Jf.call(vg,Lc,nb);break a}Lc=Jf;break a;case 3:Jf.effectTag=Jf.effectTag&-4097|64;case 0:Jf=Dc.payload;nb="function"===typeof Jf?Jf.call(vg,Lc,nb):Jf;if(null===nb||void 0===nb)break a;Lc=Pf({},Lc,nb);break a;case 2:zh=!0}}null!==We.callback&&(d.effectTag|=32,nb=da.effects,null===nb?da.effects=[We]:nb.push(We))}We=We.next;if(null===
We||We===Ob)if(nb=da.shared.pending,null===nb)break;else We=ib.next=nb.next,nb.next=Ob,da.baseQueue=ib=nb,da.shared.pending=null}while(1)}null===Je?td=Lc:Je.next=Kd;da.baseState=td;da.baseQueue=Je;hf(Nc);d.expirationTime=Nc;d.memoizedState=Lc}}function Le(d,g,t){d=g.effects;g.effects=null;if(null!==d)for(g=0;g<d.length;g++){var N=d[g],da=N.callback;if(null!==da){N.callback=null;N=da;da=t;if("function"!==typeof N)throw Error(n(191,N));N.call(da)}}}function cf(d,g,t,N){g=d.memoizedState;t=t(N,g);t=
null===t||void 0===t?g:Pf({},g,t);d.memoizedState=t;0===d.expirationTime&&(d.updateQueue.baseState=t)}function qf(d,g,t,N,da,ib,nb){d=d.stateNode;return"function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(N,ib,nb):g.prototype&&g.prototype.isPureReactComponent?!yd(t,N)||!yd(da,ib):!0}function gd(d,g,t){var N=!1,da=gh,ib=g.contextType;"object"===typeof ib&&null!==ib?ib=Sd(ib):(da=Jd(g)?Oh:Sf.current,N=g.contextTypes,ib=(N=null!==N&&void 0!==N)?Wd(d,da):gh);g=new g(t,ib);d.memoizedState=
null!==g.state&&void 0!==g.state?g.state:null;g.updater=Oj;d.stateNode=g;g._reactInternalFiber=d;N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=da,d.__reactInternalMemoizedMaskedChildContext=ib);return g}function rf(d,g,t,N){d=g.state;"function"===typeof g.componentWillReceiveProps&&g.componentWillReceiveProps(t,N);"function"===typeof g.UNSAFE_componentWillReceiveProps&&g.UNSAFE_componentWillReceiveProps(t,N);g.state!==d&&Oj.enqueueReplaceState(g,g.state,null)}function Fe(d,g,t,N){var da=
d.stateNode;da.props=t;da.state=d.memoizedState;da.refs=zl;Ld(d);var ib=g.contextType;"object"===typeof ib&&null!==ib?da.context=Sd(ib):(ib=Jd(g)?Oh:Sf.current,da.context=Wd(d,ib));pe(d,t,da,N);da.state=d.memoizedState;ib=g.getDerivedStateFromProps;"function"===typeof ib&&(cf(d,g,ib,t),da.state=d.memoizedState);"function"===typeof g.getDerivedStateFromProps||"function"===typeof da.getSnapshotBeforeUpdate||"function"!==typeof da.UNSAFE_componentWillMount&&"function"!==typeof da.componentWillMount||
(g=da.state,"function"===typeof da.componentWillMount&&da.componentWillMount(),"function"===typeof da.UNSAFE_componentWillMount&&da.UNSAFE_componentWillMount(),g!==da.state&&Oj.enqueueReplaceState(da,da.state,null),pe(d,t,da,N),da.state=d.memoizedState);"function"===typeof da.componentDidMount&&(d.effectTag|=4)}function Pe(d,g,t){d=t.ref;if(null!==d&&"function"!==typeof d&&"object"!==typeof d){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(n(309));var N=t.stateNode}if(!N)throw Error(n(147,d));
var da=""+d;if(null!==g&&null!==g.ref&&"function"===typeof g.ref&&g.ref._stringRef===da)return g.ref;g=function(ib){var nb=N.refs;nb===zl&&(nb=N.refs={});null===ib?delete nb[da]:nb[da]=ib};g._stringRef=da;return g}if("string"!==typeof d)throw Error(n(284));if(!t._owner)throw Error(n(290,d));}return d}function Ee(d,g){if("textarea"!==d.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(g)?"object with keys {"+Object.keys(g).join(", ")+"}":g,""));}function $e(d){function g(Dc,
vc){if(d){var Sc=Dc.lastEffect;null!==Sc?(Sc.nextEffect=vc,Dc.lastEffect=vc):Dc.firstEffect=Dc.lastEffect=vc;vc.nextEffect=null;vc.effectTag=8}}function t(Dc,vc){if(!d)return null;for(;null!==vc;)g(Dc,vc),vc=vc.sibling;return null}function N(Dc,vc){for(Dc=new Map;null!==vc;)null!==vc.key?Dc.set(vc.key,vc):Dc.set(vc.index,vc),vc=vc.sibling;return Dc}function da(Dc,vc){Dc=sf(Dc,vc);Dc.index=0;Dc.sibling=null;return Dc}function ib(Dc,vc,Sc){Dc.index=Sc;if(!d)return vc;Sc=Dc.alternate;if(null!==Sc)return Sc=
Sc.index,Sc<vc?(Dc.effectTag=2,vc):Sc;Dc.effectTag=2;return vc}function nb(Dc){d&&null===Dc.alternate&&(Dc.effectTag=2);return Dc}function Ob(Dc,vc,Sc,nd){if(null===vc||6!==vc.tag)return vc=Dh(Sc,Dc.mode,nd),vc.return=Dc,vc;vc=da(vc,Sc);vc.return=Dc;return vc}function Lc(Dc,vc,Sc,nd){if(null!==vc&&vc.elementType===Sc.type)return nd=da(vc,Sc.props),nd.ref=Pe(Dc,vc,Sc),nd.return=Dc,nd;nd=Ii(Sc.type,Sc.key,Sc.props,null,Dc.mode,nd);nd.ref=Pe(Dc,vc,Sc);nd.return=Dc;return nd}function Nc(Dc,vc,Sc,nd){if(null===
vc||4!==vc.tag||vc.stateNode.containerInfo!==Sc.containerInfo||vc.stateNode.implementation!==Sc.implementation)return vc=Mf(Sc,Dc.mode,nd),vc.return=Dc,vc;vc=da(vc,Sc.children||[]);vc.return=Dc;return vc}function td(Dc,vc,Sc,nd,Dd){if(null===vc||7!==vc.tag)return vc=ph(Sc,Dc.mode,nd,Dd),vc.return=Dc,vc;vc=da(vc,Sc);vc.return=Dc;return vc}function Kd(Dc,vc,Sc){if("string"===typeof vc||"number"===typeof vc)return vc=Dh(""+vc,Dc.mode,Sc),vc.return=Dc,vc;if("object"===typeof vc&&null!==vc){switch(vc.$$typeof){case Ni:return Sc=
Ii(vc.type,vc.key,vc.props,null,Dc.mode,Sc),Sc.ref=Pe(Dc,null,vc),Sc.return=Dc,Sc;case qi:return vc=Mf(vc,Dc.mode,Sc),vc.return=Dc,vc}if(Pj(vc)||ya(vc))return vc=ph(vc,Dc.mode,Sc,null),vc.return=Dc,vc;Ee(Dc,vc)}return null}function Je(Dc,vc,Sc,nd){var Dd=null!==vc?vc.key:null;if("string"===typeof Sc||"number"===typeof Sc)return null!==Dd?null:Ob(Dc,vc,""+Sc,nd);if("object"===typeof Sc&&null!==Sc){switch(Sc.$$typeof){case Ni:return Sc.key===Dd?Sc.type===bh?td(Dc,vc,Sc.props.children,nd,Dd):Lc(Dc,vc,
Sc,nd):null;case qi:return Sc.key===Dd?Nc(Dc,vc,Sc,nd):null}if(Pj(Sc)||ya(Sc))return null!==Dd?null:td(Dc,vc,Sc,nd,null);Ee(Dc,Sc)}return null}function We(Dc,vc,Sc,nd,Dd){if("string"===typeof nd||"number"===typeof nd)return Dc=Dc.get(Sc)||null,Ob(vc,Dc,""+nd,Dd);if("object"===typeof nd&&null!==nd){switch(nd.$$typeof){case Ni:return Dc=Dc.get(null===nd.key?Sc:nd.key)||null,nd.type===bh?td(vc,Dc,nd.props.children,Dd,nd.key):Lc(vc,Dc,nd,Dd);case qi:return Dc=Dc.get(null===nd.key?Sc:nd.key)||null,Nc(vc,
Dc,nd,Dd)}if(Pj(nd)||ya(nd))return Dc=Dc.get(Sc)||null,td(vc,Dc,nd,Dd,null);Ee(vc,nd)}return null}function vg(Dc,vc,Sc,nd){for(var Dd=null,Ud=null,le=vc,Te=vc=0,uf=null;null!==le&&Te<Sc.length;Te++){le.index>Te?(uf=le,le=null):uf=le.sibling;var Ge=Je(Dc,le,Sc[Te],nd);if(null===Ge){null===le&&(le=uf);break}d&&le&&null===Ge.alternate&&g(Dc,le);vc=ib(Ge,vc,Te);null===Ud?Dd=Ge:Ud.sibling=Ge;Ud=Ge;le=uf}if(Te===Sc.length)return t(Dc,le),Dd;if(null===le){for(;Te<Sc.length;Te++)le=Kd(Dc,Sc[Te],nd),null!==
le&&(vc=ib(le,vc,Te),null===Ud?Dd=le:Ud.sibling=le,Ud=le);return Dd}for(le=N(Dc,le);Te<Sc.length;Te++)uf=We(le,Dc,Te,Sc[Te],nd),null!==uf&&(d&&null!==uf.alternate&&le.delete(null===uf.key?Te:uf.key),vc=ib(uf,vc,Te),null===Ud?Dd=uf:Ud.sibling=uf,Ud=uf);d&&le.forEach(function(Ah){return g(Dc,Ah)});return Dd}function Jf(Dc,vc,Sc,nd){var Dd=ya(Sc);if("function"!==typeof Dd)throw Error(n(150));Sc=Dd.call(Sc);if(null==Sc)throw Error(n(151));for(var Ud=Dd=null,le=vc,Te=vc=0,uf=null,Ge=Sc.next();null!==le&&
!Ge.done;Te++,Ge=Sc.next()){le.index>Te?(uf=le,le=null):uf=le.sibling;var Ah=Je(Dc,le,Ge.value,nd);if(null===Ah){null===le&&(le=uf);break}d&&le&&null===Ah.alternate&&g(Dc,le);vc=ib(Ah,vc,Te);null===Ud?Dd=Ah:Ud.sibling=Ah;Ud=Ah;le=uf}if(Ge.done)return t(Dc,le),Dd;if(null===le){for(;!Ge.done;Te++,Ge=Sc.next())Ge=Kd(Dc,Ge.value,nd),null!==Ge&&(vc=ib(Ge,vc,Te),null===Ud?Dd=Ge:Ud.sibling=Ge,Ud=Ge);return Dd}for(le=N(Dc,le);!Ge.done;Te++,Ge=Sc.next())Ge=We(le,Dc,Te,Ge.value,nd),null!==Ge&&(d&&null!==Ge.alternate&&
le.delete(null===Ge.key?Te:Ge.key),vc=ib(Ge,vc,Te),null===Ud?Dd=Ge:Ud.sibling=Ge,Ud=Ge);d&&le.forEach(function(Mk){return g(Dc,Mk)});return Dd}return function(Dc,vc,Sc,nd){var Dd="object"===typeof Sc&&null!==Sc&&Sc.type===bh&&null===Sc.key;Dd&&(Sc=Sc.props.children);var Ud="object"===typeof Sc&&null!==Sc;if(Ud)switch(Sc.$$typeof){case Ni:a:{Ud=Sc.key;for(Dd=vc;null!==Dd;){if(Dd.key===Ud){switch(Dd.tag){case 7:if(Sc.type===bh){t(Dc,Dd.sibling);vc=da(Dd,Sc.props.children);vc.return=Dc;Dc=vc;break a}break;
default:if(Dd.elementType===Sc.type){t(Dc,Dd.sibling);vc=da(Dd,Sc.props);vc.ref=Pe(Dc,Dd,Sc);vc.return=Dc;Dc=vc;break a}}t(Dc,Dd);break}else g(Dc,Dd);Dd=Dd.sibling}Sc.type===bh?(vc=ph(Sc.props.children,Dc.mode,nd,Sc.key),vc.return=Dc,Dc=vc):(nd=Ii(Sc.type,Sc.key,Sc.props,null,Dc.mode,nd),nd.ref=Pe(Dc,vc,Sc),nd.return=Dc,Dc=nd)}return nb(Dc);case qi:a:{for(Dd=Sc.key;null!==vc;){if(vc.key===Dd)if(4===vc.tag&&vc.stateNode.containerInfo===Sc.containerInfo&&vc.stateNode.implementation===Sc.implementation){t(Dc,
vc.sibling);vc=da(vc,Sc.children||[]);vc.return=Dc;Dc=vc;break a}else{t(Dc,vc);break}else g(Dc,vc);vc=vc.sibling}vc=Mf(Sc,Dc.mode,nd);vc.return=Dc;Dc=vc}return nb(Dc)}if("string"===typeof Sc||"number"===typeof Sc)return Sc=""+Sc,null!==vc&&6===vc.tag?(t(Dc,vc.sibling),vc=da(vc,Sc),vc.return=Dc,Dc=vc):(t(Dc,vc),vc=Dh(Sc,Dc.mode,nd),vc.return=Dc,Dc=vc),nb(Dc);if(Pj(Sc))return vg(Dc,vc,Sc,nd);if(ya(Sc))return Jf(Dc,vc,Sc,nd);Ud&&Ee(Dc,Sc);if("undefined"===typeof Sc&&!Dd)switch(Dc.tag){case 1:case 0:throw Dc=
Dc.type,Error(n(152,Dc.displayName||Dc.name||"Component"));}return t(Dc,vc)}}function Qe(d){if(d===gj)throw Error(n(174));return d}function df(d,g){jc(Yh,g);jc(Xh,d);jc(Wg,gj);d=g.nodeType;switch(d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:w(null,"");break;default:d=8===d?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=w(g,d)}de(Wg);jc(Wg,g)}function Be(){de(Wg);de(Xh);de(Yh)}function D(d){Qe(Yh.current);var g=Qe(Wg.current),t=w(g,d.type);g!==t&&(jc(Xh,d),jc(Wg,t))}function R(d){Xh.current===
d&&(de(Wg),de(Xh))}function Na(d){for(var g=d;null!==g;){if(13===g.tag){var t=g.memoizedState;if(null!==t&&(t=t.dehydrated,null===t||t.data===Vi||t.data===zj))return g}else if(19===g.tag&&void 0!==g.memoizedProps.revealOrder){if(0!==(g.effectTag&64))return g}else if(null!==g.child){g.child.return=g;g=g.child;continue}if(g===d)break;for(;null===g.sibling;){if(null===g.return||g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}return null}function Ab(d,g){return{responder:d,props:g}}
function zb(){throw Error(n(321));}function Jb(d,g){if(null===g)return!1;for(var t=0;t<g.length&&t<d.length;t++)if(!Mh(d[t],g[t]))return!1;return!0}function ac(d,g,t,N,da,ib){rh=ib;zd=g;g.memoizedState=null;g.updateQueue=null;g.expirationTime=0;kj.current=null===d||null===d.memoizedState?mf:id;d=t(N,da);if(g.expirationTime===rh){ib=0;do{g.expirationTime=0;if(!(25>ib))throw Error(n(301));ib+=1;Gf=zf=null;g.updateQueue=null;kj.current=ah;d=t(N,da)}while(g.expirationTime===rh)}kj.current=xe;g=null!==
zf&&null!==zf.next;rh=0;Gf=zf=zd=null;Zg=!1;if(g)throw Error(n(300));return d}function Oc(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Gf?zd.memoizedState=Gf=d:Gf=Gf.next=d;return Gf}function Fc(){if(null===zf){var d=zd.alternate;d=null!==d?d.memoizedState:null}else d=zf.next;var g=null===Gf?zd.memoizedState:Gf.next;if(null!==g)Gf=g,zf=d;else{if(null===d)throw Error(n(310));zf=d;d={memoizedState:zf.memoizedState,baseState:zf.baseState,baseQueue:zf.baseQueue,
queue:zf.queue,next:null};null===Gf?zd.memoizedState=Gf=d:Gf=Gf.next=d}return Gf}function bd(d,g){return"function"===typeof g?g(d):g}function cd(d){var g=Fc(),t=g.queue;if(null===t)throw Error(n(311));t.lastRenderedReducer=d;var N=zf,da=N.baseQueue,ib=t.pending;if(null!==ib){if(null!==da){var nb=da.next;da.next=ib.next;ib.next=nb}N.baseQueue=da=ib;t.pending=null}if(null!==da){da=da.next;N=N.baseState;var Ob=nb=ib=null,Lc=da;do{var Nc=Lc.expirationTime;if(Nc<rh){var td={expirationTime:Lc.expirationTime,
suspenseConfig:Lc.suspenseConfig,action:Lc.action,eagerReducer:Lc.eagerReducer,eagerState:Lc.eagerState,next:null};null===Ob?(nb=Ob=td,ib=N):Ob=Ob.next=td;Nc>zd.expirationTime&&(zd.expirationTime=Nc,hf(Nc))}else null!==Ob&&(Ob=Ob.next={expirationTime:1073741823,suspenseConfig:Lc.suspenseConfig,action:Lc.action,eagerReducer:Lc.eagerReducer,eagerState:Lc.eagerState,next:null}),lf(Nc,Lc.suspenseConfig),N=Lc.eagerReducer===d?Lc.eagerState:d(N,Lc.action);Lc=Lc.next}while(null!==Lc&&Lc!==da);null===Ob?
ib=N:Ob.next=nb;Mh(N,g.memoizedState)||(Qg=!0);g.memoizedState=N;g.baseState=ib;g.baseQueue=Ob;t.lastRenderedState=N}return[g.memoizedState,t.dispatch]}function jd(d){var g=Fc(),t=g.queue;if(null===t)throw Error(n(311));t.lastRenderedReducer=d;var N=t.dispatch,da=t.pending,ib=g.memoizedState;if(null!==da){t.pending=null;var nb=da=da.next;do ib=d(ib,nb.action),nb=nb.next;while(nb!==da);Mh(ib,g.memoizedState)||(Qg=!0);g.memoizedState=ib;null===g.baseQueue&&(g.baseState=ib);t.lastRenderedState=ib}return[ib,
N]}function wd(d){var g=Oc();"function"===typeof d&&(d=d());g.memoizedState=g.baseState=d;d=g.queue={pending:null,dispatch:null,lastRenderedReducer:bd,lastRenderedState:d};d=d.dispatch=C.bind(null,zd,d);return[g.memoizedState,d]}function Hd(d,g,t,N){d={tag:d,create:g,destroy:t,deps:N,next:null};g=zd.updateQueue;null===g?(g={lastEffect:null},zd.updateQueue=g,g.lastEffect=d.next=d):(t=g.lastEffect,null===t?g.lastEffect=d.next=d:(N=t.next,t.next=d,d.next=N,g.lastEffect=d));return d}function ge(){return Fc().memoizedState}
function me(d,g,t,N){var da=Oc();zd.effectTag|=d;da.memoizedState=Hd(1|g,t,void 0,void 0===N?null:N)}function qe(d,g,t,N){var da=Fc();N=void 0===N?null:N;var ib=void 0;if(null!==zf){var nb=zf.memoizedState;ib=nb.destroy;if(null!==N&&Jb(N,nb.deps)){Hd(g,t,ib,N);return}}zd.effectTag|=d;da.memoizedState=Hd(1|g,t,ib,N)}function he(d,g){return me(516,4,d,g)}function Fd(d,g){return qe(516,4,d,g)}function ef(d,g){return qe(4,2,d,g)}function xf(d,g){if("function"===typeof g)return d=d(),g(d),function(){g(null)};
if(null!==g&&void 0!==g)return d=d(),g.current=d,function(){g.current=null}}function Ff(d,g,t){t=null!==t&&void 0!==t?t.concat([d]):null;return qe(4,2,xf.bind(null,g,d),t)}function kf(){}function cg(d,g){Oc().memoizedState=[d,void 0===g?null:g];return d}function yf(d,g){var t=Fc();g=void 0===g?null:g;var N=t.memoizedState;if(null!==N&&null!==g&&Jb(g,N[1]))return N[0];t.memoizedState=[d,g];return d}function Xf(d,g){var t=Fc();g=void 0===g?null:g;var N=t.memoizedState;if(null!==N&&null!==g&&Jb(g,N[1]))return N[0];
d=d();t.memoizedState=[d,g];return d}function B(d,g,t){var N=Oe();He(98>N?98:N,function(){d(!0)});He(97<N?97:N,function(){var da=qg.suspense;qg.suspense=void 0===g?null:g;try{d(!1),t()}finally{qg.suspense=da}})}function C(d,g,t){var N=Wc(),da=Wh.suspense;N=fd(N,d,da);da={expirationTime:N,suspenseConfig:da,action:t,eagerReducer:null,eagerState:null,next:null};var ib=g.pending;null===ib?da.next=da:(da.next=ib.next,ib.next=da);g.pending=da;ib=d.alternate;if(d===zd||null!==ib&&ib===zd)Zg=!0,da.expirationTime=
rh,zd.expirationTime=rh;else{if(0===d.expirationTime&&(null===ib||0===ib.expirationTime)&&(ib=g.lastRenderedReducer,null!==ib))try{var nb=g.lastRenderedState,Ob=ib(nb,t);da.eagerReducer=ib;da.eagerState=Ob;if(Mh(Ob,nb))return}catch(Lc){}finally{}hd(d,N)}}function M(d,g){var t=Lg(5,null,null,0);t.elementType="DELETED";t.type="DELETED";t.stateNode=g;t.return=d;t.effectTag=8;null!==d.lastEffect?(d.lastEffect.nextEffect=t,d.lastEffect=t):d.firstEffect=d.lastEffect=t}function U(d,g){switch(d.tag){case 5:var t=
d.type;g=1!==g.nodeType||t.toLowerCase()!==g.nodeName.toLowerCase()?null:g;return null!==g?(d.stateNode=g,!0):!1;case 6:return g=""===d.pendingProps||3!==g.nodeType?null:g,null!==g?(d.stateNode=g,!0):!1;case 13:return!1;default:return!1}}function ca(d){if(Rg){var g=yg;if(g){var t=g;if(!U(d,g)){g=cc(t.nextSibling);if(!g||!U(d,g)){d.effectTag=d.effectTag&-1025|2;Rg=!1;Yf=d;return}M(Yf,t)}Yf=d;yg=cc(g.firstChild)}else d.effectTag=d.effectTag&-1025|2,Rg=!1,Yf=d}}function ia(d){for(d=d.return;null!==d&&
5!==d.tag&&3!==d.tag&&13!==d.tag;)d=d.return;Yf=d}function Aa(d){if(d!==Yf)return!1;if(!Rg)return ia(d),Rg=!0,!1;var g=d.type;if(5!==d.tag||"head"!==g&&"body"!==g&&!Yb(g,d.memoizedProps))for(g=yg;g;)M(d,g),g=cc(g.nextSibling);ia(d);if(13===d.tag){d=d.memoizedState;d=null!==d?d.dehydrated:null;if(!d)throw Error(n(317));a:{d=d.nextSibling;for(g=0;d;){if(8===d.nodeType){var t=d.data;if(t===cl){if(0===g){yg=cc(d.nextSibling);break a}g--}else t!==bl&&t!==zj&&t!==Vi||g++}d=d.nextSibling}yg=null}}else yg=
Yf?cc(d.stateNode.nextSibling):null;return!0}function Xa(d,g,t,N){g.child=null===d?Hk(g,null,t,N):Bi(g,d.child,t,N)}function Va(d,g,t,N,da){t=t.render;var ib=g.ref;fe(g,da);N=ac(d,g,t,N,ib,da);if(null!==d&&!Qg)return g.updateQueue=d.updateQueue,g.effectTag&=-517,d.expirationTime<=da&&(d.expirationTime=0),Ub(d,g,da);g.effectTag|=1;Xa(d,g,N,da);return g.child}function lb(d,g,t,N,da,ib){if(null===d){var nb=t.type;if("function"===typeof nb&&!ck(nb)&&void 0===nb.defaultProps&&null===t.compare&&void 0===
t.defaultProps)return g.tag=15,g.type=nb,pb(d,g,nb,N,da,ib);d=Ii(t.type,null,N,null,g.mode,ib);d.ref=g.ref;d.return=g;return g.child=d}nb=d.child;if(da<ib&&(da=nb.memoizedProps,t=t.compare,t=null!==t?t:yd,t(da,N)&&d.ref===g.ref))return Ub(d,g,ib);g.effectTag|=1;d=sf(nb,N);d.ref=g.ref;d.return=g;return g.child=d}function pb(d,g,t,N,da,ib){return null!==d&&yd(d.memoizedProps,N)&&d.ref===g.ref&&(Qg=!1,da<ib)?(g.expirationTime=d.expirationTime,Ub(d,g,ib)):Wb(d,g,t,N,ib)}function Gb(d,g){var t=g.ref;if(null===
d&&null!==t||null!==d&&d.ref!==t)g.effectTag|=128}function Wb(d,g,t,N,da){var ib=Jd(t)?Oh:Sf.current;ib=Wd(g,ib);fe(g,da);t=ac(d,g,t,N,ib,da);if(null!==d&&!Qg)return g.updateQueue=d.updateQueue,g.effectTag&=-517,d.expirationTime<=da&&(d.expirationTime=0),Ub(d,g,da);g.effectTag|=1;Xa(d,g,t,da);return g.child}function p(d,g,t,N,da){if(Jd(t)){var ib=!0;re(g)}else ib=!1;fe(g,da);if(null===g.stateNode)null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2),gd(g,t,N),Fe(g,t,N,da),N=!0;else if(null===
d){var nb=g.stateNode,Ob=g.memoizedProps;nb.props=Ob;var Lc=nb.context,Nc=t.contextType;"object"===typeof Nc&&null!==Nc?Nc=Sd(Nc):(Nc=Jd(t)?Oh:Sf.current,Nc=Wd(g,Nc));var td=t.getDerivedStateFromProps,Kd="function"===typeof td||"function"===typeof nb.getSnapshotBeforeUpdate;Kd||"function"!==typeof nb.UNSAFE_componentWillReceiveProps&&"function"!==typeof nb.componentWillReceiveProps||(Ob!==N||Lc!==Nc)&&rf(g,nb,N,Nc);zh=!1;var Je=g.memoizedState;nb.state=Je;pe(g,N,nb,da);Lc=g.memoizedState;Ob!==N||
Je!==Lc||jg.current||zh?("function"===typeof td&&(cf(g,t,td,N),Lc=g.memoizedState),(Ob=zh||qf(g,t,Ob,N,Je,Lc,Nc))?(Kd||"function"!==typeof nb.UNSAFE_componentWillMount&&"function"!==typeof nb.componentWillMount||("function"===typeof nb.componentWillMount&&nb.componentWillMount(),"function"===typeof nb.UNSAFE_componentWillMount&&nb.UNSAFE_componentWillMount()),"function"===typeof nb.componentDidMount&&(g.effectTag|=4)):("function"===typeof nb.componentDidMount&&(g.effectTag|=4),g.memoizedProps=N,g.memoizedState=
Lc),nb.props=N,nb.state=Lc,nb.context=Nc,N=Ob):("function"===typeof nb.componentDidMount&&(g.effectTag|=4),N=!1)}else nb=g.stateNode,Qd(d,g),Ob=g.memoizedProps,nb.props=g.type===g.elementType?Ob:ne(g.type,Ob),Lc=nb.context,Nc=t.contextType,"object"===typeof Nc&&null!==Nc?Nc=Sd(Nc):(Nc=Jd(t)?Oh:Sf.current,Nc=Wd(g,Nc)),td=t.getDerivedStateFromProps,(Kd="function"===typeof td||"function"===typeof nb.getSnapshotBeforeUpdate)||"function"!==typeof nb.UNSAFE_componentWillReceiveProps&&"function"!==typeof nb.componentWillReceiveProps||
(Ob!==N||Lc!==Nc)&&rf(g,nb,N,Nc),zh=!1,Lc=g.memoizedState,nb.state=Lc,pe(g,N,nb,da),Je=g.memoizedState,Ob!==N||Lc!==Je||jg.current||zh?("function"===typeof td&&(cf(g,t,td,N),Je=g.memoizedState),(td=zh||qf(g,t,Ob,N,Lc,Je,Nc))?(Kd||"function"!==typeof nb.UNSAFE_componentWillUpdate&&"function"!==typeof nb.componentWillUpdate||("function"===typeof nb.componentWillUpdate&&nb.componentWillUpdate(N,Je,Nc),"function"===typeof nb.UNSAFE_componentWillUpdate&&nb.UNSAFE_componentWillUpdate(N,Je,Nc)),"function"===
typeof nb.componentDidUpdate&&(g.effectTag|=4),"function"===typeof nb.getSnapshotBeforeUpdate&&(g.effectTag|=256)):("function"!==typeof nb.componentDidUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=4),"function"!==typeof nb.getSnapshotBeforeUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=256),g.memoizedProps=N,g.memoizedState=Je),nb.props=N,nb.state=Je,nb.context=Nc,N=td):("function"!==typeof nb.componentDidUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=
4),"function"!==typeof nb.getSnapshotBeforeUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=256),N=!1);return x(d,g,t,N,ib,da)}function x(d,g,t,N,da,ib){Gb(d,g);var nb=0!==(g.effectTag&64);if(!N&&!nb)return da&&Ye(g,t,!1),Ub(d,g,ib);N=g.stateNode;Xk.current=g;var Ob=nb&&"function"!==typeof t.getDerivedStateFromError?null:N.render();g.effectTag|=1;null!==d&&nb?(g.child=Bi(g,d.child,null,ib),g.child=Bi(g,null,Ob,ib)):Xa(d,g,Ob,ib);g.memoizedState=N.state;da&&Ye(g,t,!0);return g.child}
function Q(d){var g=d.stateNode;g.pendingContext?Ke(d,g.pendingContext,g.pendingContext!==g.context):g.context&&Ke(d,g.context,!1);df(d,g.containerInfo)}function W(d,g,t){var N=g.mode,da=g.pendingProps,ib=wf.current,nb=!1,Ob;(Ob=0!==(g.effectTag&64))||(Ob=0!==(ib&2)&&(null===d||null!==d.memoizedState));Ob?(nb=!0,g.effectTag&=-65):null!==d&&null===d.memoizedState||void 0===da.fallback||!0===da.unstable_avoidThisFallback||(ib|=1);jc(wf,ib&1);if(null===d){void 0!==da.fallback&&ca(g);if(nb){nb=da.fallback;
da=ph(null,N,0,null);da.return=g;if(0===(g.mode&2))for(d=null!==g.memoizedState?g.child.child:g.child,da.child=d;null!==d;)d.return=da,d=d.sibling;t=ph(nb,N,t,null);t.return=g;da.sibling=t;g.memoizedState=Qj;g.child=da;return t}N=da.children;g.memoizedState=null;return g.child=Hk(g,null,N,t)}if(null!==d.memoizedState){d=d.child;N=d.sibling;if(nb){da=da.fallback;t=sf(d,d.pendingProps);t.return=g;if(0===(g.mode&2)&&(nb=null!==g.memoizedState?g.child.child:g.child,nb!==d.child))for(t.child=nb;null!==
nb;)nb.return=t,nb=nb.sibling;N=sf(N,da);N.return=g;t.sibling=N;t.childExpirationTime=0;g.memoizedState=Qj;g.child=t;return N}t=Bi(g,d.child,da.children,t);g.memoizedState=null;return g.child=t}d=d.child;if(nb){nb=da.fallback;da=ph(null,N,0,null);da.return=g;da.child=d;null!==d&&(d.return=da);if(0===(g.mode&2))for(d=null!==g.memoizedState?g.child.child:g.child,da.child=d;null!==d;)d.return=da,d=d.sibling;t=ph(nb,N,t,null);t.return=g;da.sibling=t;t.effectTag|=2;da.childExpirationTime=0;g.memoizedState=
Qj;g.child=da;return t}g.memoizedState=null;return g.child=Bi(g,d,da.children,t)}function Ha(d,g){d.expirationTime<g&&(d.expirationTime=g);var t=d.alternate;null!==t&&t.expirationTime<g&&(t.expirationTime=g);Pc(d.return,g)}function ob(d,g,t,N,da,ib){var nb=d.memoizedState;null===nb?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:t,tailExpiration:0,tailMode:da,lastEffect:ib}:(nb.isBackwards=g,nb.rendering=null,nb.renderingStartTime=0,nb.last=N,nb.tail=t,nb.tailExpiration=
0,nb.tailMode=da,nb.lastEffect=ib)}function Db(d,g,t){var N=g.pendingProps,da=N.revealOrder,ib=N.tail;Xa(d,g,N.children,t);N=wf.current;if(0!==(N&2))N=N&1|2,g.effectTag|=64;else{if(null!==d&&0!==(d.effectTag&64))a:for(d=g.child;null!==d;){if(13===d.tag)null!==d.memoizedState&&Ha(d,t);else if(19===d.tag)Ha(d,t);else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===g)break a;for(;null===d.sibling;){if(null===d.return||d.return===g)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}N&=
1}jc(wf,N);if(0===(g.mode&2))g.memoizedState=null;else switch(da){case "forwards":t=g.child;for(da=null;null!==t;)d=t.alternate,null!==d&&null===Na(d)&&(da=t),t=t.sibling;t=da;null===t?(da=g.child,g.child=null):(da=t.sibling,t.sibling=null);ob(g,!1,da,t,ib,g.lastEffect);break;case "backwards":t=null;da=g.child;for(g.child=null;null!==da;){d=da.alternate;if(null!==d&&null===Na(d)){g.child=da;break}d=da.sibling;da.sibling=t;t=da;da=d}ob(g,!0,t,null,ib,g.lastEffect);break;case "together":ob(g,!1,null,
null,void 0,g.lastEffect);break;default:g.memoizedState=null}return g.child}function Ub(d,g,t){null!==d&&(g.dependencies=d.dependencies);var N=g.expirationTime;0!==N&&hf(N);if(g.childExpirationTime<t)return null;if(null!==d&&g.child!==d.child)throw Error(n(153));if(null!==g.child){d=g.child;t=sf(d,d.pendingProps);g.child=t;for(t.return=g;null!==d.sibling;)d=d.sibling,t=t.sibling=sf(d,d.pendingProps),t.return=g;t.sibling=null}return g.child}function ec(d,g){switch(d.tailMode){case "hidden":g=d.tail;
for(var t=null;null!==g;)null!==g.alternate&&(t=g),g=g.sibling;null===t?d.tail=null:t.sibling=null;break;case "collapsed":t=d.tail;for(var N=null;null!==t;)null!==t.alternate&&(N=t),t=t.sibling;null===N?g||null===d.tail?d.tail=null:d.tail.sibling=null:N.sibling=null}}function zc(d,g,t){var N=g.pendingProps;switch(g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Jd(g.type)&&Lb(),null;case 3:return Be(),de(jg),de(Sf),t=g.stateNode,t.pendingContext&&
(t.context=t.pendingContext,t.pendingContext=null),null!==d&&null!==d.child||!Aa(g)||(g.effectTag|=4),ak(g),null;case 5:R(g);t=Qe(Yh.current);var da=g.type;if(null!==d&&null!=g.stateNode)Dl(d,g,da,N,t),d.ref!==g.ref&&(g.effectTag|=128);else{if(!N){if(null===g.stateNode)throw Error(n(166));return null}d=Qe(Wg.current);if(Aa(g)){N=g.stateNode;da=g.type;var ib=g.memoizedProps;N[Sg]=g;N[Xi]=ib;switch(da){case "iframe":case "object":case "embed":Mb("load",N);break;case "video":case "audio":for(d=0;d<Ri.length;d++)Mb(Ri[d],
N);break;case "source":Mb("error",N);break;case "img":case "image":case "link":Mb("error",N);Mb("load",N);break;case "form":Mb("reset",N);Mb("submit",N);break;case "details":Mb("toggle",N);break;case "input":y(N,ib);Mb("invalid",N);De(t,"onChange");break;case "select":N._wrapperState={wasMultiple:!!ib.multiple};Mb("invalid",N);De(t,"onChange");break;case "textarea":E(N,ib),Mb("invalid",N),De(t,"onChange")}Rc(da,ib);d=null;for(var nb in ib)if(ib.hasOwnProperty(nb)){var Ob=ib[nb];"children"===nb?"string"===
typeof Ob?N.textContent!==Ob&&(d=["children",Ob]):"number"===typeof Ob&&N.textContent!==""+Ob&&(d=["children",""+Ob]):Gh.hasOwnProperty(nb)&&null!=Ob&&De(t,nb)}switch(da){case "input":Za(N);z(N,ib,!0);break;case "textarea":Za(N);Y(N);break;case "select":case "option":break;default:"function"===typeof ib.onClick&&(N.onclick=Ne)}t=d;g.updateQueue=t;null!==t&&(g.effectTag|=4)}else{nb=9===t.nodeType?t:t.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=V(da));"http://www.w3.org/1999/xhtml"===d?"script"===
da?(d=nb.createElement("div"),d.innerHTML="\x3cscript\x3e\x3c/script\x3e",d=d.removeChild(d.firstChild)):"string"===typeof N.is?d=nb.createElement(da,{is:N.is}):(d=nb.createElement(da),"select"===da&&(nb=d,N.multiple?nb.multiple=!0:N.size&&(nb.size=N.size))):d=nb.createElementNS(d,da);d[Sg]=g;d[Xi]=N;yl(d,g,!1,!1);g.stateNode=d;nb=se(da,N);switch(da){case "iframe":case "object":case "embed":Mb("load",d);Ob=N;break;case "video":case "audio":for(Ob=0;Ob<Ri.length;Ob++)Mb(Ri[Ob],d);Ob=N;break;case "source":Mb("error",
d);Ob=N;break;case "img":case "image":case "link":Mb("error",d);Mb("load",d);Ob=N;break;case "form":Mb("reset",d);Mb("submit",d);Ob=N;break;case "details":Mb("toggle",d);Ob=N;break;case "input":y(d,N);Ob=A(d,N);Mb("invalid",d);De(t,"onChange");break;case "option":Ob=ma(d,N);break;case "select":d._wrapperState={wasMultiple:!!N.multiple};Ob=Pf({},N,{value:void 0});Mb("invalid",d);De(t,"onChange");break;case "textarea":E(d,N);Ob=Sa(d,N);Mb("invalid",d);De(t,"onChange");break;default:Ob=N}Rc(da,Ob);var Lc=
Ob;for(ib in Lc)if(Lc.hasOwnProperty(ib)){var Nc=Lc[ib];"style"===ib?Rb(d,Nc):"dangerouslySetInnerHTML"===ib?(Nc=Nc?Nc.__html:void 0,null!=Nc&&Qi(d,Nc)):"children"===ib?"string"===typeof Nc?("textarea"!==da||""!==Nc)&&F(d,Nc):"number"===typeof Nc&&F(d,""+Nc):"suppressContentEditableWarning"!==ib&&"suppressHydrationWarning"!==ib&&"autoFocus"!==ib&&(Gh.hasOwnProperty(ib)?null!=Nc&&De(t,ib):null!=Nc&&Oa(d,ib,Nc,nb))}switch(da){case "input":Za(d);z(d,N,!1);break;case "textarea":Za(d);Y(d);break;case "option":null!=
N.value&&d.setAttribute("value",""+qa(N.value));break;case "select":d.multiple=!!N.multiple;t=N.value;null!=t?Ia(d,!!N.multiple,t,!1):null!=N.defaultValue&&Ia(d,!!N.multiple,N.defaultValue,!0);break;default:"function"===typeof Ob.onClick&&(d.onclick=Ne)}Vb(da,N)&&(g.effectTag|=4)}null!==g.ref&&(g.effectTag|=128)}return null;case 6:if(d&&null!=g.stateNode)Yl(d,g,d.memoizedProps,N);else{if("string"!==typeof N&&null===g.stateNode)throw Error(n(166));t=Qe(Yh.current);Qe(Wg.current);Aa(g)?(t=g.stateNode,
N=g.memoizedProps,t[Sg]=g,t.nodeValue!==N&&(g.effectTag|=4)):(t=(9===t.nodeType?t:t.ownerDocument).createTextNode(N),t[Sg]=g,g.stateNode=t)}return null;case 13:de(wf);N=g.memoizedState;if(0!==(g.effectTag&64))return g.expirationTime=t,g;t=null!==N;N=!1;null===d?void 0!==g.memoizedProps.fallback&&Aa(g):(da=d.memoizedState,N=null!==da,t||null===da||(da=d.child.sibling,null!==da&&(ib=g.firstEffect,null!==ib?(g.firstEffect=da,da.nextEffect=ib):(g.firstEffect=g.lastEffect=da,da.nextEffect=null),da.effectTag=
8)));if(t&&!N&&0!==(g.mode&2))if(null===d&&!0!==g.memoizedProps.unstable_avoidThisFallback||0!==(wf.current&1))Ue===Kg&&(Ue=Tj);else{if(Ue===Kg||Ue===Tj)Ue=$h;0!==Ci&&null!==pf&&(Mg(pf,eg),gk(pf,Ci))}if(t||N)g.effectTag|=4;return null;case 4:return Be(),ak(g),null;case 10:return ee(g),null;case 17:return Jd(g.type)&&Lb(),null;case 19:de(wf);N=g.memoizedState;if(null===N)return null;da=0!==(g.effectTag&64);ib=N.rendering;if(null===ib)if(da)ec(N,!1);else{if(Ue!==Kg||null!==d&&0!==(d.effectTag&64))for(ib=
g.child;null!==ib;){d=Na(ib);if(null!==d){g.effectTag|=64;ec(N,!1);da=d.updateQueue;null!==da&&(g.updateQueue=da,g.effectTag|=4);null===N.lastEffect&&(g.firstEffect=null);g.lastEffect=N.lastEffect;for(N=g.child;null!==N;)da=N,ib=t,da.effectTag&=2,da.nextEffect=null,da.firstEffect=null,da.lastEffect=null,d=da.alternate,null===d?(da.childExpirationTime=0,da.expirationTime=ib,da.child=null,da.memoizedProps=null,da.memoizedState=null,da.updateQueue=null,da.dependencies=null):(da.childExpirationTime=d.childExpirationTime,
da.expirationTime=d.expirationTime,da.child=d.child,da.memoizedProps=d.memoizedProps,da.memoizedState=d.memoizedState,da.updateQueue=d.updateQueue,ib=d.dependencies,da.dependencies=null===ib?null:{expirationTime:ib.expirationTime,firstContext:ib.firstContext,responders:ib.responders}),N=N.sibling;jc(wf,wf.current&1|2);return g.child}ib=ib.sibling}}else{if(!da)if(d=Na(ib),null!==d){if(g.effectTag|=64,da=!0,t=d.updateQueue,null!==t&&(g.updateQueue=t,g.effectTag|=4),ec(N,!0),null===N.tail&&"hidden"===
N.tailMode&&!ib.alternate)return g=g.lastEffect=N.lastEffect,null!==g&&(g.nextEffect=null),null}else 2*ug()-N.renderingStartTime>N.tailExpiration&&1<t&&(g.effectTag|=64,da=!0,ec(N,!1),g.expirationTime=g.childExpirationTime=t-1);N.isBackwards?(ib.sibling=g.child,g.child=ib):(t=N.last,null!==t?t.sibling=ib:g.child=ib,N.last=ib)}return null!==N.tail?(0===N.tailExpiration&&(N.tailExpiration=ug()+500),t=N.tail,N.rendering=t,N.tail=t.sibling,N.lastEffect=g.lastEffect,N.renderingStartTime=ug(),t.sibling=
null,g=wf.current,jc(wf,da?g&1|2:g&1),t):null}throw Error(n(156,g.tag));}function Cc(d){switch(d.tag){case 1:Jd(d.type)&&Lb();var g=d.effectTag;return g&4096?(d.effectTag=g&-4097|64,d):null;case 3:Be();de(jg);de(Sf);g=d.effectTag;if(0!==(g&64))throw Error(n(285));d.effectTag=g&-4097|64;return d;case 5:return R(d),null;case 13:return de(wf),g=d.effectTag,g&4096?(d.effectTag=g&-4097|64,d):null;case 19:return de(wf),null;case 4:return Be(),null;case 10:return ee(d),null;default:return null}}function $c(d,
g){return{value:d,source:g,stack:sa(g)}}function qd(d,g){var t=g.source,N=g.stack;null===N&&null!==t&&(N=sa(t));null!==t&&wa(t.type);g=g.value;null!==d&&1===d.tag&&wa(d.type);try{console.error(g)}catch(da){setTimeout(function(){throw da;})}}function Mc(d,g){try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(t){$g(d,t)}}function Ad(d){var g=d.ref;if(null!==g)if("function"===typeof g)try{g(null)}catch(t){$g(d,t)}else g.current=null}function Cd(d,g){switch(g.tag){case 0:case 11:case 15:case 22:return;
case 1:if(g.effectTag&256&&null!==d){var t=d.memoizedProps,N=d.memoizedState;d=g.stateNode;g=d.getSnapshotBeforeUpdate(g.elementType===g.type?t:ne(g.type,t),N);d.__reactInternalSnapshotBeforeUpdate=g}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function we(d,g){g=g.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){var t=g=g.next;do{if((t.tag&d)===d){var N=t.destroy;t.destroy=void 0;void 0!==N&&N()}t=t.next}while(t!==g)}}function X(d,g){g=g.updateQueue;g=null!==g?g.lastEffect:
null;if(null!==g){var t=g=g.next;do{if((t.tag&d)===d){var N=t.create;t.destroy=N()}t=t.next}while(t!==g)}}function ta(d,g,t){switch(t.tag){case 0:case 11:case 15:case 22:X(3,t);return;case 1:d=t.stateNode;if(t.effectTag&4)if(null===g)d.componentDidMount();else{var N=t.elementType===t.type?g.memoizedProps:ne(t.type,g.memoizedProps);d.componentDidUpdate(N,g.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}g=t.updateQueue;null!==g&&Le(t,g,d);return;case 3:g=t.updateQueue;if(null!==g){d=null;if(null!==
t.child)switch(t.child.tag){case 5:d=t.child.stateNode;break;case 1:d=t.child.stateNode}Le(t,g,d)}return;case 5:d=t.stateNode;null===g&&t.effectTag&4&&Vb(t.type,t.memoizedProps)&&d.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===t.memoizedState&&(t=t.alternate,null!==t&&(t=t.memoizedState,null!==t&&(t=t.dehydrated,null!==t&&tb(t))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function Ua(d,g,t){"function"===typeof dk&&dk(g);switch(g.tag){case 0:case 11:case 14:case 15:case 22:d=
g.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var N=d.next;He(97<t?97:t,function(){var da=N;do{var ib=da.destroy;if(void 0!==ib){var nb=g;try{ib()}catch(Ob){$g(nb,Ob)}}da=da.next}while(da!==N)})}break;case 1:Ad(g);t=g.stateNode;"function"===typeof t.componentWillUnmount&&Mc(g,t);break;case 5:Ad(g);break;case 4:yc(d,g,t)}}function kb(d){var g=d.alternate;d.return=null;d.child=null;d.memoizedState=null;d.updateQueue=null;d.dependencies=null;d.alternate=null;d.firstEffect=null;d.lastEffect=null;
d.pendingProps=null;d.memoizedProps=null;d.stateNode=null;null!==g&&kb(g)}function Bb(d){return 5===d.tag||3===d.tag||4===d.tag}function mc(d){a:{for(var g=d.return;null!==g;){if(Bb(g)){var t=g;break a}g=g.return}throw Error(n(160));}g=t.stateNode;switch(t.tag){case 5:var N=!1;break;case 3:g=g.containerInfo;N=!0;break;case 4:g=g.containerInfo;N=!0;break;default:throw Error(n(161));}t.effectTag&16&&(F(g,""),t.effectTag&=-17);t=d;a:b:for(;;){for(;null===t.sibling;){if(null===t.return||Bb(t.return)){t=
null;break a}t=t.return}t.sibling.return=t.return;for(t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(t.effectTag&2)continue b;if(null===t.child||4===t.tag)continue b;else t.child.return=t,t=t.child}if(!(t.effectTag&2)){t=t.stateNode;break a}}N?wc(d,t,g):nc(d,t,g)}function wc(d,g,t){var N=d.tag,da=5===N||6===N;if(da)d=da?d.stateNode:d.stateNode.instance,g?8===t.nodeType?t.parentNode.insertBefore(d,g):t.insertBefore(d,g):(8===t.nodeType?(g=t.parentNode,g.insertBefore(d,t)):(g=t,g.appendChild(d)),
t=t._reactRootContainer,null!==t&&void 0!==t||null!==g.onclick||(g.onclick=Ne));else if(4!==N&&(d=d.child,null!==d))for(wc(d,g,t),d=d.sibling;null!==d;)wc(d,g,t),d=d.sibling}function nc(d,g,t){var N=d.tag,da=5===N||6===N;if(da)d=da?d.stateNode:d.stateNode.instance,g?t.insertBefore(d,g):t.appendChild(d);else if(4!==N&&(d=d.child,null!==d))for(nc(d,g,t),d=d.sibling;null!==d;)nc(d,g,t),d=d.sibling}function yc(d,g,t){for(var N=g,da=!1,ib,nb;;){if(!da){da=N.return;a:for(;;){if(null===da)throw Error(n(160));
ib=da.stateNode;switch(da.tag){case 5:nb=!1;break a;case 3:ib=ib.containerInfo;nb=!0;break a;case 4:ib=ib.containerInfo;nb=!0;break a}da=da.return}da=!0}if(5===N.tag||6===N.tag){var Ob=d,Lc=N,Nc=t,td=Lc;a:for(;;)if(Ua(Ob,td,Nc),null!==td.child&&4!==td.tag)td.child.return=td,td=td.child;else{if(td===Lc)break a;for(;null===td.sibling;){if(null===td.return||td.return===Lc)break a;td=td.return}td.sibling.return=td.return;td=td.sibling}nb?(Ob=ib,Lc=N.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(Lc):
Ob.removeChild(Lc)):ib.removeChild(N.stateNode)}else if(4===N.tag){if(null!==N.child){ib=N.stateNode.containerInfo;nb=!0;N.child.return=N;N=N.child;continue}}else if(Ua(d,N,t),null!==N.child){N.child.return=N;N=N.child;continue}if(N===g)break;for(;null===N.sibling;){if(null===N.return||N.return===g)return;N=N.return;4===N.tag&&(da=!1)}N.sibling.return=N.return;N=N.sibling}}function Bc(d,g){switch(g.tag){case 0:case 11:case 14:case 15:case 22:we(3,g);return;case 1:return;case 5:var t=g.stateNode;if(null!=
t){var N=g.memoizedProps,da=null!==d?d.memoizedProps:N;d=g.type;var ib=g.updateQueue;g.updateQueue=null;if(null!==ib){t[Xi]=N;"input"===d&&"radio"===N.type&&null!=N.name&&I(t,N);se(d,da);g=se(d,N);for(da=0;da<ib.length;da+=2){var nb=ib[da],Ob=ib[da+1];"style"===nb?Rb(t,Ob):"dangerouslySetInnerHTML"===nb?Qi(t,Ob):"children"===nb?F(t,Ob):Oa(t,nb,Ob,g)}switch(d){case "input":L(t,N);break;case "textarea":ha(t,N);break;case "select":g=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!N.multiple,
d=N.value,null!=d?Ia(t,!!N.multiple,d,!1):g!==!!N.multiple&&(null!=N.defaultValue?Ia(t,!!N.multiple,N.defaultValue,!0):Ia(t,!!N.multiple,N.multiple?[]:"",!1))}}}return;case 6:if(null===g.stateNode)throw Error(n(162));g.stateNode.nodeValue=g.memoizedProps;return;case 3:g=g.stateNode;g.hydrate&&(g.hydrate=!1,tb(g.containerInfo));return;case 12:return;case 13:t=g;null===g.memoizedState?N=!1:(N=!0,t=g.child,zg=ug());if(null!==t)a:for(d=t;;){if(5===d.tag)ib=d.stateNode,N?(ib=ib.style,"function"===typeof ib.setProperty?
ib.setProperty("display","none","important"):ib.display="none"):(ib=d.stateNode,da=d.memoizedProps.style,da=void 0!==da&&null!==da&&da.hasOwnProperty("display")?da.display:null,ib.style.display=Cb("display",da));else if(6===d.tag)d.stateNode.nodeValue=N?"":d.memoizedProps;else if(13===d.tag&&null!==d.memoizedState&&null===d.memoizedState.dehydrated){ib=d.child.sibling;ib.return=d;d=ib;continue}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===t)break;for(;null===d.sibling;){if(null===
d.return||d.return===t)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}dd(g);return;case 19:dd(g);return;case 17:return}throw Error(n(163));}function dd(d){var g=d.updateQueue;if(null!==g){d.updateQueue=null;var t=d.stateNode;null===t&&(t=d.stateNode=new Lk);g.forEach(function(N){var da=Nk.bind(null,d,N);t.has(N)||(t.add(N),N.then(da,da))})}}function Qc(d,g,t){t=Ed(t,null);t.tag=3;t.payload={element:null};var N=g.value;t.callback=function(){jj||(jj=!0,Wj=N);qd(d,g)};return t}function Kc(d,
g,t){t=Ed(t,null);t.tag=3;var N=d.type.getDerivedStateFromError;if("function"===typeof N){var da=g.value;t.payload=function(){qd(d,g);return N(da)}}var ib=d.stateNode;null!==ib&&"function"===typeof ib.componentDidCatch&&(t.callback=function(){"function"!==typeof N&&(null===lh?lh=new Set([this]):lh.add(this),qd(d,g));var nb=g.stack;this.componentDidCatch(g.value,{componentStack:null!==nb?nb:""})});return t}function Wc(){return(ve&(wg|Cf))!==Of?1073741821-(ug()/10|0):0!==ci?ci:ci=1073741821-(ug()/10|
0)}function fd(d,g,t){g=g.mode;if(0===(g&2))return 1073741823;var N=Oe();if(0===(g&4))return 99===N?1073741823:1073741822;if((ve&wg)!==Of)return eg;if(null!==t)d=Yc(d,t.timeoutMs|0||5E3,250);else switch(N){case 99:d=1073741823;break;case 98:d=Yc(d,150,100);break;case 97:case 96:d=Yc(d,5E3,250);break;case 95:d=2;break;default:throw Error(n(326));}null!==pf&&d===eg&&--d;return d}function hd(d,g){if(50<Gi)throw Gi=0,lj=null,Error(n(185));d=ie(d,g);if(null!==d){var t=Oe();1073741823===g?(ve&Sj)!==Of&&
(ve&(wg|Cf))===Of?ed(d):(Id(d),ve===Of&&Pd()):Id(d);(ve&4)===Of||98!==t&&99!==t||(null===nh?nh=new Map([[d,g]]):(t=nh.get(d),(void 0===t||t>g)&&nh.set(d,g)))}}function ie(d,g){d.expirationTime<g&&(d.expirationTime=g);var t=d.alternate;null!==t&&t.expirationTime<g&&(t.expirationTime=g);var N=d.return,da=null;if(null===N&&3===d.tag)da=d.stateNode;else for(;null!==N;){t=N.alternate;N.childExpirationTime<g&&(N.childExpirationTime=g);null!==t&&t.childExpirationTime<g&&(t.childExpirationTime=g);if(null===
N.return&&3===N.tag){da=N.stateNode;break}N=N.return}null!==da&&(pf===da&&(hf(g),Ue===$h&&Mg(da,eg)),gk(da,g));return da}function Td(d){var g=d.lastExpiredTime;if(0!==g)return g;g=d.firstPendingTime;if(!fk(d,g))return g;var t=d.lastPingedTime;d=d.nextKnownPendingLevel;d=t>d?t:d;return 2>=d&&g!==d?0:d}function Id(d){if(0!==d.lastExpiredTime)d.callbackExpirationTime=1073741823,d.callbackPriority=99,d.callbackNode=fc(ed.bind(null,d));else{var g=Td(d),t=d.callbackNode;if(0===g)null!==t&&(d.callbackNode=
null,d.callbackExpirationTime=0,d.callbackPriority=90);else{var N=Wc();1073741823===g?N=99:1===g||2===g?N=95:(N=10*(1073741821-g)-10*(1073741821-N),N=0>=N?99:250>=N?98:5250>=N?97:95);if(null!==t){var da=d.callbackPriority;if(d.callbackExpirationTime===g&&da>=N)return;t!==Kj&&nf(t)}d.callbackExpirationTime=g;d.callbackPriority=N;g=1073741823===g?fc(ed.bind(null,d)):be(N,sd.bind(null,d),{timeout:10*(1073741821-g)-ug()});d.callbackNode=g}}}function sd(d,g){ci=0;if(g)return g=Wc(),fi(d,g),Id(d),null;
var t=Td(d);if(0!==t){g=d.callbackNode;if((ve&(wg|Cf))!==Of)throw Error(n(327));oh();d===pf&&t===eg||Ae(d,t);if(null!==ye){var N=ve;ve|=wg;var da=Ce();do try{for(;null!==ye&&!Lj();)ye=Kf(ye);break}catch(Ob){je(d,Ob)}while(1);zi=yh=Ai=null;ve=N;bi.current=da;if(Ue===mj)throw g=Zf,Ae(d,t),Mg(d,t),Id(d),g;if(null===ye)switch(da=d.finishedWork=d.current.alternate,d.finishedExpirationTime=t,N=Ue,pf=null,N){case Kg:case mj:throw Error(n(345));case hj:fi(d,2<t?2:t);break;case Tj:Mg(d,t);N=d.lastSuspendedTime;
t===N&&(d.nextKnownPendingLevel=Bd(da));if(1073741823===Fg&&(da=zg+Ki-ug(),10<da)){if(Uj){var ib=d.lastPingedTime;if(0===ib||ib>=t){d.lastPingedTime=t;Ae(d,t);break}}ib=Td(d);if(0!==ib&&ib!==t)break;if(0!==N&&N!==t){d.lastPingedTime=N;break}d.timeoutHandle=Aj(af.bind(null,d),da);break}af(d);break;case $h:Mg(d,t);N=d.lastSuspendedTime;t===N&&(d.nextKnownPendingLevel=Bd(da));if(Uj&&(da=d.lastPingedTime,0===da||da>=t)){d.lastPingedTime=t;Ae(d,t);break}da=Td(d);if(0!==da&&da!==t)break;if(0!==N&&N!==t){d.lastPingedTime=
N;break}1073741823!==ij?N=10*(1073741821-ij)-ug():1073741823===Fg?N=0:(N=10*(1073741821-Fg)-5E3,da=ug(),t=10*(1073741821-t)-da,N=da-N,0>N&&(N=0),N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3E3>N?3E3:4320>N?4320:1960*Xl(N/1960))-N,t<N&&(N=t));if(10<N){d.timeoutHandle=Aj(af.bind(null,d),N);break}af(d);break;case Kk:if(1073741823!==Fg&&null!==xg){ib=Fg;var nb=xg;N=nb.busyMinDurationMs|0;0>=N?N=0:(da=nb.busyDelayMs|0,ib=ug()-(10*(1073741821-ib)-(nb.timeoutMs|0||5E3)),N=ib<=da?0:da+N-ib);if(10<N){Mg(d,
t);d.timeoutHandle=Aj(af.bind(null,d),N);break}}af(d);break;default:throw Error(n(329));}Id(d);if(d.callbackNode===g)return sd.bind(null,d)}}return null}function ed(d){var g=d.lastExpiredTime;g=0!==g?g:1073741823;if((ve&(wg|Cf))!==Of)throw Error(n(327));oh();d===pf&&g===eg||Ae(d,g);if(null!==ye){var t=ve;ve|=wg;var N=Ce();do try{for(;null!==ye;)ye=Kf(ye);break}catch(da){je(d,da)}while(1);zi=yh=Ai=null;ve=t;bi.current=N;if(Ue===mj)throw t=Zf,Ae(d,g),Mg(d,g),Id(d),t;if(null!==ye)throw Error(n(261));
d.finishedWork=d.current.alternate;d.finishedExpirationTime=g;pf=null;af(d);Id(d)}return null}function Rd(){if(null!==nh){var d=nh;nh=null;d.forEach(function(g,t){fi(t,g);Id(t)});Pd()}}function Ie(d,g){var t=ve;ve|=1;try{return d(g)}finally{ve=t,ve===Of&&Pd()}}function Re(d,g){var t=ve;ve&=-2;ve|=Sj;try{return d(g)}finally{ve=t,ve===Of&&Pd()}}function Ae(d,g){d.finishedWork=null;d.finishedExpirationTime=0;var t=d.timeoutHandle;-1!==t&&(d.timeoutHandle=-1,dl(t));if(null!==ye)for(t=ye.return;null!==
t;){var N=t;switch(N.tag){case 1:N=N.type.childContextTypes;null!==N&&void 0!==N&&Lb();break;case 3:Be();de(jg);de(Sf);break;case 5:R(N);break;case 4:Be();break;case 13:de(wf);break;case 19:de(wf);break;case 10:ee(N)}t=t.return}pf=d;ye=sf(d.current,null);eg=g;Ue=Kg;Zf=null;ij=Fg=1073741823;xg=null;Ci=0;Uj=!1}function je(d,g){do{try{zi=yh=Ai=null;kj.current=xe;if(Zg)for(var t=zd.memoizedState;null!==t;){var N=t.queue;null!==N&&(N.pending=null);t=t.next}rh=0;Gf=zf=zd=null;Zg=!1;if(null===ye||null===
ye.return)return Ue=mj,Zf=g,ye=null;a:{var da=d,ib=ye.return,nb=ye,Ob=g;g=eg;nb.effectTag|=2048;nb.firstEffect=nb.lastEffect=null;if(null!==Ob&&"object"===typeof Ob&&"function"===typeof Ob.then){var Lc=Ob;if(0===(nb.mode&2)){var Nc=nb.alternate;Nc?(nb.updateQueue=Nc.updateQueue,nb.memoizedState=Nc.memoizedState,nb.expirationTime=Nc.expirationTime):(nb.updateQueue=null,nb.memoizedState=null)}var td=0!==(wf.current&1),Kd=ib;do{var Je;if(Je=13===Kd.tag){var We=Kd.memoizedState;if(null!==We)Je=null!==
We.dehydrated?!0:!1;else{var vg=Kd.memoizedProps;Je=void 0===vg.fallback?!1:!0!==vg.unstable_avoidThisFallback?!0:td?!1:!0}}if(Je){var Jf=Kd.updateQueue;if(null===Jf){var Dc=new Set;Dc.add(Lc);Kd.updateQueue=Dc}else Jf.add(Lc);if(0===(Kd.mode&2)){Kd.effectTag|=64;nb.effectTag&=-2981;if(1===nb.tag)if(null===nb.alternate)nb.tag=17;else{var vc=Ed(1073741823,null);vc.tag=2;ke(nb,vc)}nb.expirationTime=1073741823;break a}Ob=void 0;nb=g;var Sc=da.pingCache;null===Sc?(Sc=da.pingCache=new Fl,Ob=new Set,Sc.set(Lc,
Ob)):(Ob=Sc.get(Lc),void 0===Ob&&(Ob=new Set,Sc.set(Lc,Ob)));if(!Ob.has(nb)){Ob.add(nb);var nd=nj.bind(null,da,Lc,nb);Lc.then(nd,nd)}Kd.effectTag|=4096;Kd.expirationTime=g;break a}Kd=Kd.return}while(null!==Kd);Ob=Error((wa(nb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+sa(nb))}Ue!==Kk&&(Ue=hj);Ob=$c(Ob,nb);Kd=ib;do{switch(Kd.tag){case 3:Lc=
Ob;Kd.effectTag|=4096;Kd.expirationTime=g;var Dd=Qc(Kd,Lc,g);Gd(Kd,Dd);break a;case 1:Lc=Ob;var Ud=Kd.type,le=Kd.stateNode;if(0===(Kd.effectTag&64)&&("function"===typeof Ud.getDerivedStateFromError||null!==le&&"function"===typeof le.componentDidCatch&&(null===lh||!lh.has(le)))){Kd.effectTag|=4096;Kd.expirationTime=g;var Te=Kc(Kd,Lc,g);Gd(Kd,Te);break a}}Kd=Kd.return}while(null!==Kd)}ye=dg(ye)}catch(uf){g=uf;continue}break}while(1)}function Ce(){var d=bi.current;bi.current=xe;return null===d?xe:d}
function lf(d,g){d<Fg&&2<d&&(Fg=d);null!==g&&d<ij&&2<d&&(ij=d,xg=g)}function hf(d){d>Ci&&(Ci=d)}function Kf(d){var g=El(d.alternate,d,eg);d.memoizedProps=d.pendingProps;null===g&&(g=dg(d));Rj.current=null;return g}function dg(d){ye=d;do{var g=ye.alternate;d=ye.return;if(0===(ye.effectTag&2048)){g=zc(g,ye,eg);if(1===eg||1!==ye.childExpirationTime){for(var t=0,N=ye.child;null!==N;){var da=N.expirationTime,ib=N.childExpirationTime;da>t&&(t=da);ib>t&&(t=ib);N=N.sibling}ye.childExpirationTime=t}if(null!==
g)return g;null!==d&&0===(d.effectTag&2048)&&(null===d.firstEffect&&(d.firstEffect=ye.firstEffect),null!==ye.lastEffect&&(null!==d.lastEffect&&(d.lastEffect.nextEffect=ye.firstEffect),d.lastEffect=ye.lastEffect),1<ye.effectTag&&(null!==d.lastEffect?d.lastEffect.nextEffect=ye:d.firstEffect=ye,d.lastEffect=ye))}else{g=Cc(ye);if(null!==g)return g.effectTag&=2047,g;null!==d&&(d.firstEffect=d.lastEffect=null,d.effectTag|=2048)}g=ye.sibling;if(null!==g)return g;ye=d}while(null!==ye);Ue===Kg&&(Ue=Kk);return null}
function Bd(d){var g=d.expirationTime;d=d.childExpirationTime;return g>d?g:d}function af(d){var g=Oe();He(99,lg.bind(null,d,g));return null}function lg(d,g){do oh();while(null!==di);if((ve&(wg|Cf))!==Of)throw Error(n(327));var t=d.finishedWork,N=d.finishedExpirationTime;if(null===t)return null;d.finishedWork=null;d.finishedExpirationTime=0;if(t===d.current)throw Error(n(177));d.callbackNode=null;d.callbackExpirationTime=0;d.callbackPriority=90;d.nextKnownPendingLevel=0;var da=Bd(t);d.firstPendingTime=
da;N<=d.lastSuspendedTime?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:N<=d.firstSuspendedTime&&(d.firstSuspendedTime=N-1);N<=d.lastPingedTime&&(d.lastPingedTime=0);N<=d.lastExpiredTime&&(d.lastExpiredTime=0);d===pf&&(ye=pf=null,eg=0);1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,da=t.firstEffect):da=t:da=t.firstEffect;if(null!==da){var ib=ve;ve|=Cf;Rj.current=null;Wi=Ih;var nb=La();if(Fb(nb)){if("selectionStart"in nb)var Ob={start:nb.selectionStart,end:nb.selectionEnd};
else a:{Ob=(Ob=nb.ownerDocument)&&Ob.defaultView||window;var Lc=Ob.getSelection&&Ob.getSelection();if(Lc&&0!==Lc.rangeCount){Ob=Lc.anchorNode;var Nc=Lc.anchorOffset,td=Lc.focusNode;Lc=Lc.focusOffset;try{Ob.nodeType,td.nodeType}catch(Ge){Ob=null;break a}var Kd=0,Je=-1,We=-1,vg=0,Jf=0,Dc=nb,vc=null;b:for(;;){for(var Sc;;){Dc!==Ob||0!==Nc&&3!==Dc.nodeType||(Je=Kd+Nc);Dc!==td||0!==Lc&&3!==Dc.nodeType||(We=Kd+Lc);3===Dc.nodeType&&(Kd+=Dc.nodeValue.length);if(null===(Sc=Dc.firstChild))break;vc=Dc;Dc=Sc}for(;;){if(Dc===
nb)break b;vc===Ob&&++vg===Nc&&(Je=Kd);vc===td&&++Jf===Lc&&(We=Kd);if(null!==(Sc=Dc.nextSibling))break;Dc=vc;vc=Dc.parentNode}Dc=Sc}Ob=-1===Je||-1===We?null:{start:Je,end:We}}else Ob=null}Ob=Ob||{start:0,end:0}}else Ob=null;wi={activeElementDetached:null,focusedElem:nb,selectionRange:Ob};Ih=!1;Xd=da;do try{mh()}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Xd=da;do try{for(nb=d,Ob=g;null!==Xd;){var nd=Xd.effectTag;nd&16&&F(Xd.stateNode,"");if(nd&128){var Dd=
Xd.alternate;if(null!==Dd){var Ud=Dd.ref;null!==Ud&&("function"===typeof Ud?Ud(null):Ud.current=null)}}switch(nd&1038){case 2:mc(Xd);Xd.effectTag&=-3;break;case 6:mc(Xd);Xd.effectTag&=-3;Bc(Xd.alternate,Xd);break;case 1024:Xd.effectTag&=-1025;break;case 1028:Xd.effectTag&=-1025;Bc(Xd.alternate,Xd);break;case 4:Bc(Xd.alternate,Xd);break;case 8:Nc=Xd,yc(nb,Nc,Ob),kb(Nc)}Xd=Xd.nextEffect}}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Ud=wi;Dd=La();nd=Ud.focusedElem;
Ob=Ud.selectionRange;if(Dd!==nd&&nd&&nd.ownerDocument&&bb(nd.ownerDocument.documentElement,nd)){null!==Ob&&Fb(nd)&&(Dd=Ob.start,Ud=Ob.end,void 0===Ud&&(Ud=Dd),"selectionStart"in nd?(nd.selectionStart=Dd,nd.selectionEnd=Math.min(Ud,nd.value.length)):(Ud=(Dd=nd.ownerDocument||document)&&Dd.defaultView||window,Ud.getSelection&&(Ud=Ud.getSelection(),Nc=nd.textContent.length,nb=Math.min(Ob.start,Nc),Ob=void 0===Ob.end?nb:Math.min(Ob.end,Nc),!Ud.extend&&nb>Ob&&(Nc=Ob,Ob=nb,nb=Nc),Nc=fa(nd,nb),td=fa(nd,
Ob),Nc&&td&&(1!==Ud.rangeCount||Ud.anchorNode!==Nc.node||Ud.anchorOffset!==Nc.offset||Ud.focusNode!==td.node||Ud.focusOffset!==td.offset)&&(Dd=Dd.createRange(),Dd.setStart(Nc.node,Nc.offset),Ud.removeAllRanges(),nb>Ob?(Ud.addRange(Dd),Ud.extend(td.node,td.offset)):(Dd.setEnd(td.node,td.offset),Ud.addRange(Dd))))));Dd=[];for(Ud=nd;Ud=Ud.parentNode;)1===Ud.nodeType&&Dd.push({element:Ud,left:Ud.scrollLeft,top:Ud.scrollTop});"function"===typeof nd.focus&&nd.focus();for(nd=0;nd<Dd.length;nd++)Ud=Dd[nd],
Ud.element.scrollLeft=Ud.left,Ud.element.scrollTop=Ud.top}Ih=!!Wi;wi=Wi=null;d.current=t;Xd=da;do try{for(nd=d;null!==Xd;){var le=Xd.effectTag;le&36&&ta(nd,Xd.alternate,Xd);if(le&128){Dd=void 0;var Te=Xd.ref;if(null!==Te){var uf=Xd.stateNode;switch(Xd.tag){case 5:Dd=uf;break;default:Dd=uf}"function"===typeof Te?Te(Dd):Te.current=Dd}}Xd=Xd.nextEffect}}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Xd=null;em();ve=ib}else d.current=t;if(Yg)Yg=!1,di=d,Fi=g;else for(Xd=
da;null!==Xd;)g=Xd.nextEffect,Xd.nextEffect=null,Xd=g;g=d.firstPendingTime;0===g&&(lh=null);1073741823===g?d===lj?Gi++:(Gi=0,lj=d):Gi=0;"function"===typeof ik&&ik(t.stateNode,N);Id(d);if(jj)throw jj=!1,d=Wj,Wj=null,d;if((ve&Sj)!==Of)return null;Pd();return null}function mh(){for(;null!==Xd;){var d=Xd.effectTag;0!==(d&256)&&Cd(Xd.alternate,Xd);0===(d&512)||Yg||(Yg=!0,be(97,function(){oh();return null}));Xd=Xd.nextEffect}}function oh(){if(90!==Fi){var d=97<Fi?97:Fi;Fi=90;return He(d,Gl)}}function Gl(){if(null===
di)return!1;var d=di;di=null;if((ve&(wg|Cf))!==Of)throw Error(n(331));var g=ve;ve|=Cf;for(d=d.current.firstEffect;null!==d;){try{var t=d;if(0!==(t.effectTag&512))switch(t.tag){case 0:case 11:case 15:case 22:we(5,t),X(5,t)}}catch(N){if(null===d)throw Error(n(330));$g(d,N)}t=d.nextEffect;d.nextEffect=null;d=t}ve=g;Pd();return!0}function Ch(d,g,t){g=$c(t,g);g=Qc(d,g,1073741823);ke(d,g);d=ie(d,1073741823);null!==d&&Id(d)}function $g(d,g){if(3===d.tag)Ch(d,d,g);else for(var t=d.return;null!==t;){if(3===
t.tag){Ch(t,d,g);break}else if(1===t.tag){var N=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof N.componentDidCatch&&(null===lh||!lh.has(N))){d=$c(g,d);d=Kc(t,d,1073741823);ke(t,d);t=ie(t,1073741823);null!==t&&Id(t);break}}t=t.return}}function nj(d,g,t){var N=d.pingCache;null!==N&&N.delete(g);pf===d&&eg===t?Ue===$h||Ue===Tj&&1073741823===Fg&&ug()-zg<Ki?Ae(d,eg):Uj=!0:fk(d,t)&&(g=d.lastPingedTime,0!==g&&g<t||(d.lastPingedTime=t,Id(d)))}function Nk(d,g){var t=
d.stateNode;null!==t&&t.delete(g);g=0;0===g&&(g=Wc(),g=fd(g,d,null));d=ie(d,g);null!==d&&Id(d)}function Pk(d){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)return!0;try{var t=g.inject(d);ik=function(N){try{g.onCommitFiberRoot(t,N,void 0,64===(N.current.effectTag&64))}catch(da){}};dk=function(N){try{g.onCommitFiberUnmount(t,N)}catch(da){}}}catch(N){}return!0}function Ok(d,g,t,N){this.tag=d;this.key=t;this.sibling=
this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=g;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=N;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Lg(d,g,t,N){return new Ok(d,g,t,N)}function ck(d){d=d.prototype;return!(!d||!d.isReactComponent)}function Hl(d){if("function"===typeof d)return ck(d)?
1:0;if(void 0!==d&&null!==d){d=d.$$typeof;if(d===sj)return 11;if(d===Nf)return 14}return 2}function sf(d,g){var t=d.alternate;null===t?(t=Lg(d.tag,g,d.key,d.mode),t.elementType=d.elementType,t.type=d.type,t.stateNode=d.stateNode,t.alternate=d,d.alternate=t):(t.pendingProps=g,t.effectTag=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null);t.childExpirationTime=d.childExpirationTime;t.expirationTime=d.expirationTime;t.child=d.child;t.memoizedProps=d.memoizedProps;t.memoizedState=d.memoizedState;
t.updateQueue=d.updateQueue;g=d.dependencies;t.dependencies=null===g?null:{expirationTime:g.expirationTime,firstContext:g.firstContext,responders:g.responders};t.sibling=d.sibling;t.index=d.index;t.ref=d.ref;return t}function Ii(d,g,t,N,da,ib){var nb=2;N=d;if("function"===typeof d)ck(d)&&(nb=1);else if("string"===typeof d)nb=5;else a:switch(d){case bh:return ph(t.children,da,ib,g);case Uk:nb=8;da|=7;break;case $f:nb=8;da|=1;break;case Oi:return d=Lg(12,t,g,da|8),d.elementType=Oi,d.type=Oi,d.expirationTime=
ib,d;case Ve:return d=Lg(13,t,g,da),d.type=Ve,d.elementType=Ve,d.expirationTime=ib,d;case si:return d=Lg(19,t,g,da),d.elementType=si,d.expirationTime=ib,d;default:if("object"===typeof d&&null!==d)switch(d.$$typeof){case rj:nb=10;break a;case ri:nb=9;break a;case sj:nb=11;break a;case Nf:nb=14;break a;case jf:nb=16;N=null;break a;case nk:nb=22;break a}throw Error(n(130,null==d?d:typeof d,""));}g=Lg(nb,t,g,da);g.elementType=d;g.type=N;g.expirationTime=ib;return g}function ph(d,g,t,N){d=Lg(7,d,N,g);
d.expirationTime=t;return d}function Dh(d,g,t){d=Lg(6,d,null,g);d.expirationTime=t;return d}function Mf(d,g,t){g=Lg(4,null!==d.children?d.children:[],d.key,g);g.expirationTime=t;g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation};return g}function ek(d,g,t){this.tag=g;this.current=null;this.containerInfo=d;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=
null;this.hydrate=t;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fk(d,g){var t=d.firstSuspendedTime;d=d.lastSuspendedTime;return 0!==t&&t>=g&&d<=g}function Mg(d,g){var t=d.firstSuspendedTime,N=d.lastSuspendedTime;t<g&&(d.firstSuspendedTime=g);if(N>g||0===t)d.lastSuspendedTime=g;g<=d.lastPingedTime&&(d.lastPingedTime=0);g<=d.lastExpiredTime&&(d.lastExpiredTime=
0)}function gk(d,g){g>d.firstPendingTime&&(d.firstPendingTime=g);var t=d.firstSuspendedTime;0!==t&&(g>=t?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:g>=d.lastSuspendedTime&&(d.lastSuspendedTime=g+1),g>d.nextKnownPendingLevel&&(d.nextKnownPendingLevel=g))}function fi(d,g){var t=d.lastExpiredTime;if(0===t||t>g)d.lastExpiredTime=g}function Ag(d,g,t,N){var da=g.current,ib=Wc(),nb=Wh.suspense;ib=fd(ib,da,nb);a:if(t){t=t._reactInternalFiber;b:{if(r(t)!==t||1!==t.tag)throw Error(n(170));
var Ob=t;do{switch(Ob.tag){case 3:Ob=Ob.stateNode.context;break b;case 1:if(Jd(Ob.type)){Ob=Ob.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Ob=Ob.return}while(null!==Ob);throw Error(n(171));}if(1===t.tag){var Lc=t.type;if(Jd(Lc)){t=oe(t,Lc,Ob);break a}}t=Ob}else t=gh;null===g.context?g.context=t:g.pendingContext=t;g=Ed(ib,nb);g.payload={element:d};N=void 0===N?null:N;null!==N&&(g.callback=N);ke(da,g);hd(da,ib);return ib}function Eh(d){d=d.current;if(!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;
default:return d.child.stateNode}}function hk(d,g){d=d.memoizedState;null!==d&&null!==d.dehydrated&&d.retryTime<g&&(d.retryTime=g)}function fg(d,g){hk(d,g);(d=d.alternate)&&hk(d,g)}function oj(d,g,t){t=null!=t&&!0===t.hydrate;var N=new ek(d,g,t),da=Lg(3,null,null,2===g?7:1===g?3:0);N.current=da;da.stateNode=N;Ld(da);d[Jh]=N.current;t&&0!==g&&Xb(d,9===d.nodeType?d:d.ownerDocument);this._internalRoot=N}function Ji(d){return!(!d||1!==d.nodeType&&9!==d.nodeType&&11!==d.nodeType&&(8!==d.nodeType||" react-mount-point-unstable "!==
d.nodeValue))}function Il(d,g){g||(g=d?9===d.nodeType?d.documentElement:d.firstChild:null,g=!(!g||1!==g.nodeType||!g.hasAttribute("data-reactroot")));if(!g)for(var t;t=d.lastChild;)d.removeChild(t);return new oj(d,0,g?{hydrate:!0}:void 0)}function gi(d,g,t,N,da){var ib=t._reactRootContainer;if(ib){var nb=ib._internalRoot;if("function"===typeof da){var Ob=da;da=function(){var Nc=Eh(nb);Ob.call(Nc)}}Ag(g,nb,d,da)}else{ib=t._reactRootContainer=Il(t,N);nb=ib._internalRoot;if("function"===typeof da){var Lc=
da;da=function(){var Nc=Eh(nb);Lc.call(Nc)}}Re(function(){Ag(g,nb,d,da)})}return Eh(nb)}function Jl(d,g,t){var N=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qi,key:null==N?null:""+N,children:d,containerInfo:g,implementation:t}}function jk(d,g){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ji(g))throw Error(n(200));return Jl(d,g,null,t)}var hi=sb(58),Pf=sb(53),Qf=sb(61);if(!hi)throw Error(n(227));var ji=!1,Li=null,Fh=!1,qh=null,Kl={onError:function(d){ji=
!0;Li=d}},kk=null,Qk=null,Rk=null,Mi=null,mi={},li=[],lk={},Gh={},pj={},gg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bg=null,sh=null,Uf=null,Sk=db,Ng=!1,Cg=!1,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
ni=Object.prototype.hasOwnProperty,oi={},pi={},If={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){If[d]=new Qa(d,0,!1,d,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];If[g]=new Qa(g,1,!1,d[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){If[d]=
new Qa(d,2,!1,d.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){If[d]=new Qa(d,2,!1,d,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){If[d]=new Qa(d,3,!1,d.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(d){If[d]=
new Qa(d,3,!0,d,null,!1)});["capture","download"].forEach(function(d){If[d]=new Qa(d,4,!1,d,null,!1)});["cols","rows","size","span"].forEach(function(d){If[d]=new Qa(d,6,!1,d,null,!1)});["rowSpan","start"].forEach(function(d){If[d]=new Qa(d,5,!1,d.toLowerCase(),null,!1)});var qj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=
d.replace(qj,xa);If[g]=new Qa(g,1,!1,d,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(qj,xa);If[g]=new Qa(g,1,!1,d,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(qj,xa);If[g]=new Qa(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(d){If[d]=new Qa(d,1,!1,d.toLowerCase(),null,!1)});If.xlinkHref=new Qa("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(d){If[d]=new Qa(d,1,!1,d.toLowerCase(),null,!0)});var mg=hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;mg.hasOwnProperty("ReactCurrentDispatcher")||(mg.ReactCurrentDispatcher={current:null});mg.hasOwnProperty("ReactCurrentBatchConfig")||(mg.ReactCurrentBatchConfig={suspense:null});var Tk=/^(.*)[\\\/]/,Vf="function"===typeof Symbol&&Symbol.for,Ni=Vf?Symbol.for("react.element"):60103,qi=
Vf?Symbol.for("react.portal"):60106,bh=Vf?Symbol.for("react.fragment"):60107,$f=Vf?Symbol.for("react.strict_mode"):60108,Oi=Vf?Symbol.for("react.profiler"):60114,rj=Vf?Symbol.for("react.provider"):60109,ri=Vf?Symbol.for("react.context"):60110,Uk=Vf?Symbol.for("react.concurrent_mode"):60111,sj=Vf?Symbol.for("react.forward_ref"):60112,Ve=Vf?Symbol.for("react.suspense"):60113,si=Vf?Symbol.for("react.suspense_list"):60120,Nf=Vf?Symbol.for("react.memo"):60115,jf=Vf?Symbol.for("react.lazy"):60116,nk=Vf?
Symbol.for("react.block"):60121,Vk="function"===typeof Symbol&&Symbol.iterator,Pi,Qi=function(d){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(g,t,N,da){MSApp.execUnsafeLocalFunction(function(){return d(g,t,N,da)})}:d}(function(d,g){if("http://www.w3.org/2000/svg"!==d.namespaceURI||"innerHTML"in d)d.innerHTML=g;else{Pi=Pi||document.createElement("div");Pi.innerHTML="\x3csvg\x3e"+g.valueOf().toString()+"\x3c/svg\x3e";for(g=Pi.firstChild;d.firstChild;)d.removeChild(d.firstChild);
for(;g.firstChild;)d.appendChild(g.firstChild)}}),Hh={animationend:h("Animation","AnimationEnd"),animationiteration:h("Animation","AnimationIteration"),animationstart:h("Animation","AnimationStart"),transitionend:h("Transition","TransitionEnd")},ch={},tj={};gg&&(tj=document.createElement("div").style,"AnimationEvent"in window||(delete Hh.animationend.animation,delete Hh.animationiteration.animation,delete Hh.animationstart.animation),"TransitionEvent"in window||delete Hh.transitionend.transition);
var Wk=k("animationend"),uj=k("animationiteration"),ok=k("animationstart"),pk=k("transitionend"),Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new ("function"===typeof WeakMap?WeakMap:Map),ti=null,vj=[],ei=!1,Og=[],Pg=null,sg=null,eh=null,Si=new Map,ui=new Map,Ti=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
rk="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),Yk={},wj=new Map,xj=new Map,Zk=["abort","abort",Wk,"animationEnd",uj,"animationIteration",ok,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",pk,"transitionEnd","waiting","waiting"];bc("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);bc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);bc(Zk,2);for(var sk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),th=0;th<sk.length;th++)xj.set(sk[th],0);var yj=Qf.unstable_UserBlockingPriority,vi=Qf.unstable_runWithPriority,
Ih=!0,Ui={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},al=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(d){al.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1);Ui[g]=Ui[d]})});var $k=Pf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),bl="$",cl="/$",Vi="$?",zj="$!",Wi=null,wi=null,Aj="function"===typeof setTimeout?
setTimeout:void 0,dl="function"===typeof clearTimeout?clearTimeout:void 0,Bj=Math.random().toString(36).slice(2),Sg="__reactInternalInstance$"+Bj,Xi="__reactEventHandlers$"+Bj,Jh="__reactContainere$"+Bj,fh=null,Cj=null,Yi=null;Pf(md.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():"unknown"!==typeof d.returnValue&&(d.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?
d.stopPropagation():"unknown"!==typeof d.cancelBubble&&(d.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){this.isPersistent=Hc},isPersistent:ad,destructor:function(){var d=this.constructor.Interface,g;for(g in d)this[g]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ad;this._dispatchInstances=this._dispatchListeners=null}});md.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};md.extend=function(d){function g(){}function t(){return N.apply(this,arguments)}var N=this;g.prototype=N.prototype;var da=new g;Pf(da,t.prototype);t.prototype=da;t.prototype.constructor=t;t.Interface=Pf({},N.Interface,d);t.extend=N.extend;Vd(t);return t};Vd(md);var el=md.extend({data:null}),Ml=md.extend({data:null}),fl=[9,13,27,32],Dj=gg&&"CompositionEvent"in window,Zi=null;gg&&
"documentMode"in document&&(Zi=document.documentMode);var gl=gg&&"TextEvent"in window&&!Zi,tk=gg&&(!Dj||Zi&&8<Zi&&11>=Zi),il=String.fromCharCode(32),Tg={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},jl=!1,Kh=!1,uk={eventTypes:Tg,extractEvents:function(d,g,t,N){var da;if(Dj)a:{switch(d){case "compositionstart":var ib=Tg.compositionStart;break a;case "compositionend":ib=Tg.compositionEnd;
break a;case "compositionupdate":ib=Tg.compositionUpdate;break a}ib=void 0}else Kh?Zd(d,t)&&(ib=Tg.compositionEnd):"keydown"===d&&229===t.keyCode&&(ib=Tg.compositionStart);ib?(tk&&"ko"!==t.locale&&(Kh||ib!==Tg.compositionStart?ib===Tg.compositionEnd&&Kh&&(da=Jc()):(fh=N,Cj="value"in fh?fh.value:fh.textContent,Kh=!0)),ib=el.getPooled(ib,g,t,N),da?ib.data=da:(da=ze(t),null!==da&&(ib.data=da)),Ac(ib),da=ib):da=null;(d=gl?te(d,t):ue(d,t))?(g=Ml.getPooled(Tg.beforeInput,g,t,N),g.data=d,Ac(g)):g=null;return null===
da?g:null===g?da:[da,g]}},kl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},vk={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},$i=null,aj=null,wk=!1;gg&&(wk=Z("input")&&(!document.documentMode||9<document.documentMode));var xk={eventTypes:vk,_isInputEventSupported:wk,extractEvents:function(d,
g,t,N){var da=g?Nb(g):window,ib=da.nodeName&&da.nodeName.toLowerCase();if("select"===ib||"input"===ib&&"file"===da.type)var nb=Da;else if(bf(da))if(wk)nb=qc;else{nb=kc;var Ob=Pb}else(ib=da.nodeName)&&"input"===ib.toLowerCase()&&("checkbox"===da.type||"radio"===da.type)&&(nb=oc);if(nb&&(nb=nb(d,g)))return vd(nb,t,N);Ob&&Ob(d,da,g);"blur"===d&&(d=da._wrapperState)&&d.controlled&&"number"===da.type&&H(da,"number",da.value)}},bj=md.extend({view:null,detail:null}),Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",
Shift:"shiftKey"},ll=0,Ej=0,yk=!1,Fj=!1,ag=bj.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kd,button:null,buttons:null,relatedTarget:function(d){return d.relatedTarget||(d.fromElement===d.srcElement?d.toElement:d.fromElement)},movementX:function(d){if("movementX"in d)return d.movementX;var g=ll;ll=d.screenX;return yk?"mousemove"===d.type?d.screenX-g:0:(yk=!0,0)},movementY:function(d){if("movementY"in
d)return d.movementY;var g=Ej;Ej=d.screenY;return Fj?"mousemove"===d.type?d.screenY-g:0:(Fj=!0,0)}}),zk=ag.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),xi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout",
"pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ol={eventTypes:xi,extractEvents:function(d,g,t,N,da){var ib="mouseover"===d||"pointerover"===d,nb="mouseout"===d||"pointerout"===d;if(ib&&0===(da&32)&&(t.relatedTarget||t.fromElement)||!nb&&!ib)return null;ib=N.window===N?N:(ib=N.ownerDocument)?ib.defaultView||ib.parentWindow:window;if(nb){if(nb=g,g=(g=t.relatedTarget||t.toElement)?Ra(g):null,null!==g){var Ob=r(g);if(g!==Ob||5!==g.tag&&6!==
g.tag)g=null}}else nb=null;if(nb===g)return null;if("mouseout"===d||"mouseover"===d)var Lc=ag,Nc=xi.mouseLeave,td=xi.mouseEnter,Kd="mouse";else if("pointerout"===d||"pointerover"===d)Lc=zk,Nc=xi.pointerLeave,td=xi.pointerEnter,Kd="pointer";d=null==nb?ib:Nb(nb);ib=null==g?ib:Nb(g);Nc=Lc.getPooled(Nc,nb,t,N);Nc.type=Kd+"leave";Nc.target=d;Nc.relatedTarget=ib;t=Lc.getPooled(td,g,t,N);t.type=Kd+"enter";t.target=ib;t.relatedTarget=d;N=nb;Kd=g;if(N&&Kd)a:{Lc=N;td=Kd;nb=0;for(d=Lc;d;d=tc(d))nb++;d=0;for(g=
td;g;g=tc(g))d++;for(;0<nb-d;)Lc=tc(Lc),nb--;for(;0<d-nb;)td=tc(td),d--;for(;nb--;){if(Lc===td||Lc===td.alternate)break a;Lc=tc(Lc);td=tc(td)}Lc=null}else Lc=null;td=Lc;for(Lc=[];N&&N!==td;){nb=N.alternate;if(null!==nb&&nb===td)break;Lc.push(N);N=tc(N)}for(N=[];Kd&&Kd!==td;){nb=Kd.alternate;if(null!==nb&&nb===td)break;N.push(Kd);Kd=tc(Kd)}for(Kd=0;Kd<Lc.length;Kd++)Gc(Lc[Kd],"bubbled",Nc);for(Kd=N.length;0<Kd--;)Gc(N[Kd],"captured",t);return 0===(da&64)?[Nc]:[Nc,t]}},Mh="function"===typeof Object.is?
Object.is:pd,Ak=Object.prototype.hasOwnProperty,wh=gg&&"documentMode"in document&&11>=document.documentMode,Hj={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},yi=null,Gj=null,Lh=null,Bk=!1,Ck={eventTypes:Hj,extractEvents:function(d,g,t,N,da,ib){da=ib||(N.window===N?N.document:9===N.nodeType?N:N.ownerDocument);if(!(ib=!da)){a:{da=m(da);ib=pj.onSelect;for(var nb=
0;nb<ib.length;nb++)if(!da.has(ib[nb])){da=!1;break a}da=!0}ib=!da}if(ib)return null;da=g?Nb(g):window;switch(d){case "focus":if(bf(da)||"true"===da.contentEditable)yi=da,Gj=g,Lh=null;break;case "blur":Lh=Gj=yi=null;break;case "mousedown":Bk=!0;break;case "contextmenu":case "mouseup":case "dragend":return Bk=!1,ld(t,N);case "selectionchange":if(wh)break;case "keydown":case "keyup":return ld(t,N)}return null}},Ij=md.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pl=md.extend({clipboardData:function(d){return"clipboardData"in
d?d.clipboardData:window.clipboardData}}),ql=bj.extend({relatedTarget:null}),rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl=bj.extend({key:function(d){if(d.key){var g=rl[d.key]||d.key;if("Unidentified"!==g)return g}return"keypress"===d.type?(d=Od(d),13===d?"Enter":String.fromCharCode(d)):"keydown"===d.type||"keyup"===d.type?sl[d.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:kd,charCode:function(d){return"keypress"===d.type?Od(d):0},keyCode:function(d){return"keydown"===d.type||"keyup"===d.type?d.keyCode:0},which:function(d){return"keypress"===d.type?Od(d):"keydown"===d.type||"keyup"===d.type?d.keyCode:0}}),$l=ag.extend({dataTransfer:null}),am=bj.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kd}),dm=md.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cm=
ag.extend({deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:null,deltaMode:null}),tl={eventTypes:Yk,extractEvents:function(d,g,t,N){var da=wj.get(d);if(!da)return null;switch(d){case "keypress":if(0===Od(t))return null;case "keydown":case "keyup":d=Zl;break;case "blur":case "focus":d=ql;break;case "click":if(2===t.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":d=
ag;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":d=$l;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":d=am;break;case Wk:case uj:case ok:d=Ij;break;case pk:d=dm;break;case "scroll":d=bj;break;case "wheel":d=cm;break;case "copy":case "cut":case "paste":d=pl;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":d=
zk;break;default:d=md}g=d.getPooled(da,g,t,N);Ac(g);return g}};if(Mi)throw Error(n(101));Mi=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));Ma();var bm=yb;kk=gc;Qk=bm;Rk=Nb;Eb({SimpleEventPlugin:tl,EnterLeaveEventPlugin:ol,ChangeEventPlugin:xk,SelectEventPlugin:Ck,BeforeInputEventPlugin:uk});var Jj=[],Nh=-1,gh={},Sf={current:gh},jg={current:!1},Oh=gh,ul=Qf.unstable_runWithPriority,Dk=Qf.unstable_scheduleCallback,
nf=Qf.unstable_cancelCallback,rg=Qf.unstable_requestPaint,cj=Qf.unstable_now,ii=Qf.unstable_getCurrentPriorityLevel,dj=Qf.unstable_ImmediatePriority,wl=Qf.unstable_UserBlockingPriority,xl=Qf.unstable_NormalPriority,Ek=Qf.unstable_LowPriority,Fk=Qf.unstable_IdlePriority,Kj={},Lj=Qf.unstable_shouldYield,em=void 0!==rg?rg:function(){},Hg=null,ej=null,Gk=!1,fj=cj(),ug=1E4>fj?cj:function(){return cj()-fj},Mj={current:null},Ai=null,yh=null,zi=null,zh=!1,Wh=mg.ReactCurrentBatchConfig,zl=(new hi.Component).refs,
Oj={isMounted:function(d){return(d=d._reactInternalFiber)?r(d)===d:!1},enqueueSetState:function(d,g,t){d=d._reactInternalFiber;var N=Wc(),da=Wh.suspense;N=fd(N,d,da);da=Ed(N,da);da.payload=g;void 0!==t&&null!==t&&(da.callback=t);ke(d,da);hd(d,N)},enqueueReplaceState:function(d,g,t){d=d._reactInternalFiber;var N=Wc(),da=Wh.suspense;N=fd(N,d,da);da=Ed(N,da);da.tag=1;da.payload=g;void 0!==t&&null!==t&&(da.callback=t);ke(d,da);hd(d,N)},enqueueForceUpdate:function(d,g){d=d._reactInternalFiber;var t=Wc(),
N=Wh.suspense;t=fd(t,d,N);N=Ed(t,N);N.tag=2;void 0!==g&&null!==g&&(N.callback=g);ke(d,N);hd(d,t)}},Pj=Array.isArray,Bi=$e(!0),Hk=$e(!1),gj={},Wg={current:gj},Xh={current:gj},Yh={current:gj},wf={current:0},kj=mg.ReactCurrentDispatcher,qg=mg.ReactCurrentBatchConfig,rh=0,zd=null,zf=null,Gf=null,Zg=!1,xe={readContext:Sd,useCallback:zb,useContext:zb,useEffect:zb,useImperativeHandle:zb,useLayoutEffect:zb,useMemo:zb,useReducer:zb,useRef:zb,useState:zb,useDebugValue:zb,useResponder:zb,useDeferredValue:zb,
useTransition:zb},mf={readContext:Sd,useCallback:cg,useContext:Sd,useEffect:he,useImperativeHandle:function(d,g,t){t=null!==t&&void 0!==t?t.concat([d]):null;return me(4,2,xf.bind(null,g,d),t)},useLayoutEffect:function(d,g){return me(4,2,d,g)},useMemo:function(d,g){var t=Oc();g=void 0===g?null:g;d=d();t.memoizedState=[d,g];return d},useReducer:function(d,g,t){var N=Oc();g=void 0!==t?t(g):g;N.memoizedState=N.baseState=g;d=N.queue={pending:null,dispatch:null,lastRenderedReducer:d,lastRenderedState:g};
d=d.dispatch=C.bind(null,zd,d);return[N.memoizedState,d]},useRef:function(d){var g=Oc();d={current:d};return g.memoizedState=d},useState:wd,useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var t=wd(d),N=t[0],da=t[1];he(function(){var ib=qg.suspense;qg.suspense=void 0===g?null:g;try{da(d)}finally{qg.suspense=ib}},[d,g]);return N},useTransition:function(d){var g=wd(!1),t=g[0];g=g[1];return[cg(B.bind(null,g,d),[g,d]),t]}},id={readContext:Sd,useCallback:yf,useContext:Sd,useEffect:Fd,useImperativeHandle:Ff,
useLayoutEffect:ef,useMemo:Xf,useReducer:cd,useRef:ge,useState:function(){return cd(bd)},useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var t=cd(bd),N=t[0],da=t[1];Fd(function(){var ib=qg.suspense;qg.suspense=void 0===g?null:g;try{da(d)}finally{qg.suspense=ib}},[d,g]);return N},useTransition:function(d){var g=cd(bd),t=g[0];g=g[1];return[yf(B.bind(null,g,d),[g,d]),t]}},ah={readContext:Sd,useCallback:yf,useContext:Sd,useEffect:Fd,useImperativeHandle:Ff,useLayoutEffect:ef,useMemo:Xf,
useReducer:jd,useRef:ge,useState:function(){return jd(bd)},useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var t=jd(bd),N=t[0],da=t[1];Fd(function(){var ib=qg.suspense;qg.suspense=void 0===g?null:g;try{da(d)}finally{qg.suspense=ib}},[d,g]);return N},useTransition:function(d){var g=jd(bd),t=g[0];g=g[1];return[yf(B.bind(null,g,d),[g,d]),t]}},Yf=null,yg=null,Rg=!1,Xk=mg.ReactCurrentOwner,Qg=!1,Qj={dehydrated:null,retryTime:0};var yl=function(d,g){for(var t=g.child;null!==t;){if(5===t.tag||
6===t.tag)d.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t;t=t.child;continue}if(t===g)break;for(;null===t.sibling;){if(null===t.return||t.return===g)return;t=t.return}t.sibling.return=t.return;t=t.sibling}};var ak=function(){};var Dl=function(d,g,t,N,da){var ib=d.memoizedProps;if(ib!==N){var nb=g.stateNode;Qe(Wg.current);d=null;switch(t){case "input":ib=A(nb,ib);N=A(nb,N);d=[];break;case "option":ib=ma(nb,ib);N=ma(nb,N);d=[];break;case "select":ib=Pf({},ib,{value:void 0});
N=Pf({},N,{value:void 0});d=[];break;case "textarea":ib=Sa(nb,ib);N=Sa(nb,N);d=[];break;default:"function"!==typeof ib.onClick&&"function"===typeof N.onClick&&(nb.onclick=Ne)}Rc(t,N);var Ob,Lc;t=null;for(Ob in ib)if(!N.hasOwnProperty(Ob)&&ib.hasOwnProperty(Ob)&&null!=ib[Ob])if("style"===Ob)for(Lc in nb=ib[Ob],nb)nb.hasOwnProperty(Lc)&&(t||(t={}),t[Lc]="");else"dangerouslySetInnerHTML"!==Ob&&"children"!==Ob&&"suppressContentEditableWarning"!==Ob&&"suppressHydrationWarning"!==Ob&&"autoFocus"!==Ob&&
(Gh.hasOwnProperty(Ob)?d||(d=[]):(d=d||[]).push(Ob,null));for(Ob in N){var Nc=N[Ob];nb=null!=ib?ib[Ob]:void 0;if(N.hasOwnProperty(Ob)&&Nc!==nb&&(null!=Nc||null!=nb))if("style"===Ob)if(nb){for(Lc in nb)!nb.hasOwnProperty(Lc)||Nc&&Nc.hasOwnProperty(Lc)||(t||(t={}),t[Lc]="");for(Lc in Nc)Nc.hasOwnProperty(Lc)&&nb[Lc]!==Nc[Lc]&&(t||(t={}),t[Lc]=Nc[Lc])}else t||(d||(d=[]),d.push(Ob,t)),t=Nc;else"dangerouslySetInnerHTML"===Ob?(Nc=Nc?Nc.__html:void 0,nb=nb?nb.__html:void 0,null!=Nc&&nb!==Nc&&(d=d||[]).push(Ob,
Nc)):"children"===Ob?nb===Nc||"string"!==typeof Nc&&"number"!==typeof Nc||(d=d||[]).push(Ob,""+Nc):"suppressContentEditableWarning"!==Ob&&"suppressHydrationWarning"!==Ob&&(Gh.hasOwnProperty(Ob)?(null!=Nc&&De(da,Ob),d||nb===Nc||(d=[])):(d=d||[]).push(Ob,Nc))}t&&(d=d||[]).push("style",t);if(g.updateQueue=d)g.effectTag|=4}};var Yl=function(d,g,t,N){t!==N&&(g.effectTag|=4)};var Lk="function"===typeof WeakSet?WeakSet:Set,Fl="function"===typeof WeakMap?WeakMap:Map,Xl=Math.ceil,bi=mg.ReactCurrentDispatcher,
Rj=mg.ReactCurrentOwner,Of=0,Sj=8,wg=16,Cf=32,Kg=0,mj=1,hj=2,Tj=3,$h=4,Kk=5,ve=Of,pf=null,ye=null,eg=0,Ue=Kg,Zf=null,Fg=1073741823,ij=1073741823,xg=null,Ci=0,Uj=!1,zg=0,Ki=500,Xd=null,jj=!1,Wj=null,lh=null,Yg=!1,di=null,Fi=90,nh=null,Gi=0,lj=null,ci=0;var El=function(d,g,t){var N=g.expirationTime;if(null!==d){var da=g.pendingProps;if(d.memoizedProps!==da||jg.current)Qg=!0;else{if(N<t){Qg=!1;switch(g.tag){case 3:Q(g);yg=Yf=null;Rg=!1;break;case 5:D(g);if(g.mode&4&&1!==t&&da.hidden)return g.expirationTime=
g.childExpirationTime=1,null;break;case 1:Jd(g.type)&&re(g);break;case 4:df(g,g.stateNode.containerInfo);break;case 10:N=g.memoizedProps.value;da=g.type._context;jc(Mj,da._currentValue);da._currentValue=N;break;case 13:if(null!==g.memoizedState){N=g.child.childExpirationTime;if(0!==N&&N>=t)return W(d,g,t);jc(wf,wf.current&1);g=Ub(d,g,t);return null!==g?g.sibling:null}jc(wf,wf.current&1);break;case 19:N=g.childExpirationTime>=t;if(0!==(d.effectTag&64)){if(N)return Db(d,g,t);g.effectTag|=64}da=g.memoizedState;
null!==da&&(da.rendering=null,da.tail=null);jc(wf,wf.current);if(!N)return null}return Ub(d,g,t)}Qg=!1}}else Qg=!1;g.expirationTime=0;switch(g.tag){case 2:N=g.type;null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2);d=g.pendingProps;da=Wd(g,Sf.current);fe(g,t);da=ac(null,g,N,d,da,t);g.effectTag|=1;if("object"===typeof da&&null!==da&&"function"===typeof da.render&&void 0===da.$$typeof){g.tag=1;g.memoizedState=null;g.updateQueue=null;if(Jd(N)){var ib=!0;re(g)}else ib=!1;g.memoizedState=null!==
da.state&&void 0!==da.state?da.state:null;Ld(g);var nb=N.getDerivedStateFromProps;"function"===typeof nb&&cf(g,N,nb,d);da.updater=Oj;g.stateNode=da;da._reactInternalFiber=g;Fe(g,N,d,t);g=x(null,g,N,!0,ib,t)}else g.tag=0,Xa(null,g,da,t),g=g.child;return g;case 16:a:{da=g.elementType;null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2);d=g.pendingProps;ja(da);if(1!==da._status)throw da._result;da=da._result;g.type=da;ib=g.tag=Hl(da);d=ne(da,d);switch(ib){case 0:g=Wb(null,g,da,d,t);break a;case 1:g=
p(null,g,da,d,t);break a;case 11:g=Va(null,g,da,d,t);break a;case 14:g=lb(null,g,da,ne(da.type,d),N,t);break a}throw Error(n(306,da,""));}return g;case 0:return N=g.type,da=g.pendingProps,da=g.elementType===N?da:ne(N,da),Wb(d,g,N,da,t);case 1:return N=g.type,da=g.pendingProps,da=g.elementType===N?da:ne(N,da),p(d,g,N,da,t);case 3:Q(g);N=g.updateQueue;if(null===d||null===N)throw Error(n(282));N=g.pendingProps;da=g.memoizedState;da=null!==da?da.element:null;Qd(d,g);pe(g,N,null,t);N=g.memoizedState.element;
if(N===da)yg=Yf=null,Rg=!1,g=Ub(d,g,t);else{if(da=g.stateNode.hydrate)yg=cc(g.stateNode.containerInfo.firstChild),Yf=g,da=Rg=!0;if(da)for(t=Hk(g,null,N,t),g.child=t;t;)t.effectTag=t.effectTag&-3|1024,t=t.sibling;else Xa(d,g,N,t),yg=Yf=null,Rg=!1;g=g.child}return g;case 5:return D(g),null===d&&ca(g),N=g.type,da=g.pendingProps,ib=null!==d?d.memoizedProps:null,nb=da.children,Yb(N,da)?nb=null:null!==ib&&Yb(N,ib)&&(g.effectTag|=16),Gb(d,g),g.mode&4&&1!==t&&da.hidden?(g.expirationTime=g.childExpirationTime=
1,g=null):(Xa(d,g,nb,t),g=g.child),g;case 6:return null===d&&ca(g),null;case 13:return W(d,g,t);case 4:return df(g,g.stateNode.containerInfo),N=g.pendingProps,null===d?g.child=Bi(g,null,N,t):Xa(d,g,N,t),g.child;case 11:return N=g.type,da=g.pendingProps,da=g.elementType===N?da:ne(N,da),Va(d,g,N,da,t);case 7:return Xa(d,g,g.pendingProps,t),g.child;case 8:return Xa(d,g,g.pendingProps.children,t),g.child;case 12:return Xa(d,g,g.pendingProps.children,t),g.child;case 10:a:{N=g.type._context;da=g.pendingProps;
nb=g.memoizedProps;ib=da.value;var Ob=g.type._context;jc(Mj,Ob._currentValue);Ob._currentValue=ib;if(null!==nb)if(Ob=nb.value,ib=Mh(Ob,ib)?0:("function"===typeof N._calculateChangedBits?N._calculateChangedBits(Ob,ib):1073741823)|0,0===ib){if(nb.children===da.children&&!jg.current){g=Ub(d,g,t);break a}}else for(Ob=g.child,null!==Ob&&(Ob.return=g);null!==Ob;){var Lc=Ob.dependencies;if(null!==Lc){nb=Ob.child;for(var Nc=Lc.firstContext;null!==Nc;){if(Nc.context===N&&0!==(Nc.observedBits&ib)){1===Ob.tag&&
(Nc=Ed(t,null),Nc.tag=2,ke(Ob,Nc));Ob.expirationTime<t&&(Ob.expirationTime=t);Nc=Ob.alternate;null!==Nc&&Nc.expirationTime<t&&(Nc.expirationTime=t);Pc(Ob.return,t);Lc.expirationTime<t&&(Lc.expirationTime=t);break}Nc=Nc.next}}else nb=10===Ob.tag?Ob.type===g.type?null:Ob.child:Ob.child;if(null!==nb)nb.return=Ob;else for(nb=Ob;null!==nb;){if(nb===g){nb=null;break}Ob=nb.sibling;if(null!==Ob){Ob.return=nb.return;nb=Ob;break}nb=nb.return}Ob=nb}Xa(d,g,da.children,t);g=g.child}return g;case 9:return da=g.type,
ib=g.pendingProps,N=ib.children,fe(g,t),da=Sd(da,ib.unstable_observedBits),N=N(da),g.effectTag|=1,Xa(d,g,N,t),g.child;case 14:return da=g.type,ib=ne(da,g.pendingProps),ib=ne(da.type,ib),lb(d,g,da,ib,N,t);case 15:return pb(d,g,g.type,g.pendingProps,N,t);case 17:return N=g.type,da=g.pendingProps,da=g.elementType===N?da:ne(N,da),null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2),g.tag=1,Jd(N)?(d=!0,re(g)):d=!1,fe(g,t),gd(g,N,da),Fe(g,N,da,t),x(null,g,N,!0,d,t);case 19:return Db(d,g,t)}throw Error(n(156,
g.tag));};var ik=null,dk=null;oj.prototype.render=function(d){Ag(d,this._internalRoot,null,null)};oj.prototype.unmount=function(){var d=this._internalRoot,g=d.containerInfo;Ag(null,d,null,function(){g[Jh]=null})};var Ik=function(d){if(13===d.tag){var g=Yc(Wc(),150,100);hd(d,g);fg(d,g)}};var Af=function(d){13===d.tag&&(hd(d,3),fg(d,3))};var Yj=function(d){if(13===d.tag){var g=Wc();g=fd(g,d,null);hd(d,g);fg(d,g)}};Bg=function(d,g,t){switch(g){case "input":L(d,t);g=t.name;if("radio"===t.type&&null!=
g){for(t=d;t.parentNode;)t=t.parentNode;t=t.querySelectorAll("input[name\x3d"+JSON.stringify(""+g)+'][type\x3d"radio"]');for(g=0;g<t.length;g++){var N=t[g];if(N!==d&&N.form===d.form){var da=gc(N);if(!da)throw Error(n(90));jb(N);L(N,da)}}}break;case "textarea":ha(d,t);break;case "select":g=t.value,null!=g&&Ia(d,!!t.multiple,g,!1)}};db=Ie;Ja=function(d,g,t,N,da){var ib=ve;ve|=4;try{return He(98,d.bind(null,g,t,N,da))}finally{ve=ib,ve===Of&&Pd()}};ea=function(){(ve&(1|wg|Cf))===Of&&(Rd(),oh())};Sk=function(d,
g){var t=ve;ve|=2;try{return d(g)}finally{ve=t,ve===Of&&Pd()}};var Bl={Events:[yb,Nb,gc,Eb,lk,Ac,function(d){fb(d,$b)},Ea,$a,xd,Ca,oh,{current:!1}]};(function(d){var g=d.findFiberByHostInstance;return Pk(Pf({},d,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mg.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){t=ka(t);return null===t?null:t.stateNode},findFiberByHostInstance:function(t){return g?g(t):null},findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Ra,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bl;ub.createPortal=jk;ub.findDOMNode=function(d){if(null==d)return null;if(1===d.nodeType)return d;var g=d._reactInternalFiber;if(void 0===g){if("function"===typeof d.render)throw Error(n(188));throw Error(n(268,Object.keys(d)));}d=ka(g);return d=null===d?null:d.stateNode};
ub.flushSync=function(d,g){if((ve&(wg|Cf))!==Of)throw Error(n(187));var t=ve;ve|=1;try{return He(99,d.bind(null,g))}finally{ve=t,Pd()}};ub.hydrate=function(d,g,t){if(!Ji(g))throw Error(n(200));return gi(null,d,g,!0,t)};ub.render=function(d,g,t){if(!Ji(g))throw Error(n(200));return gi(null,d,g,!1,t)};ub.unmountComponentAtNode=function(d){if(!Ji(d))throw Error(n(40));return d._reactRootContainer?(Re(function(){gi(null,null,d,!1,function(){d._reactRootContainer=null;d[Jh]=null})}),!0):!1};ub.unstable_batchedUpdates=
Ie;ub.unstable_createPortal=function(d,g){return jk(d,g,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};ub.unstable_renderSubtreeIntoContainer=function(d,g,t,N){if(!Ji(t))throw Error(n(200));if(null==d||void 0===d._reactInternalFiber)throw Error(n(38));return gi(d,g,t,!1,N)};ub.version="16.13.1"};
shadow$provide[67]=function(Kb,sb,hc,ub){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(q){console.error(q)}}n();hc.exports=sb(62)};
var aa="cljs.core",ba="cljs.spec.alpha",g,da=this||self;
function q(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function la(a,b){a.sort(b||ma)}function na(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ma;la(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ma(a,b){return a>b?1:a<b?-1:0};function oa(a){this.Zc=a}oa.prototype.toString=function(){return this.Zc};function pa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ra(a,b){return null!==a&&b in a?a[b]:void 0}var ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ta.length;f++)c=ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function va(a){var b=arguments.length;if(1==b&&"array"==q(arguments[0]))return va.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function wa(a){return/^[\s\xa0]*$/.test(a)};va(new oa("APPLET"),new oa("BASE"),new oa("EMBED"),new oa("IFRAME"),new oa("LINK"),new oa("MATH"),new oa("META"),new oa("OBJECT"),new oa("SCRIPT"),new oa("STYLE"),new oa("SVG"),new oa("TEMPLATE"));function xa(a,b){null!=a&&this.append.apply(this,arguments)}g=xa.prototype;g.Ta="";g.set=function(a){this.Ta=""+a};g.append=function(a,b,c){this.Ta+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Ta+=arguments[d];return this};g.clear=function(){this.Ta=""};g.toString=function(){return this.Ta};var ya={},za={},Aa,r={},Ba=null;function Ca(){return new u(null,5,[Da,!0,Ea,!0,Fa,!1,Ga,!1,Ia,null],null)}function v(a){return null!=a&&!1!==a}function Ja(a){return a instanceof Array}function Ka(a){return null==a?!0:!1===a?!0:!1}function w(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;c=v(v(c)?c.Db:c)?c.ib:q(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function La(a){var b=a.ib;return v(b)?b:z.f(a)}
var Ma="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator",Na={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Oa=null;
function Pa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Qa(a){function b(d,e){d.push(e);return d}var c=[];return Ra?Ra(b,c,a):Sa.call(null,b,c,a)}function Va(a){return"symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Wa(){}function Xa(){}function Ya(){}
function ab(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=ab[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=ab._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function bb(){}function cb(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=cb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=cb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function db(){}
function eb(a,b){if(null!=a&&null!=a.la)a=a.la(a,b);else{var c=eb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function fb(){}
var hb=function(){function a(d,e,f){var h=gb[q(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=gb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=gb[q(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=gb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),gb=function gb(a){switch(arguments.length){case 2:return gb.j(arguments[0],arguments[1]);case 3:return gb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};gb.j=function(a,b){return null!=a&&null!=a.fa?a.fa(a,b):hb(a,b)};gb.C=function(a,b,c){return null!=a&&null!=a.Ca?a.Ca(a,b,c):hb(a,b,c)};gb.K=3;function ib(){}
function C(a){if(null!=a&&null!=a.ta)a=a.ta(a);else{var b=C[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=C._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function jb(a){if(null!=a&&null!=a.ua)a=a.ua(a);else{var b=jb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=jb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function kb(){}
function lb(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=lb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=lb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("INext.-next",a);}return a}function mb(){}
var ob=function(){function a(d,e,f){var h=nb[q(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=nb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=nb[q(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=nb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),nb=function nb(a){switch(arguments.length){case 2:return nb.j(arguments[0],arguments[1]);case 3:return nb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};nb.j=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):ob(a,b)};nb.C=function(a,b,c){return null!=a&&null!=a.$?a.$(a,b,c):ob(a,b,c)};nb.K=3;
function pb(a,b,c){if(null!=a&&null!=a.Qa)a=a.Qa(a,b,c);else{var d=pb[q(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=pb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}function qb(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=qb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function rb(){}
function sb(a,b){if(null!=a&&null!=a.Yb)a=a.Yb(a,b);else{var c=sb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}function tb(a){if(null!=a&&null!=a.Mc)a=a.key;else{var b=tb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=tb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}
function ub(a){if(null!=a&&null!=a.Nc)a=a.da;else{var b=ub[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=ub._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function vb(){}function wb(a,b){if(null!=a&&null!=a.rc)a=a.rc(a,b);else{var c=wb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ISet.-disjoin",a);}return a}
function xb(a){if(null!=a&&null!=a.Ab)a=a.Ab(a);else{var b=xb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=xb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}function yb(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=yb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=yb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function Ab(){}
function Bb(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=Bb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function Cb(){}function Db(a){if(null!=a&&null!=a.ca)a=a.ca(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Db._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}
function Eb(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=Eb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function Fb(){}
var Hb=function(){function a(d,e,f){var h=Gb[q(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Gb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=Gb[q(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Gb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),Gb=function Gb(a){switch(arguments.length){case 2:return Gb.j(arguments[0],arguments[1]);case 3:return Gb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Gb.j=function(a,b){return null!=a&&null!=a.ra?a.ra(a,b):Hb(a,b)};Gb.C=function(a,b,c){return null!=a&&null!=a.sa?a.sa(a,b,c):Hb(a,b,c)};Gb.K=3;function Ib(){}
function Jb(a,b,c){if(null!=a&&null!=a.Mb)a=a.Mb(a,b,c);else{var d=Jb[q(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Jb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function Kb(a,b){if(null!=a&&null!=a.ba)a=a.ba(a,b);else{var c=Kb[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Kb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function Nb(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=Nb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function Ob(){}function Pb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Pb[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function Qb(){}function Rb(){}function Sb(){}function Tb(){}
function Ub(a){if(null!=a&&null!=a.Nb)a=a.Nb(a);else{var b=Ub[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IReversible.-rseq",a);}return a}function D(a,b){if(null!=a&&null!=a.sc)a=a.sc(a,b);else{var c=D[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=D._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function Vb(){}
function Wb(a,b,c){if(null!=a&&null!=a.aa)a=a.aa(a,b,c);else{var d=Wb[q(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Wb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}function Xb(a,b){var c=Yb;if(null!=a&&null!=a.Ob)a.Ob(a,b,c);else{var d=Xb[q(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Xb._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IWatchable.-add-watch",a);}}
function Zb(a,b){if(null!=a&&null!=a.Pb)a.Pb(a,b);else{var c=Zb[q(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Zb._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw y("IWatchable.-remove-watch",a);}}function $b(a){if(null!=a&&null!=a.pb)a=a.pb(a);else{var b=$b[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=$b._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}
function ac(a,b){if(null!=a&&null!=a.rb)a=a.rb(a,b);else{var c=ac[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ac._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}function bc(a){if(null!=a&&null!=a.Cb)a=a.Cb(a);else{var b=bc[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=bc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}
function cc(a,b,c){if(null!=a&&null!=a.qb)a=a.qb(a,b,c);else{var d=cc[q(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}function dc(){}function ic(a,b){if(null!=a&&null!=a.ob)a=a.ob(a,b);else{var c=ic[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ic._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}
function jc(a){if(null!=a&&null!=a.mc)a=a.mc(a);else{var b=jc[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=jc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}function kc(a){if(null!=a&&null!=a.Xb)a=a.Xb(a);else{var b=kc[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=kc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}
function lc(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=lc[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=lc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}function mc(a,b){if(null!=a&&null!=a.Ea)a=a.Ea(a,b);else{var c=mc[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=mc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var oc=function(){function a(f,h,k,l,m){var n=nc[q(null==f?null:f)];if(null!=n)return n.qa?n.qa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=nc._;if(null!=n)return n.qa?n.qa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw y("ISwap.-swap!",f);}function b(f,h,k,l){var m=nc[q(null==f?null:f)];if(null!=m)return m.R?m.R(f,h,k,l):m.call(null,f,h,k,l);m=nc._;if(null!=m)return m.R?m.R(f,h,k,l):m.call(null,f,h,k,l);throw y("ISwap.-swap!",f);}function c(f,h,k){var l=nc[q(null==f?null:f)];if(null!=l)return l.C?l.C(f,h,k):l.call(null,
f,h,k);l=nc._;if(null!=l)return l.C?l.C(f,h,k):l.call(null,f,h,k);throw y("ISwap.-swap!",f);}function d(f,h){var k=nc[q(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=nc._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw y("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.j=d;e.C=c;e.R=b;e.qa=a;return e}(),nc=function nc(a){switch(arguments.length){case 2:return nc.j(arguments[0],arguments[1]);case 3:return nc.C(arguments[0],arguments[1],arguments[2]);case 4:return nc.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return nc.qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};nc.j=function(a,b){return null!=a&&null!=a.$b?a.$b(a,b):oc(a,b)};
nc.C=function(a,b,c){return null!=a&&null!=a.ac?a.ac(a,b,c):oc(a,b,c)};nc.R=function(a,b,c,d){return null!=a&&null!=a.bc?a.bc(a,b,c,d):oc(a,b,c,d)};nc.qa=function(a,b,c,d,e){return null!=a&&null!=a.cc?a.cc(a,b,c,d,e):oc(a,b,c,d,e)};nc.K=5;function pc(){}function qc(a){if(null!=a&&null!=a.Da)a=a.Da(a);else{var b=qc[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=qc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function sc(a){this.Yc=a;this.D=1073741824;this.O=0}sc.prototype.sc=function(a,b){return this.Yc.append(b)};function tc(a){var b=new xa;a.aa(null,new sc(b),Ca());return z.f(b)}var uc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function vc(a){a=uc(a|0,-862048943);return uc(a<<15|a>>>-15,461845907)}
function wc(a,b){a=(a|0)^(b|0);return uc(a<<13|a>>>-13,5)+-430675100|0}function xc(a,b){a=(a|0)^b;a=uc(a^a>>>16,-2048144789);a=uc(a^a>>>13,-1028477387);return a^a>>>16}function yc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=wc(c,vc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return xc(1===(a.length&1)?b^vc(a.charCodeAt(a.length-1)):b,uc(2,a.length))}var zc={},Ac=0;
function Bc(a){255<Ac&&(zc={},Ac=0);if(null==a)return 0;var b=zc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=uc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;zc[a]=b;Ac+=1;a=b}return a}
function Cc(a){if(null!=a&&(a.D&4194304||r===a.dd))return a.ea(null)^0;if("number"===typeof a){if(v(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Bc(a),a=0===a?a:xc(wc(0,vc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Nb(a)^0,a}function Dc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Ec(a,b){if(a.La===b.La)return 0;if(v(Ka(a.xa)?b.xa:!1))return-1;if(v(a.xa)){if(Ka(b.xa))return 1;var c=ma(a.xa,b.xa);return 0===c?ma(a.name,b.name):c}return ma(a.name,b.name)}function Fc(a,b,c,d,e){this.xa=a;this.name=b;this.La=c;this._hash=d;this.Ja=e;this.D=2154168321;this.O=4096}g=Fc.prototype;g.toString=function(){return this.La};g.ba=function(a,b){return b instanceof Fc?this.La===b.La:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return E.j?E.j(a,this):E.call(null,a,this)};g.j=function(a,b){return E.C?E.C(a,this,b):E.call(null,a,this,b)};g.ca=function(){return this.Ja};
g.ha=function(a,b){return new Fc(this.xa,this.name,this.La,this._hash,b)};g.ea=function(){var a=this._hash;return null!=a?a:this._hash=a=Dc(yc(this.name),Bc(this.xa))};g.aa=function(a,b){return D(b,this.La)};var Gc=function Gc(a){switch(arguments.length){case 1:return Gc.f(arguments[0]);case 2:return Gc.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
Gc.f=function(a){for(;;){if(a instanceof Fc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Gc.j(null,a):Gc.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof F)a=a.Aa;else throw Error("no conversion to symbol");}};Gc.j=function(a,b){var c=null!=a?[z.f(a),"/",z.f(b)].join(""):b;return new Fc(a,b,c,null,null)};Gc.K=2;function Hc(a){return null!=a?a.O&131072||r===a.ed?!0:a.O?!1:w(pc,a):w(pc,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.D&8388608||r===a.Pc))return a.ga(null);if(Ja(a)||"string"===typeof a)return 0===a.length?null:new I(a,0,null);if(null!=a&&null!=a[Ma])return a=ra(a,Ma).call(a),Ic.f?Ic.f(a):Ic.call(null,a);if(w(Ob,a))return Pb(a);throw Error([z.f(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.D&64||r===a.za))return a.ta(null);a=G(a);return null==a?null:C(a)}
function Jc(a){return null!=a?null!=a&&(a.D&64||r===a.za)?a.ua(null):(a=G(a))?a.ua(null):K:K}function M(a){return null==a?null:null!=a&&(a.D&128||r===a.zb)?a.ma(null):G(Jc(a))}var O=function O(a){switch(arguments.length){case 1:return O.f(arguments[0]);case 2:return O.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return O.G(arguments[0],arguments[1],c)}};O.f=function(){return!0};
O.j=function(a,b){return null==a?null==b:a===b||Kb(a,b)};O.G=function(a,b,c){for(;;)if(O.j(a,b))if(M(c))a=b,b=J(c),c=M(c);else return O.j(b,J(c));else return!1};O.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};O.K=2;function Kc(a){this.s=a}Kc.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Lc(a){return new Kc(G(a))}
function Mc(a,b){this.value=a;this.wb=b;this.Ub=null;this.D=8388672;this.O=0}Mc.prototype.ga=function(){return this};Mc.prototype.ta=function(){return this.value};Mc.prototype.ua=function(){null==this.Ub&&(this.Ub=Ic.f?Ic.f(this.wb):Ic.call(null,this.wb));return this.Ub};function Ic(a){var b=a.next();return v(b.done)?null:new Mc(b.value,a)}function Nc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=uc(31,c)+Cc(J(a))|0,a=M(a);else return xc(wc(0,vc(c)),b)}var Oc=xc(wc(0,vc(1)),0);
function Pc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Cc(J(a))|0,a=M(a);else return xc(wc(0,vc(c)),b)}var Qc=xc(wc(0,vc(0)),0);Ya["null"]=!0;ab["null"]=function(){return 0};Date.prototype.ba=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.xb=r;Date.prototype.ob=function(a,b){if(b instanceof Date)return ma(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Kb.number=function(a,b){return a===b};Wa["function"]=!0;
Cb["function"]=!0;Db["function"]=function(){return null};Nb._=function(a){return ea(a)};function Rc(a){return a+1}function Sc(a){this.da=a;this.D=32768;this.O=0}Sc.prototype.Ra=function(){return this.da};function Tc(a){return a instanceof Sc}function Zc(a){return Bb(a)}function $c(a,b){var c=a.length;if(0===a.length)return b.J?b.J():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Tc(d))return Bb(d);e+=1}else return d}
function ad(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Tc(e))return Bb(e);c+=1}else return e}function bd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Tc(c))return Bb(c);d+=1}else return c}function cd(a){return null!=a?a.D&2||r===a.Fc?!0:a.D?!1:w(Ya,a):w(Ya,a)}function dd(a){return null!=a?a.D&16||r===a.oc?!0:a.D?!1:w(fb,a):w(fb,a)}
function P(a,b,c){var d=Q.f?Q.f(a):Q.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(O.j(ed?ed(a,c):fd.call(null,a,c),b))return c;c+=1}else return-1}function R(a,b,c){var d=Q.f?Q.f(a):Q.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(O.j(ed?ed(a,c):fd.call(null,a,c),b))return c;--c}else return-1}function gd(a,b){this.B=a;this.i=b}gd.prototype.va=function(){return this.i<this.B.length};
gd.prototype.next=function(){var a=this.B[this.i];this.i+=1;return a};function I(a,b,c){this.B=a;this.i=b;this.meta=c;this.D=166592766;this.O=139264}g=I.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q.f?Q.f(this):Q.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.fa=function(a,b){a=b+this.i;if(0<=a&&a<this.B.length)return this.B[a];throw Error("Index out of bounds");};g.Ca=function(a,b,c){a=b+this.i;return 0<=a&&a<this.B.length?this.B[a]:c};
g.Da=function(){return new gd(this.B,this.i)};g.ca=function(){return this.meta};g.ma=function(){return this.i+1<this.B.length?new I(this.B,this.i+1,null):null};g.ia=function(){var a=this.B.length-this.i;return 0>a?0:a};g.Nb=function(){var a=this.ia(null);return 0<a?new hd(this,a-1,null):null};g.ea=function(){return Nc(this)};g.ba=function(a,b){return id.j?id.j(this,b):id.call(null,this,b)};g.ka=function(){return K};g.ra=function(a,b){return bd(this.B,b,this.B[this.i],this.i+1)};
g.sa=function(a,b,c){return bd(this.B,b,c,this.i)};g.ta=function(){return this.B[this.i]};g.ua=function(){return this.i+1<this.B.length?new I(this.B,this.i+1,null):K};g.ga=function(){return this.i<this.B.length?this:null};g.ha=function(a,b){return b===this.meta?this:new I(this.B,this.i,b)};g.la=function(a,b){return S.j?S.j(b,this):S.call(null,b,this)};I.prototype[Ma]=function(){return Lc(this)};function jd(a){return 0<a.length?new I(a,0,null):null}
function hd(a,b,c){this.ci=a;this.i=b;this.meta=c;this.D=32374990;this.O=8192}g=hd.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q.f?Q.f(this):Q.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){return 0<this.i?new hd(this.ci,this.i-1,null):null};g.ia=function(){return this.i+1};g.ea=function(){return Nc(this)};
g.ba=function(a,b){return id.j?id.j(this,b):id.call(null,this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd?kd(b,this):ld.call(null,b,this)};g.sa=function(a,b,c){return md?md(b,c,this):ld.call(null,b,c,this)};g.ta=function(){return gb(this.ci,this.i)};g.ua=function(){return 0<this.i?new hd(this.ci,this.i-1,null):K};g.ga=function(){return this};g.ha=function(a,b){return b===this.meta?this:new hd(this.ci,this.i,b)};g.la=function(a,b){return S.j?S.j(b,this):S.call(null,b,this)};
hd.prototype[Ma]=function(){return Lc(this)};function nd(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}Kb._=function(a,b){return a===b};var od=function od(a){switch(arguments.length){case 0:return od.J();case 1:return od.f(arguments[0]);case 2:return od.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return od.G(arguments[0],arguments[1],c)}};od.J=function(){return pd};od.f=function(a){return a};
od.j=function(a,b){return null!=a?eb(a,b):new qd(null,b,null,1,null)};od.G=function(a,b,c){for(;;)if(v(c))a=od.j(a,b),b=J(c),c=M(c);else return od.j(a,b)};od.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};od.K=2;
function Q(a){if(null!=a)if(null!=a&&(a.D&2||r===a.Fc))a=a.ia(null);else if(Ja(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.D&8388608||r===a.Pc))a:{a=G(a);for(var b=0;;){if(cd(a)){a=b+ab(a);break a}a=M(a);b+=1}}else a=ab(a);else a=0;return a}function rd(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?J(a):c;if(dd(a))return gb(a,b,c);if(G(a))a=M(a),--b;else return c}}
function fd(a){switch(arguments.length){case 2:return ed(arguments[0],arguments[1]);case 3:return T(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}
function ed(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.D&16||r===a.oc))return a.fa(null,b);if(Ja(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.D&64||r===a.za)||null!=a&&(a.D&16777216||r===a.qc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=J(a);break a}throw Error("Index out of bounds");}if(dd(a)){a=gb(a,b);break a}if(G(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(w(fb,a))return gb(a,b);throw Error(["nth not supported on this type ",z.f(La(null==a?null:a.constructor))].join(""));}
function T(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.D&16||r===a.oc))return a.Ca(null,b,c);if(Ja(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.D&64||r===a.za)||null!=a&&(a.D&16777216||r===a.qc))return 0>b?c:rd(a,b,c);if(w(fb,a))return gb(a,b,c);throw Error(["nth not supported on this type ",z.f(La(null==a?null:a.constructor))].join(""));}
var E=function E(a){switch(arguments.length){case 2:return E.j(arguments[0],arguments[1]);case 3:return E.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};E.j=function(a,b){return null==a?null:null!=a&&(a.D&256||r===a.Lc)?a.ya(null,b):Ja(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:w(mb,a)?nb(a,b):null};
E.C=function(a,b,c){return null!=a?null!=a&&(a.D&256||r===a.Lc)?a.$(null,b,c):Ja(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:w(mb,a)?nb(a,b,c):c:c};E.K=3;var V=function V(a){switch(arguments.length){case 3:return V.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return V.G(arguments[0],arguments[1],arguments[2],c)}};
V.C=function(a,b,c){if(null!=a&&(a.D&512||r===a.$c))a=a.Qa(null,b,c);else if(null!=a)a=pb(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=sd(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new u(null,b.length/2,b,null)}return a};V.G=function(a,b,c,d){for(;;)if(a=V.C(a,b,c),v(d))b=J(d),c=J(M(d)),d=M(M(d));else return a};V.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.G(b,a,c,d)};V.K=3;
var td=function td(a){switch(arguments.length){case 1:return td.f(arguments[0]);case 2:return td.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return td.G(arguments[0],arguments[1],c)}};td.f=function(a){return a};td.j=function(a,b){return null==a?null:sb(a,b)};td.G=function(a,b,c){for(;;){if(null==a)return null;a=td.j(a,b);if(v(c))b=J(c),c=M(c);else return a}};
td.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};td.K=2;function ud(a){var b="function"==q(a);return b?b:null!=a?r===a.Ec?!0:a.tc?!1:w(Wa,a):w(Wa,a)}function vd(a,b){this.I=a;this.meta=b;this.D=393217;this.O=0}g=vd.prototype;g.ca=function(){return this.meta};g.ha=function(a,b){return new vd(this.I,b)};g.Ec=r;
g.call=function(a){switch(arguments.length-1){case 0:return this.J();case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.$a(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.bb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],t=arguments[12],x=arguments[13],A=arguments[14],B=arguments[15],
H=arguments[16],N=arguments[17],U=arguments[18],ca=arguments[19],fa=arguments[20],qa=arguments[21];return wd.Kc?wd.Kc(this.I,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa,qa):wd.call(null,this.I,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa,qa);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.J=function(){return this.I.J?this.I.J():this.I.call(null)};
g.f=function(a){return this.I.f?this.I.f(a):this.I.call(null,a)};g.j=function(a,b){return this.I.j?this.I.j(a,b):this.I.call(null,a,b)};g.C=function(a,b,c){return this.I.C?this.I.C(a,b,c):this.I.call(null,a,b,c)};g.R=function(a,b,c,d){return this.I.R?this.I.R(a,b,c,d):this.I.call(null,a,b,c,d)};g.qa=function(a,b,c,d,e){return this.I.qa?this.I.qa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Ma=function(a,b,c,d,e,f){return this.I.Ma?this.I.Ma(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};
g.fb=function(a,b,c,d,e,f,h){return this.I.fb?this.I.fb(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.gb=function(a,b,c,d,e,f,h,k){return this.I.gb?this.I.gb(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};g.hb=function(a,b,c,d,e,f,h,k,l){return this.I.hb?this.I.hb(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ua=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ua?this.I.Ua(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Va=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Va?this.I.Va(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Wa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Wa?this.I.Wa(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.Xa=function(a,b,c,d,e,f,h,k,l,m,n,p,t){return this.I.Xa?this.I.Xa(a,b,c,d,e,f,h,k,l,m,n,p,t):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t)};
g.Ya=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x){return this.I.Ya?this.I.Ya(a,b,c,d,e,f,h,k,l,m,n,p,t,x):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x)};g.Za=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A){return this.I.Za?this.I.Za(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B){return this.I.$a?this.I.$a(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B)};
g.ab=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H){return this.I.ab?this.I.ab(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H)};g.bb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N){return this.I.bb?this.I.bb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N)};
g.cb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U){return this.I.cb?this.I.cb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U)};g.eb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca){return this.I.eb?this.I.eb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca)};function xd(a,b){return"function"==q(a)?new vd(a,b):null==a?null:Eb(a,b)}
function Ed(a){return null!=a&&(null!=a?a.D&131072||r===a.Zb||(a.D?0:w(Cb,a)):w(Cb,a))?Db(a):null}var Fd=function Fd(a){switch(arguments.length){case 1:return Fd.f(arguments[0]);case 2:return Fd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Fd.G(arguments[0],arguments[1],c)}};Fd.f=function(a){return a};Fd.j=function(a,b){return null==a?null:wb(a,b)};
Fd.G=function(a,b,c){for(;;){if(null==a)return null;a=Fd.j(a,b);if(v(c))b=J(c),c=M(c);else return a}};Fd.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};Fd.K=2;function Gd(a){return null==a||Ka(G(a))}function Hd(a){return null==a?!1:null!=a?a.D&8||r===a.bd?!0:a.D?!1:w(db,a):w(db,a)}function Id(a){return null==a?!1:null!=a?a.D&4096||r===a.md?!0:a.D?!1:w(vb,a):w(vb,a)}function Jd(a){return null!=a?a.D&16777216||r===a.qc?!0:a.D?!1:w(Qb,a):w(Qb,a)}
function Kd(a){return null==a?!1:null!=a?a.D&1024||r===a.hd?!0:a.D?!1:w(rb,a):w(rb,a)}function Ld(a){return null!=a?a.D&67108864||r===a.kd?!0:a.D?!1:w(Sb,a):w(Sb,a)}function Md(a){return null!=a?a.D&16384||r===a.nd?!0:a.D?!1:w(Ab,a):w(Ab,a)}function Nd(a){return null!=a?a.O&512||r===a.ad?!0:!1:!1}function Od(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Pd={};function Qd(a){return null==a?!1:!1===a?!1:!0}
function Rd(a){var b=ud(a);return b?b:null!=a?a.D&1||r===a.cd?!0:a.D?!1:w(Xa,a):w(Xa,a)}function Sd(a,b){return E.C(a,b,Pd)===Pd?!1:!0}
function Td(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ma(a,b);throw Error(["Cannot compare ",z.f(a)," to ",z.f(b)].join(""));}if(null!=a?a.O&2048||r===a.xb||(a.O?0:w(dc,a)):w(dc,a))return ic(a,b);if("string"!==typeof a&&!Ja(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.f(a)," to ",z.f(b)].join(""));return ma(a,b)}
function Ud(a,b){var c=Q(a),d=Q(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Td(ed(a,d),ed(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Vd(a){return O.j(a,Td)?Td:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:v(d)?-1:v(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Wd(a,b){return G(b)?(b=Xd.f?Xd.f(b):Xd.call(null,b),na(b,Vd(a)),G(b)):K}
function Yd(a,b){return Wd(function(c,d){c=a.f?a.f(c):a.call(null,c);d=a.f?a.f(d):a.call(null,d);var e=Vd(Td);return e.j?e.j(c,d):e.call(null,c,d)},b)}function ld(a){switch(arguments.length){case 2:return kd(arguments[0],arguments[1]);case 3:return md(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function kd(a,b){var c=G(b);return c?(b=J(c),c=M(c),Ra?Ra(a,b,c):Sa.call(null,a,b,c)):a.J?a.J():a.call(null)}
function md(a,b,c){for(c=G(c);;)if(c){var d=J(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Tc(b))return Bb(b);c=M(c)}else return b}function Zd(a,b){a=qc(a);if(v(a.va()))for(var c=a.next();;)if(a.va()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Tc(c))return Bb(c)}else return c;else return b.J?b.J():b.call(null)}function $d(a,b,c){for(a=qc(a);;)if(a.va()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Tc(c))return Bb(c)}else return c}
function Sa(a){switch(arguments.length){case 2:return ae(arguments[0],arguments[1]);case 3:return Ra(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function ae(a,b){return null!=b&&(b.D&524288||r===b.Oc)?b.ra(null,a):Ja(b)?$c(b,a):"string"===typeof b?$c(b,a):w(Fb,b)?Gb(b,a):Hc(b)?Zd(b,a):kd(a,b)}
function Ra(a,b,c){return null!=c&&(c.D&524288||r===c.Oc)?c.sa(null,a,b):Ja(c)?ad(c,a,b):"string"===typeof c?ad(c,a,b):w(Fb,c)?Gb(c,a,b):Hc(c)?$d(c,a,b):md(a,b,c)}function be(a,b,c){return null!=c?Jb(c,a,b):b}function ce(a){return a}function de(a,b,c,d){a=a.f?a.f(b):a.call(null,b);c=Ra(a,c,d);return a.f?a.f(c):a.call(null,c)}function ee(a){return a-1}function fe(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}
function le(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var z=function z(a){switch(arguments.length){case 0:return z.J();case 1:return z.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return z.G(arguments[0],c)}};z.J=function(){return""};z.f=function(a){return null==a?"":[a].join("")};
z.G=function(a,b){for(a=new xa(z.f(a));;)if(v(b))a=a.append(z.f(J(b))),b=M(b);else return a.toString()};z.N=function(a){var b=J(a);a=M(a);return this.G(b,a)};z.K=1;function id(a,b){if(Jd(b))if(cd(a)&&cd(b)&&Q(a)!==Q(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&O.j(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Qd(a)}function qd(a,b,c,d,e){this.meta=a;this.first=b;this.Pa=c;this.count=d;this.P=e;this.D=65937646;this.O=8192}g=qd.prototype;
g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){return 1===this.count?null:this.Pa};g.ia=function(){return this.count};g.Ab=function(){return this.first};g.Bb=function(){return this.ua(null)};
g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){return id(this,b)};g.ka=function(){return Eb(K,this.meta)};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return this.first};g.ua=function(){return 1===this.count?K:this.Pa};g.ga=function(){return this};g.ha=function(a,b){return b===this.meta?this:new qd(b,this.first,this.Pa,this.count,this.P)};g.la=function(a,b){return new qd(this.meta,b,this,this.count+1,null)};
qd.prototype[Ma]=function(){return Lc(this)};function me(a){this.meta=a;this.D=65937614;this.O=8192}g=me.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){return null};g.ia=function(){return 0};g.Ab=function(){return null};g.Bb=function(){throw Error("Can't pop empty list");};g.ea=function(){return Oc};
g.ba=function(a,b){return(null!=b?b.D&33554432||r===b.gd||(b.D?0:w(Rb,b)):w(Rb,b))||Jd(b)?null==G(b):!1};g.ka=function(){return this};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return null};g.ua=function(){return K};g.ga=function(){return null};g.ha=function(a,b){return b===this.meta?this:new me(b)};g.la=function(a,b){return new qd(this.meta,b,null,1,null)};var K=new me(null);me.prototype[Ma]=function(){return Lc(this)};
function ne(a){return(null!=a?a.D&134217728||r===a.ld||(a.D?0:w(Tb,a)):w(Tb,a))?(a=Ub(a))?a:K:Ra(od,K,a)}var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return oe.G(c)};oe.G=function(a){if(a instanceof I&&0===a.i)var b=a.B;else a:for(b=[];;)if(null!=a)b.push(C(a)),a=lb(a);else break a;a=b.length;for(var c=K;;)if(0<a){var d=a-1;c=eb(c,b[a-1]);a=d}else return c};oe.K=0;oe.N=function(a){return this.G(G(a))};
function pe(a,b,c,d){this.meta=a;this.first=b;this.Pa=c;this.P=d;this.D=65929452;this.O=8192}g=pe.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){return null==this.Pa?null:G(this.Pa)};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};
g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return this.first};g.ua=function(){return null==this.Pa?K:this.Pa};g.ga=function(){return this};g.ha=function(a,b){return b===this.meta?this:new pe(b,this.first,this.Pa,this.P)};g.la=function(a,b){return new pe(null,b,this,null)};pe.prototype[Ma]=function(){return Lc(this)};
function S(a,b){return null==b?new qd(null,a,null,1,null):null!=b&&(b.D&64||r===b.za)?new pe(null,a,b,null):new pe(null,a,G(b),null)}function qe(a,b){if(a.Aa===b.Aa)return 0;if(v(Ka(a.xa)?b.xa:!1))return-1;if(v(a.xa)){if(Ka(b.xa))return 1;var c=ma(a.xa,b.xa);return 0===c?ma(a.name,b.name):c}return ma(a.name,b.name)}function F(a,b,c,d){this.xa=a;this.name=b;this.Aa=c;this._hash=d;this.D=2153775105;this.O=4096}g=F.prototype;g.toString=function(){return[":",z.f(this.Aa)].join("")};
g.ba=function(a,b){return b instanceof F?this.Aa===b.Aa:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return E.j(a,this)};g.j=function(a,b){return E.C(a,this,b)};
g.ea=function(){var a=this._hash;return null!=a?a:this._hash=a=Dc(yc(this.name),Bc(this.xa))+2654435769|0};g.aa=function(a,b){return D(b,[":",z.f(this.Aa)].join(""))};function re(a,b){return a===b?!0:a instanceof F&&b instanceof F?a.Aa===b.Aa:!1}function se(a){if(null!=a&&(a.O&4096||r===a.pc))return a.xa;throw Error(["Doesn't support namespace: ",z.f(a)].join(""));}function te(a){return a instanceof F||a instanceof Fc}
var ue=function ue(a){switch(arguments.length){case 1:return ue.f(arguments[0]);case 2:return ue.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};ue.f=function(a){if(a instanceof F)return a;if(a instanceof Fc)return new F(se(a),W.f?W.f(a):W.call(null,a),a.La,null);if(O.j("/",a))return new F(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new F(b[0],b[1],a,null):new F(null,b[0],a,null)}return null};
ue.j=function(a,b){a=a instanceof F?W.f?W.f(a):W.call(null,a):a instanceof Fc?W.f?W.f(a):W.call(null,a):a;b=b instanceof F?W.f?W.f(b):W.call(null,b):b instanceof Fc?W.f?W.f(b):W.call(null,b):b;return new F(a,b,[v(a)?[z.f(a),"/"].join(""):null,z.f(b)].join(""),null)};ue.K=2;function ve(a,b,c){this.meta=a;this.fn=b;this.s=null;this.P=c;this.D=32374988;this.O=1}g=ve.prototype;g.toString=function(){return tc(this)};
function we(a){null!=a.fn&&(a.s=a.fn.J?a.fn.J():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){this.ga(null);return null==this.s?null:M(this.s)};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){return id(this,b)};
g.ka=function(){return Eb(K,this.meta)};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){this.ga(null);return null==this.s?null:J(this.s)};g.ua=function(){this.ga(null);return null!=this.s?Jc(this.s):K};g.ga=function(){we(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof ve)a=we(a);else return this.s=a,G(this.s)};g.ha=function(a,b){var c=this;return b===this.meta?c:new ve(b,function(){return c.ga(null)},this.P)};
g.la=function(a,b){return S(b,this)};ve.prototype[Ma]=function(){return Lc(this)};function xe(a){this.Vb=a;this.end=0;this.D=2;this.O=0}xe.prototype.add=function(a){this.Vb[this.end]=a;return this.end+=1};xe.prototype.na=function(){var a=new ye(this.Vb,0,this.end);this.Vb=null;return a};xe.prototype.ia=function(){return this.end};function ze(a){return new xe(Array(a))}function ye(a,b,c){this.B=a;this.off=b;this.end=c;this.D=524306;this.O=0}g=ye.prototype;g.ia=function(){return this.end-this.off};
g.fa=function(a,b){return this.B[this.off+b]};g.Ca=function(a,b,c){return 0<=b&&b<this.end-this.off?this.B[this.off+b]:c};g.mc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ye(this.B,this.off+1,this.end)};g.ra=function(a,b){return bd(this.B,b,this.B[this.off],this.off+1)};g.sa=function(a,b,c){return bd(this.B,b,c,this.off)};function Ae(a,b,c,d){this.na=a;this.Ha=b;this.meta=c;this.P=d;this.D=31850732;this.O=1536}g=Ae.prototype;g.toString=function(){return tc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){return 1<ab(this.na)?new Ae(jc(this.na),this.Ha,null,null):null==this.Ha?null:Pb(this.Ha)};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ta=function(){return gb(this.na,0)};g.ua=function(){return 1<ab(this.na)?new Ae(jc(this.na),this.Ha,null,null):null==this.Ha?K:this.Ha};g.ga=function(){return this};g.Xb=function(){return this.na};g.Lb=function(){return null==this.Ha?K:this.Ha};g.ha=function(a,b){return b===this.meta?this:new Ae(this.na,this.Ha,b,this.P)};g.la=function(a,b){return S(b,this)};g.nc=function(){return null==this.Ha?null:this.Ha};Ae.prototype[Ma]=function(){return Lc(this)};
function Be(a,b){return 0===ab(a)?b:new Ae(a,b,null,null)}function Ce(a,b){a.add(b)}function Xd(a){var b=[];for(a=G(a);;)if(null!=a)b.push(J(a)),a=M(a);else return b}function De(a,b){if(cd(b))return Q(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var Ee=function Ee(a){if(null==a)return null;var c=M(a);return null==c?G(J(a)):S(J(a),Ee.f?Ee.f(c):Ee.call(null,c))},Fe=function Fe(a){switch(arguments.length){case 0:return Fe.J();case 1:return Fe.f(arguments[0]);case 2:return Fe.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Fe.G(arguments[0],arguments[1],c)}};Fe.J=function(){return $b(pd)};Fe.f=function(a){return a};
Fe.j=function(a,b){return ac(a,b)};Fe.G=function(a,b,c){for(;;)if(a=ac(a,b),v(c))b=J(c),c=M(c);else return a};Fe.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};Fe.K=2;
function Ge(a,b,c){var d=G(c);if(0===b)return a.J?a.J():a.call(null);c=C(d);var e=jb(d);if(1===b)return a.f?a.f(c):a.call(null,c);d=C(e);var f=jb(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=C(f);var h=jb(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=C(h);var k=jb(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=C(k);var l=jb(k);if(5===b)return a.qa?a.qa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=C(l);var m=jb(l);if(6===b)return a.Ma?a.Ma(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
C(m);var n=jb(m);if(7===b)return a.fb?a.fb(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=C(n);var p=jb(n);if(8===b)return a.gb?a.gb(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=C(p);var t=jb(p);if(9===b)return a.hb?a.hb(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=C(t);var x=jb(t);if(10===b)return a.Ua?a.Ua(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);t=C(x);var A=jb(x);if(11===b)return a.Va?a.Va(c,d,e,f,h,k,l,m,n,p,t):a.call(null,c,d,e,f,h,k,l,m,n,p,t);x=C(A);var B=jb(A);if(12===
b)return a.Wa?a.Wa(c,d,e,f,h,k,l,m,n,p,t,x):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x);A=C(B);var H=jb(B);if(13===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n,p,t,x,A):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A);B=C(H);var N=jb(H);if(14===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p,t,x,A,B):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B);H=C(N);var U=jb(N);if(15===b)return a.Za?a.Za(c,d,e,f,h,k,l,m,n,p,t,x,A,B,H):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H);N=C(U);var ca=jb(U);if(16===b)return a.$a?a.$a(c,d,e,f,h,k,l,m,n,p,t,x,A,
B,H,N):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N);U=C(ca);var fa=jb(ca);if(17===b)return a.ab?a.ab(c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U);ca=C(fa);var qa=jb(fa);if(18===b)return a.bb?a.bb(c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca);fa=C(qa);qa=jb(qa);if(19===b)return a.cb?a.cb(c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa);var rc=C(qa);jb(qa);if(20===b)return a.eb?
a.eb(c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa,rc):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa,rc);throw Error("Only up to 20 arguments supported on functions");}function He(a){return null!=a&&(a.D&128||r===a.zb)?a.ma(null):G(Jc(a))}function Ie(a,b,c){return null==c?a.f?a.f(b):a.call(a,b):Je(a,b,C(c),He(c))}function Je(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Ke(a,b,c,C(d),He(d))}function Ke(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):Le(a,b,c,d,C(e),He(e))}
function Le(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=C(f),k=M(f);if(null==k)return a.qa?a.qa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=C(k);var l=M(k);if(null==l)return a.Ma?a.Ma(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=C(l);var m=M(l);if(null==m)return a.fb?a.fb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=C(m);var n=M(m);if(null==n)return a.gb?a.gb(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=C(n);var p=M(n);if(null==p)return a.hb?a.hb(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=C(p);var t=M(p);if(null==t)return a.Ua?a.Ua(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=C(t);var x=M(t);if(null==x)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);t=C(x);var A=M(x);if(null==A)return a.Wa?a.Wa(b,c,d,e,h,f,k,l,m,n,p,t):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t);x=C(A);var B=M(A);if(null==B)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,n,p,t,x):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x);A=C(B);var H=M(B);if(null==H)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n,p,t,x,A):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,t,x,A);B=C(H);var N=M(H);if(null==N)return a.Za?a.Za(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,B);H=C(N);var U=M(N);if(null==U)return a.$a?a.$a(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H);N=C(U);var ca=M(U);if(null==ca)return a.ab?a.ab(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N);U=C(ca);var fa=M(ca);if(null==fa)return a.bb?a.bb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,t,x,A,B,H,N,U);ca=C(fa);var qa=M(fa);if(null==qa)return a.cb?a.cb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U,ca):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U,ca);fa=C(qa);qa=M(qa);if(null==qa)return a.eb?a.eb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa);b=[b,c,d,e,h,f,k,l,m,n,p,t,x,A,B,H,N,U,ca,fa];for(c=qa;;)if(c)b.push(C(c)),c=M(c);else break;return a.apply(a,b)}
function wd(a){switch(arguments.length){case 2:return Me(arguments[0],arguments[1]);case 3:return Ne(arguments[0],arguments[1],arguments[2]);case 4:return Oe(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Pe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new I(b.slice(5),0,null);return Qe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Me(a,b){if(a.N){var c=a.K,d=De(c+1,b);return d<=c?Ge(a,d,b):a.N(b)}b=G(b);return null==b?a.J?a.J():a.call(a):Ie(a,C(b),He(b))}function Ne(a,b,c){if(a.N){b=S(b,c);var d=a.K;c=De(d,c)+1;return c<=d?Ge(a,c,b):a.N(b)}return Ie(a,b,G(c))}function Oe(a,b,c,d){return a.N?(b=S(b,S(c,d)),c=a.K,d=2+De(c-1,d),d<=c?Ge(a,d,b):a.N(b)):Je(a,b,c,G(d))}function Pe(a,b,c,d,e){return a.N?(b=S(b,S(c,S(d,e))),c=a.K,e=3+De(c-2,e),e<=c?Ge(a,e,b):a.N(b)):Ke(a,b,c,d,G(e))}
function Qe(a,b,c,d,e,f){return a.N?(f=Ee(f),b=S(b,S(c,S(d,S(e,f)))),c=a.K,f=4+De(c-3,f),f<=c?Ge(a,f,b):a.N(b)):Le(a,b,c,d,e,Ee(f))}
function Re(){if("undefined"===typeof ya||"undefined"===typeof za||"undefined"===typeof Aa)Aa=function(a){this.Uc=a;this.D=393216;this.O=0},Aa.prototype.ha=function(a,b){return new Aa(b)},Aa.prototype.ca=function(){return this.Uc},Aa.prototype.va=function(){return!1},Aa.prototype.next=function(){return Error("No such element")},Aa.prototype.remove=function(){return Error("Unsupported operation")},Aa.Db=!0,Aa.ib="cljs.core/t_cljs$core24374",Aa.Qb=function(a){return D(a,"cljs.core/t_cljs$core24374")};
return new Aa(Se)}function Te(a,b){for(;;){if(null==G(b))return!0;var c=J(b);c=a.f?a.f(c):a.call(null,c);if(v(c))b=M(b);else return!1}}function Ue(a){for(var b=ce;;)if(a=G(a)){var c=J(a);c=b.f?b.f(c):b.call(null,c);if(v(c))return c;a=M(a)}else return null}
function Ve(a){return function(){function b(h,k){return Ka(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return Ka(a.f?a.f(h):a.call(null,h))}function d(){return Ka(a.J?a.J():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new I(t,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Ka(Oe(a,l,m,n))}h.K=2;h.N=function(l){var m=J(l);l=M(l);var n=J(l);l=Jc(l);return k(m,n,l)};
h.G=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new I(n,0,null)}return f.G(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.K=2;e.N=f.N;e.J=d;e.f=c;e.j=b;e.G=f.G;return e}()}
var We=function We(a){switch(arguments.length){case 0:return We.J();case 1:return We.f(arguments[0]);case 2:return We.j(arguments[0],arguments[1]);case 3:return We.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return We.G(arguments[0],arguments[1],arguments[2],c)}};We.J=function(){return ce};We.f=function(a){return a};
We.j=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.f?a.f(l):a.call(null,l)}function d(l,m){l=b.j?b.j(l,m):b.call(null,l,m);return a.f?a.f(l):a.call(null,l)}function e(l){l=b.f?b.f(l):b.call(null,l);return a.f?a.f(l):a.call(null,l)}function f(){var l=b.J?b.J():b.call(null);return a.f?a.f(l):a.call(null,l)}var h=null,k=function(){function l(n,p,t,x){var A=null;if(3<arguments.length){A=0;for(var B=Array(arguments.length-3);A<B.length;)B[A]=arguments[A+
3],++A;A=new I(B,0,null)}return m.call(this,n,p,t,A)}function m(n,p,t,x){n=Pe(b,n,p,t,x);return a.f?a.f(n):a.call(null,n)}l.K=3;l.N=function(n){var p=J(n);n=M(n);var t=J(n);n=M(n);var x=J(n);n=Jc(n);return m(p,t,x,n)};l.G=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+
3],++t;t=new I(x,0,null)}return k.G(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};h.K=3;h.N=k.N;h.J=f;h.f=e;h.j=d;h.C=c;h.G=k.G;return h}()};
We.C=function(a,b,c){return function(){function d(m,n,p){m=c.C?c.C(m,n,p):c.call(null,m,n,p);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function e(m,n){m=c.j?c.j(m,n):c.call(null,m,n);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function f(m){m=c.f?c.f(m):c.call(null,m);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function h(){var m=c.J?c.J():c.call(null);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}var k=null,l=function(){function m(p,
t,x,A){var B=null;if(3<arguments.length){B=0;for(var H=Array(arguments.length-3);B<H.length;)H[B]=arguments[B+3],++B;B=new I(H,0,null)}return n.call(this,p,t,x,B)}function n(p,t,x,A){p=Pe(c,p,t,x,A);p=b.f?b.f(p):b.call(null,p);return a.f?a.f(p):a.call(null,p)}m.K=3;m.N=function(p){var t=J(p);p=M(p);var x=J(p);p=M(p);var A=J(p);p=Jc(p);return n(t,x,A,p)};m.G=n;return m}();k=function(m,n,p,t){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var x=null;if(3<arguments.length){x=0;for(var A=Array(arguments.length-3);x<A.length;)A[x]=arguments[x+3],++x;x=new I(A,0,null)}return l.G(m,n,p,x)}throw Error("Invalid arity: "+arguments.length);};k.K=3;k.N=l.N;k.J=h;k.f=f;k.j=e;k.C=d;k.G=l.G;return k}()};
We.G=function(a,b,c,d){var e=ne(S(a,S(b,S(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new I(m,0,null)}return h.call(this,l)}function h(k){k=Me(J(e),k);for(var l=M(e);;)if(l){var m=J(l);k=m.f?m.f(k):m.call(null,k);l=M(l)}else return k}f.K=0;f.N=function(k){k=G(k);return h(k)};f.G=h;return f}()};We.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.G(b,a,c,d)};We.K=3;
function Xe(a,b){return new ve(null,function(){var c=G(b);if(c){if(Nd(c)){for(var d=kc(c),e=Q(d),f=ze(e),h=0;;)if(h<e){var k=function(){var l=gb(d,h);return a.f?a.f(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Be(f.na(),Xe(a,lc(c)))}e=function(){var l=J(c);return a.f?a.f(l):a.call(null,l)}();return null==e?Xe(a,Jc(c)):S(e,Xe(a,Jc(c)))}return null},null)}function Ye(a){this.state=a;this.pa=this.validator=this.meta=null;this.O=16386;this.D=6455296}g=Ye.prototype;
g.ba=function(a,b){return this===b};g.Ra=function(){return this.state};g.ca=function(){return this.meta};g.ec=function(a,b){for(var c=G(this.pa),d=null,e=0,f=0;;)if(f<e){var h=d.fa(null,f),k=T(h,0,null);h=T(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=G(c))Nd(c)?(d=kc(c),c=lc(c),k=d,e=Q(d),d=k):(d=J(c),k=T(d,0,null),h=T(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=M(c),d=null,e=0),f=0;else break};g.Ob=function(a,b,c){this.pa=V.C(this.pa,b,c);return this};
g.Pb=function(a,b){return this.pa=td.j(this.pa,b)};g.ea=function(){return ea(this)};function Ze(a,b){if(a instanceof Ye){var c=a.validator;if(null!=c&&!v(c.f?c.f(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.pa&&a.ec(c,b);return b}return mc(a,b)}
var $e=function $e(a){switch(arguments.length){case 2:return $e.j(arguments[0],arguments[1]);case 3:return $e.C(arguments[0],arguments[1],arguments[2]);case 4:return $e.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return $e.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
$e.j=function(a,b){if(a instanceof Ye){var c=a.state;b=b.f?b.f(c):b.call(null,c);a=Ze(a,b)}else a=nc(a,b);return a};$e.C=function(a,b,c){if(a instanceof Ye){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Ze(a,b)}else a=nc(a,b,c);return a};$e.R=function(a,b,c,d){if(a instanceof Ye){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=Ze(a,b)}else a=nc(a,b,c,d);return a};$e.G=function(a,b,c,d,e){return a instanceof Ye?Ze(a,Pe(b,a.state,c,d,e)):nc(a,b,c,d,e)};
$e.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.G(b,a,c,d,e)};$e.K=4;function af(a){this.state=a;this.D=32768;this.O=0}af.prototype.Ra=function(){return this.state};
var X=function X(a){switch(arguments.length){case 1:return X.f(arguments[0]);case 2:return X.j(arguments[0],arguments[1]);case 3:return X.C(arguments[0],arguments[1],arguments[2]);case 4:return X.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return X.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
X.f=function(a){return function(b){return function(){function c(k,l){l=a.f?a.f(l):a.call(null,l);return b.j?b.j(k,l):b.call(null,k,l)}function d(k){return b.f?b.f(k):b.call(null,k)}function e(){return b.J?b.J():b.call(null)}var f=null,h=function(){function k(m,n,p){var t=null;if(2<arguments.length){t=0;for(var x=Array(arguments.length-2);t<x.length;)x[t]=arguments[t+2],++t;t=new I(x,0,null)}return l.call(this,m,n,t)}function l(m,n,p){n=Ne(a,n,p);return b.j?b.j(m,n):b.call(null,m,n)}k.K=2;k.N=function(m){var n=
J(m);m=M(m);var p=J(m);m=Jc(m);return l(n,p,m)};k.G=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new I(p,0,null)}return h.G(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.K=2;f.N=h.N;f.J=e;f.f=d;f.j=c;f.G=h.G;return f}()}};
X.j=function(a,b){return new ve(null,function(){var c=G(b);if(c){if(Nd(c)){for(var d=kc(c),e=Q(d),f=ze(e),h=0;;)if(h<e)Ce(f,function(){var k=gb(d,h);return a.f?a.f(k):a.call(null,k)}()),h+=1;else break;return Be(f.na(),X.j(a,lc(c)))}return S(function(){var k=J(c);return a.f?a.f(k):a.call(null,k)}(),X.j(a,Jc(c)))}return null},null)};
X.C=function(a,b,c){return new ve(null,function(){var d=G(b),e=G(c);if(d&&e){var f=J(d);var h=J(e);f=a.j?a.j(f,h):a.call(null,f,h);d=S(f,X.C(a,Jc(d),Jc(e)))}else d=null;return d},null)};X.R=function(a,b,c,d){return new ve(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=S(k,X.R(a,Jc(e),Jc(f),Jc(h)))}else e=null;return e},null)};
X.G=function(a,b,c,d,e){return X.j(function(f){return Me(a,f)},function k(h){return new ve(null,function(){var l=X.j(G,h);return Te(ce,l)?S(X.j(J,l),k(X.j(Jc,l))):null},null)}(od.G(e,d,jd([c,b]))))};X.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.G(b,a,c,d,e)};X.K=4;
var bf=function bf(a){switch(arguments.length){case 1:return bf.f(arguments[0]);case 2:return bf.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
bf.f=function(a){return function(b){var c=new af(a);return function(){function d(k,l){var m=Bb(c);var n=c.Ra(null)-1;n=c.state=n;k=0<m?b.j?b.j(k,l):b.call(null,k,l):k;return 0<n?k:Tc(k)?k:new Sc(k)}function e(k){return b.f?b.f(k):b.call(null,k)}function f(){return b.J?b.J():b.call(null)}var h=null;h=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};h.J=f;h.f=e;h.j=d;return h}()}};
bf.j=function(a,b){return new ve(null,function(){if(0<a){var c=G(b);return c?S(J(c),bf.j(a-1,Jc(c))):null}return null},null)};bf.K=2;function cf(a,b){return new ve(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=Jc(d);else break a;return d},null)}function df(a){return X.C(function(b){return b},a,cf(2,a))}
function ef(a,b){return new ve(null,function(){var c=G(b);if(c){if(Nd(c)){for(var d=kc(c),e=Q(d),f=ze(e),h=0;;)if(h<e){var k=gb(d,h);k=a.f?a.f(k):a.call(null,k);v(k)&&(k=gb(d,h),f.add(k));h+=1}else break;return Be(f.na(),ef(a,lc(c)))}d=J(c);c=Jc(c);return v(a.f?a.f(d):a.call(null,d))?S(d,ef(a,c)):ef(a,c)}return null},null)}function ff(a,b){return ef(Ve(a),b)}
var gf=function gf(a){switch(arguments.length){case 0:return gf.J();case 1:return gf.f(arguments[0]);case 2:return gf.j(arguments[0],arguments[1]);case 3:return gf.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};gf.J=function(){return pd};gf.f=function(a){return a};gf.j=function(a,b){return null!=a?null!=a&&(a.O&4||r===a.Gc)?Eb(bc(Ra(ac,$b(a),b)),Ed(a)):Ra(eb,a,b):Ra(od,a,b)};
gf.C=function(a,b,c){return null!=a&&(a.O&4||r===a.Gc)?Eb(bc(de(b,Fe,$b(a),c)),Ed(a)):de(b,od,a,c)};gf.K=3;
var rf=function rf(a){switch(arguments.length){case 3:return rf.C(arguments[0],arguments[1],arguments[2]);case 4:return rf.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return rf.qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return rf.Ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return rf.G(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};rf.C=function(a,b,c){return V.C(a,b,function(){var d=E.j(a,b);return c.f?c.f(d):c.call(null,d)}())};rf.R=function(a,b,c,d){return V.C(a,b,function(){var e=E.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};rf.qa=function(a,b,c,d,e){return V.C(a,b,function(){var f=E.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};rf.Ma=function(a,b,c,d,e,f){return V.C(a,b,function(){var h=E.j(a,b);return c.R?c.R(h,d,e,f):c.call(null,h,d,e,f)}())};
rf.G=function(a,b,c,d,e,f,h){return V.C(a,b,Qe(c,E.j(a,b),d,e,f,jd([h])))};rf.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);var f=M(e);e=J(f);var h=M(f);f=J(h);h=M(h);return this.G(b,a,c,d,e,f,h)};rf.K=6;function sf(a,b){this.Y=a;this.B=b}function tf(a){return new sf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function uf(a){return new sf(a.Y,Pa(a.B))}function vf(a){a=a.F;return 32>a?0:a-1>>>5<<5}function wf(a,b,c){for(;;){if(0===b)return c;var d=tf(a);d.B[0]=c;c=d;b-=5}}var xf=function xf(a,b,c,d){var f=uf(c),h=a.F-1>>>b&31;5===b?f.B[h]=d:(c=c.B[h],null!=c?(b-=5,a=xf.R?xf.R(a,b,c,d):xf.call(null,a,b,c,d)):a=wf(null,b-5,d),f.B[h]=a);return f};function yf(a,b){if(b>=vf(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.B[b>>>a&31];a=d}else return c.B}
function zf(a,b){if(0<=b&&b<a.F)b=yf(a,b);else throw a=a.F,Error(["No item ",z.f(b)," in vector of length ",z.f(a)].join(""));return b}
var Af=function Af(a,b,c,d,e){var h=uf(c);if(0===b)h.B[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.B[k];a=Af.qa?Af.qa(a,b,c,d,e):Af.call(null,a,b,c,d,e);h.B[k]=a}return h},Bf=function Bf(a,b,c){var e=a.F-2>>>b&31;if(5<b){b-=5;var f=c.B[e];a=Bf.C?Bf.C(a,b,f):Bf.call(null,a,b,f);if(null==a&&0===e)return null;c=uf(c);c.B[e]=a;return c}if(0===e)return null;c=uf(c);c.B[e]=null;return c};function Cf(a,b,c){this.base=this.i=0;this.B=a;this.v=b;this.start=0;this.end=c}Cf.prototype.va=function(){return this.i<this.end};
Cf.prototype.next=function(){32===this.i-this.base&&(this.B=yf(this.v,this.i),this.base+=32);var a=this.B[this.i&31];this.i+=1;return a};function Df(a,b,c,d){return c<d?Ef(a,b,ed(a,c),c+1,d):b.J?b.J():b.call(null)}function Ef(a,b,c,d,e){var f=c;c=d;for(d=yf(a,d);;)if(c<e){var h=c&31;d=0===h?yf(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Tc(f))return Bb(f);c+=1}else return f}
function Y(a,b,c,d,e,f){this.meta=a;this.F=b;this.shift=c;this.root=d;this.tail=e;this.P=f;this.D=167666463;this.O=139268}g=Y.prototype;g.yb=function(a,b){return 0<=b&&b<this.F?new Ff(b,yf(this,b)[b&31]):null};g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return"number"===typeof b?this.Ca(null,b,c):c};
g.Mb=function(a,b,c){a=0;for(var d=c;;)if(a<this.F){var e=yf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Tc(d)){e=d;break a}f+=1}else{e=d;break a}if(Tc(e))return Bb(e);a+=c;d=e}else return d};g.fa=function(a,b){return zf(this,b)[b&31]};g.Ca=function(a,b,c){return 0<=b&&b<this.F?yf(this,b)[b&31]:c};
g.dc=function(a,b){if(0<=a&&a<this.F){if(vf(this)<=a){var c=Pa(this.tail);c[a&31]=b;return new Y(this.meta,this.F,this.shift,this.root,c,null)}return new Y(this.meta,this.F,this.shift,Af(this,this.shift,this.root,a,b),this.tail,null)}if(a===this.F)return this.la(null,b);throw Error(["Index ",z.f(a)," out of bounds  [0,",z.f(this.F),"]"].join(""));};g.Da=function(){var a=this.F;return new Cf(0<Q(this)?yf(this,0):null,this,a)};g.ca=function(){return this.meta};g.ia=function(){return this.F};
g.Ab=function(){return 0<this.F?this.fa(null,this.F-1):null};g.Bb=function(){if(0===this.F)throw Error("Can't pop empty vector");if(1===this.F)return Eb(pd,this.meta);if(1<this.F-vf(this))return new Y(this.meta,this.F-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=yf(this,this.F-2),b=Bf(this,this.shift,this.root);b=null==b?Z:b;var c=this.F-1;return 5<this.shift&&null==b.B[1]?new Y(this.meta,c,this.shift-5,b.B[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.Nb=function(){return 0<this.F?new hd(this,this.F-1,null):null};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){if(b instanceof Y)if(this.F===Q(b))for(a=this.Da(null),b=b.Da(null);;)if(a.va()){var c=a.next(),d=b.next();if(!O.j(c,d))return!1}else return!0;else return!1;else return id(this,b)};g.pb=function(){return new Gf(this.F,this.shift,Hf.f?Hf.f(this.root):Hf.call(null,this.root),If.f?If.f(this.tail):If.call(null,this.tail))};g.ka=function(){return Eb(pd,this.meta)};
g.ra=function(a,b){return Df(this,b,0,this.F)};g.sa=function(a,b,c){a=0;for(var d=c;;)if(a<this.F){var e=yf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Tc(d)){e=d;break a}f+=1}else{e=d;break a}if(Tc(e))return Bb(e);a+=c;d=e}else return d};g.Qa=function(a,b,c){if("number"===typeof b)return this.dc(b,c);throw Error("Vector's key for assoc must be a number.");};
g.ga=function(){if(0===this.F)return null;if(32>=this.F)return new I(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.B[0];else{a=a.B;break a}}return Jf?Jf(this,a,0,0):Kf.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new Y(b,this.F,this.shift,this.root,this.tail,this.P)};
g.la=function(a,b){if(32>this.F-vf(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.F+1,this.shift,this.root,c,null)}a=(c=this.F>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=tf(null),c.B[0]=this.root,d=wf(null,this.shift,new sf(null,this.tail)),c.B[1]=d):c=xf(this,this.shift,this.root,new sf(null,this.tail));return new Y(this.meta,this.F+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Ca(null,a,b)};
var Z=new sf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),pd=new Y(null,0,5,Z,[],Oc);function Lf(a,b){var c=a.length;a=b?a:Pa(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).pb(null);;)if(b<c)d=b+1,e=Fe.j(e,a[b]),b=d;else return bc(e)}Y.prototype[Ma]=function(){return Lc(this)};
function Mf(a){return v(Nf.f?Nf.f(a):Nf.call(null,a))?new Y(null,2,5,Z,[Of.f?Of.f(a):Of.call(null,a),Pf.f?Pf.f(a):Pf.call(null,a)],null):Md(a)?xd(a,null):Ja(a)?Lf(a,!0):bc(Ra(ac,$b(pd),a))}var Qf=function Qf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Qf.G(c)};Qf.G=function(a){return a instanceof I&&0===a.i?Lf(a.B,!Ja(a.B)):Mf(a)};Qf.K=0;Qf.N=function(a){return this.G(G(a))};
function Rf(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.P=null;this.D=32375020;this.O=1536}g=Rf.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Jf?Jf(a,b,c,d):Kf.call(null,a,b,c,d);return null==a?null:a}return this.nc()};
g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return Df(this.Ba,b,this.i+this.off,Q(this.Ba))};g.sa=function(a,b,c){return Ef(this.Ba,b,c,this.i+this.off,Q(this.Ba))};g.ta=function(){return this.node[this.off]};g.ua=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Jf?Jf(a,b,c,d):Kf.call(null,a,b,c,d);return null==a?K:a}return this.Lb(null)};g.ga=function(){return this};
g.Xb=function(){var a=this.node;return new ye(a,this.off,a.length)};g.Lb=function(){var a=this.i+this.node.length;if(a<ab(this.Ba)){var b=this.Ba,c=yf(this.Ba,a);return Jf?Jf(b,c,a,0):Kf.call(null,b,c,a,0)}return K};g.ha=function(a,b){return b===this.meta?this:Sf?Sf(this.Ba,this.node,this.i,this.off,b):Kf.call(null,this.Ba,this.node,this.i,this.off,b)};g.la=function(a,b){return S(b,this)};
g.nc=function(){var a=this.i+this.node.length;if(a<ab(this.Ba)){var b=this.Ba,c=yf(this.Ba,a);return Jf?Jf(b,c,a,0):Kf.call(null,b,c,a,0)}return null};Rf.prototype[Ma]=function(){return Lc(this)};
function Kf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Rf(b,zf(b,c),c,d,null);case 4:return Jf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Sf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function Jf(a,b,c,d){return new Rf(a,b,c,d,null)}function Sf(a,b,c,d,e){return new Rf(a,b,c,d,e)}
function Tf(a,b){return a===b.Y?b:new sf(a,Pa(b.B))}function Hf(a){return new sf({},Pa(a.B))}function If(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Od(a,0,b,0,a.length);return b}var Uf=function Uf(a,b,c,d){c=Tf(a.root.Y,c);var f=a.F-1>>>b&31;if(5===b)a=d;else{var h=c.B[f];null!=h?(b-=5,a=Uf.R?Uf.R(a,b,h,d):Uf.call(null,a,b,h,d)):a=wf(a.root.Y,b-5,d)}c.B[f]=a;return c};
function Gf(a,b,c,d){this.F=a;this.shift=b;this.root=c;this.tail=d;this.O=88;this.D=275}g=Gf.prototype;
g.rb=function(a,b){if(this.root.Y){if(32>this.F-vf(this))this.tail[this.F&31]=b;else{a=new sf(this.root.Y,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.F>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=wf(this.root.Y,this.shift,a),this.root=new sf(this.root.Y,b),this.shift=c):this.root=Uf(this,this.shift,this.root,a)}this.F+=1;return this}throw Error("conj! after persistent!");};g.Cb=function(){if(this.root.Y){this.root.Y=null;var a=this.F-vf(this),b=Array(a);Od(this.tail,0,b,0,a);return new Y(null,this.F,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.qb=function(a,b,c){if("number"===typeof b)return Vf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Vf(a,b,c){if(a.root.Y){if(0<=b&&b<a.F){if(vf(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Tf(a.root.Y,h);if(0===f)h.B[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.B[l]);h.B[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.F)return a.rb(null,c);throw Error(["Index ",z.f(b)," out of bounds for TransientVector of length",z.f(a.F)].join(""));}throw Error("assoc! after persistent!");}g.ia=function(){if(this.root.Y)return this.F;throw Error("count after persistent!");};
g.fa=function(a,b){if(this.root.Y)return zf(this,b)[b&31];throw Error("nth after persistent!");};g.Ca=function(a,b,c){return 0<=b&&b<this.F?this.fa(null,b):c};g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){if(this.root.Y)return"number"===typeof b?this.Ca(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.ya(null,a)};g.j=function(a,b){return this.$(null,a,b)};function Wf(){this.D=2097152;this.O=0}Wf.prototype.ba=function(){return!1};var Xf=new Wf;
function Yf(a,b){return Qd(Kd(b)&&!Ld(b)?Q(a)===Q(b)?(null!=a?a.D&1048576||r===a.fd||(a.D?0:w(Ib,a)):w(Ib,a))?be(function(c,d,e){return O.j(E.C(b,d,Xf),e)?!0:new Sc(!1)},!0,a):Te(function(c){return O.j(E.C(b,J(c),Xf),J(M(c)))},a):null:null)}function Zf(a){this.s=a}Zf.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=T(a,0,null);a=T(a,1,null);this.s=M(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function $f(a){this.s=a}
$f.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function sd(a,b){if(b instanceof F)a:{var c=a.length;b=b.Aa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof F&&b===a[d].Aa){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Fc)a:for(c=a.length,b=b.La,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Fc&&b===a[d].La){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(O.j(b,a[d])){a=d;break a}d+=2}return a}function Ff(a,b){this.key=a;this.da=b;this.P=null;this.D=166619935;this.O=0}g=Ff.prototype;g.yb=function(a,b){switch(b){case 0:return new Ff(0,this.key);case 1:return new Ff(1,this.da);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ya=function(a,b){return this.Ca(null,b,null)};g.$=function(a,b,c){return this.Ca(null,b,c)};g.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.da;throw Error("Index out of bounds");};
g.Ca=function(a,b,c){return 0===b?this.key:1===b?this.da:c};g.dc=function(a,b){return(new Y(null,2,5,Z,[this.key,this.da],null)).dc(a,b)};g.ca=function(){return null};g.ia=function(){return 2};g.Mc=function(){return this.key};g.Nc=function(){return this.da};g.Ab=function(){return this.da};g.Bb=function(){return new Y(null,1,5,Z,[this.key],null)};g.Nb=function(){return new I([this.da,this.key],0,null)};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return null};g.ra=function(a,b){a:if(a=this.ia(null),0===a)b=b.J?b.J():b.call(null);else for(var c=this.fa(null,0),d=1;;)if(d<a){var e=this.fa(null,d);c=b.j?b.j(c,e):b.call(null,c,e);if(Tc(c)){b=Bb(c);break a}d+=1}else{b=c;break a}return b};g.sa=function(a,b,c){a:{a=this.ia(null);var d=c;for(c=0;;)if(c<a){var e=this.fa(null,c);d=b.j?b.j(d,e):b.call(null,d,e);if(Tc(d)){b=Bb(d);break a}c+=1}else{b=d;break a}}return b};
g.Qa=function(a,b,c){return V.C(new Y(null,2,5,Z,[this.key,this.da],null),b,c)};g.ga=function(){return new I([this.key,this.da],0,null)};g.ha=function(a,b){return xd(new Y(null,2,5,Z,[this.key,this.da],null),b)};g.la=function(a,b){return new Y(null,3,5,Z,[this.key,this.da,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Ca(null,a,b)};function Nf(a){return null!=a?a.D&2048||r===a.jd?!0:!1:!1}function ag(a,b,c){this.B=a;this.i=b;this.Ja=c;this.D=32374990;this.O=0}g=ag.prototype;g.toString=function(){return tc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.Ja};g.ma=function(){return this.i<this.B.length-2?new ag(this.B,this.i+2,null):null};g.ia=function(){return(this.B.length-this.i)/2};g.ea=function(){return Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return new Ff(this.B[this.i],this.B[this.i+1])};g.ua=function(){return this.i<this.B.length-2?new ag(this.B,this.i+2,null):K};g.ga=function(){return this};g.ha=function(a,b){return b===this.Ja?this:new ag(this.B,this.i,b)};g.la=function(a,b){return S(b,this)};ag.prototype[Ma]=function(){return Lc(this)};
function bg(a,b){this.B=a;this.i=0;this.F=b}bg.prototype.va=function(){return this.i<this.F};bg.prototype.next=function(){var a=new Ff(this.B[this.i],this.B[this.i+1]);this.i+=2;return a};function u(a,b,c,d){this.meta=a;this.F=b;this.B=c;this.P=d;this.D=16647951;this.O=139268}g=u.prototype;g.yb=function(a,b){a=sd(this.B,b);return-1===a?null:new Ff(this.B[a],this.B[a+1])};g.toString=function(){return tc(this)};g.keys=function(){return Lc(cg.f?cg.f(this):cg.call(null,this))};g.entries=function(){return new Zf(G(G(this)))};
g.values=function(){return Lc(dg.f?dg.f(this):dg.call(null,this))};g.has=function(a){return Sd(this,a)};g.get=function(a,b){return this.$(null,a,b)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),h=T(f,0,null);f=T(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Nd(b)?(c=kc(b),b=lc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.$(null,b,null)};
g.$=function(a,b,c){a=sd(this.B,b);return-1===a?c:this.B[a+1]};g.Mb=function(a,b,c){a=this.B.length;for(var d=0;;)if(d<a){var e=this.B[d],f=this.B[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Tc(c))return Bb(c);d+=2}else return c};g.Da=function(){return new bg(this.B,2*this.F)};g.ca=function(){return this.meta};g.ia=function(){return this.F};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};
g.ba=function(a,b){if(Kd(b)&&!Ld(b))if(a=this.B.length,this.F===b.ia(null))for(var c=0;;)if(c<a){var d=b.$(null,this.B[c],Pd);if(d!==Pd)if(O.j(this.B[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.pb=function(){return new eg(this.B.length,Pa(this.B))};g.ka=function(){return Eb(Se,this.meta)};g.ra=function(a,b){return Zd(this,b)};g.sa=function(a,b,c){return $d(this,b,c)};
g.Yb=function(a,b){if(0<=sd(this.B,b)){a=this.B.length;var c=a-2;if(0===c)return this.ka(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new u(this.meta,this.F-1,c,null);O.j(b,this.B[d])?d+=2:(c[e]=this.B[d],c[e+1]=this.B[d+1],e+=2,d+=2)}}else return this};
g.Qa=function(a,b,c){a=sd(this.B,b);if(-1===a){if(this.F<fg){a=this.B;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new u(this.meta,this.F+1,e,null)}return Eb(pb(gf.j(gg,this),b,c),this.meta)}if(c===this.B[a+1])return this;b=Pa(this.B);b[a+1]=c;return new u(this.meta,this.F,b,null)};g.ga=function(){var a=this.B;return 0<=a.length-2?new ag(a,0,null):null};g.ha=function(a,b){return b===this.meta?this:new u(b,this.F,this.B,this.P)};
g.la=function(a,b){if(Md(b))return this.Qa(null,gb(b,0),gb(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Md(c))a=pb(a,gb(c,0),gb(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.ya(null,a)};g.j=function(a,b){return this.$(null,a,b)};var Se=new u(null,0,[],Qc),fg=8;u.prototype[Ma]=function(){return Lc(this)};function eg(a,b){this.ub={};this.lb=a;this.B=b;this.D=259;this.O=56}g=eg.prototype;g.ia=function(){if(this.ub)return fe(this.lb,2);throw Error("count after persistent!");};g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){if(this.ub)return a=sd(this.B,b),-1===a?c:this.B[a+1];throw Error("lookup after persistent!");};
g.rb=function(a,b){if(this.ub){if(Nf(b))return this.qb(null,Of.f?Of.f(b):Of.call(null,b),Pf.f?Pf.f(b):Pf.call(null,b));if(Md(b))return this.qb(null,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));a=G(b);for(b=this;;){var c=J(a);if(v(c))a=M(a),b=cc(b,Of.f?Of.f(c):Of.call(null,c),Pf.f?Pf.f(c):Pf.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Cb=function(){if(this.ub)return this.ub=!1,new u(null,fe(this.lb,2),this.B,null);throw Error("persistent! called twice");};
g.qb=function(a,b,c){if(this.ub){a=sd(this.B,b);if(-1===a){if(this.lb+2<=2*fg)return this.lb+=2,this.B.push(b),this.B.push(c),this;a=hg.j?hg.j(this.lb,this.B):hg.call(null,this.lb,this.B);return cc(a,b,c)}c!==this.B[a+1]&&(this.B[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.$(null,a,null)};g.j=function(a,b){return this.$(null,a,b)};function hg(a,b){for(var c=$b(gg),d=0;;)if(d<a)c=cc(c,b[d],b[d+1]),d+=2;else return c}function ig(){this.da=!1}function jg(a,b){return a===b?!0:re(a,b)?!0:O.j(a,b)}function kg(a,b,c){a=Pa(a);a[b]=c;return a}function lg(a,b){var c=Array(a.length-2);Od(a,0,c,0,2*b);Od(a,2*(b+1),c,2*b,c.length-2*b);return c}
function mg(a,b,c,d){a=a.jb(b);a.B[c]=d;return a}function ng(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Hb(b,f):f;if(Tc(c))return c;e+=2;f=c}else return f}function og(a){this.B=a;this.i=0;this.Ia=this.Ib=null}og.prototype.advance=function(){for(var a=this.B.length;;)if(this.i<a){var b=this.B[this.i],c=this.B[this.i+1];null!=b?b=this.Ib=new Ff(b,c):null!=c?(b=qc(c),b=b.va()?this.Ia=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
og.prototype.va=function(){var a=null!=this.Ib;return a?a:(a=null!=this.Ia)?a:this.advance()};og.prototype.next=function(){if(null!=this.Ib){var a=this.Ib;this.Ib=null;return a}if(null!=this.Ia)return a=this.Ia.next(),this.Ia.va()||(this.Ia=null),a;if(this.advance())return this.next();throw Error("No such element");};og.prototype.remove=function(){return Error("Unsupported operation")};function pg(a,b,c){this.Y=a;this.bitmap=b;this.B=c;this.O=131072;this.D=0}g=pg.prototype;
g.jb=function(a){if(a===this.Y)return this;var b=le(this.bitmap),c=Array(0>b?4:2*(b+1));Od(this.B,0,c,0,2*b);return new pg(a,this.bitmap,c)};g.Fb=function(){return qg?qg(this.B):rg.call(null,this.B)};g.Hb=function(a,b){return ng(this.B,a,b)};g.kb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=le(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.kb(a+5,b,c,d):jg(c,e)?f:d};
g.Ga=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=le(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=le(this.bitmap);if(2*l<this.B.length){a=this.jb(a);b=a.B;f.da=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=sg.Ga(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.B[e]?sg.Ga(a,b+5,Cc(this.B[e]),this.B[e],this.B[e+1],f):this.B[e+1],e+=2,d+=1);else break;return new tg(a,l+1,k)}b=Array(2*(l+4));Od(this.B,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Od(this.B,2*k,b,2*(k+1),2*(l-k));f.da=!0;a=this.jb(a);a.B=b;a.bitmap|=h;return a}l=this.B[2*k];h=this.B[2*k+1];if(null==l)return l=h.Ga(a,b+5,c,d,e,f),l===h?this:mg(this,a,2*k+1,l);if(jg(d,l))return e===h?this:mg(this,a,2*k+1,e);f.da=!0;f=b+5;d=ug?ug(a,f,l,h,c,d,e):vg.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.jb(a);a.B[e]=null;a.B[k]=d;return a};
g.Fa=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=le(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=le(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=sg.Fa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.B[d]?sg.Fa(a+5,Cc(this.B[d]),this.B[d],this.B[d+1],e):this.B[d+1],d+=2,c+=1);else break;return new tg(null,k+1,h)}a=Array(2*
(k+1));Od(this.B,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Od(this.B,2*h,a,2*(h+1),2*(k-h));e.da=!0;return new pg(null,this.bitmap|f,a)}var l=this.B[2*h];f=this.B[2*h+1];if(null==l)return k=f.Fa(a+5,b,c,d,e),k===f?this:new pg(null,this.bitmap,kg(this.B,2*h+1,k));if(jg(c,l))return d===f?this:new pg(null,this.bitmap,kg(this.B,2*h+1,d));e.da=!0;e=this.bitmap;k=this.B;a+=5;a=wg?wg(a,l,f,b,c,d):vg.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Pa(k);d[c]=null;d[h]=a;return new pg(null,e,d)};
g.Eb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=le(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.Eb(a+5,b,c,d):jg(c,e)?new Ff(e,f):d};
g.Gb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=le(this.bitmap&d-1),f=this.B[2*e],h=this.B[2*e+1];return null==f?(a=h.Gb(a+5,b,c),a===h?this:null!=a?new pg(null,this.bitmap,kg(this.B,2*e+1,a)):this.bitmap===d?null:new pg(null,this.bitmap^d,lg(this.B,e))):jg(c,f)?new pg(null,this.bitmap^d,lg(this.B,e)):this};g.Da=function(){return new og(this.B)};var sg=new pg(null,0,[]);function xg(a){this.B=a;this.i=0;this.Ia=null}
xg.prototype.va=function(){for(var a=this.B.length;;){if(null!=this.Ia&&this.Ia.va())return!0;if(this.i<a){var b=this.B[this.i];this.i+=1;null!=b&&(this.Ia=qc(b))}else return!1}};xg.prototype.next=function(){if(this.va())return this.Ia.next();throw Error("No such element");};xg.prototype.remove=function(){return Error("Unsupported operation")};function tg(a,b,c){this.Y=a;this.F=b;this.B=c;this.O=131072;this.D=0}g=tg.prototype;g.jb=function(a){return a===this.Y?this:new tg(a,this.F,Pa(this.B))};
g.Fb=function(){return yg?yg(this.B):zg.call(null,this.B)};g.Hb=function(a,b){for(var c=this.B.length,d=0;;)if(d<c){var e=this.B[d];if(null!=e){b=e.Hb(a,b);if(Tc(b))return b;d+=1}else d+=1}else return b};g.kb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.kb(a+5,b,c,d):d};g.Ga=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.B[h];if(null==k)return a=mg(this,a,h,sg.Ga(a,b+5,c,d,e,f)),a.F+=1,a;b=k.Ga(a,b+5,c,d,e,f);return b===k?this:mg(this,a,h,b)};
g.Fa=function(a,b,c,d,e){var f=b>>>a&31,h=this.B[f];if(null==h)return new tg(null,this.F+1,kg(this.B,f,sg.Fa(a+5,b,c,d,e)));a=h.Fa(a+5,b,c,d,e);return a===h?this:new tg(null,this.F,kg(this.B,f,a))};g.Eb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.Eb(a+5,b,c,d):d};
g.Gb=function(a,b,c){var d=b>>>a&31,e=this.B[d];if(null!=e){a=e.Gb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.F)a:{e=this.B;a=e.length;b=Array(2*(this.F-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new pg(null,h,b);break a}}else d=new tg(null,this.F-1,kg(this.B,d,a));else d=new tg(null,this.F,kg(this.B,d,a));return d}return this};g.Da=function(){return new xg(this.B)};
function Ag(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jg(c,a[d]))return d;d+=2}else return-1}function Bg(a,b,c,d){this.Y=a;this.Na=b;this.F=c;this.B=d;this.O=131072;this.D=0}g=Bg.prototype;g.jb=function(a){if(a===this.Y)return this;var b=Array(2*(this.F+1));Od(this.B,0,b,0,2*this.F);return new Bg(a,this.Na,this.F,b)};g.Fb=function(){return qg?qg(this.B):rg.call(null,this.B)};g.Hb=function(a,b){return ng(this.B,a,b)};
g.kb=function(a,b,c,d){a=Ag(this.B,this.F,c);return 0>a?d:jg(c,this.B[a])?this.B[a+1]:d};
g.Ga=function(a,b,c,d,e,f){if(c===this.Na){b=Ag(this.B,this.F,d);if(-1===b){if(this.B.length>2*this.F)return b=2*this.F,c=2*this.F+1,a=this.jb(a),a.B[b]=d,a.B[c]=e,f.da=!0,a.F+=1,a;c=this.B.length;b=Array(c+2);Od(this.B,0,b,0,c);b[c]=d;b[c+1]=e;f.da=!0;d=this.F+1;a===this.Y?(this.B=b,this.F=d,a=this):a=new Bg(this.Y,this.Na,d,b);return a}return this.B[b+1]===e?this:mg(this,a,b+1,e)}return(new pg(a,1<<(this.Na>>>b&31),[null,this,null,null])).Ga(a,b,c,d,e,f)};
g.Fa=function(a,b,c,d,e){return b===this.Na?(a=Ag(this.B,this.F,c),-1===a?(a=2*this.F,b=Array(a+2),Od(this.B,0,b,0,a),b[a]=c,b[a+1]=d,e.da=!0,new Bg(null,this.Na,this.F+1,b)):O.j(this.B[a+1],d)?this:new Bg(null,this.Na,this.F,kg(this.B,a+1,d))):(new pg(null,1<<(this.Na>>>a&31),[null,this])).Fa(a,b,c,d,e)};g.Eb=function(a,b,c,d){a=Ag(this.B,this.F,c);return 0>a?d:jg(c,this.B[a])?new Ff(this.B[a],this.B[a+1]):d};
g.Gb=function(a,b,c){a=Ag(this.B,this.F,c);return-1===a?this:1===this.F?null:new Bg(null,this.Na,this.F-1,lg(this.B,fe(a,2)))};g.Da=function(){return new og(this.B)};function vg(a){switch(arguments.length){case 6:return wg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ug(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}
function wg(a,b,c,d,e,f){var h=Cc(b);if(h===d)return new Bg(null,h,2,[b,c,e,f]);var k=new ig;return sg.Fa(a,h,b,c,k).Fa(a,d,e,f,k)}function ug(a,b,c,d,e,f,h){var k=Cc(c);if(k===e)return new Bg(null,k,2,[c,d,f,h]);var l=new ig;return sg.Ga(a,b,k,c,d,l).Ga(a,b,e,f,h,l)}function Cg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.D=32374988;this.O=0}g=Cg.prototype;g.toString=function(){return tc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Dg?Dg(a,b,null):rg.call(null,a,b,null)}a=this.nodes;b=this.i;var c=M(this.s);return Dg?Dg(a,b,c):rg.call(null,a,b,c)};
g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return null==this.s?new Ff(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.ua=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Dg?Dg(c,d,null):rg.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=M(a.s);return Dg?Dg(c,d,e):rg.call(null,c,d,e)}();return null!=b?b:K};g.ga=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Cg(b,this.nodes,this.i,this.s,this.P)};g.la=function(a,b){return S(b,this)};Cg.prototype[Ma]=function(){return Lc(this)};
function rg(a){switch(arguments.length){case 1:return qg(arguments[0]);case 3:return Dg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function qg(a){return Dg(a,0,null)}function Dg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Cg(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.Fb(),v(d)))return new Cg(null,a,b+2,d,null);b+=2}else return null;else return new Cg(null,a,b,c,null)}
function Eg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.D=32374988;this.O=0}g=Eg.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.meta};g.ma=function(){var a=this.nodes,b=this.i,c=M(this.s);return Fg?Fg(a,b,c):zg.call(null,a,b,c)};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return J(this.s)};g.ua=function(){var a=this.nodes;var b=this.i,c=M(this.s);a=Fg?Fg(a,b,c):zg.call(null,a,b,c);return null!=a?a:K};g.ga=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Eg(b,this.nodes,this.i,this.s,this.P)};g.la=function(a,b){return S(b,this)};Eg.prototype[Ma]=function(){return Lc(this)};
function zg(a){switch(arguments.length){case 1:return yg(arguments[0]);case 3:return Fg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function yg(a){return Fg(a,0,null)}function Fg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.Fb(),v(d)))return new Eg(null,a,b+1,d,null);b+=1}else return null;else return new Eg(null,a,b,c,null)}function Gg(a,b){this.oa=a;this.Cc=b;this.seen=!1}
Gg.prototype.va=function(){return!this.seen||this.Cc.va()};Gg.prototype.next=function(){if(this.seen)return this.Cc.next();this.seen=!0;return new Ff(null,this.oa)};Gg.prototype.remove=function(){return Error("Unsupported operation")};function Hg(a,b,c,d,e,f){this.meta=a;this.F=b;this.root=c;this.wa=d;this.oa=e;this.P=f;this.D=16123663;this.O=139268}g=Hg.prototype;g.yb=function(a,b){return null==b?this.wa?new Ff(null,this.oa):null:null==this.root?null:this.root.Eb(0,Cc(b),b,null)};g.toString=function(){return tc(this)};
g.keys=function(){return Lc(cg.f?cg.f(this):cg.call(null,this))};g.entries=function(){return new Zf(G(G(this)))};g.values=function(){return Lc(dg.f?dg.f(this):dg.call(null,this))};g.has=function(a){return Sd(this,a)};g.get=function(a,b){return this.$(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),h=T(f,0,null);f=T(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Nd(b)?(c=kc(b),b=lc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return null==b?this.wa?this.oa:c:null==this.root?c:this.root.kb(0,Cc(b),b,c)};
g.Mb=function(a,b,c){a=this.wa?b.C?b.C(c,null,this.oa):b.call(null,c,null,this.oa):c;Tc(a)?b=Bb(a):null!=this.root?(b=this.root.Hb(b,a),b=Tc(b)?Zc.f?Zc.f(b):Zc.call(null,b):b):b=a;return b};g.Da=function(){var a=this.root?qc(this.root):Re();return this.wa?new Gg(this.oa,a):a};g.ca=function(){return this.meta};g.ia=function(){return this.F};g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};g.ba=function(a,b){return Yf(this,b)};g.pb=function(){return new Ig(this.root,this.F,this.wa,this.oa)};
g.ka=function(){return Eb(gg,this.meta)};g.Yb=function(a,b){if(null==b)return this.wa?new Hg(this.meta,this.F-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Gb(0,Cc(b),b);return a===this.root?this:new Hg(this.meta,this.F-1,a,this.wa,this.oa,null)};
g.Qa=function(a,b,c){if(null==b)return this.wa&&c===this.oa?this:new Hg(this.meta,this.wa?this.F:this.F+1,this.root,!0,c,null);a=new ig;b=(null==this.root?sg:this.root).Fa(0,Cc(b),b,c,a);return b===this.root?this:new Hg(this.meta,a.da?this.F+1:this.F,b,this.wa,this.oa,null)};g.ga=function(){if(0<this.F){var a=null!=this.root?this.root.Fb():null;return this.wa?S(new Ff(null,this.oa),a):a}return null};g.ha=function(a,b){return b===this.meta?this:new Hg(b,this.F,this.root,this.wa,this.oa,this.P)};
g.la=function(a,b){if(Md(b))return this.Qa(null,gb(b,0),gb(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Md(c))a=pb(a,gb(c,0),gb(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.ya(null,a)};g.j=function(a,b){return this.$(null,a,b)};var gg=new Hg(null,0,null,!1,null,Qc);Hg.prototype[Ma]=function(){return Lc(this)};function Ig(a,b,c,d){this.Y={};this.root=a;this.count=b;this.wa=c;this.oa=d;this.D=259;this.O=56}
function Jg(a,b,c){if(a.Y){if(null==b)a.oa!==c&&(a.oa=c),a.wa||(a.count+=1,a.wa=!0);else{var d=new ig;b=(null==a.root?sg:a.root).Ga(a.Y,0,Cc(b),b,c,d);b!==a.root&&(a.root=b);d.da&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Ig.prototype;g.ia=function(){if(this.Y)return this.count;throw Error("count after persistent!");};g.ya=function(a,b){return null==b?this.wa?this.oa:null:null==this.root?null:this.root.kb(0,Cc(b),b)};
g.$=function(a,b,c){return null==b?this.wa?this.oa:c:null==this.root?c:this.root.kb(0,Cc(b),b,c)};g.rb=function(a,b){a:if(this.Y)if(Nf(b))a=Jg(this,Of.f?Of.f(b):Of.call(null,b),Pf.f?Pf.f(b):Pf.call(null,b));else if(Md(b))a=Jg(this,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));else for(a=G(b),b=this;;){var c=J(a);if(v(c))a=M(a),b=Jg(b,Of.f?Of.f(c):Of.call(null,c),Pf.f?Pf.f(c):Pf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Cb=function(){if(this.Y){this.Y=null;var a=new Hg(null,this.count,this.root,this.wa,this.oa,null)}else throw Error("persistent! called twice");return a};g.qb=function(a,b,c){return Jg(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.ya(null,a)};g.j=function(a,b){return this.$(null,a,b)};var Kg=function Kg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Kg.G(c)};Kg.G=function(a){for(var b=G(a),c=$b(gg);;)if(b){a=M(M(b));var d=J(b);b=J(M(b));c=cc(c,d,b);b=a}else return bc(c)};Kg.K=0;Kg.N=function(a){return this.G(G(a))};function Lg(a,b){this.T=a;this.Ja=b;this.D=32374988;this.O=0}g=Lg.prototype;g.toString=function(){return tc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.Ja};g.ma=function(){var a=(null!=this.T?this.T.D&128||r===this.T.zb||(this.T.D?0:w(kb,this.T)):w(kb,this.T))?this.T.ma(null):M(this.T);return null==a?null:new Lg(a,null)};g.ea=function(){return Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return this.T.ta(null).key};g.ua=function(){var a=(null!=this.T?this.T.D&128||r===this.T.zb||(this.T.D?0:w(kb,this.T)):w(kb,this.T))?this.T.ma(null):M(this.T);return null!=a?new Lg(a,null):K};g.ga=function(){return this};g.ha=function(a,b){return b===this.Ja?this:new Lg(this.T,b)};g.la=function(a,b){return S(b,this)};Lg.prototype[Ma]=function(){return Lc(this)};
function cg(a){return(a=G(a))?new Lg(a,null):null}function Of(a){return tb(a)}function Mg(a,b){this.T=a;this.Ja=b;this.D=32374988;this.O=0}g=Mg.prototype;g.toString=function(){return tc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return P(this,b,0)};a.j=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return R(this,c,d)};return b}();g.ca=function(){return this.Ja};g.ma=function(){var a=(null!=this.T?this.T.D&128||r===this.T.zb||(this.T.D?0:w(kb,this.T)):w(kb,this.T))?this.T.ma(null):M(this.T);return null==a?null:new Mg(a,null)};g.ea=function(){return Nc(this)};
g.ba=function(a,b){return id(this,b)};g.ka=function(){return K};g.ra=function(a,b){return kd(b,this)};g.sa=function(a,b,c){return md(b,c,this)};g.ta=function(){return this.T.ta(null).da};g.ua=function(){var a=(null!=this.T?this.T.D&128||r===this.T.zb||(this.T.D?0:w(kb,this.T)):w(kb,this.T))?this.T.ma(null):M(this.T);return null!=a?new Mg(a,null):K};g.ga=function(){return this};g.ha=function(a,b){return b===this.Ja?this:new Mg(this.T,b)};g.la=function(a,b){return S(b,this)};Mg.prototype[Ma]=function(){return Lc(this)};
function dg(a){return(a=G(a))?new Mg(a,null):null}function Pf(a){return ub(a)}var Ng=function Ng(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Ng.G(c)};Ng.G=function(a){return v(Ue(a))?ae(function(b,c){return od.j(v(b)?b:Se,c)},a):null};Ng.K=0;Ng.N=function(a){return this.G(G(a))};
function Og(a,b){if(v(Ue(b))){var c=function(d,e){var f=tb(e),h=ub(e);return Sd(d,f)?V.C(d,f,function(){var k=E.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):V.C(d,f,h)};return ae(function(d,e){return Ra(c,v(d)?d:Se,G(e))},b)}return null}function Pg(a){for(var b=Se,c=G(Qg);;)if(c){var d=J(c),e=E.C(a,d,Rg);b=O.j(e,Rg)?b:V.C(b,d,e);c=M(c)}else return Eb(b,Ed(a))}function Sg(a){this.wb=a}Sg.prototype.va=function(){return this.wb.va()};
Sg.prototype.next=function(){if(this.wb.va())return this.wb.next().key;throw Error("No such element");};Sg.prototype.remove=function(){return Error("Unsupported operation")};function Tg(a,b,c){this.meta=a;this.Oa=b;this.P=c;this.D=15077647;this.O=139268}g=Tg.prototype;g.toString=function(){return tc(this)};g.keys=function(){return Lc(G(this))};g.entries=function(){return new $f(G(G(this)))};g.values=function(){return Lc(G(this))};g.has=function(a){return Sd(this,a)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),h=T(f,0,null);f=T(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Nd(b)?(c=kc(b),b=lc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){a=qb(this.Oa,b);return v(a)?tb(a):c};g.Da=function(){return new Sg(qc(this.Oa))};g.ca=function(){return this.meta};g.ia=function(){return ab(this.Oa)};
g.ea=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};g.ba=function(a,b){if(Id(b))if(Q(this)===Q(b))try{return be(function(c,d){return(c=Sd(b,d))?c:new Sc(!1)},!0,this.Oa)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.pb=function(){return new Wg($b(this.Oa))};g.ka=function(){return Eb(Xg,this.meta)};g.rc=function(a,b){return new Tg(this.meta,sb(this.Oa,b),null)};g.ga=function(){return cg(this.Oa)};
g.ha=function(a,b){return b===this.meta?this:new Tg(b,this.Oa,this.P)};g.la=function(a,b){return new Tg(this.meta,V.C(this.Oa,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.ya(null,a)};g.j=function(a,b){return this.$(null,a,b)};
var Xg=new Tg(null,Se,Qc);Tg.prototype[Ma]=function(){return Lc(this)};function Wg(a){this.mb=a;this.O=136;this.D=259}g=Wg.prototype;g.rb=function(a,b){this.mb=cc(this.mb,b,null);return this};g.Cb=function(){return new Tg(null,bc(this.mb),null)};g.ia=function(){return Q(this.mb)};g.ya=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return nb(this.mb,b,Pd)===Pd?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return nb(this.mb,a,Pd)===Pd?null:a};g.j=function(a,b){return nb(this.mb,a,Pd)===Pd?b:a};
function Yg(a){if(Id(a))return xd(a,null);a=G(a);if(null==a)return Xg;if(a instanceof I&&0===a.i){a=a.B;for(var b=a.length,c=$b(Xg),d=0;;)if(d<b)ac(c,a[d]),d+=1;else break;return bc(c)}for(c=$b(Xg);;)if(null!=a)b=M(a),c=ac(c,C(a)),a=b;else return bc(c)}function Zg(a){for(var b=pd;;)if(M(a))b=od.j(b,J(a)),a=M(a);else return G(b)}function W(a){if(null!=a&&(a.O&4096||r===a.pc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.f(a)].join(""));}
var $g=function $g(a){switch(arguments.length){case 2:return $g.j(arguments[0],arguments[1]);case 3:return $g.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return $g.G(arguments[0],arguments[1],arguments[2],c)}};$g.j=function(a,b){return b};$g.C=function(a,b,c){return(a.f?a.f(b):a.call(null,b))>(a.f?a.f(c):a.call(null,c))?b:c};
$g.G=function(a,b,c,d){return Ra(function(e,f){return $g.C(a,e,f)},$g.C(a,b,c),d)};$g.N=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.G(b,a,c,d)};$g.K=3;
function ah(){return function(){function a(h,k,l){return new Y(null,2,5,Z,[Zg.C?Zg.C(h,k,l):Zg.call(null,h,k,l),nd.C?nd.C(h,k,l):nd.call(null,h,k,l)],null)}function b(h,k){return new Y(null,2,5,Z,[Zg.j?Zg.j(h,k):Zg.call(null,h,k),nd.j?nd.j(h,k):nd.call(null,h,k)],null)}function c(h){return new Y(null,2,5,Z,[Zg.f?Zg.f(h):Zg.call(null,h),nd.f?nd.f(h):nd.call(null,h)],null)}function d(){return new Y(null,2,5,Z,[Zg.J?Zg.J():Zg.call(null),nd.J?nd.J():nd.call(null)],null)}var e=null,f=function(){function h(l,
m,n,p){var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+3],++t;t=new I(x,0,null)}return k.call(this,l,m,n,t)}function k(l,m,n,p){return new Y(null,2,5,Z,[Pe(Zg,l,m,n,p),Pe(nd,l,m,n,p)],null)}h.K=3;h.N=function(l){var m=J(l);l=M(l);var n=J(l);l=M(l);var p=J(l);l=Jc(l);return k(m,n,p,l)};h.G=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);case 3:return a.call(this,
h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new I(p,0,null)}return f.G(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.K=3;e.N=f.N;e.J=d;e.f=c;e.j=b;e.C=a;e.G=f.G;return e}()}function bh(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&O.j(a[0],b)?1===a.length?a[0]:Mf(a):null;throw new TypeError("re-matches must match against a string.");}
function ch(a,b,c,d,e,f,h){var k=Ba;Ba=null==Ba?null:Ba-1;try{if(null!=Ba&&0>Ba)return D(a,"#");D(a,c);if(0===Ia.f(f))G(h)&&D(a,function(){var x=dh.f(f);return v(x)?x:"..."}());else{if(G(h)){var l=J(h);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=M(h),n=Ia.f(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(D(a,d),D(a,function(){var x=dh.f(f);return v(x)?x:"..."}()));break}else{D(a,d);var p=J(m);c=a;h=f;b.C?b.C(p,c,h):b.call(null,p,c,h);var t=M(m);c=n-1;m=t;n=c}}return D(a,e)}finally{Ba=k}}
function eh(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);D(a,f);e+=1}else if(b=G(b))c=b,Nd(c)?(b=kc(c),d=lc(c),c=b,f=Q(b),b=d,d=f):(f=J(c),D(a,f),b=M(c),c=null,d=0),e=0;else return null}var fh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function gh(a){return['"',z.f(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return fh[b]})),'"'].join("")}function hh(a,b){return Qd(E.j(a,Fa))?null!=b&&(b.D&131072||r===b.Zb)?null!=Ed(b):!1:!1}
function ih(a,b,c){if(null==a)return D(b,"nil");if(hh(c,a)){D(b,"^");var d=Ed(a);jh.C?jh.C(d,b,c):jh.call(null,d,b,c);D(b," ")}if(a.Db)return a.Qb(b);if(null!=a?a.D&2147483648||r===a.ja||(a.D?0:w(Vb,a)):w(Vb,a))return Wb(a,b,c);if(!0===a||!1===a)return D(b,z.f(a));if("number"===typeof a)return D(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.f(a));if(null!=a&&a.constructor===Object)return D(b,"#js "),d=X.j(function(f){return new Ff(null!=bh(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ue.f(f):f,a[f])},pa(a)),kh.R?kh.R(d,jh,b,c):kh.call(null,d,jh,b,c);if(Ja(a))return ch(b,jh,"#js ["," ","]",c,a);if("string"==typeof a)return v(Ea.f(c))?D(b,gh(a)):D(b,a);if("function"==q(a)){var e=a.name;c=v(function(){var f=null==e;return f?f:wa(e)}())?"Function":e;return eh(b,jd(["#object[",c,v(!1)?[' "',z.f(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=z.f(f);;)if(f.length<h)f=["0",f].join("");else return f},eh(b,jd(['#inst "',z.f(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return eh(b,jd(['#"',a.source,'"']));if(Va(a))return eh(b,jd(["#object[",a.toString(),"]"]));if(v(function(){var f=null==a?null:a.constructor;return null==f?null:f.ib}()))return eh(b,jd(["#object[",a.constructor.ib.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=v(function(){var f=
null==e;return f?f:wa(e)}())?"Object":e;return null==a.constructor?eh(b,jd(["#object[",c,"]"])):eh(b,jd(["#object[",c," ",z.f(a),"]"]))}function jh(a,b,c){var d=lh.f(c);return v(d)?(c=V.C(c,mh,ih),d.C?d.C(a,b,c):d.call(null,a,b,c)):ih(a,b,c)}
function nh(a,b){var c=new xa;a:{var d=new sc(c);jh(J(a),d,b);a=G(M(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.fa(null,h);D(d," ");jh(k,d,b);h+=1}else if(a=G(a))e=a,Nd(e)?(a=kc(e),f=lc(e),e=a,k=Q(a),a=f,f=k):(k=J(e),D(d," "),jh(k,d,b),a=M(e),e=null,f=0),h=0;else break a}return c}function oh(a){var b=Ca();return Gd(a)?"":z.f(nh(a,b))}function ph(a){return a instanceof Fc?Gc.j(null,W(a)):ue.j(null,W(a))}
function qh(a){if(v(!1)){var b=G(a),c=G(b),d=J(c);M(c);T(d,0,null);T(d,1,null);c=null==a?null:null!=a&&(a.D&4||r===a.Hc)?a.ka(null):(null!=a?a.D&4||r===a.Hc||(a.D?0:w(bb,a)):w(bb,a))?cb(a):null;for(a=null;;){d=a;b=G(b);a=J(b);var e=M(b),f=a;a=T(f,0,null);b=T(f,1,null);if(v(f))if(a instanceof F||a instanceof Fc)if(v(d))if(O.j(d,se(a)))c=V.C(c,ph(a),b),a=d,b=e;else return null;else if(d=se(a),v(d))c=V.C(c,ph(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function rh(a,b,c,d,e){return ch(d,function(f,h,k){var l=tb(f);c.C?c.C(l,h,k):c.call(null,l,h,k);D(h," ");f=ub(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[z.f(a),"{"].join(""),", ","}",e,G(b))}function kh(a,b,c,d){var e=Kd(a)?qh(a):null,f=T(e,0,null);e=T(e,1,null);return v(f)?rh(["#:",z.f(f)].join(""),e,b,c,d):rh(null,a,b,c,d)}af.prototype.ja=r;af.prototype.aa=function(a,b,c){D(b,"#object[cljs.core.Volatile ");jh(new u(null,1,[sh,this.state],null),b,c);return D(b,"]")};I.prototype.ja=r;
I.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};ve.prototype.ja=r;ve.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Ff.prototype.ja=r;Ff.prototype.aa=function(a,b,c){return ch(b,jh,"["," ","]",c,this)};Cg.prototype.ja=r;Cg.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};ag.prototype.ja=r;ag.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Mc.prototype.ja=r;Mc.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};
Rf.prototype.ja=r;Rf.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};pe.prototype.ja=r;pe.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};hd.prototype.ja=r;hd.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Hg.prototype.ja=r;Hg.prototype.aa=function(a,b,c){return kh(this,jh,b,c)};Eg.prototype.ja=r;Eg.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Tg.prototype.ja=r;Tg.prototype.aa=function(a,b,c){return ch(b,jh,"#{"," ","}",c,this)};
Ae.prototype.ja=r;Ae.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Ye.prototype.ja=r;Ye.prototype.aa=function(a,b,c){D(b,"#object[cljs.core.Atom ");jh(new u(null,1,[sh,this.state],null),b,c);return D(b,"]")};Mg.prototype.ja=r;Mg.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Y.prototype.ja=r;Y.prototype.aa=function(a,b,c){return ch(b,jh,"["," ","]",c,this)};me.prototype.ja=r;me.prototype.aa=function(a,b){return D(b,"()")};u.prototype.ja=r;
u.prototype.aa=function(a,b,c){return kh(this,jh,b,c)};Lg.prototype.ja=r;Lg.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};qd.prototype.ja=r;qd.prototype.aa=function(a,b,c){return ch(b,jh,"("," ",")",c,this)};Fc.prototype.xb=r;Fc.prototype.ob=function(a,b){if(b instanceof Fc)return Ec(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};F.prototype.xb=r;
F.prototype.ob=function(a,b){if(b instanceof F)return qe(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Y.prototype.xb=r;Y.prototype.ob=function(a,b){if(Md(b))return Ud(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Ff.prototype.xb=r;Ff.prototype.ob=function(a,b){if(Md(b))return Ud(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};var th=null;
function uh(){null==th&&(th=new Ye(0));return Gc.f([z.f("reagent"),z.f($e.j(th,Rc))].join(""))}function vh(){}function wh(a){if(null!=a&&null!=a.Jc)a=a.Jc(a);else{var b=wh[q(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=wh._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}
function xh(a,b){return(null!=a?r===a.Ic||(a.tc?0:w(vh,a)):w(vh,a))?wh(a):"string"===typeof a||"number"===typeof a||a instanceof F||a instanceof Fc?b.f?b.f(a):b.call(null,a):oh(jd([a]))}var yh=function yh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return yh.G(arguments[0],c)};
yh.G=function(a,b){b=null!=b&&(b.D&64||r===b.za)?Me(Kg,b):b;var c=E.C(b,zh,W),d=function h(f){if(null==f)return null;if(null!=f?r===f.Ic||(f.tc?0:w(vh,f)):w(vh,f))return wh(f);if(f instanceof F)return c.f?c.f(f):c.call(null,f);if(f instanceof Fc)return z.f(f);if(Kd(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.fa(null,n),t=T(p,0,null);p=T(p,1,null);t=xh(t,d);p=h(p);k[t]=p;n+=1}else if(f=G(f))Nd(f)?(m=kc(f),f=lc(f),l=m,m=Q(m)):(m=J(f),l=T(m,0,null),m=T(m,1,null),l=xh(l,d),m=h(m),k[l]=
m,f=M(f),l=null,m=0),n=0;else break;return k}if(Hd(f)){k=[];f=G(X.j(h,f));l=null;for(n=m=0;;)if(n<m)t=l.fa(null,n),k.push(t),n+=1;else if(f=G(f))l=f,Nd(l)?(f=kc(l),n=lc(l),l=f,m=Q(f),f=n):(f=J(l),k.push(f),f=M(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};yh.K=1;yh.N=function(a){var b=J(a);a=M(a);return this.G(b,a)};
function Ah(){v(Oa)||(Oa=function(){for(var a=Wd(function(e,f){return f.length-e.length},pa(Na)),b="";;)if(G(a)){var c=M(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),z.f(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Oa}
function Bh(a){var b=z.f(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Ah(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=v(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(v(f))f=T(f,0,null),d=[d,z.f(b.substring(e,c.lastIndex-f.length)),z.f("$"===f?"/":ra(Na,f))].join(""),e=c.lastIndex;else{c=[d,z.f(b.substring(e,b.length))].join("");break a}}}a=a instanceof Fc?Gc:z;return a.f?a.f(c):a.call(null,c)};var Ch=new F(null,"table","table",-564943036),sh=new F(null,"val","val",128701612),Dh=new Fc(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Eh=new F(null,"render","render",-1408033454),Fh=new F(null,"auto-run","auto-run",1958400437),Gh=new F(null,"renderer","renderer",336841071),Hh=new F(null,"on-dispose","on-dispose",2105306360),Ih=new F(ba,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Jh=new F(null,"descending","descending",-24766135),Kh=new Fc(null,"fn*","fn*",-752876845,null),Lh=new F(null,
"constructor","constructor",-1953928811),Mh=new F(null,"log-level","log-level",862121670),Nh=new F(null,"childContextTypes","childContextTypes",578717991),Oh=new Fc(aa,"fn","cljs.core/fn",-1065745098,null),Ph=new F(null,"vega","vega",-1657843081),Qh=new F(null,"on-click","on-click",1632826543),Rh=new F(null,"vega-lite","vega-lite",-650304770),Sh=new F(null,"th-style","th-style",-1504296072),Th=new F(null,"getInitialState","getInitialState",1541760916),lh=new F(null,"alt-impl","alt-impl",670969595),
Uh=new F(null,"div.viz","div.viz",1155063891),Rg=new F(aa,"not-found","cljs.core/not-found",-1572889185),Vh=new F(null,"sort-order","sort-order",1853277479),Wh=new F(null,"no-cache","no-cache",1588056370),Xh=new F(null,"\x3c\x3e","\x3c\x3e",1280186386),Da=new F(null,"flush-on-newline","flush-on-newline",-151457939),Yh=new F(null,"data-table","data-table",-149582774),Zh=new F(null,"reagent-render","reagent-render",-985383853),$h=new F(null,"th","th",-545608566),ai=new F(null,"tr","tr",-1424774646),
bi=new F(null,"a","a",-2123407586),ci=new F(ba,"name","cljs.spec.alpha/name",205233570),di=new F(null,"componentWillUnmount","componentWillUnmount",1573788814),ei=new F(null,"p","p",151049309),fi=new F(null,"td","td",1479933353),gi=new F(null,"contextType","contextType",1033066077),hi=new F(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),ii=new F(null,"div","div",1057191632),mh=new F(null,"fallback-impl","fallback-impl",-1501286995),ji=new F(null,"canvas","canvas",-1798817489),
ki=new F(null,"display-name","display-name",694513143),li=new F(null,"margin-bottom","margin-bottom",388334941),zh=new F(null,"keyword-fn","keyword-fn",-64566675),mi=new F(null,"per-page","per-page",-54905429),ni=new F(null,"component-will-unmount","component-will-unmount",-2058314698),oi=new Fc(ba,"conformer","cljs.spec.alpha/conformer",2140085535,null),pi=new F(null,"style","style",-496642736),qi=new Fc(null,"v","v",1661996586,null),ri=new F(ba,"op","cljs.spec.alpha/op",-1269055252),si=new Fc(null,
"k","k",-505765866,null),dh=new F(null,"more-marker","more-marker",-14717935),ti=new F(null,"span","span",1394872991),ui=new F(null,"component-will-update","component-will-update",335247566),vi=new F(null,"td-style","td-style",1948769874),wi=new Fc(null,"p1__26971#","p1__26971#",170055716,null),Fa=new F(null,"meta","meta",1499536964),xi=new F(null,"displayName","displayName",-809144601),yi=new F(ba,"gfn","cljs.spec.alpha/gfn",-593120375),zi=new F(null,"getDerivedStateFromError","getDerivedStateFromError",
166658477),Ai=new F(null,"mode","mode",654403691),Bi=new F(null,"sort-key","sort-key",1285844623),Ci=new F(null,"logLevel","logLevel",1131406165),Di=new F(null,"class","class",-2030961996),Ei=new F(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Fi=new F(null,"tr-style","tr-style",1853585605),Gi=new F(null,"reagentRender","reagentRender",-358306383),Hi=new F(null,"cursor","cursor",1011937484),Ii=new F(null,"name","name",1843675177),Ji=new F(null,"page","page",849072397),Ki=new F(null,"on-set",
"on-set",-140953470),Li=new F(null,"pointer","pointer",85071187),Mi=new F(null,"ascending","ascending",-988350486),Ni=new Fc(aa,"map","cljs.core/map",-338988913,null),Ga=new F(null,"dup","dup",556298533),Oi=new Fc(null,"p1__26972#","p1__26972#",1571659799,null),Ia=new F(null,"print-length","print-length",1931866356),Pi=new F(null,"component-did-update","component-did-update",-1468549173),Qi=new F(null,"component-did-mount","component-did-mount",-1126910518),Ri=new F(ba,"v","cljs.spec.alpha/v",552625740),
Si=new F(null,"on-write","on-write",31519475),Ti=new F(null,"key","key",-1516042587),Ui=new F(ba,"k","cljs.spec.alpha/k",-1602615178),Vi=new Fc(null,"%","%",-950237169,null),Wi=new F(null,"validator","validator",-1966190681),Xi=new F(null,"padding-right","padding-right",-1250249681),Yi=new F(ba,"unknown","cljs.spec.alpha/unknown",651034818),Ea=new F(null,"readably","readably",1129599760),Zi=new F(null,"contextTypes","contextTypes",-2023853910),$i=new F(null,"shouldComponentUpdate","shouldComponentUpdate",
1795750960),aj=new F(null,"id","id",-1388402092);var bj={},cj={},dj=[];function ej(a,b){var c=cj[a];if(void 0!==c)return c;try{dj.push(a);var d=bj[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};bj[a]=d}if(e){delete shadow$provide[a];try{e.call(d,da,ej,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{dj.pop()}return d.exports}ej.cache={};ej.resolve=function(a){return a};var fj=ej(49,{});var gj=ej(52,{});function hj(a,b,c){var d=RegExp,e=b.source,f=v(b.ignoreCase)?"gi":"g";f=v(b.multiline)?[f,"m"].join(""):f;b=v(b.pd)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function ij(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=df(d);if(O.j(Q(d),1))return d=J(d),a.f?a.f(d):a.call(null,d);d=Mf(d);return a.f?a.f(d):a.call(null,d)}b.K=0;b.N=function(d){d=G(d);return c(d)};b.G=c;return b}()}
function jj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?hj(a,b,c):hj(a,b,ij(c));throw["Invalid match arg: ",z.f(b)].join("");}function kj(a,b){var c=new xa;for(b=G(b);;)if(null!=b)c.append(z.f(J(b))),b=M(b),null!=b&&c.append(a);else return c.toString()}
function lj(a,b){a="/(?:)/"===z.f(b)?od.j(Mf(S("",X.j(z,G(a)))),""):Mf(z.f(a).split(b));if(1<Q(a))a:for(;;)if(""===(null==a?null:xb(a)))a=null==a?null:yb(a);else break a;return a};var mj={};var nj={},oj,pj;function qj(a,b){if(null!=a&&null!=a.fc)a=a.fc(a,b);else{var c=qj[q(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qj._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("Spec.with-gen*",a);}return a}var rj=new Ye(Se);function sj(a){if(te(a)){var b=Bb(rj);a=E.j(b,a);if(te(a))a:for(;;)if(te(a))a=E.j(b,a);else{b=a;break a}else b=a;return b}return a}
function tj(a){if(te(a)){var b=sj(a);if(v(b))return b;throw Error(["Unable to resolve spec: ",z.f(a)].join(""));}return a}function uj(a){return null!=a&&r===a.uc?a:null}function vj(a){var b=ri.f(a);return v(b)?a:b}function wj(a,b){return te(a)?a:v(vj(a))?V.C(a,ci,b):null!=a&&(a.D&131072||r===a.Zb)?xd(a,V.C(Ed(a),ci,b)):null}function xj(a){return te(a)?a:v(vj(a))?ci.f(a):null!=a&&(a.D&131072||r===a.Zb)?ci.f(Ed(a)):null}
function yj(a){var b=function(){var c=te(a)?sj(a):!1;if(v(c))return c;c=uj(a);if(v(c))return c;c=vj(a);return v(c)?c:null}();return v(vj(b))?wj(zj(b,null),xj(b)):b}function Aj(a){var b=yj(a);if(v(b))return b;if(te(a))throw Error(["Unable to resolve spec: ",z.f(a)].join(""));return null}
function Fj(a){if(wa(null==a?"":String(a)))return null;a=X.j(Bh,lj(a,"$"));if(2<=Q(a)&&Te(function(c){return!wa(null==c?"":String(c))},a)){var b=ah()(a);a=T(b,0,null);b=T(b,1,null);return Gc.f([kj(".",a),"/",z.f(b)].join(""))}return null}
var Hj=function(){function a(d,e){var f=Gj[q(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Gj._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("Specize.specize*",d);}function b(d){var e=Gj[q(null==d?null:d)];if(null!=e)return e.f?e.f(d):e.call(null,d);e=Gj._;if(null!=e)return e.f?e.f(d):e.call(null,d);throw y("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.f=b;c.j=a;return c}(),Gj=function Gj(a){switch(arguments.length){case 1:return Gj.f(arguments[0]);case 2:return Gj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Gj.f=function(a){return null!=a&&null!=a.sb?a.sb(a):Hj(a)};Gj.j=function(a,b){return null!=a&&null!=a.tb?a.tb(a,b):Hj(a,b)};Gj.K=2;F.prototype.sb=function(){return Gj(tj(this))};F.prototype.tb=function(){return Gj(tj(this))};Fc.prototype.sb=function(){return Gj(tj(this))};
Fc.prototype.tb=function(){return Gj(tj(this))};Tg.prototype.sb=function(){return Ij(this,this,null,null,null)};Tg.prototype.tb=function(a,b){return Ij(b,this,null,null,null)};
Gj._=function(){function a(c){var d=ud(c)?Fj(c.name):!1;return v(d)?Ij(d,c,null,null,null):Ij(Yi,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ij(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return Ij(d,c,null,null,null)};return b}();
var Jj=function Jj(a){switch(arguments.length){case 1:return Jj.f(arguments[0]);case 2:return Jj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Jj.f=function(a){var b=uj(a);return v(b)?b:Gj(a)};Jj.j=function(a,b){var c=uj(a);return v(c)?c:Gj(a,b)};Jj.K=2;function Kj(a,b){a=sj(a);return v(vj(a))?V.C(a,yi,b):qj(Jj.f(a),b)}
function Ij(a,b,c,d,e){if(v(uj(b)))return v(c)?Kj(b,c):b;if(v(vj(b)))return zj(b,c);if(te(b))return a=Aj(b),v(c)?Kj(a,c):a;if("undefined"===typeof ya||"undefined"===typeof mj||"undefined"===typeof nj||"undefined"===typeof oj)oj=function(f,h,k,l,m,n){this.form=f;this.Bc=h;this.ic=k;this.yc=l;this.Dc=m;this.Vc=n;this.D=393216;this.O=0},oj.prototype.ha=function(f,h){return new oj(this.form,this.Bc,this.ic,this.yc,this.Dc,h)},oj.prototype.ca=function(){return this.Vc},oj.prototype.sb=function(){return this},
oj.prototype.tb=function(){return this},oj.prototype.uc=r,oj.prototype.fc=function(f,h){return Ij(this.form,this.Bc,h,this.yc,this.Dc)},oj.Db=!0,oj.ib="cljs.spec.alpha/t_cljs$spec$alpha26202",oj.Qb=function(f){return D(f,"cljs.spec.alpha/t_cljs$spec$alpha26202")};return new oj(a,b,c,d,e,Se)}
var zj=function zj(a,b){if("undefined"===typeof ya||"undefined"===typeof mj||"undefined"===typeof nj||"undefined"===typeof pj)pj=function(d,e,f){this.re=d;this.ic=e;this.Wc=f;this.D=393216;this.O=0},pj.prototype.ha=function(d,e){return new pj(this.re,this.ic,e)},pj.prototype.ca=function(){return this.Wc},pj.prototype.sb=function(){return this},pj.prototype.tb=function(){return this},pj.prototype.uc=r,pj.prototype.fc=function(d,e){return zj.j?zj.j(this.re,e):zj.call(null,this.re,e)},pj.Db=!0,pj.ib=
"cljs.spec.alpha/t_cljs$spec$alpha26948",pj.Qb=function(d){return D(d,"cljs.spec.alpha/t_cljs$spec$alpha26948")};return new pj(a,b,Se)},Lj=oe(oi,oe(Kh,new Y(null,1,5,Z,[wi],null),oe(Dh,oe(Ni,Ui,wi),oe(Ni,Ri,wi))),oe(Kh,new Y(null,1,5,Z,[Oi],null),oe(Ni,oe(Oh,new Y(null,1,5,Z,[new Y(null,2,5,Z,[si,qi],null)],null),new u(null,2,[Ui,si,Ri,qi],null)),Oi))),Mj=Ij(oe(oi,oe(Oh,new Y(null,1,5,Z,[Vi],null),oe(Dh,oe(Ni,Ui,Vi),oe(Ni,Ri,Vi))),oe(Oh,new Y(null,1,5,Z,[Vi],null),oe(Ni,oe(Oh,new Y(null,1,5,Z,[new Y(null,
2,5,Z,[si,qi],null)],null),new u(null,2,[Ui,si,Ri,qi],null)),Vi))),function(a){a:{var b=X.j(Ui,a),c=X.j(Ri,a);a=$b(Se);b=G(b);for(c=G(c);;)if(b&&c){var d=J(b),e=J(c);a=cc(a,d,e);b=M(b);c=M(c)}else{a=bc(a);break a}}return a},null,!0,function(a){return X.j(function(b){var c=T(b,0,null);b=T(b,1,null);return new u(null,2,[Ui,c,Ri,b],null)},a)});
if(null==Mj)$e.C(rj,td,Ih);else{var Nj;var Oj=uj(Mj);if(v(Oj))Nj=Oj;else{var Pj=vj(Mj);Nj=v(Pj)?Pj:E.j(Bb(rj),Mj)}var Qj=v(Nj)?Mj:Ij(Lj,Mj,null,null,null);$e.R(rj,V,Ih,wj(Qj,Ih))};var Rj=ej(58,{});var Sj="undefined"!==typeof window&&null!=window.document,Tj=new Tg(null,new u(null,2,["aria",null,"data",null],null),null);function Uj(a){return 2>Q(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Vj(a){if("string"===typeof a)return a;a=W(a);var b=lj(a,/-/);var c=G(b);b=J(c);c=M(c);return v(Tj.f?Tj.f(b):Tj.call(null,b))?a:Ne(z,b,X.j(Uj,c))}
function Wj(a){var b=function(){if(ud(a)){var c=a.displayName;v(c)||(c=a.name,c="string"===typeof c&&G(c)?c:null)}else c=!1;if(v(c))return c;c=null!=a&&(a.O&4096||r===a.pc)?W(a):!1;if(v(c))return c;c=Ed(a);return Kd(c)?Ii.f(c):null}();return v(b)?jj(z.f(b),"$","."):null}function Xj(a){return a instanceof F||a instanceof Fc}
var Yj=function Yj(a){switch(arguments.length){case 0:return Yj.J();case 1:return Yj.f(arguments[0]);case 2:return Yj.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Yj.G(arguments[0],arguments[1],c)}};Yj.J=function(){return null};Yj.f=function(a){return Hd(a)?(a=Xe(function(b){return v(b)?Xj(b)?W(b):b:null},a),G(a)?kj(" ",a):null):Xj(a)?W(a):a};
Yj.j=function(a,b){return v(a)?v(b)?[z.f(Yj.f(a))," ",z.f(Yj.f(b))].join(""):Yj.f(a):Yj.f(b)};Yj.G=function(a,b,c){return Ra(Yj,Yj.j(a,b),c)};Yj.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};Yj.K=2;var Zj=0;function ak(a){return setTimeout(a,16)}var bk=Sj?function(){var a=window,b=a.requestAnimationFrame;if(v(b))return b;b=a.webkitRequestAnimationFrame;if(v(b))return b;b=a.mozRequestAnimationFrame;if(v(b))return b;a=a.msRequestAnimationFrame;return v(a)?a:ak}():ak;function ck(a,b){return a.wc-b.wc}function dk(){return null}function ek(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.J?d.J():d.call(null);c+=1}else return null}function fk(a,b,c){b.push(c);return a.schedule()}
function gk(){this.Tb=!1}g=gk.prototype;g.flush_after_render=function(){var a=this.Jb;if(null==a)return null;this.Jb=null;return ek(a)};g.queue_render=function(a){null==this.Sb&&(this.Sb=[]);return fk(this,this.Sb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Tb)return null;this.Tb=!0;return bk.f?bk.f(a):bk.call(null,a)};g.flush_before_flush=function(){var a=this.Kb;if(null==a)return null;this.Kb=null;return ek(a)};
g.flush_queues=function(){this.flush_before_flush();dk();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Tb=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Kb&&(this.Kb=[]);return fk(this,this.Kb,a)};g.add_after_render=function(a){null==this.Jb&&(this.Jb=[]);return fk(this,this.Jb,a)};
g.flush_render=function(){var a=this.Sb;if(null==a)return null;this.Sb=null;a:{a.sort(ck);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var hk=new gk;function ik(a){if(v(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return hk.queue_render(a)};function jk(a,b){var c=Ne($g,a,b);return S(c,ff(function(d){return c===d},b))}var kk=function kk(a){switch(arguments.length){case 0:return kk.J();case 1:return kk.f(arguments[0]);case 2:return kk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return kk.G(arguments[0],arguments[1],c)}};kk.J=function(){return Xg};kk.f=function(a){return a};kk.j=function(a,b){return Q(a)<Q(b)?Ra(od,b,a):Ra(od,a,b)};
kk.G=function(a,b,c){a=jk(Q,od.G(c,b,jd([a])));return Ra(gf,J(a),Jc(a))};kk.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};kk.K=2;var lk=function lk(a){switch(arguments.length){case 1:return lk.f(arguments[0]);case 2:return lk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return lk.G(arguments[0],arguments[1],c)}};lk.f=function(a){return a};
lk.j=function(a,b){return Q(a)<Q(b)?Ra(function(c,d){return Sd(b,d)?Fd.j(c,d):c},a,a):Ra(Fd,a,b)};lk.G=function(a,b,c){return Ra(lk,a,od.j(c,b))};lk.N=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.G(b,a,c)};lk.K=2;var mk;function nk(a,b){b.captured=null;a:{var c=mk;mk=b;try{var d=a.J?a.J():a.call(null);break a}finally{mk=c}d=void 0}a=b.captured;b.Sa=!1;a:{c=b.nb;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function ok(a){var b=mk;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function pk(a,b,c){a.pa=V.C(a.pa,b,c);return a.lc=null}
function qk(a,b){a.pa=td.j(a.pa,b);return a.lc=null}function rk(a,b,c){var d=a.lc;d=null==d?a.lc=be(function(l,m,n){l.push(m);l.push(n);return l},[],a.pa):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function sk(a,b,c,d){D(b,["#\x3c",z.f(d)," "].join(""));a:{d=mk;mk=null;try{var e=Bb(a);break a}finally{mk=d}e=void 0}jh(e,b,c);return D(b,"\x3e")}var tk=null;
function uk(){for(;;){var a=tk;if(null==a)return null;tk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}dk=uk;function vk(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.pa=d;this.D=2154201088;this.O=114690}g=vk.prototype;g.aa=function(a,b,c){return sk(this,b,c,"Atom:")};g.ca=function(){return this.meta};g.ea=function(){return ea(this)};g.ba=function(a,b){return this===b};g.Ea=function(a,b){a=this.state;this.state=b;null!=this.pa&&rk(this,a,b);return b};
g.$b=function(a,b){return this.Ea(null,b.f?b.f(this.state):b.call(null,this.state))};g.ac=function(a,b,c){return this.Ea(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.bc=function(a,b,c,d){return this.Ea(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.cc=function(a,b,c,d,e){return this.Ea(null,Pe(b,this.state,c,d,e))};g.ec=function(a,b){rk(this,a,b)};g.Ob=function(a,b,c){return pk(this,b,c)};g.Pb=function(a,b){return qk(this,b)};
g.ha=function(a,b){return new vk(this.state,b,this.validator,this.pa)};g.Ra=function(){ok(this);return this.state};var wk=function wk(a){switch(arguments.length){case 1:return wk.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return wk.G(arguments[0],c)}};wk.f=function(a){return new vk(a,null,null,null)};wk.G=function(a,b){var c=null!=b&&(b.D&64||r===b.za)?Me(Kg,b):b;b=E.j(c,Fa);c=E.j(c,Wi);return new vk(a,b,c,null)};
wk.N=function(a){var b=J(a);a=M(a);return this.G(b,a)};wk.K=1;function xk(a){if(null!=a&&null!=a.jc)a.jc(a);else{var b=xk[q(null==a?null:a)];if(null!=b)b.f?b.f(a):b.call(null,a);else if(b=xk._,null!=b)b.f?b.f(a):b.call(null,a);else throw y("IDisposable.dispose!",a);}}function Yb(a,b,c,d){return a._handle_change(b,c,d)}function yk(a){this.vb=a;this.state=null;this.Sa=!0;this.zc=!1;this.Wb=this.Ka=this.pa=this.nb=null;this.D=2153807872;this.O=114690}g=yk.prototype;
g._peek_at=function(){var a=mk;mk=null;try{return this.Ra(null)}finally{mk=a}};g._handle_change=function(a,b,c){return b===c||this.Sa?null:null==this.Ka?(this.Sa=!0,null==tk&&(tk=[],!1===hk.Tb&&hk.schedule()),tk.push(this)):!0===this.Ka?this._run(!1):this.Ka.f?this.Ka.f(this):this.Ka.call(null,this)};
g._update_watching=function(a){var b=Yg(a),c=Yg(this.nb);this.nb=a;a=G(lk.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.fa(null,f);Xb(h,this);f+=1}else if(a=G(a))d=a,Nd(d)?(a=kc(d),f=lc(d),d=a,e=Q(a),a=f):(a=J(d),Xb(a,this),a=M(d),d=null,e=0),f=0;else break;b=G(lk.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.fa(null,e),Zb(a,this),e+=1;else if(b=G(b))c=b,Nd(c)?(b=kc(c),d=lc(c),c=b,a=Q(b),b=d,d=a):(a=J(c),Zb(a,this),b=M(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Sa&&null!=this.nb?this._run(!0):null};g._try_capture=function(a){try{return this.Wb=null,nk(a,this)}catch(b){return this.Wb=this.state=a=b,this.Sa=!1}};g._run=function(a){var b=this.state;a=v(a)?this._try_capture(this.vb):nk(this.vb,this);this.zc||(this.state=a,null==this.pa||O.j(b,a)||rk(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.D&64||r===a.za)?Me(Kg,a):a;a=E.j(b,Fh);var c=E.j(b,Ki),d=E.j(b,Hh);b=E.j(b,Wh);null!=a&&(this.Ka=a);null!=c&&(this.Xc=c);null!=d&&(this.Ac=d);return null!=b?this.zc=b:null};g.aa=function(a,b,c){return sk(this,b,c,["Reaction ",z.f(Cc(this)),":"].join(""))};g.ea=function(){return ea(this)};g.ba=function(a,b){return this===b};
g.jc=function(){var a=this.state,b=this.nb;this.Ka=this.state=this.nb=null;this.Sa=!0;b=G(Yg(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);Zb(f,this);e+=1}else if(b=G(b))c=b,Nd(c)?(b=kc(c),e=lc(c),c=b,d=Q(b),b=e):(b=J(c),Zb(b,this),b=M(c),c=null,d=0),e=0;else break;null!=this.Ac&&this.Ac(a);a=this.od;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.f?d.f(this):d.call(null,this),c+=1;else return null};g.Ea=function(a,b){a=this.state;this.state=b;this.Xc(a,b);rk(this,a,b);return b};
g.$b=function(a,b){var c=this;return c.Ea(null,function(){var d=c._peek_at();return b.f?b.f(d):b.call(null,d)}())};g.ac=function(a,b,c){var d=this;return d.Ea(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.bc=function(a,b,c,d){var e=this;return e.Ea(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.cc=function(a,b,c,d,e){return this.Ea(null,Pe(b,this._peek_at(),c,d,e))};g.ec=function(a,b){rk(this,a,b)};
g.Ob=function(a,b,c){return pk(this,b,c)};g.Pb=function(a,b){a=Gd(this.pa);qk(this,b);return!a&&Gd(this.pa)&&null==this.Ka?this.jc(null):null};g.Ra=function(){var a=this.Wb;if(null!=a)throw a;(a=null==mk)&&uk();a&&null==this.Ka?this.Sa&&(a=this.state,this.state=this.vb.J?this.vb.J():this.vb.call(null),null==this.pa||O.j(a,this.state)||rk(this,a,this.state)):(ok(this),this.Sa&&this._run(!1));return this.state};
function zk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new I(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.D&64||r===c.za)?Me(Kg,c):c;c=E.j(e,Fh);d=E.j(e,Ki);e=E.j(e,Hh);b=new yk(b);b._set_opts(new u(null,3,[Fh,c,Ki,d,Hh,e],null));return b}var Ak=zk(null);function Bk(a,b){var c=Ck,d=Ak,e=nk(a,d);null!=d.nb&&(Ak=zk(null),d._set_opts(c),d.vb=a,d.Ka=function(){return ik.f?ik.f(b):ik.call(null,b)},b.cljsRatom=d);return e};var Dk;function Ek(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=pa(b),e=d.length,f=Se,h=0;;)if(h<e){var k=d[h];f=V.C(f,ue.f(k),ra(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function Fk(a){var b;if(b=ud(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.kc);return b}var Gk=null;
function Hk(a){for(;;){var b=a.kc,c=!0===a.Qc?b.call(a,a):function(){var d=Ek(a,a.props);switch(Q(d)){case 1:return b.call(a);case 2:return b.call(a,ed(d,1));case 3:return b.call(a,ed(d,1),ed(d,2));case 4:return b.call(a,ed(d,1),ed(d,2),ed(d,3));case 5:return b.call(a,ed(d,1),ed(d,2),ed(d,3),ed(d,4));default:return b.apply(a,Qa(d).slice(1))}}();if(Md(c))return Gk.f?Gk.f(c):Gk.call(null,c);if(Rd(c))c=Fk(c)?function(d,e,f,h){return function(){function k(m){var n=null;if(0<arguments.length){n=0;for(var p=
Array(arguments.length-0);n<p.length;)p[n]=arguments[n+0],++n;n=new I(p,0,null)}return l.call(this,n)}function l(m){m=Ne(Qf,h,m);return Gk.f?Gk.f(m):Gk.call(null,m)}k.K=0;k.N=function(m){m=G(m);return l(m)};k.G=l;return k}()}(a,b,null,c):c,a.kc=c;else return c}}var Ck=new u(null,1,[Wh,!0],null),Ik=new u(null,1,[Eh,function(){var a=this,b=ra(a,"cljsRatom");a.cljsIsDirty=!1;return null==b?Bk(function(){a:{var c=Dk;Dk=a;try{var d=Hk(a);break a}finally{Dk=c}d=void 0}return d},a):b._run(!1)}],null);
function Jk(a,b){switch(a instanceof F?a.Aa:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=T(e,1,null),e=Kd(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Sc;d=null!=d?d:c.Sc=wk.f(null);return Ze(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,Ek(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,Ek(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,Ek(this,c))};case "shouldComponentUpdate":return function(c){if(v(!1))return!1;var d=this.props.argv,e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!O.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,Ek(this,this.props),Ek(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,Ek(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,Ek(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,Ek(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ra(this,"cljsRatom");null!=c&&xk(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function Kk(a,b){a=Jk(a,b);return v(a)?a:b}var Lk=new u(null,2,[$i,null,di,null],null),Mk=function(a){var b=new Ye(Se);return function(c){var d=E.j(Bb(b),c);if(null!=d)return d;d=a.f?a.f(c):a.call(null,c);$e.R(b,V,c,d);return d}}(function(a){if("string"===typeof a)return a;a=W(a);a=jj(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=lj(a,/-/);var b=G(a);a=J(b);b=M(b);return Ne(z,a,X.j(Uj,b))});
function Nk(a){return be(function(b,c,d){return V.C(b,ue.f(Mk(c)),d)},Se,a)}function Ok(a){var b=function(){var f=Gi.f(a);return v(f)?f:Eh.f(a)}(),c=null==Gi.f(a),d=function(){var f=xi.f(a);if(v(f))return f;f=Wj(b);return v(f)?f:z.f(uh())}(),e=be(function(f,h,k){return V.C(f,h,Kk(h,k))},Se,a);return V.G(e,xi,d,jd([Ei,c,Gi,b,Eh,Eh.f(Ik)]))}function Pk(a){return be(function(b,c,d){c=W(c);b[c]=d;return b},{},a)}var Qg=new Y(null,5,5,Z,[Nh,Zi,gi,hi,zi],null);
function Qk(a){function b(k,l,m){Rj.Component.call(this,k,l,m);v(h)&&(h.j?h.j(this,k):h.call(null,this,k));v(f)&&(this.state=f.f?f.f(this):f.call(null,this));this.wc=Zj+=1;return this}a=Ok(Ng.G(jd([Lk,Nk(a)])));var c=Pk(Qe(td,a,xi,Th,Lh,jd([Eh,Gi,Qg]))),d=Pk(Pg(a)),e=xi.f(a),f=Th.f(a),h=Lh.f(a);ua(b.prototype,Rj.Component.prototype,c);v(Eh.f(a))&&(b.prototype.render=Eh.f(a));v(Gi.f(a))&&(b.prototype.kc=Gi.f(a));v(Ei.f(a))&&(b.prototype.Qc=Ei.f(a));ua(b,Rj.Component,d);v(e)&&(b.displayName=e,b.ib=
e,b.Qb=function(k){return D(k,e)});b.Db=!0;return b.prototype.constructor=b};var Rk=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Sk={"class":"className","for":"htmlFor",charset:"charSet"};function Tk(a,b){return a.hasOwnProperty(b)?ra(a,b):null}function Uk(a,b,c){if(Xj(b)){var d=Tk(Sk,W(b));null==d?(d=Vj(b),b=W(b),b=Sk[b]=d):b=d}c=Vk.f?Vk.f(c):Vk.call(null,c);a[b]=c;return a}
function Vk(a){return"object"!==q(a)?a:Xj(a)?W(a):Kd(a)?be(Uk,{},a):Hd(a)?yh(a):Rd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return Me(a,d)}b.K=0;b.N=function(d){d=G(d);return c(d)};b.G=c;return b}():yh(a)}var Wk={};function Xk(a,b,c){if(Xj(b)){var d=Tk(Wk,W(b));null==d?(d=Vj(b),b=W(b),b=Wk[b]=d):b=d}c=Vk(c);a[b]=c;return a}
function Yk(a){return"object"!==q(a)?a:Xj(a)?W(a):Kd(a)?be(Xk,{},a):Hd(a)?yh(a):Rd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return Me(a,d)}b.K=0;b.N=function(d){d=G(d);return c(d)};b.G=c;return b}():yh(a)}var Zk=null,$k=new Tg(null,new u(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function al(a,b,c,d){var e=Se;e=null!=e&&(e.D&64||r===e.za)?Me(Kg,e):e;e=E.j(e,Si);if(a===document.activeElement&&Sd($k,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!O.j(f,c))return hk.add_after_render(function(){return bl.f?bl.f(d):bl.call(null,d)});c=Q(f)-a.selectionStart;c=Q(b)-c;d.Rb=b;a.value=b;ud(e)&&(e.f?e.f(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Rb=b;a.value=b;return ud(e)?e.f?e.f(b):e.call(null,b):null}
function bl(a){if(v(a.hc)){a.vc=!1;var b=a.Rc,c=a.Rb,d=Zk.f?Zk.f(a):Zk.call(null,a);return O.j(b,c)?null:al(d,b,c,a)}return null}function cl(a,b,c){a.Rb=c.target.value;v(a.vc)||(a.vc=!0,hk.add_after_render(function(){return bl(a)}));return b.f?b.f(c):b.call(null,c)}
function dl(a){var b=Dk;if(v(null!=a?function(){var e=a.hasOwnProperty("onChange");return v(e)?a.hasOwnProperty("value"):e}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange;v(b.hc)||(b.hc=!0,b.Rb=c);b.Rc=c;delete a.value;a.defaultValue=c;a.onChange=function(e){return cl(b,d,e)}}}var el=null,gl=new u(null,4,[ki,"ReagentInput",Pi,bl,ni,function(a){return a.hc=null},Zh,function(a,b,c,d){dl(c);return fl.R?fl.R(a,b,c,d):fl.call(null,a,b,c,d)}],null);
function hl(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Tc=d}function il(a){if(Kd(a))try{var b=E.j(a,Ti)}catch(c){b=null}else b=null;return b}function jl(a){var b=il(Ed(a));return null==b?il(T(a,1,null)):b}var kl={};
function ll(a,b,c){var d=a.tag,e=T(b,c,null),f=null==e||Kd(e);e=f?e:null;var h=Di.f(e);e=v(h)?V.C(e,Di,Yj.f(h)):e;var k=a.id;h=a.className;k=null!=k&&null==aj.f(e)?V.C(e,aj,k):e;e=v(h)?V.C(k,Di,Yj.j(h,Di.f(e))):k;a=v(a.Tc)?Yk(e):Vk(e);a=v(a)?a:{};c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=Z,null==el&&(el=Qk(gl)),b=xd(new Y(null,5,5,f,[el,b,d,a,c],null),Ed(b)),ml.f?ml.f(b):ml.call(null,b);f=il(Ed(b));null!=f&&(a.key=f);return fl.R?fl.R(b,d,a,c):fl.call(null,
b,d,a,c)}
function nl(a){for(;;){var b=T(a,0,null);if(re(Xh,b)){b=T(a,1,null);var c=null==b||Kd(b);b=Vk(c?b:null);b=v(b)?b:{};c=1+(c?1:0);var d=jl(a);null!=d&&(b.key=d);return fl.R?fl.R(a,Rj.Fragment,b,c):fl.call(null,a,Rj.Fragment,b,c)}if(Xj(b)||"string"===typeof b)switch(b=W(b),c=b.indexOf("\x3e"),c){case -1:c=Tk(kl,b);if(null==c){var e=M(bh(Rk,W(b)));c=T(e,0,null);d=T(e,1,null);e=T(e,2,null);e=null==e?null:jj(e,/\./," ");var f=c.indexOf("-");f=!O.j(-1,f);c=new hl(c,d,e,f);b=kl[b]=c}else b=c;return ll(b,a,
1);case 0:return b=T(a,1,null),ll(new hl(b,null,null,null),a,2);default:a=xd(new Y(null,2,5,Z,[b.substring(0,c),V.C(xd(a,null),0,b.substring(c+1))],null),Ed(a))}else return c=b.xc,null==c?Fk(b)?b=b.xc=b:(c=Ed(b),c=V.C(c,Zh,b),c=Qk(c),b=b.xc=c):b=c,c={},c.argv=a,a=jl(a),null!=a&&(c.key=a),Rj.createElement(b,c)}}
function ml(a){return"object"!==q(a)?a:Md(a)?nl(a):(null==a?0:null!=a?a.D&64||r===a.za||(a.D?0:w(ib,a)):w(ib,a))?ol.f?ol.f(a):ol.call(null,a):Xj(a)?W(a):(null!=a?a.D&2147483648||r===a.ja||(a.D?0:w(Vb,a)):w(Vb,a))?oh(jd([a])):a}Gk=ml;function ol(a){return Qa(X.j(ml,a))}function fl(a,b,c,d){switch(Q(a)-d){case 0:return Rj.createElement(b,c);case 1:return Rj.createElement(b,c,ml(T(a,d,null)));default:return Rj.createElement.apply(null,be(function(e,f,h){f>=d&&e.push(ml(h));return e},[b,c],a))}};var pl=ej(67,{});function ql(a){return pl.findDOMNode(a)}Zk=ql;function rl(a){a=null!=a&&(a.D&64||r===a.za)?Me(Kg,a):a;var b=E.j(a,Mh);return b instanceof F||"string"===typeof b?V.C(td.j(a,Mh),Ci,function(){var c=ue.f(b);c=c instanceof F?c.Aa:null;switch(c){case "debug":return fj.Debug;case "info":return fj.Info;case "warn":return fj.Warn;default:throw Error(["No matching clause: ",z.f(c)].join(""));}}()):a}
function sl(a,b,c){return v(b)?(b=yh(b),c=rl(Ng.G(jd([new u(null,2,[Gh,ji,Ai,"vega-lite"],null),c]))),c=Ng.G(jd([new u(null,1,[Gh,ji],null),c])),gj(a,b,yh(c)).catch(function(d){return console.log(d)})):null}var tl=function tl(a){switch(arguments.length){case 1:return tl.f(arguments[0]);case 2:return tl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};tl.f=function(a){return tl.j(a,Se)};
tl.j=function(a,b){var c=Ng.G(jd([new u(null,1,[Ai,"vega"],null),b]));return Qk(new u(null,4,[ki,"vega",Qi,function(d){return sl(ql(d),a,c)},ui,function(d,e){T(e,0,null);var f=T(e,1,null);e=T(e,2,null);return sl(ql(d),f,e)},Zh,function(){return new Y(null,1,5,Z,[Uh],null)}],null))};tl.K=2;var ul=function ul(a){switch(arguments.length){case 1:return ul.f(arguments[0]);case 2:return ul.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
ul.f=function(a){return ul.j(a,Se)};ul.j=function(a,b){return tl.j(a,Ng.G(jd([b,new u(null,1,[Ai,"vega-lite"],null)])))};ul.K=2;var vl=wk.f(new u(null,2,[Ph,tl,Rh,ul],null)),wl=new u(null,4,[mi,50,Fi,Se,vi,new u(null,1,[Xi,10],null),Sh,new u(null,2,[Xi,10,Hi,Li],null)],null),xl=function xl(a){switch(arguments.length){case 1:return xl.f(arguments[0]);case 2:return xl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
xl.f=function(a){return xl.j(a,Se)};
xl.j=function(a,b){var c=null!=b&&(b.D&64||r===b.za)?Me(Kg,b):b,d=E.j(c,Ji),e=E.j(c,Bi),f=E.j(c,Vh),h=wk.f(new u(null,3,[Ji,v(d)?d:0,Bi,e,Vh,v(f)?f:Mi],null)),k=ae(kk,X.j(We.j(Yg,cg),bf.j(10,a)));return function(l,m){var n=Bb(h),p=null!=n&&(n.D&64||r===n.za)?Me(Kg,n):n,t=E.j(p,Ji),x=E.j(p,Bi),A=E.j(p,Vh),B=Og(function(sa,Ta){return Kd(sa)&&Kd(Ta)?Ng.G(jd([sa,Ta])):Ta},jd([wl,m])),H=null!=B&&(B.D&64||r===B.za)?Me(Kg,B):B,N=E.j(H,mi),U=E.j(H,Fi),ca=E.j(H,vi),fa=E.j(H,Sh),qa=function(){var sa=v(x)?Yd(x,
l):l;sa=O.j(Jh,A)?ne(sa):sa;sa=v(N)?cf(N*t,sa):sa;return v(N)?bf.j(N,sa):sa}(),rc=fe(Q(l),N);return new Y(null,3,5,Z,[ii,Q(l)>N?new Y(null,5,5,Z,[ei,new u(null,1,[pi,new u(null,1,[li,10],null)],null),new Y(null,4,5,Z,[ti,new u(null,1,[pi,new u(null,1,[Xi,20],null)],null),"Current page: ",t+1],null),0<t?new Y(null,3,5,Z,[bi,new u(null,2,[Qh,function(){function sa(Ua){var ha=null;if(0<arguments.length){ha=0;for(var ka=Array(arguments.length-0);ha<ka.length;)ka[ha]=arguments[ha+0],++ha;ha=new I(ka,0,
null)}return Ta.call(this,ha)}function Ta(){return $e.R(h,rf,Ji,ee)}sa.K=0;sa.N=function(Ua){Ua=G(Ua);return Ta(Ua)};sa.G=Ta;return sa}(),pi,new u(null,2,[Xi,10,Hi,Li],null)],null),"prev"],null):null,t<rc?new Y(null,3,5,Z,[bi,new u(null,2,[Qh,function(){function sa(Ua){var ha=null;if(0<arguments.length){ha=0;for(var ka=Array(arguments.length-0);ha<ka.length;)ka[ha]=arguments[ha+0],++ha;ha=new I(ka,0,null)}return Ta.call(this,ha)}function Ta(){return $e.R(h,rf,Ji,Rc)}sa.K=0;sa.N=function(Ua){Ua=G(Ua);
return Ta(Ua)};sa.G=Ta;return sa}(),pi,new u(null,2,[Xi,10,Hi,Li],null)],null),"next"],null):null],null):null,new Y(null,3,5,Z,[Ch,new Y(null,3,5,Z,[ai,new u(null,1,[pi,U],null),function(){return function Ua(Ta){return new ve(null,function(){for(;;){var ha=G(Ta);if(ha){var ka=ha;if(Nd(ka)){var Uc=kc(ka),Vc=Q(Uc),ec=ze(Vc);return function(){for(var Ha=0;;)if(Ha<Vc){var fc=gb(Uc,Ha);Ce(ec,xd(new Y(null,4,5,Z,[$h,new u(null,2,[pi,fa,Qh,function(Wc,yd,hf,jf,ge,he,kf,lf,mf,nf,Xc,of,ie,zd,Lb,zb,gc,Za,$a,
Mb,Ug){return function(){function Ad(Bd){var hc=null;if(0<arguments.length){hc=0;for(var je=Array(arguments.length-0);hc<je.length;)je[hc]=arguments[hc+0],++hc;hc=new I(je,0,null)}return ke.call(this,hc)}function ke(){return $e.C(Ug,Ng,new u(null,2,[Bi,yd,Vh,O.j(yd,Xc)&&O.j(of,Mi)?Jh:Mi],null))}Ad.K=0;Ad.N=function(Bd){Bd=G(Bd);return ke(Bd)};Ad.G=ke;return Ad}()}(Ha,fc,Uc,Vc,ec,ka,ha,n,p,t,x,A,B,H,N,U,ca,fa,qa,rc,h,k,b,c,d,e,f)],null),W(fc),O.j(x,fc)?function(){var Wc=A instanceof F?A.Aa:null;switch(Wc){case "ascending":return"⌃";
case "descending":return"⌄";default:throw Error(["No matching clause: ",z.f(Wc)].join(""));}}():null],null),new u(null,1,[Ti,fc],null)));Ha+=1}else return!0}()?Be(ec.na(),Ua(lc(ka))):Be(ec.na(),null)}var Yc=J(ka);return S(xd(new Y(null,4,5,Z,[$h,new u(null,2,[pi,fa,Qh,function(Ha,fc,Wc,yd,hf,jf,ge,he,kf,lf,mf,nf,Xc,of,ie,zd,Lb){return function(){function zb(Za){var $a=null;if(0<arguments.length){$a=0;for(var Mb=Array(arguments.length-0);$a<Mb.length;)Mb[$a]=arguments[$a+0],++$a;$a=new I(Mb,0,null)}return gc.call(this,
$a)}function gc(){return $e.C(Lb,Ng,new u(null,2,[Bi,Ha,Vh,O.j(Ha,ge)&&O.j(he,Mi)?Jh:Mi],null))}zb.K=0;zb.N=function(Za){Za=G(Za);return gc(Za)};zb.G=gc;return zb}()}(Yc,ka,ha,n,p,t,x,A,B,H,N,U,ca,fa,qa,rc,h,k,b,c,d,e,f)],null),W(Yc),O.j(x,Yc)?function(){var Ha=A instanceof F?A.Aa:null;switch(Ha){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",z.f(Ha)].join(""));}}():null],null),new u(null,1,[Ti,Yc],null)),Ua(Jc(ka)))}return null}},null)}(k)}()],
null),function(){return function Ua(Ta){return new ve(null,function(){for(;;){var ha=G(Ta);if(ha){var ka=ha;if(Nd(ka)){var Uc=kc(ka),Vc=Q(Uc),ec=ze(Vc);return function(){for(var Ha=0;;)if(Ha<Vc){var fc=gb(Uc,Ha);Ce(ec,xd(new Y(null,3,5,Z,[ai,new u(null,1,[pi,U],null),function(){return function(Wc,yd,hf,jf,ge,he,kf,lf,mf,nf,Xc,of,ie,zd,Lb,zb,gc,Za,$a,Mb,Ug,Ad,ke,Bd,hc,je,zl){return function Bj(Al){return new ve(null,function(Cl,Cj,Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,Dj){return function(){for(;;){var Cd=
G(Al);if(Cd){if(Nd(Cd)){var pf=kc(Cd),Ej=Q(pf),Dd=ze(Ej);a:for(var Vg=0;;)if(Vg<Ej){var qf=gb(pf,Vg);qf=xd(new Y(null,3,5,Z,[fi,new u(null,1,[pi,Dj],null),E.j(Cj,qf)],null),new u(null,1,[Ti,qf],null));Dd.add(qf);Vg+=1}else{pf=!0;break a}return pf?Be(Dd.na(),Bj(lc(Cd))):Be(Dd.na(),null)}Dd=J(Cd);return S(xd(new Y(null,3,5,Z,[fi,new u(null,1,[pi,Dj],null),E.j(Cj,Dd)],null),new u(null,1,[Ti,Dd],null)),Bj(Jc(Cd)))}return null}}}(Wc,yd,hf,jf,ge,he,kf,lf,mf,nf,Xc,of,ie,zd,Lb,zb,gc,Za,$a,Mb,Ug,Ad,ke,Bd,
hc,je,zl),null)}}(Ha,fc,Uc,Vc,ec,ka,ha,n,p,t,x,A,B,H,N,U,ca,fa,qa,rc,h,k,b,c,d,e,f)(k)}()],null),new u(null,1,[Ti,Cc(fc)],null)));Ha+=1}else return!0}()?Be(ec.na(),Ua(lc(ka))):Be(ec.na(),null)}var Yc=J(ka);return S(xd(new Y(null,3,5,Z,[ai,new u(null,1,[pi,U],null),function(){return function(Ha,fc,Wc,yd,hf,jf,ge,he,kf,lf,mf,nf,Xc){return function zd(ie){return new ve(null,function(){for(;;){var Lb=G(ie);if(Lb){if(Nd(Lb)){var zb=kc(Lb),gc=Q(zb),Za=ze(gc);a:for(var $a=0;;)if($a<gc){var Mb=gb(zb,$a);
Mb=xd(new Y(null,3,5,Z,[fi,new u(null,1,[pi,Xc],null),E.j(Ha,Mb)],null),new u(null,1,[Ti,Mb],null));Za.add(Mb);$a+=1}else{zb=!0;break a}return zb?Be(Za.na(),zd(lc(Lb))):Be(Za.na(),null)}Za=J(Lb);return S(xd(new Y(null,3,5,Z,[fi,new u(null,1,[pi,Xc],null),E.j(Ha,Za)],null),new u(null,1,[Ti,Za],null)),zd(Jc(Lb)))}return null}},null)}}(Yc,ka,ha,n,p,t,x,A,B,H,N,U,ca,fa,qa,rc,h,k,b,c,d,e,f)(k)}()],null),new u(null,1,[Ti,Cc(Yc)],null)),Ua(Jc(ka)))}return null}},null)}(qa)}()],null)],null)}};xl.K=2;
var yl=jd([Ph,tl,Rh,ul,Yh,xl]),Bl=null!=yl&&(yl.D&64||r===yl.za)?Me(Kg,yl):yl;$e.C(vl,Ng,Bl);
}).call(this);